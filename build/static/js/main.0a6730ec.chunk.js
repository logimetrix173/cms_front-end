(this["webpackJsonpacme-cms"]=this["webpackJsonpacme-cms"]||[]).push([[0],{1197:function(e,t){},1208:function(e,t){},1220:function(e,t){},1298:function(e,t,a){},1302:function(e,t,a){},1304:function(e,t,a){"use strict";a.r(t);var n=a(1),i=a.n(n),c=a(60),r=a.n(c),s=(a(540),a(264)),l=a(1408),o=a(1410),j=a(503),d=a(1409),b=a(82),u=(a(541),a(2)),m=a(8),h=a(3),O=a(16),g=a(1402),x=a(271),S=a(1368),p=a(1405),f=a(1421),v=a(1311),C=a(1383),y=a(331),T=a(1389),I=a(1321),k=a(1400),w=a(1397),N=a(505),B=a(1390),L=a(511),D=a(143),P=a(77),F=a(1386),V=a(117),A=a(502),E=a.n(A),H=a(501),_=a.n(H),z=a(106),M=a.n(z),R=a(499),G=a.n(R),W=a(4),X=a.n(W),Y=a(7),q=a(467),U=a.n(q),K="https://apps.acme.in:3001",Z=a(1323),J=a(1419),$=a(1415),Q=a(1370),ee=a(256),te=a(257),ae=a(1374),ne=a(480),ie=a(482),ce=a(0),re=function(e){var t=e.x,a=e.y,n=e.fill,i=e.value,c=e.index;return Object(ce.jsxs)("text",{x:t,y:a,dx:"10",dy:"-10",fontFamily:"sans-serif",fill:n,textAnchor:"middle",children:[i,2===c?"%":"\xb0C"]})};function se(e){var t=e.ambientTemp,a=e.moduleTemp,n=e.humidity,i=[{name:"Ambient",value:Number(t)&&-111!==Number(t)?Number(t):0},{name:"Module",value:Number(a)&&-111!==Number(a)?Number(a):0},{name:"Humidity",value:Number(n)&&-111!==Number(n)?Number(n):0}];return Object(ce.jsxs)(S.a,{elevation:6,style:{paddingTop:".5rem",paddingBottom:".5rem",paddingLeft:".25rem",paddingRight:".25rem",height:300,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"space-between"},children:[Object(ce.jsxs)(V.a,{variant:"h6",children:["Temperatures "," and "," Humidity"]}),Object(ce.jsxs)(Q.a,{width:300,height:240,data:i,margin:{right:50},barSize:20,children:[Object(ce.jsx)(ee.a,{dataKey:"name",scale:"point",padding:{left:30}}),Object(ce.jsx)(te.a,{domain:[0,100]}),Object(ce.jsx)(ae.a,{strokeDasharray:"3 3"}),Object(ce.jsx)(ne.a,{isAnimationActive:!1,dataKey:"value",fill:"#8884d8",background:{fill:"#eee"},label:Object(ce.jsx)(re,{}),children:i.map((function(e,t){return Object(ce.jsx)(ie.a,{cursor:"pointer",fill:0===t?"#42a5f5":1===t?"#82ca9d":"#8884d8"},"cell-".concat(t))}))})]})]})}var le=a(1375),oe=a(1376),je=a(213),de=a(210),be=a(484);function ue(e){var t=e.data,a=e.interval,i=(e.width,e.height,e.leftAxisY),c=e.rightAxisY,r=Object(n.useState)({ghi:1,gti:1,pg:1}),s=Object(u.a)(r,2),l=s[0],o=s[1];return Object(ce.jsx)(le.a,{width:"100%",height:"83%",children:Object(ce.jsxs)(oe.a,{data:t,children:[Object(ce.jsx)(ae.a,{strokeDasharray:"3 3"}),Object(ce.jsx)(ee.a,{dataKey:"time",interval:a}),Object(ce.jsx)(te.a,{yAxisId:"left",domain:i}),Object(ce.jsx)(te.a,{yAxisId:"right",domain:c,orientation:"right"}),Object(ce.jsx)(je.a,{}),Object(ce.jsx)(de.a,{content:function(e){var t=e.payload;return Object(ce.jsx)("div",{style:{display:"flex",justifyContent:"center",gap:"20px"},children:t.map((function(e){var t=e.dataKey,a=e.color;return Object(ce.jsx)("strong",{style:{fontSize:"1rem",color:a,cursor:"pointer",opacity:0===l[t]?.5:1},onClick:function(){return function(e){o((function(t){return Object(h.a)(Object(h.a)({},t),{},Object(m.a)({},e,0===t[e]?1:0))}))}(t)},children:String(t).toUpperCase()},t)}))})}}),Object(ce.jsx)(be.a,{name:"GHI",yAxisId:"left",type:"monotone",dataKey:"ghi",stroke:"#3498DB",strokeWidth:2,strokeOpacity:l.ghi,activeDot:{r:6},dot:!1}),Object(ce.jsx)(be.a,{name:"GTI",yAxisId:"left",type:"monotone",dataKey:"gti",stroke:"#ffc107",strokeWidth:2,strokeOpacity:l.gti,activeDot:{r:6},dot:!1}),Object(ce.jsx)(be.a,{name:"PG",yAxisId:"right",type:"monotone",dataKey:"pg",stroke:"#82ca9d",strokeWidth:2,strokeOpacity:l.pg,activeDot:{r:6},dot:!1})]})})}var me=a(9),he=a(270),Oe=a(13),ge=a(1380),xe=a(1382),Se=a(1377),pe=a(1379),fe=a(1381),ve=a(1378),Ce=a(18),ye=a.n(Ce),Te=a(17),Ie=a.n(Te),ke=Object(Oe.a)((function(e){return{head:{backgroundColor:"#ffffbf",color:e.palette.common.black,fontSize:16},body:{fontSize:16}}}))(Se.a),we=Object(Oe.a)((function(e){return{root:{"&:nth-of-type(odd)":{backgroundColor:e.palette.action.hover}}}}))(ve.a),Ne=Object(D.a)({tableContainer:{maxHeight:"80vh"}}),Be=function(e){var t=e.value,a=null;return Object(ce.jsxs)(we,{children:[Object(ce.jsx)(ke,{component:"th",scope:"row",style:{paddingTop:".6rem",paddingBottom:".6rem",backgroundColor:a},children:Object(ce.jsx)("strong",{style:{paddingLeft:"2.5rem"},children:t.heading})}),Object(ce.jsx)(ke,{align:"center",style:{backgroundColor:a},children:Object(ce.jsx)("span",{children:isNaN(Number(t.inv1))?"-":-111===Number(t.inv1)?"x":Number(t.inv1).toFixed(2)})}),Object(ce.jsx)(ke,{align:"center",style:{backgroundColor:a},children:Object(ce.jsx)("span",{children:isNaN(Number(t.inv2))?"-":-111===Number(t.inv2)?"x":Number(t.inv2).toFixed(2)})}),Object(ce.jsx)(ke,{align:"center",style:{backgroundColor:a},children:Object(ce.jsx)("span",{children:isNaN(Number(t.inv3))?"-":-111===Number(t.inv3)?"x":Number(t.inv3).toFixed(2)})}),Object(ce.jsx)(ke,{align:"center",style:{backgroundColor:a},children:Object(ce.jsx)("span",{children:isNaN(Number(t.inv4))?"-":-111===Number(t.inv4)?"x":Number(t.inv4).toFixed(2)})})]})},Le=function(e){var t=e.value;return Object(ce.jsxs)(we,{children:[Object(ce.jsx)(ke,{component:"th",scope:"row",style:{paddingTop:".6rem",paddingBottom:".6rem"},children:Object(ce.jsx)("strong",{style:{paddingLeft:"1rem"},children:t.heading})}),Object(ce.jsx)(ke,{align:"center",children:isNaN(Number(t.inv1))?"-":-111===Number(t.inv1)?"x":Number(t.inv1).toFixed(2)}),Object(ce.jsx)(ke,{align:"center",children:isNaN(Number(t.inv2))?"-":-111===Number(t.inv2)?"x":Number(t.inv2).toFixed(2)}),Object(ce.jsx)(ke,{align:"center",children:isNaN(Number(t.inv3))?"-":-111===Number(t.inv3)?"x":Number(t.inv3).toFixed(2)}),Object(ce.jsx)(ke,{align:"center",children:isNaN(Number(t.inv4))?"-":-111===Number(t.inv4)?"x":Number(t.inv4).toFixed(2)})]})};function De(e){var t=e.values,a=Ne(),c=Object(n.useState)([]),r=Object(u.a)(c,2),s=r[0],l=r[1],o=i.a.useState(!1),j=Object(u.a)(o,2),d=j[0],b=j[1],m=i.a.useState(!1),h=Object(u.a)(m,2),O=h[0],g=h[1],x=function(e){var t=e.title,a=e.tag,n=e.openRows;return Object(ce.jsx)(we,{children:Object(ce.jsxs)(ke,{component:"th",scope:"row",colSpan:5,style:{backgroundColor:"#EBF5FB"},children:[Object(ce.jsx)("strong",{style:{paddingLeft:"1rem",paddingRight:".5rem",color:"#000"},children:t}),Object(ce.jsx)(y.a,{"aria-label":"expand row",size:"small",onClick:function(){return function(e){"S"===e?b((function(e){return!e})):g((function(e){return!e}))}(a)},style:{color:"#000"},children:n?Object(ce.jsx)(Ie.a,{}):Object(ce.jsx)(ye.a,{})})]})})};return Object(n.useEffect)((function(){for(var e=[],a=[],n=[],i=null,c=null,r=0;r<t.length;r++)t[r].heading.match(/S[1-4] [^/]/i)?(i||(i=r,n.push(Object(ce.jsx)(x,{title:"Inverter Slots",tag:"S",openRows:d},r))),r,e.push(Object(ce.jsx)(Be,{value:t[r]},t[r].heading))):t[r].heading.match(/[S]3[0-4]|2[0-9]|1[0-9]|[1-9] [/] S[1-4]CB/i)?(c||(c=r,n.push(Object(ce.jsx)(x,{title:"Inverter Strings",tag:"PV",openRows:O},r))),r,a.push(Object(ce.jsx)(Be,{value:t[r]},t[r].heading))):n.push(Object(ce.jsx)(Le,{value:t[r]},r));var s,o=[].concat(n);if(d&&O)(s=o).splice.apply(s,[i+1,0].concat(e)),o=[].concat(Object(me.a)(o),[a]);else if(d&&!O){var j;(j=o).splice.apply(j,[i+1,0].concat(e))}else o=!d&&O?[].concat(Object(me.a)(o),[a]):[].concat(n);l(o)}),[t,d,O]),Object(ce.jsx)(pe.a,{component:he.a,elevation:6,className:a.tableContainer,children:Object(ce.jsxs)(ge.a,{stickyHeader:!0,"aria-label":"customized table",size:"small",children:[Object(ce.jsx)(fe.a,{children:Object(ce.jsxs)(ve.a,{children:[Object(ce.jsx)(ke,{style:{paddingTop:".7rem",paddingLeft:"1.75rem",paddingBottom:".7rem"},children:Object(ce.jsx)("strong",{children:"Parameters"})}),Object(ce.jsx)(ke,{align:"center",children:Object(ce.jsx)("strong",{children:"Inv 1"})}),Object(ce.jsx)(ke,{align:"center",children:Object(ce.jsx)("strong",{children:"Inv 2"})}),Object(ce.jsx)(ke,{align:"center",children:Object(ce.jsx)("strong",{children:"Inv 3"})}),Object(ce.jsx)(ke,{align:"center",children:Object(ce.jsx)("strong",{children:"Inv 4"})})]})}),Object(ce.jsx)(xe.a,{children:s})]})})}function Pe(e){var t=e.imagePath,a=e.imageHeight,n=e.title,i=e.value;return Object(ce.jsx)(S.a,{elevation:4,style:{height:"80px"},children:Object(ce.jsxs)(C.a,{container:!0,alignItems:"center",style:{padding:"1rem 1rem"},children:[Object(ce.jsx)("img",{src:t,alt:n,height:a,style:{marginRight:"1rem"}}),Object(ce.jsxs)(C.a,{item:!0,children:[Object(ce.jsx)(C.a,{container:!0,justify:"flex-end",children:Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(V.a,{children:n})})}),Object(ce.jsx)(C.a,{container:!0,justify:"flex-end",children:Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(V.a,{color:"primary",children:i})})})]})]})})}function Fe(e){var t=e.firstTitle,a=e.secondTitle,n=e.firstValue,i=e.secondValue,c=e.imagePath,r=e.imageHeight;return Object(ce.jsx)(S.a,{elevation:4,style:{height:"80px"},children:Object(ce.jsxs)(C.a,{container:!0,alignItems:"center",style:{padding:"1rem 2rem 1rem 1rem"},children:[Object(ce.jsx)("img",{src:c,alt:c,style:{height:r,marginRight:"1rem"}}),Object(ce.jsxs)(C.a,{item:!0,children:[Object(ce.jsxs)(C.a,{container:!0,children:[Object(ce.jsx)(C.a,{item:!0,xs:5,children:Object(ce.jsx)(V.a,{children:t})}),Object(ce.jsx)(C.a,{item:!0,xs:2}),Object(ce.jsx)(C.a,{item:!0,xs:5,style:{paddingLeft:".25rem"},children:Object(ce.jsx)(V.a,{children:a})})]}),Object(ce.jsxs)(C.a,{container:!0,children:[Object(ce.jsx)(C.a,{item:!0,xs:5,children:Object(ce.jsx)(V.a,{color:"primary",children:n})}),Object(ce.jsx)(C.a,{item:!0,xs:2}),Object(ce.jsx)(C.a,{item:!0,xs:5,style:{paddingLeft:".25rem"},children:Object(ce.jsx)(V.a,{color:"primary",children:i})})]})]})]})})}var Ve=Object(D.a)((function(e){return{}}));function Ae(e){var t=e.day_generation,a=void 0===t?0:t,n=e.revenue,c=void 0===n?0:n,r=e.peak_power,s=void 0===r?0:r,l=e.ghi,o=void 0===l?0:l,j=e.gti,d=void 0===j?0:j,b=e.plant_pr,u=void 0===b?0:b,m=e.grid_availability,h=void 0===m?0:m,O=e.plant_availability,g=void 0===O?0:O;Ve();return Object(ce.jsx)(i.a.Fragment,{children:Object(ce.jsxs)(C.a,{container:!0,justify:"space-between",children:[Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(Pe,{imagePath:"/static/images/powerGeneration.png",imageHeight:48,title:"Generation",value:-111===Number(a)?"x":Object(ce.jsxs)("span",{children:[Number(a).toFixed(2),"\xa0",Object(ce.jsx)("small",{children:"MWH"})]})})}),Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(Pe,{imagePath:"/static/images/revenue.png",imageHeight:42,title:"Revenue",value:Object(ce.jsx)("span",{children:function(e){if(isNaN(e))return"x";var t=Number(e).toFixed(0);if(t<0)return"0";var a=t,n=a.substring(a.length-3),i=a.substring(0,a.length-3);return""!==i&&(n=","+n),i.replace(/\B(?=(\d{2})+(?!\d))/g,",")+n}(c)})})}),Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(Pe,{imagePath:"/static/images/peakPower.png",imageHeight:45,title:"Peak Power",value:-111===Number(s)||isNaN(Number(s))?"x":Object(ce.jsxs)("span",{children:[Number(s).toFixed(2),"\xa0",Object(ce.jsx)("small",{children:"MW"})]})})}),Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(Fe,{imagePath:"/static/images/ray.png",imageHeight:45,firstTitle:"GHI",secondTitle:"GTI",firstValue:-111===Number(o)?"x":Number(o).toFixed(2),secondValue:-111===Number(d)?"x":Number(d).toFixed(2)})}),Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(Pe,{imagePath:"/static/images/plantPR.png",imageHeight:45,title:"Plant PR",value:-111===Number(u)?"x":Object(ce.jsxs)("span",{children:[Number(u).toFixed(0),"%"]})})}),Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(Fe,{imagePath:"/static/images/gridAvailability.png",imageHeight:50,firstTitle:"GA",secondTitle:"PA",firstValue:Object(ce.jsxs)("span",{children:[-111===Number(h)?"x":Number(h).toFixed(1).replace(/[.,]00$/,""),-111!==Number(h)&&"%"]}),secondValue:Object(ce.jsxs)("span",{children:[-111===Number(g)?"x":Number(g).toFixed(1).replace(/[.,]00$/,""),-111!==Number(g)&&"%"]})})})]})})}var Ee=a(186),He=a.n(Ee);a(297);function _e(e){var t=e.totalExport,a=e.maxValue,i=Object(n.useState)(0),c=Object(u.a)(i,2),r=c[0],s=c[1];return Object(n.useEffect)((function(){var e=Number(t)&&-111!==Number(t)?Number(t):0;e!==t&&s(e)}),[t]),Object(ce.jsxs)(S.a,{elevation:6,style:{height:300,width:400},children:[Object(ce.jsx)(V.a,{style:{marginLeft:"1rem",marginTop:".5rem"},variant:"h6",children:"Power Generation"}),Object(ce.jsx)(C.a,{container:!0,justify:"center",children:Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(He.a,{data:{columns:[["Current Export",r]],type:"gauge"},gauge:{label:{format:function(e){return e+" MW"},show:!0},min:0,max:a,width:55},color:{pattern:["#4caf50"]},size:{height:240},options:{animation:{duration:0}}})})})]})}var ze=a(36),Me=a.n(ze),Re=a(239),Ge=a.n(Re),We=a(315),Xe=a.n(We);function Ye(e){var t=e.setOpenDateTimePicker,a=e.setIsNextCount;return Object(ce.jsxs)(i.a.Fragment,{children:[Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(y.a,{onClick:function(){return a((function(e){return e>=0?-1:e-1}))},children:Object(ce.jsx)(Ge.a,{color:"action",fontSize:"large"})})}),Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(y.a,{onClick:function(){a(0),t(!0)},children:Object(ce.jsx)(Me.a,{color:"action",fontSize:"large"})})}),Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(y.a,{onClick:function(){return a((function(e){return e<=0?1:e+1}))},children:Object(ce.jsx)(Xe.a,{color:"action",fontSize:"large"})})})]})}function qe(e){var t=e.size,a=e.rotate;return Object(n.useEffect)((function(){var e=document.getElementById("needle"),t=Number(a)&&-111!==Number(a)?Number(a):0;e.style.transformOrigin="center",e.style.transform="rotate(".concat(t,"deg)")}),[a]),Object(ce.jsxs)("svg",{width:String(t),height:String(t),viewBox:"0 0 316 316",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[Object(ce.jsxs)("g",{id:"body",children:[Object(ce.jsx)("circle",{id:"Ellipse",cx:"158",cy:"158",r:"154",fill:"white",stroke:"#616161",strokeWidth:"8"}),Object(ce.jsx)("path",{id:"N",d:"M164.094 53H161.832L153.242 39.8516V53H150.98V35.9375H153.242L161.855 49.1445V35.9375H164.094V53Z",fill:"black"}),Object(ce.jsx)("path",{id:"NW",d:"M65.8047 80H64.4854L59.4746 72.3301V80H58.1553V70.0469H59.4746L64.499 77.751V70.0469H65.8047V80ZM70.2822 76.8623L70.4736 78.1748L70.7539 76.9922L72.7227 70.0469H73.8301L75.751 76.9922L76.0244 78.1953L76.2363 76.8555L77.7812 70.0469H79.1006L76.6875 80H75.4912L73.4404 72.7471L73.2832 71.9883L73.126 72.7471L71 80H69.8037L67.3975 70.0469H68.71L70.2822 76.8623Z",fill:"black"}),Object(ce.jsx)("path",{id:"SW",d:"M61.0879 241.563C59.9622 241.24 59.1419 240.843 58.627 240.374C58.1165 239.9 57.8613 239.317 57.8613 238.624C57.8613 237.84 58.1735 237.193 58.7979 236.683C59.4268 236.168 60.2425 235.91 61.2451 235.91C61.9287 235.91 62.5371 236.042 63.0703 236.307C63.6081 236.571 64.0228 236.936 64.3145 237.4C64.6107 237.865 64.7588 238.373 64.7588 238.925H63.4395C63.4395 238.323 63.248 237.852 62.8652 237.51C62.4824 237.163 61.9424 236.99 61.2451 236.99C60.598 236.99 60.0921 237.134 59.7275 237.421C59.3675 237.703 59.1875 238.098 59.1875 238.604C59.1875 239.009 59.3584 239.353 59.7002 239.636C60.0465 239.914 60.6322 240.169 61.457 240.401C62.2865 240.634 62.9336 240.891 63.3984 241.174C63.8678 241.452 64.2142 241.778 64.4375 242.151C64.6654 242.525 64.7793 242.965 64.7793 243.471C64.7793 244.277 64.4648 244.924 63.8359 245.412C63.207 245.895 62.3662 246.137 61.3135 246.137C60.6299 246.137 59.9919 246.007 59.3994 245.747C58.807 245.483 58.349 245.123 58.0254 244.667C57.7064 244.211 57.5469 243.694 57.5469 243.115H58.8662C58.8662 243.717 59.0872 244.193 59.5293 244.544C59.9759 244.89 60.5706 245.063 61.3135 245.063C62.0062 245.063 62.5371 244.922 62.9062 244.64C63.2754 244.357 63.46 243.972 63.46 243.484C63.46 242.997 63.2891 242.621 62.9473 242.356C62.6055 242.088 61.9857 241.823 61.0879 241.563ZM68.6143 242.862L68.8057 244.175L69.0859 242.992L71.0547 236.047H72.1621L74.083 242.992L74.3564 244.195L74.5684 242.855L76.1133 236.047H77.4326L75.0195 246H73.8232L71.7725 238.747L71.6152 237.988L71.458 238.747L69.332 246H68.1357L65.7295 236.047H67.042L68.6143 242.862Z",fill:"black"}),Object(ce.jsx)("path",{id:"SE",d:"M246.088 241.563C244.962 241.24 244.142 240.843 243.627 240.374C243.117 239.9 242.861 239.317 242.861 238.624C242.861 237.84 243.174 237.193 243.798 236.683C244.427 236.168 245.243 235.91 246.245 235.91C246.929 235.91 247.537 236.042 248.07 236.307C248.608 236.571 249.023 236.936 249.314 237.4C249.611 237.865 249.759 238.373 249.759 238.925H248.439C248.439 238.323 248.248 237.852 247.865 237.51C247.482 237.163 246.942 236.99 246.245 236.99C245.598 236.99 245.092 237.134 244.728 237.421C244.368 237.703 244.188 238.098 244.188 238.604C244.188 239.009 244.358 239.353 244.7 239.636C245.047 239.914 245.632 240.169 246.457 240.401C247.286 240.634 247.934 240.891 248.398 241.174C248.868 241.452 249.214 241.778 249.438 242.151C249.665 242.525 249.779 242.965 249.779 243.471C249.779 244.277 249.465 244.924 248.836 245.412C248.207 245.895 247.366 246.137 246.313 246.137C245.63 246.137 244.992 246.007 244.399 245.747C243.807 245.483 243.349 245.123 243.025 244.667C242.706 244.211 242.547 243.694 242.547 243.115H243.866C243.866 243.717 244.087 244.193 244.529 244.544C244.976 244.89 245.571 245.063 246.313 245.063C247.006 245.063 247.537 244.922 247.906 244.64C248.275 244.357 248.46 243.972 248.46 243.484C248.46 242.997 248.289 242.621 247.947 242.356C247.605 242.088 246.986 241.823 246.088 241.563ZM257.094 241.399H252.78V244.927H257.791V246H251.468V236.047H257.723V237.127H252.78V240.326H257.094V241.399Z",fill:"black"}),Object(ce.jsx)("path",{id:"NE",d:"M249.805 80H248.485L243.475 72.3301V80H242.155V70.0469H243.475L248.499 77.751V70.0469H249.805V80ZM257.762 75.3994H253.448V78.9268H258.459V80H252.136V70.0469H258.391V71.127H253.448V74.3262H257.762V75.3994Z",fill:"black"}),Object(ce.jsx)("path",{id:"W",d:"M34.6602 160.621L34.9883 162.871L35.4688 160.844L38.8438 148.938H40.7422L44.0352 160.844L44.5039 162.906L44.8672 160.609L47.5156 148.938H49.7773L45.6406 166H43.5898L40.0742 153.566L39.8047 152.266L39.5352 153.566L35.8906 166H33.8398L29.7148 148.938H31.9648L34.6602 160.621Z",fill:"black"}),Object(ce.jsx)("path",{id:"E",d:"M285.625 158.113H278.23V164.16H286.82V166H275.98V148.938H286.703V150.789H278.23V156.273H285.625V158.113Z",fill:"black"}),Object(ce.jsx)("path",{id:"S",d:"M157.008 271.395C155.078 270.84 153.672 270.16 152.789 269.355C151.914 268.543 151.477 267.543 151.477 266.355C151.477 265.012 152.012 263.902 153.082 263.027C154.16 262.145 155.559 261.703 157.277 261.703C158.449 261.703 159.492 261.93 160.406 262.383C161.328 262.836 162.039 263.461 162.539 264.258C163.047 265.055 163.301 265.926 163.301 266.871H161.039C161.039 265.84 160.711 265.031 160.055 264.445C159.398 263.852 158.473 263.555 157.277 263.555C156.168 263.555 155.301 263.801 154.676 264.293C154.059 264.777 153.75 265.453 153.75 266.32C153.75 267.016 154.043 267.605 154.629 268.09C155.223 268.566 156.227 269.004 157.641 269.402C159.062 269.801 160.172 270.242 160.969 270.727C161.773 271.203 162.367 271.762 162.75 272.402C163.141 273.043 163.336 273.797 163.336 274.664C163.336 276.047 162.797 277.156 161.719 277.992C160.641 278.82 159.199 279.234 157.395 279.234C156.223 279.234 155.129 279.012 154.113 278.566C153.098 278.113 152.312 277.496 151.758 276.715C151.211 275.934 150.938 275.047 150.938 274.055H153.199C153.199 275.086 153.578 275.902 154.336 276.504C155.102 277.098 156.121 277.395 157.395 277.395C158.582 277.395 159.492 277.152 160.125 276.668C160.758 276.184 161.074 275.523 161.074 274.688C161.074 273.852 160.781 273.207 160.195 272.754C159.609 272.293 158.547 271.84 157.008 271.395Z",fill:"black"}),Object(ce.jsx)("line",{id:"Line 1",x1:"159",y1:"8",x2:"159",y2:"23",stroke:"#616161",strokeWidth:"4"}),Object(ce.jsx)("line",{id:"Line 3",x1:"23",y1:"160",x2:"8",y2:"160",stroke:"#616161",strokeWidth:"4"}),Object(ce.jsx)("line",{id:"Line 5",x1:"57.8995",y1:"65.3137",x2:"47.2929",y2:"54.7071",stroke:"#616161",strokeWidth:"4"}),Object(ce.jsx)("line",{id:"Line 7",x1:"47.2929",y1:"261.899",x2:"57.8995",y2:"251.293",stroke:"#616161",strokeWidth:"4"}),Object(ce.jsx)("line",{id:"Line 8",x1:"258.293",y1:"63.8995",x2:"268.9",y2:"53.2929",stroke:"#616161",strokeWidth:"4"}),Object(ce.jsx)("line",{id:"Line 6",x1:"269.899",y1:"260.314",x2:"259.293",y2:"249.707",stroke:"#616161",strokeWidth:"4"}),Object(ce.jsx)("line",{id:"Line 4",x1:"308",y1:"157",x2:"293",y2:"157",stroke:"#616161",strokeWidth:"4"}),Object(ce.jsx)("line",{id:"Line 2",x1:"159",y1:"293",x2:"159",y2:"308",stroke:"#616161",strokeWidth:"4"})]}),Object(ce.jsxs)("g",{id:"needle",children:[Object(ce.jsx)("path",{id:"Polygon 1",d:"M158 68L168 158H157H148L158 68Z",fill:"#4caf50"}),Object(ce.jsx)("path",{id:"Polygon 2",d:"M158 248L148 158H159H168L158 248Z",fill:"#bdbdbd"})]})]})}qe.defaultProps={size:"300",rotate:0};var Ue=qe;function Ke(e){var t=e.windDirection,a=e.windSpeed,n=e.rain;return Object(ce.jsxs)(S.a,{elevation:6,style:{padding:".5rem 1rem",height:300,display:"flex",flexDirection:"column",justifyContent:"space-between"},children:[Object(ce.jsxs)(V.a,{align:"center",variant:"h6",children:["Wind ",Object(ce.jsx)("span",{style:{color:"#4caf50"},children:"Direction"})," & ",Object(ce.jsx)("span",{style:{color:"#2196f3"},children:"Speed"})]}),Object(ce.jsx)("div",{style:{textAlign:"center",padding:".5rem"},children:Object(ce.jsx)(Ue,{size:!0===Number.isNaN(n)?170:150,rotate:t})}),Object(ce.jsxs)("div",{children:[Object(ce.jsxs)(V.a,{align:"center",variant:"h6",children:[Object(ce.jsx)("span",{style:{color:"#4caf50"},children:-111===Number(t)?"x":Object(ce.jsxs)("span",{children:[t," \xb0"]})}),Object(ce.jsx)("span",{style:{marginLeft:"1rem",color:"#2196f3"},children:-111===Number(a)?"x":Object(ce.jsxs)("span",{children:[a," m/s"]})})]}),!Number.isNaN(n)&&Object(ce.jsxs)(V.a,{color:"textSecondary",align:"center",style:{marginTop:".25rem",marginBottom:".25rem"},children:["Rain: ",-111===Number(n)?"x":Object(ce.jsxs)("span",{children:[n," mm"]})]})]})]})}a(55);var Ze=Object(n.createContext)(),Je=function(e){var t=e.children,a=Object(n.useState)(!1),i=Object(u.a)(a,2),c=i[0],r=i[1],s=Object(n.useState)(12e4),l=Object(u.a)(s,2),o=l[0],j=l[1],d=Object(n.useState)(!1),b=Object(u.a)(d,2),m=b[0],h=b[1],O=Object(n.useState)(!1),g=Object(u.a)(O,2),x=g[0],S=g[1],p=Object(n.useState)({open:!1,severity:"info",message:"Snackbar"}),f=Object(u.a)(p,2),v=f[0],C=f[1];return Object(ce.jsx)(Ze.Provider,{value:{enabledLinearProgress:c,setEnabledLinearProgress:r,snackbar:v,setSnackbar:C,intervalTime:o,setIntervalTime:j,enableDarkTheme:m,setEnableDarkTheme:h,logoutMsg:x,setLogoutMsg:S},children:t})},$e=function(){return Object(n.useContext)(Ze)},Qe=a(43),et=a.n(Qe),tt=a(1384),at=a(35),nt=a.n(at),it=a(80),ct=a(1424);function rt(e){var t=e.sitestatusBar,a=e.status,n=e.timestamp,i=e.handleClickOpen,c=e.handleTimeReset,r=e.setIsNextCount,s=e.setOpenDateTimePicker,l=e.getMinDateForPicker,o=e.selectedDate,j=e.getFormattedDateAndTimeString,d=e.openDateTimePicker,b=e.handleDateChange;return Object(ce.jsxs)(ce.Fragment,{children:[Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsxs)(C.a,{container:!0,alignItems:"center",children:[Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(V.a,{variant:"h6",children:t.name})}),Object(ce.jsx)(C.a,{item:!0,style:{margin:"0 1rem"}}),Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsxs)(V.a,{variant:"h6",children:[t.capacity," MW"]})}),Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(y.a,{color:"primary",onClick:function(){return i()},style:{paddingInline:".5rem"},children:Object(ce.jsx)(et.a,{fontSize:"5rem"})})})]})}),Object(ce.jsx)(C.a,{item:!0,style:{paddingRight:"5rem"},children:Object(ce.jsxs)(C.a,{container:!0,children:[Object(ce.jsx)(C.a,{item:!0,children:0===a?Object(ce.jsx)(V.a,{variant:"h6",style:{color:"#f44336"},children:"Offline"}):Object(ce.jsx)(V.a,{variant:"h6",style:{color:"#4caf50"},children:"Online"})}),Object(ce.jsx)(C.a,{item:!0,style:{margin:"0 1rem"}}),Object(ce.jsx)(C.a,{item:!0,children:void 0===n?Object(ce.jsx)(tt.a,{size:30}):Object(ce.jsx)(V.a,{variant:"h6",children:j(n)})})]})}),Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsxs)(C.a,{container:!0,children:[Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(it.a,{utils:O.a,children:Object(ce.jsx)(ct.a,{style:{width:1,visibility:"hidden"},value:o,open:d,onClose:function(){return s(!1)},onChange:b,format:"dd/MM/yyyy hh:mm a",minDate:l()})})}),Object(ce.jsx)(Ye,{setOpenDateTimePicker:s,setIsNextCount:r}),Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(y.a,{onClick:c,children:Object(ce.jsx)(nt.a,{color:"primary",fontSize:"large"})})})]})})]})}function st(e){return Object(ce.jsx)($.a,Object(h.a)({elevation:6,variant:"filled"},e))}var lt=Object(D.a)((function(e){return{grow:{flexGrow:1},gaugeChartStyle:{marginTop:e.spacing(12)},formControl:{minWidth:120},modalCardStyle:{width:340,height:"fit-content"},gridBreakpoint:Object(m.a)({},e.breakpoints.up("md"),{})}}));function ot(e){var t=e.handleSessionExpire,a=e.handleClickOpen,c=e.sitestatusBar,r=lt(),s=$e().intervalTime,l=(localStorage.getItem("username","Admin"),localStorage.getItem("userToken")),o=(localStorage.getItem("userId"),K),j=Object(n.useState)((new Date).getTime()),d=Object(u.a)(j,2),b=d[0],m=d[1],h=Object(n.useState)(0),O=Object(u.a)(h,2),g=O[0],x=O[1],p=Object(n.useState)(void 0),f=Object(u.a)(p,2),y=f[0],T=f[1],I=Object(n.useState)({}),k=Object(u.a)(I,2),w=k[0],N=k[1],L=Object(n.useState)(0),D=Object(u.a)(L,2),P=D[0],F=D[1],A=Object(n.useState)(0),E=Object(u.a)(A,2),H=(E[0],E[1]),_=Object(n.useState)(0),z=Object(u.a)(_,2),M=z[0],R=z[1],G=Object(n.useState)(0),W=Object(u.a)(G,2),Y=W[0],q=W[1],U=Object(n.useState)(0),$=Object(u.a)(U,2),Q=$[0],ee=$[1],te=Object(n.useState)(0),ae=Object(u.a)(te,2),ne=ae[0],ie=ae[1],re=Object(n.useState)(0),le=Object(u.a)(re,2),oe=le[0],je=le[1],de=Object(n.useState)(0),be=Object(u.a)(de,2),me=be[0],he=be[1],Oe=Object(n.useState)([{time:"00:00",gti:"0.00",ghi:"0.00",pg:"0.00"}]),ge=Object(u.a)(Oe,2),xe=ge[0],Se=ge[1],pe=i.a.useState(1),fe=Object(u.a)(pe,2),ve=fe[0],Ce=fe[1],ye=Object(n.useState)([]),Te=Object(u.a)(ye,2),Ie=Te[0],ke=Te[1],we=Object(n.useState)(0),Ne=Object(u.a)(we,2),Be=Ne[0],Le=Ne[1];Object(n.useEffect)((function(){0!==Be&&it(b)}),[Be]);var Pe=function(){return 0!==Be?"1":"0"},Fe=function(){return Be>0?"1":"0"},Ve=null,Ee=Object(n.useState)(!1),He=Object(u.a)(Ee,2),ze=He[0],Me=He[1],Re=Object(n.useState)(new Date),Ge=Object(u.a)(Re,2),We=Ge[0],Xe=Ge[1],Ye=Object(n.useState)(!1),qe=Object(u.a)(Ye,2),Ue=qe[0],Ze=qe[1],Je=Object(n.useState)(!0),Qe=Object(u.a)(Je,2),et=Qe[0],tt=Qe[1],at=function(){Me(!1)};Object(n.useEffect)((function(){m(We.getTime())}),[We]);var nt=function(e,t,a,n){X.a.get(o+"/byagwat/grid/B0"+e,{headers:{jwtToken:l,startTime:t,endTime:a,beginTime:n,enablePacket:Pe(),clientPacketTime:y,isNext:Fe()}}).then((function(e){!function(e){for(var t=[],a=Object.entries(e),n=["L1 I","L2 I","L3 I","L1 V","L2 V","L3 V","Frequency","DC I","DC V","Active Power","DC Power","Reactive Power","PF","Cab Temp","IGBT Temp","DC Energy","S1 L1 I","S1 L2 I","S1 L3 I","S1 L1 V","S1 L2 V","S1 L3 V","S1 DC I","S1 DC V","S1 Active Power","S1 DC Power","S1 PF","S1 IGBT Temp","S1 CAB Temp","S2 L1 I","S2 L2 I","S2 L3 I","S2 L1 V","S2 L2 V","S2 L3 V","S2 DC I","S2 DC V","S2 Active Power","S2 DC Power","S2 PF","S2 IGBT Temp","S2 CAB Temp","S3 L1 I","S3 L2 I","S3 L3 I","S3 L1 V","S3 L2 V","S3 L3 V","S3 DC I","S3 DC V","S3 Active Power","S3 DC Power","S3 PF","S3 IGBT Temp","S3 CAB Temp","S4 L1 I","S4 L2 I","S4 L3 I","S4 L1 V","S4 L2 V","S4 L3 V","S4 DC I","S4 DC V","S4 Active Power","S4 DC Power","S4 PF","S4 IGBT Temp","S4 CAB Temp","S1 + S2 Peak Active Power","S3 + S4 Peak Active Power","S1 / S1CB1 I","S2 / S1CB2 I","S3 / S1CB3 I","S4 / S1CB4 I","S5 / S1CB5 I","S6 / S1CB6 I","S7 / S1CB7 I","S8 / S1CB8 I","S9 / S2CB1 I","S10 / S2CB2 I","S11 / S2CB3 I","S12 / S2CB4 I","S13 / S2CB5 I","S14 / S2CB6 I","S15 / S2CB7 I","S16 / S2CB8 I","S17 / S3CB1 I","S18 / S3CB2 I","S19 / S3CB3 I","S20 / S3CB4 I","S21 / S3CB5 I","S22 / S3CB6 I","S23 / S3CB7 I","S24 / S3CB8 I","S25 / S4CB1 I","S26 / S4CB2 I","S27 / S4CB3 I","S28 / S4CB4 I","S29 / S4CB5 I","S30 / S4CB6 I","S31 / S4CB7 I","S32 / S4CB8 I"],i=0;i<n.length;i++){var c=NaN,r=NaN,s=NaN,l=NaN;try{a[i][1]&&(c=a[i][1]),a[n.length+i][1]&&(r=a[n.length+i][1]),a[2*n.length+i][1]&&(s=a[2*n.length+i][1]),a[3*n.length+i][1]&&(l=a[3*n.length+i][1])}catch(o){}t.push({heading:n[i],inv1:c,inv2:r,inv3:s,inv4:l})}ke([].concat(t))}(e.data)})).catch((function(e){}))},it=function(e){var a=1623696973e3,n=e;n=et?Date.now():e;var i=new Date(n);i.setHours(5,0,0,0);var c=i.getTime();!function(e,a,n){X.a.get(o+"/byagwat/site",{headers:{jwtToken:l,startTime:e,endTime:a,beginTime:n,enablePacket:Pe(),clientPacketTime:y,isNext:Fe()}}).then((function(e){x(e.data.status),T(1e3*e.data.time)})).catch((function(e){var a;401===(null===e||void 0===e||null===(a=e.response)||void 0===a?void 0:a.status)&&t()}))}(a,n,c),function(e,t,a){X.a.get(o+"/byagwat/boxes",{headers:{jwtToken:l,startTime:e,endTime:t,beginTime:a,enablePacket:Pe(),clientPacketTime:y,isNext:Fe()}}).then((function(e){N(e.data)})).catch((function(e){}))}(a,n,c),function(e,t,a){X.a.get(o+"/byagwat/gauge",{headers:{jwtToken:l,startTime:e,endTime:t,beginTime:a,enablePacket:Pe(),clientPacketTime:y,isNext:Fe()}}).then((function(e){var t=e.data.value;F(Number(t).toFixed(2)),H(Number(t).toFixed(1)/50)})).catch((function(e){}))}(a,n,c),function(e,t,a){X.a.get(o+"/byagwat/temperature",{headers:{jwtToken:l,startTime:e,endTime:t,beginTime:a,enablePacket:Pe(),clientPacketTime:y,isNext:Fe()}}).then((function(e){var t=e.data.ambientTemp,a=e.data.moduleTemp,n=e.data.humidity;R(Number(t).toFixed(1)),q(Number(a).toFixed(1)),ee(Number(n).toFixed(1))})).catch((function(e){}))}(a,n,c),function(e,t,a){X.a.get(o+"/byagwat/wind",{headers:{jwtToken:l,startTime:e,endTime:t,beginTime:a,enablePacket:Pe(),clientPacketTime:y,isNext:Fe()}}).then((function(e){var t=e.data.direction,a=e.data.speed;e.data.rain,ie(Number(t).toFixed(0)),je(Number(a).toFixed(1)),he(Number(e.data.rain).toFixed(1))})).catch((function(e){}))}(a,n,c),function(e,t,a){X.a.get(o+"/byagwat/graph",{headers:{jwtToken:l,startTime:e,endTime:t,beginTime:a,enablePacket:Pe(),clientPacketTime:y,isNext:Fe()}}).then((function(e){Se(e.data)})).catch((function(e){}))}(a,n,c),nt(ve,a,n,c)};Object(n.useEffect)((function(){(Ve=document.getElementById("timeSliderLabel2"))&&(Ve.innerText=(new Date).toLocaleString([],{hour:"2-digit",minute:"2-digit",hour12:!0}).toUpperCase()),it(b);var e=setInterval((function(){it(b)}),s);return function(){clearInterval(e)}}),[b]);var ct=Object(n.useState)("space-between"),ot=Object(u.a)(ct,2),jt=(ot[0],ot[1]);return Object(n.useLayoutEffect)((function(){window.matchMedia("(min-width: 1280px)").matches?jt("space-between"):jt("flex-start")}),[]),Object(ce.jsxs)(i.a.Fragment,{children:[Object(ce.jsx)(C.a,{container:!0,justifyContent:"space-between",alignItems:"center",children:Object(ce.jsx)(rt,{sitestatusBar:c,status:g,timestamp:y,handleClickOpen:a,handleTimeReset:function(){Le(0);var e=new Date;Xe(e),m(e.getTime()),Me(!0),tt(!0)},setIsNextCount:Le,setOpenDateTimePicker:Ze,getMinDateForPicker:function(){var e=new Date(1623696973e3);return e.setDate(e.getDate()+1),e},selectedDate:We,getFormattedDateAndTimeString:function(e){var t=new Date(e);return Object(ce.jsxs)("span",{children:[String(t.getDate()).padStart(2,"0"),"/",String(t.getMonth()+1).padStart(2,"0"),"/",t.getFullYear(),Object(ce.jsx)("span",{children:"\u2003"}),t.toLocaleString([],{hour:"2-digit",minute:"2-digit",hour12:!0}).toUpperCase()]})},openDateTimePicker:Ue,handleDateChange:function(e){try{tt(!1)}finally{Xe(e),Ze(!1)}}})}),Object(ce.jsx)("div",{style:{marginTop:"2rem"}}),Object(ce.jsx)(Ae,{day_generation:w.day_generation,revenue:1e3*w.day_generation*4.43,peak_power:w.peak_power,ghi:w.ghi,gti:w.gti,plant_pr:w.plant_pr,grid_availability:w.grid_availability,plant_availability:w.plant_availability}),Object(ce.jsxs)(C.a,{container:!0,spacing:6,style:{marginTop:"1rem"},children:[Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(_e,{totalExport:P,maxValue:60})}),Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(se,{ambientTemp:M,moduleTemp:Y,humidity:Q})}),Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(Ke,{windDirection:ne,windSpeed:oe,rain:me})})]}),Object(ce.jsxs)(S.a,{elevation:6,style:{marginTop:"2.5rem",height:"500px",width:"100%"},children:[Object(ce.jsx)(V.a,{variant:"h6",color:"textSecondary",style:{marginLeft:"1.5rem",marginTop:"1rem",marginBottom:"1.5rem"},children:"Irradiance / Generation"}),Object(ce.jsx)(ue,{data:xe,interval:12,leftAxisY:[0,1500],rightAxisY:[0,50]})]}),Object(ce.jsx)(C.a,{container:!0,style:{marginTop:"3rem"},children:Object(ce.jsxs)(C.a,{item:!0,xs:12,children:[Object(ce.jsxs)(C.a,{container:!0,spacing:2,alignItems:"center",style:{marginBottom:".5rem"},children:[Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(V.a,{variant:"h6",color:"textSecondary",children:"Inverter Values"})}),Object(ce.jsx)(C.a,{item:!0,className:r.grow}),Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsxs)(V.a,{style:{marginLeft:".25rem"},children:["Selected Block:"," "]})}),Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(v.a,{className:r.formControl,children:Object(ce.jsxs)(Z.a,{value:ve,onChange:function(e){Ce(e.target.value);var t=new Date;t.setDate((new Date).getDate()-1),t.setHours(23,50,0,0);var a=new Date(b);a.setHours(5,0,0,0);var n=a.getTime();nt(e.target.value,t.getTime(),b,n)},children:[Object(ce.jsx)(B.a,{value:1,children:"B01"}),Object(ce.jsx)(B.a,{value:2,children:"B02"}),Object(ce.jsx)(B.a,{value:3,children:"B03"}),Object(ce.jsx)(B.a,{value:4,children:"B04"}),Object(ce.jsx)(B.a,{value:5,children:"B05"}),Object(ce.jsx)(B.a,{value:6,children:"B06"}),Object(ce.jsx)(B.a,{value:7,children:"B07"}),Object(ce.jsx)(B.a,{value:8,children:"B08"})]})})})]}),Object(ce.jsx)(De,{values:Ie})]})}),Object(ce.jsx)(J.a,{open:ze,anchorOrigin:{vertical:"bottom",horizontal:"left"},autoHideDuration:4e3,onClose:at,children:Object(ce.jsx)(st,{onClose:at,severity:"success",children:"Time is reset!"})}),Object(ce.jsx)("div",{style:{marginBottom:"2rem"}})]})}var jt=Object(Oe.a)((function(e){return{head:{backgroundColor:"#ffffbf",color:e.palette.common.black,fontSize:16},body:{fontSize:16}}}))(Se.a),dt=Object(Oe.a)((function(e){return{root:{"&:nth-of-type(odd)":{backgroundColor:e.palette.action.hover}}}}))(ve.a),bt=Object(D.a)({tableContainer:{maxHeight:"80vh"}}),ut=function(e){var t=e.value,a=null;return Object(ce.jsxs)(dt,{children:[Object(ce.jsx)(jt,{component:"th",scope:"row",style:{paddingTop:".6rem",paddingBottom:".6rem",backgroundColor:a},children:Object(ce.jsx)("strong",{style:{paddingLeft:"2.5rem"},children:t.heading})}),Object(ce.jsx)(jt,{align:"center",style:{backgroundColor:a},children:Object(ce.jsx)("span",{children:isNaN(Number(t.inv1))?"-":-111===Number(t.inv1)?"x":Number(t.inv1).toFixed(2)})}),Object(ce.jsx)(jt,{align:"center",style:{backgroundColor:a},children:Object(ce.jsx)("span",{children:isNaN(Number(t.inv2))?"-":-111===Number(t.inv2)?"x":Number(t.inv2).toFixed(2)})}),Object(ce.jsx)(jt,{align:"center",style:{backgroundColor:a},children:Object(ce.jsx)("span",{children:isNaN(Number(t.inv3))?"-":-111===Number(t.inv3)?"x":Number(t.inv3).toFixed(2)})}),Object(ce.jsx)(jt,{align:"center",style:{backgroundColor:a},children:Object(ce.jsx)("span",{children:isNaN(Number(t.inv4))?"-":-111===Number(t.inv4)?"x":Number(t.inv4).toFixed(2)})}),Object(ce.jsx)(jt,{align:"center",style:{backgroundColor:a},children:Object(ce.jsx)("span",{children:isNaN(Number(t.inv5))?"-":-111===Number(t.inv5)?"x":Number(t.inv5).toFixed(2)})}),Object(ce.jsx)(jt,{align:"center",style:{backgroundColor:a},children:Object(ce.jsx)("span",{children:isNaN(Number(t.inv6))?"-":-111===Number(t.inv6)?"x":Number(t.inv6).toFixed(2)})})]})},mt=function(e){var t=e.value;return Object(ce.jsxs)(dt,{children:[Object(ce.jsx)(jt,{component:"th",scope:"row",style:{paddingTop:".6rem",paddingBottom:".6rem"},children:Object(ce.jsx)("strong",{style:{paddingLeft:"1rem"},children:t.heading})}),Object(ce.jsx)(jt,{align:"center",children:isNaN(Number(t.inv1))?"-":-111===Number(t.inv1)?"x":Number(t.inv1).toFixed(2)}),Object(ce.jsx)(jt,{align:"center",children:isNaN(Number(t.inv2))?"-":-111===Number(t.inv2)?"x":Number(t.inv2).toFixed(2)}),Object(ce.jsx)(jt,{align:"center",children:isNaN(Number(t.inv3))?"-":-111===Number(t.inv3)?"x":Number(t.inv3).toFixed(2)}),Object(ce.jsx)(jt,{align:"center",children:isNaN(Number(t.inv4))?"-":-111===Number(t.inv4)?"x":Number(t.inv4).toFixed(2)}),Object(ce.jsx)(jt,{align:"center",children:isNaN(Number(t.inv5))?"-":-111===Number(t.inv5)?"x":Number(t.inv5).toFixed(2)}),Object(ce.jsx)(jt,{align:"center",children:isNaN(Number(t.inv6))?"-":-111===Number(t.inv6)?"x":Number(t.inv6).toFixed(2)})]})};function ht(e){var t=e.values,a=bt(),c=Object(n.useState)([]),r=Object(u.a)(c,2),s=r[0],l=r[1],o=i.a.useState(!1),j=Object(u.a)(o,2),d=j[0],b=j[1],m=i.a.useState(!1),h=Object(u.a)(m,2),O=h[0],g=h[1],x=function(e){var t=e.title,a=e.tag,n=e.openRows;return Object(ce.jsx)(dt,{children:Object(ce.jsxs)(jt,{component:"th",scope:"row",colSpan:7,style:{backgroundColor:"#EBF5FB"},children:[Object(ce.jsx)("strong",{style:{paddingLeft:"1rem",paddingRight:".5rem",color:"#000"},children:t}),Object(ce.jsx)(y.a,{"aria-label":"expand row",size:"small",onClick:function(){return function(e){"S"===e?b((function(e){return!e})):g((function(e){return!e}))}(a)},style:{color:"#000"},children:n?Object(ce.jsx)(Ie.a,{}):Object(ce.jsx)(ye.a,{})})]})})};return Object(n.useEffect)((function(){for(var e=[],a=[],n=[],i=null,c=null,r=0;r<t.length;r++)t[r].heading.match(/S[1-4] [^/]/i)?(i||(i=r,n.push(Object(ce.jsx)(x,{title:"Inverter Slots",tag:"S",openRows:d},r))),r,e.push(Object(ce.jsx)(ut,{value:t[r]},t[r].heading))):t[r].heading.match(/[S]2[0-4]|1[0-9]|[1-9] [/] S[1-4]CB/i)?(c||(c=r,n.push(Object(ce.jsx)(x,{title:"Inverter Strings",tag:"PV",openRows:O},r))),r,a.push(Object(ce.jsx)(ut,{value:t[r]},t[r].heading))):n.push(Object(ce.jsx)(mt,{value:t[r]},r));var s,o=[].concat(n);if(d&&O)(s=o).splice.apply(s,[i+1,0].concat(e)),o=[].concat(Object(me.a)(o),[a]);else if(d&&!O){var j;(j=o).splice.apply(j,[i+1,0].concat(e))}else o=!d&&O?[].concat(Object(me.a)(o),[a]):[].concat(n);l(o)}),[t,d,O]),Object(ce.jsx)(pe.a,{component:he.a,elevation:6,className:a.tableContainer,children:Object(ce.jsxs)(ge.a,{stickyHeader:!0,"aria-label":"customized table",size:"small",children:[Object(ce.jsx)(fe.a,{children:Object(ce.jsxs)(ve.a,{children:[Object(ce.jsx)(jt,{style:{paddingTop:".7rem",paddingLeft:"1.75rem",paddingBottom:".7rem"},children:Object(ce.jsx)("strong",{children:"Parameters"})}),Object(ce.jsx)(jt,{align:"center",children:Object(ce.jsx)("strong",{children:"Inv 1"})}),Object(ce.jsx)(jt,{align:"center",children:Object(ce.jsx)("strong",{children:"Inv 2"})}),Object(ce.jsx)(jt,{align:"center",children:Object(ce.jsx)("strong",{children:"Inv 3"})}),Object(ce.jsx)(jt,{align:"center",children:Object(ce.jsx)("strong",{children:"Inv 4"})}),Object(ce.jsx)(jt,{align:"center",children:Object(ce.jsx)("strong",{children:"Inv 5"})}),Object(ce.jsx)(jt,{align:"center",children:Object(ce.jsx)("strong",{children:"Inv 6"})})]})}),Object(ce.jsx)(xe.a,{children:s})]})})}function Ot(e){return Object(ce.jsx)($.a,Object(h.a)({elevation:6,variant:"filled"},e))}var gt=Object(D.a)((function(e){return{grow:{flexGrow:1},gaugeChartStyle:{marginTop:e.spacing(12)},formControl:{minWidth:120},modalCardStyle:{width:340,height:"fit-content"},gridBreakpoint:Object(m.a)({},e.breakpoints.up("md"),{})}}));function xt(e){var t=e.sitestatusBar,a=(e.handleSessionExpire,e.handleClickOpen),c=gt(),r=$e().intervalTime,s=(localStorage.getItem("username","Admin"),localStorage.getItem("userToken")),l=(localStorage.getItem("userId"),K),o=Object(n.useState)((new Date).getTime()),j=Object(u.a)(o,2),d=j[0],b=j[1],m=Object(n.useState)(0),h=Object(u.a)(m,2),O=h[0],g=h[1],x=Object(n.useState)(void 0),p=Object(u.a)(x,2),f=p[0],y=p[1],T=Object(n.useState)({}),I=Object(u.a)(T,2),k=I[0],w=I[1],N=Object(n.useState)(0),L=Object(u.a)(N,2),D=L[0],P=L[1],F=Object(n.useState)(0),A=Object(u.a)(F,2),E=(A[0],A[1]),H=Object(n.useState)(0),_=Object(u.a)(H,2),z=_[0],M=_[1],R=Object(n.useState)(0),G=Object(u.a)(R,2),W=G[0],Y=G[1],q=Object(n.useState)(0),U=Object(u.a)(q,2),$=U[0],Q=U[1],ee=Object(n.useState)(0),te=Object(u.a)(ee,2),ae=te[0],ne=te[1],ie=Object(n.useState)(0),re=Object(u.a)(ie,2),le=re[0],oe=re[1],je=Object(n.useState)(0),de=Object(u.a)(je,2),be=de[0],me=de[1],he=Object(n.useState)([{time:"00:00",gti:"0.00",ghi:"0.00",pg:"0.00"}]),Oe=Object(u.a)(he,2),ge=Oe[0],xe=Oe[1],Se=i.a.useState(1),pe=Object(u.a)(Se,2),fe=pe[0],ve=pe[1],Ce=Object(n.useState)([]),ye=Object(u.a)(Ce,2),Te=ye[0],Ie=ye[1],ke=Object(n.useState)(0),we=Object(u.a)(ke,2),Ne=we[0],Be=we[1];Object(n.useEffect)((function(){0!==Ne&&at(d)}),[Ne]);var Le=function(){return 0!==Ne?"1":"0"},De=function(){return Ne>0?"1":"0"},Pe=null,Fe=Object(n.useState)(!1),Ve=Object(u.a)(Fe,2),Ee=Ve[0],He=Ve[1],ze=Object(n.useState)(new Date),Me=Object(u.a)(ze,2),Re=Me[0],Ge=Me[1],We=Object(n.useState)(!1),Xe=Object(u.a)(We,2),Ye=Xe[0],qe=Xe[1],Ue=Object(n.useState)(!0),Ze=Object(u.a)(Ue,2),Je=Ze[0],Qe=Ze[1],et=function(){He(!1)};Object(n.useEffect)((function(){b(Re.getTime())}),[Re]);var tt=function(e,t,a,n){X.a.get(l+"/kherakhurd/grid/B0"+e,{headers:{jwtToken:s,startTime:t,endTime:a,beginTime:n,enablePacket:Le(),clientPacketTime:f,isNext:De()}}).then((function(e){!function(e){for(var t=[],a=Object.entries(e),n=["L1 I","L2 I","L3 I","L1 V","L2 V","L3 V","Frequency","DC I","DC V","Active Power","DC Power","Reactive Power","PF","Cab Temp","IGBT Temp","DC Energy","S1 L1 I","S1 L2 I","S1 L3 I","S1 L1 V","S1 L2 V","S1 L3 V","S1 DC I","S1 DC V","S1 Active Power","S1 DC Power","S1 PF","S1 IGBT Temp","S2 L1 I","S2 L2 I","S2 L3 I","S2 L1 V","S2 L2 V","S2 L3 V","S2 DC I","S2 DC V","S2 Active Power","S2 DC Power","S2 PF","S2 IGBT Temp","S3 L1 I","S3 L2 I","S3 L3 I","S3 L1 V","S3 L2 V","S3 L3 V","S3 DC I","S3 DC V","S3 Active Power","S3 DC Power","S3 PF","S3 IGBT Temp","S4 L1 I","S4 L2 I","S4 L3 I","S4 L1 V","S4 L2 V","S4 L3 V","S4 DC I","S4 DC V","S4 Active Power","S4 DC Power","S4 PF","S4 IGBT Temp","S1 + S2 Peak Active Power","S3 + S4 Peak Active Power","S1 / S1CB1 I","S2 / S1CB2 I","S3 / S1CB3 I","S4 / S1CB4 I","S5 / S1CB5 I","S6 / S1CB6 I","S7 / S2CB1 I","S8 / S2CB2 I","S9 / S2CB3 I","S10 / S2CB4 I","S11 / S2CB5 I","S12 / S2CB6 I","S13 / S3CB1 I","S14 / S3CB2 I","S15 / S3CB3 I","S16 / S3CB4 I","S17 / S3CB5 I","S18 / S3CB6 I","S19 / S4CB1 I","S20 / S4CB2 I","S21 / S4CB3 I","S22 / S4CB4 I","S23 / S4CB5 I","S24 / S4CB6 I"],i=0;i<n.length;i++){var c=NaN,r=NaN,s=NaN,l=NaN,o=NaN,j=NaN;try{a[i][1]&&(c=a[i][1]),a[n.length+i][1]&&(r=a[n.length+i][1]),a[2*n.length+i][1]&&(s=a[2*n.length+i][1]),a[3*n.length+i][1]&&(l=a[3*n.length+i][1]),a[4*n.length+i][1]&&(o=a[4*n.length+i][1]),a[5*n.length+i][1]&&(j=a[5*n.length+i][1])}catch(d){}t.push({heading:n[i],inv1:c,inv2:r,inv3:s,inv4:l,inv5:o,inv6:j})}Ie([].concat(t))}(e.data)})).catch((function(e){}))},at=function(e){var t=1623696973e3,a=e;a=Je?Date.now():e;var n=new Date(a);n.setHours(5,0,0,0);var i=n.getTime();!function(e,t,a){X.a.get(l+"/kherakhurd/site",{headers:{jwtToken:s,startTime:e,endTime:t,beginTime:a,enablePacket:Le(),clientPacketTime:f,isNext:De()}}).then((function(e){g(e.data.status),y(1e3*e.data.time)})).catch((function(e){}))}(t,a,i),function(e,t,a){X.a.get(l+"/kherakhurd/boxes",{headers:{jwtToken:s,startTime:e,endTime:t,beginTime:a,enablePacket:Le(),clientPacketTime:f,isNext:De()}}).then((function(e){w(e.data)})).catch((function(e){}))}(t,a,i),function(e,t,a){X.a.get(l+"/kherakhurd/gauge",{headers:{jwtToken:s,startTime:e,endTime:t,beginTime:a,enablePacket:Le(),clientPacketTime:f,isNext:De()}}).then((function(e){var t=e.data.value;P(Number(t).toFixed(2)),E(Number(t).toFixed(1)/50)})).catch((function(e){}))}(t,a,i),function(e,t,a){X.a.get(l+"/kherakhurd/temperature",{headers:{jwtToken:s,startTime:e,endTime:t,beginTime:a,enablePacket:Le(),clientPacketTime:f,isNext:De()}}).then((function(e){var t=e.data.ambientTemp,a=e.data.moduleTemp,n=e.data.humidity;M(Number(t).toFixed(1)),Y(Number(a).toFixed(1)),Q(Number(n).toFixed(1))})).catch((function(e){}))}(t,a,i),function(e,t,a){X.a.get(l+"/kherakhurd/wind",{headers:{jwtToken:s,startTime:e,endTime:t,beginTime:a,enablePacket:Le(),clientPacketTime:f,isNext:De()}}).then((function(e){var t=e.data.direction,a=e.data.speed;e.data.rain,ne(Number(t).toFixed(0)),oe(Number(a).toFixed(1)),me(Number(e.data.rain).toFixed(1))})).catch((function(e){}))}(t,a,i),function(e,t,a){X.a.get(l+"/kherakhurd/graph",{headers:{jwtToken:s,startTime:e,endTime:t,beginTime:a,enablePacket:Le(),clientPacketTime:f,isNext:De()}}).then((function(e){xe(e.data)})).catch((function(e){}))}(t,a,i),tt(fe,t,a,i)};Object(n.useEffect)((function(){(Pe=document.getElementById("timeSliderLabel2"))&&(Pe.innerText=(new Date).toLocaleString([],{hour:"2-digit",minute:"2-digit",hour12:!0}).toUpperCase()),at(d);var e=setInterval((function(){at(d)}),r);return function(){clearInterval(e)}}),[d]);var nt=Object(n.useState)("space-between"),it=Object(u.a)(nt,2),ct=(it[0],it[1]);return Object(n.useLayoutEffect)((function(){window.matchMedia("(min-width: 1280px)").matches?ct("space-between"):ct("flex-start")}),[]),Object(ce.jsxs)(i.a.Fragment,{children:[Object(ce.jsx)(C.a,{container:!0,justifyContent:"space-between",alignItems:"center",children:Object(ce.jsx)(rt,{sitestatusBar:t,status:O,timestamp:f,handleClickOpen:a,handleTimeReset:function(){Be(0);var e=new Date;Ge(e),b(e.getTime()),He(!0),Qe(!0)},setIsNextCount:Be,setOpenDateTimePicker:qe,getMinDateForPicker:function(){return new Date(16255098e5)},selectedDate:Re,getFormattedDateAndTimeString:function(e){var t=new Date(e);return Object(ce.jsxs)("span",{children:[String(t.getDate()).padStart(2,"0"),"/",String(t.getMonth()+1).padStart(2,"0"),"/",t.getFullYear(),Object(ce.jsx)("span",{children:"\u2003"}),t.toLocaleString([],{hour:"2-digit",minute:"2-digit",hour12:!0}).toUpperCase()]})},openDateTimePicker:Ye,handleDateChange:function(e){try{Qe(!1)}finally{Ge(e),qe(!1)}}})}),Object(ce.jsx)("div",{style:{marginTop:"2rem"}}),Object(ce.jsx)(Ae,{day_generation:k.day_generation,revenue:1e3*k.day_generation*4.43,peak_power:k.peak_power,ghi:k.ghi,gti:k.gti,plant_pr:k.plant_pr,grid_availability:k.grid_availability,plant_availability:k.plant_availability}),Object(ce.jsxs)(C.a,{container:!0,spacing:6,style:{marginTop:"1rem"},children:[Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(_e,{totalExport:D,maxValue:40})}),Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(se,{ambientTemp:z,moduleTemp:W,humidity:$})}),Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(Ke,{windDirection:ae,windSpeed:le,rain:be})})]}),Object(ce.jsxs)(S.a,{elevation:6,style:{marginTop:"2.5rem",height:"500px",width:"100%"},children:[Object(ce.jsx)(V.a,{variant:"h6",color:"textSecondary",style:{marginLeft:"1.5rem",marginTop:"1rem",marginBottom:"1.5rem"},children:"Irradiance / Generation"}),Object(ce.jsx)(ue,{data:ge,interval:12,leftAxisY:[0,1500],rightAxisY:[0,50]})]}),Object(ce.jsx)(C.a,{container:!0,style:{marginTop:"3rem"},children:Object(ce.jsxs)(C.a,{item:!0,xs:12,children:[Object(ce.jsxs)(C.a,{container:!0,spacing:2,alignItems:"center",style:{marginBottom:".5rem"},children:[Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(V.a,{variant:"h6",color:"textSecondary",children:"Inverter Values"})}),Object(ce.jsx)(C.a,{item:!0,className:c.grow}),Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsxs)(V.a,{style:{marginLeft:".25rem"},children:["Selected Block:"," "]})}),Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(v.a,{className:c.formControl,children:Object(ce.jsxs)(Z.a,{value:fe,onChange:function(e){ve(e.target.value);var t=new Date;t.setDate((new Date).getDate()-1),t.setHours(23,50,0,0);var a=new Date(d);a.setHours(5,0,0,0);var n=a.getTime();tt(e.target.value,t.getTime(),d,n)},children:[Object(ce.jsx)(B.a,{value:1,children:"B01"}),Object(ce.jsx)(B.a,{value:2,children:"B02"}),Object(ce.jsx)(B.a,{value:3,children:"B03"}),Object(ce.jsx)(B.a,{value:4,children:"B04"}),Object(ce.jsx)(B.a,{value:5,children:"B05"})]})})})]}),Object(ce.jsx)(ht,{values:Te})]})}),Object(ce.jsx)(J.a,{open:Ee,anchorOrigin:{vertical:"bottom",horizontal:"left"},autoHideDuration:4e3,onClose:et,children:Object(ce.jsx)(Ot,{onClose:et,severity:"success",children:"Time is reset!"})}),Object(ce.jsx)("div",{style:{marginBottom:"2rem"}})]})}var St=a(269),pt=a(255);function ft(e){var t=e.data,a=e.enableScroll,i=(t.lowestValue,t.lowestValueIndex),c=(t.highestValue,t.highestValueIndex),r=t.chartData,s=function(e){var t=e.active,a=e.payload,n=e.label;return t&&a?Object(ce.jsxs)("div",{children:[Object(ce.jsx)("div",{children:"Block: ".concat(a[0].payload.blockName)}),Object(ce.jsx)("div",{children:"Inv ".concat(n,": ").concat(a[0].value/1e3)})]}):null},l=function(e,t){return e/1e3},o=Object(n.useState)(0),j=Object(u.a)(o,2),d=j[0],b=j[1];return Object(n.useEffect)((function(){!1===a&&b(0)}),[a]),!0===a?Object(ce.jsx)(le.a,{style:{height:"100%"},children:Object(ce.jsxs)(Q.a,{data:r,margin:{top:5,right:30,bottom:10},children:[Object(ce.jsx)(ae.a,{strokeDasharray:"3 3"}),Object(ce.jsx)(ee.a,{dataKey:"label"}),Object(ce.jsx)(te.a,{domain:["auto","auto"],tickFormatter:l}),Object(ce.jsx)(je.a,{content:Object(ce.jsx)(s,{})}),Object(ce.jsx)(St.a,{endIndex:11,onChange:function(e){return b(e.startIndex)},dataKey:"label",height:25,stroke:"lightgreen"}),Object(ce.jsxs)(ne.a,{barSize:60,isAnimationActive:!1,dataKey:"value",children:[Object(ce.jsx)(pt.a,{dataKey:"value",position:"insideTop",fill:"#fff",formatter:function(e){return e/1e3}}),r.map((function(e,t){return t===c-d?Object(ce.jsx)(ie.a,{fill:"#66bb6a"},"cell-".concat(t)):t===i-d?Object(ce.jsx)(ie.a,{fill:"#F1948A"},"cell-".concat(t)):Object(ce.jsx)(ie.a,{fill:"#29b6f6"},"cell-".concat(t))}))]})]})}):Object(ce.jsx)(le.a,{style:{height:"100%"},children:Object(ce.jsxs)(Q.a,{data:r,margin:{top:5,right:30,bottom:5},children:[Object(ce.jsx)(ae.a,{strokeDasharray:"3 3"}),Object(ce.jsx)(ee.a,{dataKey:"label"}),Object(ce.jsx)(te.a,{domain:["auto","auto"],tickFormatter:l}),Object(ce.jsx)(je.a,{content:Object(ce.jsx)(s,{})}),Object(ce.jsxs)(ne.a,{barSize:60,isAnimationActive:!1,dataKey:"value",children:[Object(ce.jsx)(pt.a,{dataKey:"value",position:"insideTop",fill:"#fff",formatter:function(e){return e/1e3}}),r.map((function(e,t){return t===c?Object(ce.jsx)(ie.a,{fill:"#66bb6a"},"cell-".concat(t)):t===i?Object(ce.jsx)(ie.a,{fill:"#F1948A"},"cell-".concat(t)):Object(ce.jsx)(ie.a,{fill:"#29b6f6"},"cell-".concat(t))}))]})]})})}var vt=function(e){var t=e.active,a=e.payload,n=e.label;if(t&&a&&a.length){var i="0px";return a.length>17&&a.length<=34?i="90px":a.length>34&&(i="180px"),Object(ce.jsxs)("div",{style:{maxHeight:"350px",columnCount:1,marginRight:i},children:[Object(ce.jsx)("div",{children:"Time: ".concat(n)}),a.map((function(e,t){return Object(ce.jsx)("div",{style:{color:e.color},children:Object(ce.jsx)("small",{children:"Inv ".concat(t+1,": ").concat(Number(e.value).toFixed(3))})},t)}))]})}return null};function Ct(e){var t=e.data,a=t.chartData,i=t.lines,c=t.interval,r=t.min,s=Object(n.useState)((function(){for(var e={},t=0,a=1;t<i.length;t++,a++)e["Inv "+a]=1;return e})),l=Object(u.a)(s,2),o=l[0],j=l[1];return Object(ce.jsx)(le.a,{width:"100%",height:"100%",children:Object(ce.jsxs)(oe.a,{data:a,margin:{top:5,right:30,bottom:5},children:[Object(ce.jsx)(ae.a,{strokeDasharray:"3 3"}),Object(ce.jsx)(ee.a,{dataKey:"createdon_client",interval:c}),Object(ce.jsx)(te.a,{domain:[function(e){return r},1],allowDataOverflow:!0}),Object(ce.jsx)(je.a,{content:Object(ce.jsx)(vt,{})}),Object(ce.jsx)(de.a,{content:function(e){var t=e.payload;return Object(ce.jsx)("div",{style:{display:"flex",justifyContent:"center",marginTop:".25rem"},children:t.map((function(e,t){var a=e.dataKey,n=e.color;return Object(ce.jsx)("strong",{style:{color:n,cursor:"pointer",marginInline:".2rem",opacity:0===o[a]?.3:1},onClick:function(){return function(e){j((function(t){return Object(h.a)(Object(h.a)({},t),{},Object(m.a)({},e,0===t[e]?1:0))}))}(a)},children:t+1},a)}))})}}),i.map((function(e,t){return Object(ce.jsx)(be.a,{type:"monotone",dataKey:e.label,strokeWidth:2,stroke:1===i.length?"blue":e.color,activeDot:{r:4},dot:!1,strokeOpacity:o[e.label]},t)}))]})})}var yt=a(1391);function Tt(e){return Object(ce.jsx)($.a,Object(h.a)({elevation:6,variant:"filled"},e))}var It=Object(D.a)((function(e){return{formControl:{minWidth:120},selectEmpty:{},grow:{flexGrow:1},menuPaper:{maxHeight:400}}}));function kt(e){var t=e.handleSessionExpire,a=It(),c=$e().setEnabledLinearProgress,r=X.a.CancelToken.source(),s=K,l=localStorage.getItem("userToken"),o=Object(n.useState)("byagwat"),j=Object(u.a)(o,2),d=j[0],b=j[1],g=Object(n.useState)(0),x=Object(u.a)(g,2),p=x[0],f=(x[1],Object(n.useState)((new Date).getTime())),T=Object(u.a)(f,2),I=T[0],k=T[1],w=Object(n.useState)(new Date),N=Object(u.a)(w,2),L=N[0],D=N[1],P=Object(n.useState)(!1),F=Object(u.a)(P,2),A=F[0],E=F[1],H=Object(n.useState)(!1),_=Object(u.a)(H,2),z=_[0],M=_[1],R=Object(n.useState)(!0),G=Object(u.a)(R,2),W=G[0],Y=G[1],q=function(){M(!1)};Object(n.useEffect)((function(){k(L.getTime())}),[L]);var U=function(e){for(var t=Object.entries(e),a=[],n=[],i=0;i<t.length;i++){var c=t[i][0],r=t[i][1];if(c.startsWith("ap")){var s=Object(m.a)({},c,r);a.push(s)}else if(c.startsWith("dp")){var l=Object(m.a)({},c,r);n.push(l)}}return{arrayAP:a,arrayDP:n}},$=function(e,t){for(var a=U(e),n=a.arrayAP,i=a.arrayDP,c=[],r=0,s=1;r<n.length;r++,s++)if(0===Number(n[r]["ap"+s])||0===Number(i[r]["dp"+s]))c.push({label:"Inv "+s,value:0});else{var l=Number(n[r]["ap"+s])/Number(i[r]["dp"+s]);c.push({label:"Inv "+s,value:l})}for(var o=null,j=null,b=null,u=null,m=0,h=1;m<c.length;m++,h++)null===o&&(o=Number(c[m].value),j=m),null===b&&(b=Number(c[m].value),u=m),Number(c[m].value)<o&&(o=Number(c[m].value),j=m),Number(c[m].value)>b&&(b=Number(c[m].value),u=m);for(var O=[],g=function(e,t){var a=[],n=0;if("byagwat"===e||"bhadlal2"===e||"bhadlal3"===e||"sadashivpet"===e?n=2:"hindupur"===e||"sircilla"===e||"gadarpur"===e||"yemmiganur"===e||"jhandekalan"===e||"bhongir"===e||"padmajiwadi"===e||"mothkur"===e||"mankhera"===e||"pattikonda"===e||"rayachoti"===e||"santhipuram"===e?n=4:"kherakhurd"===e?n=6:"mahoba"===e?n=8:"balangir"===e?n=5:"nangla"===e||"jhunir"===e?n=12:"bikaner"===e?n=1:"kosigi"!==e&&"bazpur"!==e||(n=4),"mahoba"===e)for(var i=1;i<=Math.ceil(t/n);i++)if(1===i)for(var c=1;c<=n-2;c++)a.push(i);else for(var r=1;r<=n;r++)a.push(i);else if("balangir"===e)for(var s=1;s<=9;s++)if(1===s)for(var l=1;l<=n;l++)a.push(s);else for(var o=1;o<=n-1;o++)a.push(s);else if("bhadlal3"===e)a=[1,1,2,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,14,14];else if("nangla"===e)a=[1,1,1,1,2,2,2,2,3,3,3,3];else if("jhunir"===e)a=[1,1,1,1,2,2,2,2,3,3,3,3];else if("padmajiwadi"===e||"mothkur"===e)a=[1,1,1,1,2,2,2,2];else if("bhongir"===e)a=[1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,6,6,6,6,7,7,7,7,8,8,8,8,9,9,9,9,10,10,10,10];else if("mankhera"===e)a=[1,1,1,1,1,1,2,2,2,2,2,2,3,3,3,3,3,3,4,4,4,4,4,4,5,5,5,5,5];else if("sadashivpet"===e)a=[1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10];else if("pattikonda"===e)a=[1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5];else if("rayachoti"===e)a=[1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5];else if("bikaner"===e)a=[1];else if("santhipuram"===e)a=[1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,6,6,6,6,7,7,7,7,8,8,8,8,9,9,9,9,10,10];else if("chattisgarh"===e)a=[1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,6,6,6,6,7,7,7,7];else if("balanagar"===e)a=[1,1,1,1,1,1,2,2,2,2,2,2,3,3,3,3,3,3,4,4,4,4,4,4,5,5,5,5,5,5,6,6,6,6,6,6,7,7,7,7,7,7,8,8,8,8,8,8,"mcr","mcr"];else if("kosigi"===e)a=[1,1,1,1,2,2,2,2];else if("sandur"===e||"kudligi"===e||"sidlaghatta"===e)a=[1,1,2,2,3];else if("gulelgudda"===e||"hukkeri"===e||"kittur"===e)a=[1,1,2,2];else if("bazpur"===e)a=[1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,6,6,6,6];else if("chittorgarh"===e)a=[Se];else if("khilchipur"===e)a=[1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,6,6,6,6,7,7,7,7,8,8,8,8,9,9,9,9,10,10,10,10];else if("khambhat"===e)a=[1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,14,14,15,15];else if("bidar"===e)a=[1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,6,6,6,6,7,7,7,7,8,8,8,8];else if("chittuguppa"===e)a=[1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,6,6,6,6,7,7,7,7,8,8,8,8];else if("farhatabad"===e)a=[1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,6,6,6,6,7,7,7,7,8,8,8,8];else if("godhur"===e)a=[1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4];else if("manthani"===e)a=[1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4];else if("bankaM"===e)a=[1,1,1,1,2,2,2,2,"mcr","mcr"];else if("bankaN"===e)a=[3,3,3,3,4,4,4,4,5,5,5,5,6,6,6,6];else if("maddur"===e)a=[1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,6,6,6,6,7,7,"mcr","mcr"];else for(var j=1;j<=Math.ceil(t/n);j++)for(var d=1;d<=n;d++)a.push(j);return Object(me.a)(a)}(d,c.length),x=0,S=1;x<c.length;x++,S++){var p=1e3*Number(c[x].value).toFixed(3);O.push({label:S,value:p,blockName:"chittorgarh"===d?t:g[x]})}return{lowestValue:o,lowestValueIndex:j,highestValue:b,highestValueIndex:u,chartData:O}},Q=Object(n.useState)({min:-1,max:1,highestValue:0,highestValueIndex:0,chartData:[{label:"Inv 1",value:0}]}),ee=Object(u.a)(Q,2),te=ee[0],ae=ee[1],ne=Object(n.useState)({min:-1,max:1,chartData:[{createdon_client:"0",inv1:0}],lines:[]}),ie=Object(u.a)(ne,2),re=ie[0],se=ie[1],le=Object(n.useState)(0),oe=Object(u.a)(le,2),je=oe[0],de=oe[1],be=Object(n.useState)(void 0),ue=Object(u.a)(be,2),he=ue[0],Oe=ue[1],ge=Object(n.useState)(1),xe=Object(u.a)(ge,2),Se=xe[0],pe=xe[1],fe=Object(n.useState)(1),ve=Object(u.a)(fe,2),Ce=ve[0],ye=ve[1],Te=function(e,a,n,i){c(!0);var o=1623696973e3,j=e,d=new Date(j);d.setHours(5,0,0,0);var b=d.getTime();!function(e,a,n){c(!0),X.a.get(s+"/"+n+"/site",{cancelToken:r.token,headers:{jwtToken:l,startTime:e,endTime:a}}).then((function(e){de(e.data.status),Oe(1e3*e.data.time),c(!1)})).catch((function(e){var a;401===(null===e||void 0===e||null===(a=e.response)||void 0===a?void 0:a.status)&&(t(),c(!1))}))}(o,j=W?Date.now():e,a);var u="B"+String(n).padStart(2,"0"),m="B"+String(i).padStart(2,"0"),h=String(a).includes("banka")?a.replace(/ +/g,""):a;h=String(h).toLocaleLowerCase(),X.a.post(s+"/efficiency/barchart",{blockId:u,startTime:"chittorgarh"!==a?o:16321824e5,endTime:j,beginTime:"chittorgarh"!==a?b:16321824e5,site:h},{cancelToken:r.token,headers:{jwtToken:l}}).then((function(e){ae($(e.data,n)),c(!1)})).catch((function(e){ae({min:-1,max:1,highestValue:0,highestValueIndex:0,chartData:[{label:"Inv 1",value:0}]}),console.log(e),c(!1)})),X.a.post(s+"/efficiency/graph/"+h,{blockId:m},{cancelToken:r.token,headers:{jwtToken:l,startTime:"chittorgarh"!==a?o:16321824e5,endTime:j,beginTime:"chittorgarh"!==a?b:16321824e5}}).then((function(e){se(function(e){var t=[],a=1;e.length>12&&(a=12);for(var n=0;n<e.length;n++){var i=new Date(1e3*e[n].createdon_client),c=String(i.getHours()).padStart(2,0)+":"+String(i.getMinutes()).padStart(2,0),r={};r.createdon_client=c;for(var s=U(e[n]),l=s.arrayAP,o=s.arrayDP,j=0,d=1;j<l.length;j++,d++)if(0===Number(l[j]["ap"+d])||0===Number(o[j]["dp"+d]))r["Inv "+d]=0;else{var b=Number(l[j]["ap"+d])/Number(o[j]["dp"+d]);r["Inv "+d]=b,isNaN(b)}t.push(r)}for(var u=[],m=Object.keys(t[0]).length,h=1;h<m;h++){for(var O=null,g=0;g<t.length;g++)O+=t[g]["Inv "+h];u.push({label:"Inv "+h,value:O})}for(var x=u.sort((function(e,t){return e.value<t.value?-1:e.value>t.value?1:0})),S=[],f=0,v=3,C=(x.length,[].concat(["#E74C3C","#EC7063","#F1948A"],["#0277bd","#42a5f5","#2196f3","#1e88e5","#1976d2","#1565c0"],["#43a047","#388e3c","#2e7d32"])),y=0,T=0;T<x.length;T++)f<4?(S[String(x[T].label).split(" ")[1]-1]={label:x[T].label,value:x[T].value,color:C[y]},f+=1,y+=1):v<x.length-3?(S[String(x[T].label).split(" ")[1]-1]={label:x[T].label,value:x[T].value,color:C[y]},v+=1,y+=1):(S[String(x[T].label).split(" ")[1]-1]={label:x[T].label,value:x[T].value,color:C[y]},y+=1);return{chartData:t,lines:S,interval:a,min:p}}(e.data))})).catch((function(e){se({min:-1,max:1,chartData:[{createdon_client:"0",inv1:0}],lines:[]})}))};Object(n.useEffect)((function(){Te(I,d,Se,Ce);var e=setInterval((function(){Te(I,d,Se,Ce)}),3e5);return function(){clearInterval(e),r.cancel()}}),[d,I]);var Ie=Object(n.useState)(!1),ke=Object(u.a)(Ie,2),we=ke[0],Ne=ke[1];return Object(ce.jsxs)(i.a.Fragment,{children:[Object(ce.jsxs)(C.a,{container:!0,alignItems:"center",justify:"space-between",children:[Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(V.a,{variant:"h6",children:"Inverter Efficiency"})}),Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsxs)(C.a,{container:!0,children:[Object(ce.jsx)(C.a,{item:!0,children:0===je?Object(ce.jsx)(V.a,{variant:"h6",style:{color:"#f44336"},children:"Offline"}):Object(ce.jsx)(V.a,{variant:"h6",style:{color:"#4caf50"},children:"Online"})}),Object(ce.jsx)(C.a,{item:!0,style:{margin:"0 1rem"}}),Object(ce.jsx)(C.a,{item:!0,children:void 0===he?Object(ce.jsx)(tt.a,{size:"1.25rem"}):Object(ce.jsx)(V.a,{variant:"h6",children:function(e){var t=new Date(e);return Object(ce.jsxs)("span",{children:[String(t.getDate()).padStart(2,"0"),"/",String(t.getMonth()+1).padStart(2,"0"),"/",t.getFullYear(),Object(ce.jsx)("span",{children:"\u2003"}),t.toLocaleString([],{hour:"2-digit",minute:"2-digit",hour12:!0}).toUpperCase()]})}(he)})})]})}),Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsxs)(C.a,{container:!0,children:[Object(ce.jsx)(C.a,{item:!0,style:{marginRight:"1.5rem"},children:Object(ce.jsx)(v.a,{className:a.formControl,children:Object(ce.jsx)(Z.a,{labelId:"site-select-label",id:"site-select",value:d,onChange:function(e){b(e.target.value)},MenuProps:{classes:{paper:a.menuPaper},getContentAnchorEl:function(){return null}},children:JSON.parse(localStorage.getItem("siteNamesCaps")).map((function(e){return Object(ce.jsx)(B.a,{value:String(e).toLowerCase(),children:Object(ce.jsx)(V.a,{variant:"h6",children:e})})}))})})}),Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(it.a,{utils:O.a,children:Object(ce.jsx)(ct.a,{style:{width:1,visibility:"hidden"},value:L,open:A,onClose:function(){return E(!1)},onChange:function(e){try{Y(!1)}finally{D(e),E(!1)}},format:"dd/MM/yyyy hh:mm a",minDate:function(){var e=new Date;return"byagwat"===d?(e.setTime(1623696973e3),e.setDate(e.getDate()+1)):"hindupur"===d?e.setTime(1625823e6):"kherakhurd"===d?e.setTime(1623696973e3):"jhandekalan"===d?e.setTime(1627344e6):"bhadlal2"===d?e.setTime(16273224e5):"bhadlal3"===d?e=new Date(1627668e6):"jhunir"===d?e=new Date(16304328e5):"bhongir"===d?e=new Date(16305156e5):"padmajiwadi"===d?e=new Date(16305912e5):"mothkur"===d?e=new Date(16306704e5):"mankhera"===d?e=new Date(16303248e5):"rayachoti"===d?e=new Date(16311888e5):"bikaner"===d?e=new Date(16312752e5):"santhipuram"===d?e=new Date(16317072e5):"chittorgarh"===d?e=new Date(16324848e5):"chattisgarh"===d?e=new Date(1632744e6):"balanagar"===d?e=new Date(16328304e5):"kosigi"===d?e=new Date(16329168e5):"sandur"===d||"kudligi"===d?e=new Date(16330032e5):"gulelgudda"===d||"hukkeri"===d?e=new Date(16331112e5):"kittur"===d?e=new Date(16335648e5):"bazpur"===d?e=new Date(16336944e5):"sidlaghatta"===d?e=new Date(16339536e5):"khilchipur"===d?e=new Date(163404e7):"khambhat"===d?e=new Date(16341264e5):"bidar"===d?e=new Date(16347312e5):"chittuguppa"===d?e=new Date(1634904e6):"farhatabad"===d?e=new Date(16351632e5):"godhur"===d?e=new Date(16355088e5):"bankaM"===d||"bankaN"===d?e=new Date(16355952e5):"maddur"===d&&(e=new Date(16367184e5)),e}()})})}),Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(y.a,{onClick:function(){return E(!0)},children:Object(ce.jsx)(Me.a,{color:"action",fontSize:"large"})})}),Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(y.a,{onClick:function(){var e=new Date;D(e),k(e.getTime()),M(!0),Y(!0)},children:Object(ce.jsx)(nt.a,{color:"primary",fontSize:"large"})})})]})})]}),d&&Object(ce.jsxs)(ce.Fragment,{children:[Object(ce.jsxs)(S.a,{elevation:6,style:{width:"100%",height:"500px",marginTop:"1rem",paddingTop:".5rem",paddingBottom:"3.5rem"},children:[Object(ce.jsxs)(C.a,{container:!0,justify:"space-between",alignItems:"flex-end",style:{paddingInline:"2rem",marginBottom:".5rem"},children:[Object(ce.jsx)(C.a,{item:!0,style:{visibility:"chittorgarh"!==d?"hidden":"visible"},children:Object(ce.jsxs)(C.a,{container:!0,alignItems:"center",children:[Object(ce.jsx)("span",{children:"Selected block:\u2002"}),Object(ce.jsx)(v.a,{style:{minWidth:20},children:Object(ce.jsxs)(Z.a,{labelId:"block-bar-simple-select-label",id:"block-bar-simple-select",value:Se,label:"Block",onChange:function(e){try{pe((function(){return e.target.value}))}finally{Te(I,d,e.target.value,Ce)}},MenuProps:{classes:{paper:a.menuPaper}},children:[Object(ce.jsx)(B.a,{value:1,children:"1"}),Array.from(Array(33).keys()).map((function(e,t){return Object(ce.jsx)(B.a,{value:Number(t+2),children:Number(t+2)},t)}))]})})]})}),Object(ce.jsxs)(C.a,{item:!0,children:[Object(ce.jsx)("span",{children:"Scroll:"}),Object(ce.jsx)(yt.a,{checked:we,onChange:function(){return Ne((function(e){return!e}))},color:"primary",name:"scrollSwitch"})]})]}),Object(ce.jsx)(ft,{data:te,enableScroll:we,siteName:d})]}),Object(ce.jsxs)(S.a,{elevation:6,style:{width:"100%",height:"520px",marginTop:"2rem",paddingTop:".5rem",paddingBottom:"3.5rem"},children:[Object(ce.jsxs)(C.a,{container:!0,justify:"space-between",alignItems:"flex-end",style:{paddingInline:"2rem",marginBottom:".5rem"},children:[Object(ce.jsx)(C.a,{item:!0,style:{visibility:"chittorgarh"!==d?"hidden":"visible"},children:Object(ce.jsxs)(C.a,{container:!0,justify:"space-between",alignItems:"center",children:[Object(ce.jsx)("span",{children:"Selected block:\u2002"}),Object(ce.jsx)(v.a,{style:{minWidth:30},children:Object(ce.jsxs)(Z.a,{id:"block-line-simple-select",value:Ce,label:"Block",onChange:function(e){try{ye((function(){return e.target.value}))}finally{Te(I,d,Se,e.target.value)}},MenuProps:{classes:{paper:a.menuPaper}},children:[Object(ce.jsx)(B.a,{value:1,children:"1"}),Array.from(Array(33).keys()).map((function(e,t){return Object(ce.jsx)(B.a,{value:Number(t+2),children:Number(t+2)},t)}))]})})]})}),Object(ce.jsxs)(C.a,{item:!0,children:[Object(ce.jsx)("label",{htmlFor:"min",children:"Scale Min: "}),Object(ce.jsx)("input",{type:"number",onChange:function(e){se((function(t){return Object(h.a)(Object(h.a)({},t),{},{min:e.target.value})}))},id:"min",name:"min",placeholder:"0.0",step:"0.1",min:"0.0",max:"0.9",style:{width:"3.5rem",marginRight:".25rem"}})]})]}),Object(ce.jsx)(Ct,{data:re})]})]}),Object(ce.jsx)(J.a,{open:z,anchorOrigin:{vertical:"bottom",horizontal:"left"},autoHideDuration:4e3,onClose:q,children:Object(ce.jsx)(Tt,{onClose:q,severity:"success",children:"Time is reset!"})}),Object(ce.jsx)("div",{style:{marginBottom:"2rem"}})]})}function wt(e){var t=e.data,a=e.interval,i=(e.width,e.height,e.leftAxisY),c=(e.rightAxisY,Object(n.useState)({actual:1,predicted:1})),r=Object(u.a)(c,2),s=r[0],l=r[1];return Object(ce.jsx)(le.a,{width:"100%",height:"100%",children:Object(ce.jsxs)(oe.a,{data:t,margin:{top:25,right:40,bottom:20,left:0},children:[Object(ce.jsx)(ae.a,{strokeDasharray:"3 3"}),Object(ce.jsx)(ee.a,{dataKey:"time",interval:a}),Object(ce.jsx)(te.a,{domain:i}),Object(ce.jsx)(je.a,{}),Object(ce.jsx)(de.a,{content:function(e){var t=e.payload;return Object(ce.jsx)("div",{style:{display:"flex",justifyContent:"center",gap:"24px",marginTop:".5rem"},children:t.map((function(e){var t=e.dataKey,a=e.color;return Object(ce.jsx)("strong",{style:{fontSize:"1rem",color:a,cursor:"pointer",opacity:0===s[t]?.5:1},onClick:function(){return function(e){l((function(t){return Object(h.a)(Object(h.a)({},t),{},Object(m.a)({},e,0===t[e]?1:0))}))}(t)},children:String(t).toUpperCase()},t)}))})}}),Object(ce.jsx)(be.a,{name:"Predicted",type:"monotone",dataKey:"predicted",stroke:"#EC7063",strokeWidth:2,strokeOpacity:s.predicted,activeDot:{r:6},dot:!1}),Object(ce.jsx)(be.a,{name:"Actual",type:"monotone",dataKey:"actual",stroke:"#82ca9d",strokeWidth:2,strokeOpacity:s.actual,activeDot:{r:6},dot:!1})]})})}function Nt(e){return Object(ce.jsx)($.a,Object(h.a)({elevation:6,variant:"filled"},e))}var Bt=Object(D.a)((function(e){return{formControl:{minWidth:120},selectEmpty:{},grow:{flexGrow:1}}}));function Lt(e){var t=e.handleSessionExpire,a=Bt(),c=$e().setEnabledLinearProgress,r=X.a.CancelToken.source(),s=localStorage.getItem("userToken"),l=Object(n.useState)("mahoba"),o=Object(u.a)(l,2),j=o[0],d=o[1],b=Object(n.useState)([{time:"00:00",predicted:0,actual:0}]),m=Object(u.a)(b,2),h=m[0],g=m[1],x=Object(n.useState)(12),p=Object(u.a)(x,2),f=p[0],T=(p[1],Object(n.useState)([0,30])),I=Object(u.a)(T,2),k=I[0],w=I[1],N=Object(n.useState)((new Date).getTime()),L=Object(u.a)(N,2),D=L[0],P=L[1],F=Object(n.useState)(new Date),A=Object(u.a)(F,2),E=A[0],H=A[1],_=Object(n.useState)(!1),z=Object(u.a)(_,2),M=z[0],R=z[1],G=Object(n.useState)(!1),W=Object(u.a)(G,2),Y=W[0],q=W[1],U=Object(n.useState)(!0),$=Object(u.a)(U,2),Q=$[0],ee=$[1],te=function(){q(!1)};Object(n.useEffect)((function(){P(E.getTime())}),[E]);var ae=Object(n.useState)(0),ne=Object(u.a)(ae,2),ie=ne[0],re=ne[1],se=Object(n.useState)(void 0),le=Object(u.a)(se,2),oe=le[0],je=le[1],de=function(e,a){var n=e,i=new Date(n);i.setHours(5,0,0,0);var l=i.getTime();(function(e,a,n){c(!0),X.a.get(K+"/"+n+"/site",{cancelToken:r.token,headers:{jwtToken:s,startTime:e,endTime:a}}).then((function(e){re(e.data.status),je(1e3*e.data.time),c(!1)})).catch((function(e){var a;401===(null===e||void 0===e||null===(a=e.response)||void 0===a?void 0:a.status)&&t(),c(!1)}))})(1623696973e3,n=Q?Date.now():e,a),X.a.post("https://apps.acme.in:3002/generation",{startTime:l,endTime:n,siteName:a}).then((function(e){g(function(e){for(var t,a=[],n=0,i=0,c=0;c<e.length;c++){var r=new Date(e[c].timestamp),s=String(r.getHours()).padStart(2,0)+":"+String(r.getMinutes()).padStart(2,0);a.push({time:s,actual:Number(e[c].actual).toFixed(3),predicted:Number(e[c].predicted).toFixed(3)}),n=n<e[c].predicted?e[c].predicted:n,i=i<e[c].actual?e[c].actual:i}return t=n>i?n:i,w([0,Math.ceil(t)+Math.ceil(t/10)]),a}(e.data))})).catch((function(e){}))};return Object(n.useEffect)((function(){de(D,j);var e=setInterval((function(){de(D,j)}),3e5);return function(){clearInterval(e),r.cancel()}}),[j,D]),Object(ce.jsxs)(i.a.Fragment,{children:[Object(ce.jsxs)(C.a,{container:!0,alignItems:"center",justify:"space-between",children:[Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(V.a,{variant:"h6",children:"ML Predictions"})}),Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsxs)(C.a,{container:!0,children:[Object(ce.jsx)(C.a,{item:!0,children:0===ie?Object(ce.jsx)(V.a,{variant:"h6",style:{color:"#f44336"},children:"Offline"}):Object(ce.jsx)(V.a,{variant:"h6",style:{color:"#4caf50"},children:"Online"})}),Object(ce.jsx)(C.a,{item:!0,style:{margin:"0 1rem"}}),Object(ce.jsx)(C.a,{item:!0,children:void 0===oe?Object(ce.jsx)(tt.a,{size:"1.25rem"}):Object(ce.jsx)(V.a,{variant:"h6",children:function(e){var t=new Date(e);return Object(ce.jsxs)("span",{children:[String(t.getDate()).padStart(2,"0"),"/",String(t.getMonth()+1).padStart(2,"0"),"/",t.getFullYear(),Object(ce.jsx)("span",{children:"\u2003"}),t.toLocaleString([],{hour:"2-digit",minute:"2-digit",hour12:!0}).toUpperCase()]})}(oe)})})]})}),Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsxs)(C.a,{container:!0,children:[Object(ce.jsx)(C.a,{item:!0,style:{marginRight:"1.5rem"},children:Object(ce.jsx)(v.a,{className:a.formControl,children:Object(ce.jsx)(Z.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:j,onChange:function(e){d(e.target.value)},children:Object(ce.jsx)(B.a,{value:"mahoba",children:Object(ce.jsx)(V.a,{variant:"h6",children:"Mahoba"})})})})}),Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(it.a,{utils:O.a,children:Object(ce.jsx)(ct.a,{style:{width:1,visibility:"hidden"},value:E,open:M,onClose:function(){return R(!1)},onChange:function(e){try{ee(!1)}finally{H(e),R(!1)}},format:"dd/MM/yyyy hh:mm a",minDate:function(){var e=new Date;return"gadarpur"===j&&e.setTime(16281648e5),e.setTime(16282512e5),e}()})})}),Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(y.a,{onClick:function(){return R(!0)},children:Object(ce.jsx)(Me.a,{color:"action",fontSize:"large"})})}),Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(y.a,{onClick:function(){var e=new Date;H(e),P(e.getTime()),q(!0),ee(!0)},children:Object(ce.jsx)(nt.a,{color:"primary",fontSize:"large"})})})]})})]}),Object(ce.jsx)("div",{style:{marginBlock:"1rem"}}),j&&Object(ce.jsxs)(S.a,{elevation:6,style:{height:"500px",paddingTop:"1rem"},children:[Object(ce.jsx)(V.a,{variant:"h6",color:"textSecondary",style:{paddingLeft:"1.5rem"},children:"Power Generation"}),Object(ce.jsx)("div",{style:{height:"94%"},children:Object(ce.jsx)(wt,{interval:f,leftAxisY:k,data:h})})]}),Object(ce.jsx)(J.a,{open:Y,anchorOrigin:{vertical:"bottom",horizontal:"left"},autoHideDuration:4e3,onClose:te,children:Object(ce.jsx)(Nt,{onClose:te,severity:"success",children:"Time is reset!"})}),Object(ce.jsx)("div",{style:{marginBottom:"2rem"}})]})}var Dt=a(1423),Pt=a(486),Ft=a.n(Pt),Vt=a(487),At=a.n(Vt),Et=a(1418),Ht=function(){var e=new Date;return e.setHours(0,1,0,0),e.getTime()},_t=function(e,t){var a=Number(e),n=Number(t);return n>a?0:a-n},zt=function(e,t){var a=Number(e),n=Number(t);return n>a?n:a};var Mt=function(e){var t,a=e.data,i=e.handleSessionExpire,c=Object(n.useState)({capacity:1714,powerGeneration:0,max:0,maxTime:Date.now()}),r=Object(u.a)(c,2),s=r[0],l=r[1];return Object(n.useEffect)((function(){X.a.post(K+"/dashboard/sites/peakgeneration",{startTime:Ht(),endTime:Date.now(),email:localStorage.getItem("userEmail")},{headers:{jwtToken:localStorage.getItem("userToken")}}).then((function(e){var t=e.data;l({capacity:Math.round(t.totalCapacity),powerGeneration:Math.round(t.currentCapacity),max:Math.round(t.peakReached),maxTime:t.peakReachedTime})})).catch((function(e){var t;401===(null===e||void 0===e||null===(t=e.response)||void 0===t?void 0:t.status)&&i()}))}),[a]),Object(ce.jsxs)(C.a,{container:!0,style:{marginTop:"0rem"},alignItems:"center",children:[Object(ce.jsx)(C.a,{item:!0,xs:!0,style:{marginRight:"1rem"},children:Object(ce.jsxs)(Et.a,{children:[Object(ce.jsx)(Et.a,{animated:!0,label:"".concat(s.powerGeneration," MW"),max:s.capacity,variant:"success",now:s.powerGeneration},1),Object(ce.jsx)(Et.a,{animated:!0,"data-toggle":"tooltip","data-placement":"bottom",title:"Max Time: ".concat((t=1e3*s.maxTime,new Date(t).toLocaleTimeString())),max:s.capacity,variant:"info",now:_t(s.max,s.powerGeneration)},2),Object(ce.jsxs)("span",{style:{color:"#000"},children:["\u2002","Max: ".concat(zt(s.max,s.powerGeneration)," MW")]})]})}),Object(ce.jsxs)(C.a,{item:!0,children:["Capacity:"," ",Object(ce.jsxs)("span",{style:{color:"#008f56"},children:[s.capacity," ",Object(ce.jsx)("small",{children:"MW"})]})]})]})},Rt=a(1392),Gt=a(1317),Wt=a(1393),Xt=a(260),Yt=a.n(Xt),qt=a(1420),Ut=a(1394),Kt=a(1395),Zt=a(1319),Jt=a(1396),$t=a(1320),Qt=Object(D.a)((function(e){return{root:{"& > *":{margin:e.spacing(.5),width:"54ch"}},field:{marginTop:20,marginBottom:20,display:"block"},heading:{fontSize:e.typography.pxToRem(11),fontWeight:e.typography.fontWeightRegular},msg:{fontSize:e.typography.pxToRem(11),fontWeight:e.typography.fontWeightRegular,color:"#2196f3"}}}));function ea(e){var t=e.handleClose,a=e.open,i=(e.sendNotemsg,e.getNotemsg,e.notemsg,e.showNotemsg),c=(e.setNotemsg,e.setOpen,e.setMsgid,e.deleteNotemsg),r=e.setAlertopen,s=e.alertopen,l=Qt(),o=Object(n.useState)("0"),j=Object(u.a)(o,2),d=j[0],b=j[1],m=function(){r(!1)};return Object(ce.jsxs)(ce.Fragment,{children:[Object(ce.jsxs)(Gt.a,{onClose:t,"aria-labelledby":"simple-dialog-title",open:a,children:[Object(ce.jsxs)(C.a,{container:!0,style:{flexDirection:"row",justifyContent:"space-between",alignItems:"center"},children:[Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(Rt.a,{style:{color:"#2196f3"},id:"simple-dialog-title",children:"Site Notes"})}),Object(ce.jsx)(C.a,{item:!0,style:{paddingRight:"0.5rem"},children:Object(ce.jsx)(Yt.a,{style:{color:"#EC7063"},onClick:t,"aria-label":"close"})})]}),Object(ce.jsxs)(Wt.a,{style:{width:"30rem",marginTop:"-1rem"},children:[Object(ce.jsx)(C.a,{container:!0,style:{marginTop:"0.5rem",paddingLeft:"0.4rem"},children:i.map((function(e){return Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsxs)(qt.a,{style:{width:"13rem"},expanded:d===e.id,children:[Object(ce.jsx)(Ut.a,{expandIcon:Object(ce.jsx)(M.a,{color:d===e.id?"primary":"inherit",onClick:function(){return b((function(t){return t===e.id?"0":e.id}))}}),ariaControls:"".concat(e.id,"_panel1a-content"),id:"".concat(e.id,"_panel1a-id"),children:Object(ce.jsx)(V.a,{className:l.heading,children:new Date(Number(e.timestamp)).toLocaleString()})}),Object(ce.jsx)(Kt.a,{children:Object(ce.jsx)(V.a,{className:l.msg,children:e.notes})})]},e.id)})}))}),Object(ce.jsx)("br",{})]})]}),Object(ce.jsx)("div",{children:Object(ce.jsxs)(Gt.a,{open:s,onClose:m,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(ce.jsx)(Zt.a,{children:Object(ce.jsx)(Jt.a,{id:"alert-dialog-description",children:"Are You Sure Want To Delete?"})}),Object(ce.jsxs)($t.a,{children:[Object(ce.jsx)(x.a,{onClick:c,color:"primary",autoFocus:!0,children:"Ok"}),Object(ce.jsx)(x.a,{onClick:m,color:"primary",children:"Cancel"})]})]})})]})}var ta=Object(Oe.a)((function(e){return{head:{backgroundColor:"#ffffbf",color:e.palette.common.black,fontSize:16},body:{fontSize:16}}}))(Se.a),aa=Object(Oe.a)((function(e){return{root:{"&:nth-of-type(odd)":{backgroundColor:e.palette.action.hover}}}}))(ve.a),na=Object(D.a)({tableContainer:{maxHeight:"83vh"}});function ia(e){var t=e.handleSiteClickInParent,a=e.handleSessionExpire,i=(e.setOpen,e.setShowNotemsg,e.open,na()),c=($e().setEnabledLinearProgress,X.a.CancelToken.source()),r=Object(n.useState)({header:"name",order:"asc"}),s=Object(u.a)(r,2),l=s[0],o=s[1],j=Object(n.useState)([{name:"Loading...",ip:"None",capacity:"0",status:0,time:0,powerGeneration:0,GHI:"0.00",GTI:"0.00",moduleTemp:"0.00",network:!1}]),d=Object(u.a)(j,2),b=d[0],m=d[1],h=function(e,t,a){return"asc"===a?e.sort((function(e,a){return"name"!==t?Number(e[t])>Number(a[t])?1:Number(a[t])>Number(e[t])?-1:0:e[t]>a[t]?1:a[t]>e[t]?-1:0})):e.sort((function(e,a){return"name"!==t?Number(e[t])<Number(a[t])?1:Number(a[t])<Number(e[t])?-1:0:e[t]<a[t]?1:a[t]<e[t]?-1:0}))},O=function(){var e=localStorage.getItem("userToken");X.a.post("https://apps.acme.in:3001/dashboard/sites",{email:localStorage.getItem("userEmail")},{cancelToken:c.token,headers:{jwtToken:e}}).then((function(e){var t=h(e.data,l.header,l.order);m(t),localStorage.setItem("sitesArray",JSON.stringify(t));var a=t.length,n=0,i=0,c=0;if(t.forEach((function(e){n+=Number(e.capacity),1===e.status&&(i+=1),0===e.status&&(c+=1)})),localStorage.setItem("sitesSidePanelLocalStorage",JSON.stringify({totalSites:a,totalCapacity:n,online:i,offline:c})),null!==localStorage.getItem("siteNames")){var r=localStorage.getItem("siteNames").split(",").length;if(t.length>r){var s=t.map((function(e){return e.name}));localStorage.setItem("siteNames",s)}}else{var o=t.map((function(e){return e.name}));localStorage.setItem("siteNames",o)}})).catch((function(e){var t;401===(null===e||void 0===e||null===(t=e.response)||void 0===t?void 0:t.status)&&a()}))};Object(n.useEffect)((function(){if(localStorage.getItem("sitesArray")){var e=JSON.parse(localStorage.getItem("sitesArray"));m(e)}O();var t=setInterval(O,6e4);return function(){clearInterval(t)}}),[]);var g=function(e){var t=new Date(e);return"".concat(String(t.getDate()).padStart(2,"0"),"/").concat(String(t.getMonth()+1).padStart(2,"0"),", ").concat(t.toLocaleString([],{hour:"2-digit",minute:"2-digit",hour12:!1}))},x=Object(n.useState)({name:"asc",capacity:"desc",network:"desc",status:"desc",time:"desc",powerGeneration:"desc",GHI:"desc",GTI:"desc",moduleTemp:"desc"}),S=Object(u.a)(x,2),p=(S[0],S[1]),f=function(e,t,a){p((function(e){var n="asc"===e[t]?"desc":"asc",i="asc"===n?"desc":"asc",c={name:i,capacity:i,network:i,status:i,time:i,powerGeneration:i,GHI:i,GTI:i,moduleTemp:i};c[t]=n,h(b,t,n),o({header:t,order:n});var r=document.getElementById(a),s=document.querySelectorAll(".header");return s&&s.forEach((function(e){e.style.color="black"})),r.style.color=r&&"asc"===n?"#1A5276":"green",c}))};return Object(ce.jsxs)(ce.Fragment,{children:[Object(ce.jsx)(Mt,{data:b,handleSessionExpire:a}),Object(ce.jsx)(pe.a,{component:he.a,elevation:6,className:i.tableContainer,style:{marginTop:"0.25rem"},children:Object(ce.jsxs)(ge.a,{className:i.table,size:"small","aria-label":"customized table",stickyHeader:!0,children:[Object(ce.jsx)(fe.a,{children:Object(ce.jsxs)(ve.a,{children:[Object(ce.jsx)(ta,{children:Object(ce.jsx)("span",{onClick:function(e){return f(0,"name","siteNameHeader")},id:"siteNameHeader",className:"header",children:"Site"})}),Object(ce.jsx)(ta,{align:"left",style:{paddingTop:".6rem",paddingBottom:".5rem"},children:Object(ce.jsx)("span",{onClick:function(e){return f(0,"capacity","capacityHeader")},id:"capacityHeader",className:"header",children:"Capacity"})}),Object(ce.jsx)(ta,{align:"center",children:Object(ce.jsx)("span",{onClick:function(e){return f(0,"network","networkHeader")},id:"networkHeader",className:"header",children:"Network"})}),Object(ce.jsx)(ta,{align:"center",children:Object(ce.jsx)("span",{onClick:function(e){return f(0,"status","statusHeader")},id:"statusHeader",className:"header",children:"Status"})}),Object(ce.jsx)(ta,{align:"center",children:Object(ce.jsx)("span",{onClick:function(e){return f(0,"time","timeHeader")},id:"timeHeader",className:"header",children:"Last Event"})}),Object(ce.jsx)(ta,{align:"center",children:Object(ce.jsx)("span",{onClick:function(e){return f(0,"powerGeneration","powerGenerationHeader")},id:"powerGenerationHeader",className:"header",children:"Power Generation"})}),Object(ce.jsx)(ta,{align:"center",children:Object(ce.jsx)("span",{onClick:function(e){return f(0,"GHI","ghiHeader")},id:"ghiHeader",className:"header",children:"GHI"})}),Object(ce.jsx)(ta,{align:"center",children:Object(ce.jsx)("span",{onClick:function(e){return f(0,"GTI","gtiHeader")},id:"gtiHeader",className:"header",children:"GTI"})}),Object(ce.jsx)(ta,{align:"center",children:Object(ce.jsx)("span",{onClick:function(e){return f(0,"moduleTemp","moduleTempHeader")},id:"moduleTempHeader",className:"header",children:"Module Temp"})})]})}),Object(ce.jsx)(xe.a,{children:b.map((function(e){return Object(ce.jsxs)(aa,{children:[Object(ce.jsx)(ta,{component:"th",scope:"row",children:Object(ce.jsx)("a",{href:"#",onClick:function(a){return function(e,a){e.preventDefault(),t(a)}(a,e)},style:{color:"inherit",textDecoration:"none"},children:e.name})}),Object(ce.jsxs)(ta,{align:"center",children:[e.capacity," ",Object(ce.jsx)("small",{children:"MW"})]}),Object(ce.jsx)(ta,{align:"center",children:!0===e.network?Object(ce.jsx)(Dt.a,{title:e.ip,placement:"right",children:Object(ce.jsx)(Ft.a,{})}):Object(ce.jsx)(Dt.a,{title:e.ip,placement:"right",children:Object(ce.jsx)(At.a,{})})}),Object(ce.jsx)(ta,{align:"center",children:1===e.status?Object(ce.jsx)("span",{style:{color:"green"},children:"Online"}):Object(ce.jsx)("span",{style:{color:"red"},children:"Offline"})}),Object(ce.jsx)(ta,{align:"center",children:g(1e3*e.time)}),Object(ce.jsx)(ta,{align:"center",children:-111===Number(e.powerGeneration)?"x":Object(ce.jsxs)("span",{children:[Number(e.powerGeneration).toFixed(2)," ",Object(ce.jsx)("small",{children:"MW"})]})}),Object(ce.jsx)(ta,{align:"center",children:-111===Number(e.GHI)?"x":Object(ce.jsx)("span",{children:Number(e.GHI).toFixed(2)})}),Object(ce.jsx)(ta,{align:"center",children:-111===Number(e.GTI)?"x":Object(ce.jsx)("span",{children:Number(e.GTI).toFixed(2)})}),Object(ce.jsx)(ta,{align:"center",children:-111===Number(e.moduleTemp)?"x":Object(ce.jsxs)("span",{children:[Number(e.moduleTemp).toFixed(2),"\xb0C"]})})]},e.name)}))})]})})]})}var ca=Object(Oe.a)((function(e){return{head:{backgroundColor:"#ffffbf",color:e.palette.common.black,fontSize:16},body:{fontSize:16}}}))(Se.a),ra=Object(Oe.a)((function(e){return{root:{"&:nth-of-type(odd)":{backgroundColor:e.palette.action.hover}}}}))(ve.a),sa=Object(D.a)({tableContainer:{maxHeight:"80vh"}}),la=function(e){var t=e.value,a=null;return Object(ce.jsxs)(ra,{children:[Object(ce.jsx)(ca,{component:"th",scope:"row",style:{paddingTop:".6rem",paddingBottom:".6rem",backgroundColor:a},children:Object(ce.jsx)("strong",{style:{paddingLeft:"2.5rem"},children:t.heading})}),Object(ce.jsx)(ca,{align:"center",style:{backgroundColor:a},children:Object(ce.jsx)("span",{children:isNaN(Number(t.inv1))?"-":-111===Number(t.inv1)?"x":Number(t.inv1).toFixed(2)})}),Object(ce.jsx)(ca,{align:"center",style:{backgroundColor:a},children:Object(ce.jsx)("span",{children:isNaN(Number(t.inv2))?"-":-111===Number(t.inv2)?"x":Number(t.inv2).toFixed(2)})}),Object(ce.jsx)(ca,{align:"center",style:{backgroundColor:a},children:Object(ce.jsx)("span",{children:isNaN(Number(t.inv3))?"-":-111===Number(t.inv3)?"x":Number(t.inv3).toFixed(2)})}),Object(ce.jsx)(ca,{align:"center",style:{backgroundColor:a},children:Object(ce.jsx)("span",{children:isNaN(Number(t.inv4))?"-":-111===Number(t.inv4)?"x":Number(t.inv4).toFixed(2)})})]})},oa=function(e){var t=e.value;return Object(ce.jsxs)(ra,{children:[Object(ce.jsx)(ca,{component:"th",scope:"row",style:{paddingTop:".6rem",paddingBottom:".6rem"},children:Object(ce.jsx)("strong",{style:{paddingLeft:"1rem"},children:t.heading})}),Object(ce.jsx)(ca,{align:"center",children:isNaN(Number(t.inv1))?"-":-111===Number(t.inv1)?"x":Number(t.inv1).toFixed(2)}),Object(ce.jsx)(ca,{align:"center",children:isNaN(Number(t.inv2))?"-":-111===Number(t.inv2)?"x":Number(t.inv2).toFixed(2)}),Object(ce.jsx)(ca,{align:"center",children:isNaN(Number(t.inv3))?"-":-111===Number(t.inv3)?"x":Number(t.inv3).toFixed(2)}),Object(ce.jsx)(ca,{align:"center",children:isNaN(Number(t.inv4))?"-":-111===Number(t.inv4)?"x":Number(t.inv4).toFixed(2)})]})};function ja(e){var t=e.values,a=sa(),c=Object(n.useState)([]),r=Object(u.a)(c,2),s=r[0],l=r[1],o=i.a.useState(!1),j=Object(u.a)(o,2),d=j[0],b=j[1],m=i.a.useState(!1),h=Object(u.a)(m,2),O=h[0],g=h[1],x=function(e){var t=e.title,a=e.tag,n=e.openRows;return Object(ce.jsx)(ra,{children:Object(ce.jsxs)(ca,{component:"th",scope:"row",colSpan:7,style:{backgroundColor:"#EBF5FB"},children:[Object(ce.jsx)("strong",{style:{paddingLeft:"1rem",paddingRight:".5rem",color:"#000"},children:t}),Object(ce.jsx)(y.a,{"aria-label":"expand row",size:"small",onClick:function(){return function(e){"S"===e?b((function(e){return!e})):g((function(e){return!e}))}(a)},style:{color:"#000"},children:n?Object(ce.jsx)(Ie.a,{}):Object(ce.jsx)(ye.a,{})})]})})};return Object(n.useEffect)((function(){for(var e=[],a=[],n=[],i=null,c=null,r=0;r<t.length;r++)t[r].heading.match(/S[1-4] [^/]/i)?(i||(i=r,n.push(Object(ce.jsx)(x,{title:"Inverter Slots",tag:"S",openRows:d},r))),r,e.push(Object(ce.jsx)(la,{value:t[r]},t[r].heading))):t[r].heading.match(/[S]2[0-4]|1[0-9]|[1-9] [/] S[1-4]CB/i)?(c||(c=r,n.push(Object(ce.jsx)(x,{title:"Inverter Strings",tag:"PV",openRows:O},r))),r,a.push(Object(ce.jsx)(la,{value:t[r]},t[r].heading))):n.push(Object(ce.jsx)(oa,{value:t[r]},r));var s,o=[].concat(n);if(d&&O)(s=o).splice.apply(s,[i+1,0].concat(e)),o=[].concat(Object(me.a)(o),[a]);else if(d&&!O){var j;(j=o).splice.apply(j,[i+1,0].concat(e))}else o=!d&&O?[].concat(Object(me.a)(o),[a]):[].concat(n);l(o)}),[t,d,O]),Object(ce.jsx)(pe.a,{component:he.a,elevation:6,className:a.tableContainer,children:Object(ce.jsxs)(ge.a,{stickyHeader:!0,"aria-label":"customized table",size:"small",children:[Object(ce.jsx)(fe.a,{children:Object(ce.jsxs)(ve.a,{children:[Object(ce.jsx)(ca,{style:{paddingTop:".7rem",paddingLeft:"1.75rem",paddingBottom:".7rem"},children:Object(ce.jsx)("strong",{children:"Parameters"})}),Object(ce.jsx)(ca,{align:"center",children:Object(ce.jsx)("strong",{children:"Inv 1"})}),Object(ce.jsx)(ca,{align:"center",children:Object(ce.jsx)("strong",{children:"Inv 2"})}),Object(ce.jsx)(ca,{align:"center",children:Object(ce.jsx)("strong",{children:"Inv 3"})}),Object(ce.jsx)(ca,{align:"center",children:Object(ce.jsx)("strong",{children:"Inv 4"})})]})}),Object(ce.jsx)(xe.a,{children:s})]})})}function da(e){return Object(ce.jsx)($.a,Object(h.a)({elevation:6,variant:"filled"},e))}var ba=Object(D.a)((function(e){return{grow:{flexGrow:1},gaugeChartStyle:{marginTop:e.spacing(12)},formControl:{minWidth:120},modalCardStyle:{width:340,height:"fit-content"},gridBreakpoint:Object(m.a)({},e.breakpoints.up("md"),{})}}));function ua(e){var t=e.sitestatusBar,a=(e.handleSessionExpire,e.handleClickOpen),c=ba(),r=$e().intervalTime,s=(localStorage.getItem("username","Admin"),localStorage.getItem("userToken")),l=(localStorage.getItem("userId"),K),o=Object(n.useState)((new Date).getTime()),j=Object(u.a)(o,2),d=j[0],b=j[1],m=Object(n.useState)(0),h=Object(u.a)(m,2),O=h[0],g=h[1],x=Object(n.useState)(void 0),p=Object(u.a)(x,2),f=p[0],y=p[1],T=Object(n.useState)({}),I=Object(u.a)(T,2),k=I[0],w=I[1],N=Object(n.useState)(0),L=Object(u.a)(N,2),D=L[0],P=L[1],F=Object(n.useState)(0),A=Object(u.a)(F,2),E=(A[0],A[1]),H=Object(n.useState)(0),_=Object(u.a)(H,2),z=_[0],M=_[1],R=Object(n.useState)(0),G=Object(u.a)(R,2),W=G[0],Y=G[1],q=Object(n.useState)(0),U=Object(u.a)(q,2),$=U[0],Q=U[1],ee=Object(n.useState)(0),te=Object(u.a)(ee,2),ae=te[0],ne=te[1],ie=Object(n.useState)(0),re=Object(u.a)(ie,2),le=re[0],oe=re[1],je=Object(n.useState)(0),de=Object(u.a)(je,2),be=de[0],me=de[1],he=Object(n.useState)([{time:"00:00",gti:"0.00",ghi:"0.00",pg:"0.00"}]),Oe=Object(u.a)(he,2),ge=Oe[0],xe=Oe[1],Se=i.a.useState(1),pe=Object(u.a)(Se,2),fe=pe[0],ve=pe[1],Ce=Object(n.useState)([]),ye=Object(u.a)(Ce,2),Te=ye[0],Ie=ye[1],ke=Object(n.useState)(0),we=Object(u.a)(ke,2),Ne=we[0],Be=we[1];Object(n.useEffect)((function(){0!==Ne&&at(d)}),[Ne]);var Le=function(){return 0!==Ne?"1":"0"},De=function(){return Ne>0?"1":"0"},Pe=null,Fe=Object(n.useState)(!1),Ve=Object(u.a)(Fe,2),Ee=Ve[0],He=Ve[1],ze=Object(n.useState)(new Date),Me=Object(u.a)(ze,2),Re=Me[0],Ge=Me[1],We=Object(n.useState)(!1),Xe=Object(u.a)(We,2),Ye=Xe[0],qe=Xe[1],Ue=Object(n.useState)(!0),Ze=Object(u.a)(Ue,2),Je=Ze[0],Qe=Ze[1],et=function(){He(!1)};Object(n.useEffect)((function(){b(Re.getTime())}),[Re]);var tt=function(e,t,a,n){var i="";i=e>9?"B"+String(e):"B0"+e,X.a.get(l+"/hindupur/grid/"+i,{headers:{jwtToken:s,startTime:t,endTime:a,beginTime:n,enablePacket:Le(),clientPacketTime:f,isNext:De()}}).then((function(e){!function(e){for(var t=[],a=Object.entries(e),n=["L1 I","L2 I","L3 I","L1 V","L2 V","L3 V","Frequency","DC I","DC V","Active Power","DC Power","Reactive Power","PF","Cab Temp","IGBT Temp","DC Energy","S1 L1 I","S1 L2 I","S1 L3 I","S1 L1 V","S1 L2 V","S1 L3 V","S1 DC I","S1 DC V","S1 Active Power","S1 DC Power","S1 PF","S1 IGBT Temp","S2 L1 I","S2 L2 I","S2 L3 I","S2 L1 V","S2 L2 V","S2 L3 V","S2 DC I","S2 DC V","S2 Active Power","S2 DC Power","S2 PF","S2 IGBT Temp","S3 L1 I","S3 L2 I","S3 L3 I","S3 L1 V","S3 L2 V","S3 L3 V","S3 DC I","S3 DC V","S3 Active Power","S3 DC Power","S3 PF","S3 IGBT Temp","S4 L1 I","S4 L2 I","S4 L3 I","S4 L1 V","S4 L2 V","S4 L3 V","S4 DC I","S4 DC V","S4 Active Power","S4 DC Power","S4 PF","S4 IGBT Temp","S1 + S2 Peak Active Power","S3 + S4 Peak Active Power","S1 / S1CB1 I","S2 / S1CB2 I","S3 / S1CB3 I","S4 / S1CB4 I","S5 / S1CB5 I","S6 / S1CB6 I","S7 / S2CB1 I","S8 / S2CB2 I","S9 / S2CB3 I","S10 / S2CB4 I","S11 / S2CB5 I","S12 / S2CB6 I","S13 / S3CB1 I","S14 / S3CB2 I","S15 / S3CB3 I","S16 / S3CB4 I","S17 / S3CB5 I","S18 / S3CB6 I","S19 / S4CB1 I","S20 / S4CB2 I","S21 / S4CB3 I","S22 / S4CB4 I","S23 / S4CB5 I","S24 / S4CB6 I"],i=0;i<n.length;i++){var c=NaN,r=NaN,s=NaN,l=NaN,o=NaN,j=NaN;try{a[i][1]&&(c=a[i][1]),a[n.length+i][1]&&(r=a[n.length+i][1]),a[2*n.length+i][1]&&(s=a[2*n.length+i][1]),a[3*n.length+i][1]&&(l=a[3*n.length+i][1]),a[4*n.length+i][1]&&(o=a[4*n.length+i][1]),a[5*n.length+i][1]&&(j=a[5*n.length+i][1])}catch(d){}t.push({heading:n[i],inv1:c,inv2:r,inv3:s,inv4:l,inv5:o,inv6:j})}Ie([].concat(t))}(e.data)})).catch((function(e){}))},at=function(e){var t=1623696973e3,a=e;a=Je?Date.now():e;var n=new Date(a);n.setHours(5,0,0,0);var i=n.getTime();!function(e,t,a){X.a.get(l+"/hindupur/site",{headers:{jwtToken:s,startTime:e,endTime:t,beginTime:a,enablePacket:Le(),clientPacketTime:f,isNext:De()}}).then((function(e){g(e.data.status),y(1e3*e.data.time)})).catch((function(e){}))}(t,a,i),function(e,t,a){X.a.get(l+"/hindupur/boxes",{headers:{jwtToken:s,startTime:e,endTime:t,beginTime:a,enablePacket:Le(),clientPacketTime:f,isNext:De()}}).then((function(e){w(e.data)})).catch((function(e){}))}(t,a,i),function(e,t,a){X.a.get(l+"/hindupur/gauge",{headers:{jwtToken:s,startTime:e,endTime:t,beginTime:a,enablePacket:Le(),clientPacketTime:f,isNext:De()}}).then((function(e){var t=e.data.value;P(Number(t).toFixed(2)),E(Number(t).toFixed(1)/50)})).catch((function(e){}))}(t,a,i),function(e,t,a){X.a.get(l+"/hindupur/temperature",{headers:{jwtToken:s,startTime:e,endTime:t,beginTime:a,enablePacket:Le(),clientPacketTime:f,isNext:De()}}).then((function(e){var t=e.data.ambientTemp,a=e.data.moduleTemp,n=e.data.humidity;M(Number(t).toFixed(1)),Y(Number(a).toFixed(1)),Q(Number(n).toFixed(1))})).catch((function(e){}))}(t,a,i),function(e,t,a){X.a.get(l+"/hindupur/wind",{headers:{jwtToken:s,startTime:e,endTime:t,beginTime:a,enablePacket:Le(),clientPacketTime:f,isNext:De()}}).then((function(e){var t=e.data.direction,a=e.data.speed;e.data.rain,ne(Number(t).toFixed(0)),oe(Number(a).toFixed(1)),me(Number(e.data.rain).toFixed(1))})).catch((function(e){}))}(t,a,i),function(e,t,a){X.a.get(l+"/hindupur/graph",{headers:{jwtToken:s,startTime:e,endTime:t,beginTime:a,enablePacket:Le(),clientPacketTime:f,isNext:De()}}).then((function(e){xe(e.data)})).catch((function(e){}))}(t,a,i),tt(fe,t,a,i)};Object(n.useEffect)((function(){(Pe=document.getElementById("timeSliderLabel2"))&&(Pe.innerText=(new Date).toLocaleString([],{hour:"2-digit",minute:"2-digit",hour12:!0}).toUpperCase()),at(d);var e=setInterval((function(){at(d)}),r);return function(){clearInterval(e)}}),[d]);var nt=Object(n.useState)("space-between"),it=Object(u.a)(nt,2),ct=(it[0],it[1]);return Object(n.useLayoutEffect)((function(){window.matchMedia("(min-width: 1280px)").matches?ct("space-between"):ct("flex-start")}),[]),Object(ce.jsxs)(i.a.Fragment,{children:[Object(ce.jsx)(C.a,{container:!0,justifyContent:"space-between",alignItems:"center",children:Object(ce.jsx)(rt,{sitestatusBar:t,status:O,timestamp:f,handleClickOpen:a,handleTimeReset:function(){Be(0);var e=new Date;Ge(e),b(e.getTime()),He(!0),Qe(!0)},setIsNextCount:Be,setOpenDateTimePicker:qe,getMinDateForPicker:function(){return new Date(1625823e6)},selectedDate:Re,getFormattedDateAndTimeString:function(e){var t=new Date(e);return Object(ce.jsxs)("span",{children:[String(t.getDate()).padStart(2,"0"),"/",String(t.getMonth()+1).padStart(2,"0"),"/",t.getFullYear(),Object(ce.jsx)("span",{children:"\u2003"}),t.toLocaleString([],{hour:"2-digit",minute:"2-digit",hour12:!0}).toUpperCase()]})},openDateTimePicker:Ye,handleDateChange:function(e){try{Qe(!1)}finally{Ge(e),qe(!1)}}})}),Object(ce.jsx)("div",{style:{marginTop:"2rem"}}),Object(ce.jsx)(Ae,{day_generation:k.day_generation,revenue:1e3*k.day_generation*6.53,peak_power:k.peak_power,ghi:k.ghi,gti:k.gti,plant_pr:k.plant_pr,grid_availability:k.grid_availability,plant_availability:k.plant_availability}),Object(ce.jsxs)(C.a,{container:!0,spacing:6,style:{marginTop:"1rem"},children:[Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(_e,{totalExport:D,maxValue:75})}),Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(se,{ambientTemp:z,moduleTemp:W,humidity:$})}),Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(Ke,{windDirection:ae,windSpeed:le,rain:be})})]}),Object(ce.jsxs)(S.a,{elevation:6,style:{marginTop:"2.5rem",height:"500px",width:"100%"},children:[Object(ce.jsx)(V.a,{variant:"h6",color:"textSecondary",style:{marginLeft:"1.5rem",marginTop:"1rem",marginBottom:"1.5rem"},children:"Irradiance / Generation"}),Object(ce.jsx)(ue,{data:ge,interval:12,leftAxisY:[0,1500],rightAxisY:[0,50]})]}),Object(ce.jsx)(C.a,{container:!0,style:{marginTop:"3rem"},children:Object(ce.jsxs)(C.a,{item:!0,xs:12,children:[Object(ce.jsxs)(C.a,{container:!0,spacing:2,alignItems:"center",style:{marginBottom:".5rem"},children:[Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(V.a,{variant:"h6",color:"textSecondary",children:"Inverter Values"})}),Object(ce.jsx)(C.a,{item:!0,className:c.grow}),Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsxs)(V.a,{style:{marginLeft:".25rem"},children:["Selected Block:"," "]})}),Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(v.a,{className:c.formControl,children:Object(ce.jsxs)(Z.a,{value:fe,onChange:function(e){ve(e.target.value);var t=new Date;t.setDate((new Date).getDate()-1),t.setHours(23,50,0,0);var a=new Date(d);a.setHours(5,0,0,0);var n=a.getTime();tt(e.target.value,t.getTime(),d,n)},children:[Object(ce.jsx)(B.a,{value:1,children:"B01"}),Object(ce.jsx)(B.a,{value:2,children:"B02"}),Object(ce.jsx)(B.a,{value:3,children:"B03"}),Object(ce.jsx)(B.a,{value:4,children:"B04"}),Object(ce.jsx)(B.a,{value:5,children:"B05"}),Object(ce.jsx)(B.a,{value:6,children:"B06"}),Object(ce.jsx)(B.a,{value:7,children:"B07"}),Object(ce.jsx)(B.a,{value:8,children:"B08"}),Object(ce.jsx)(B.a,{value:9,children:"B09"}),Object(ce.jsx)(B.a,{value:10,children:"B10"}),Object(ce.jsx)(B.a,{value:11,children:"B11"}),Object(ce.jsx)(B.a,{value:12,children:"B12"}),Object(ce.jsx)(B.a,{value:13,children:"B13"})]})})})]}),Object(ce.jsx)(ja,{values:Te})]})}),Object(ce.jsx)(J.a,{open:Ee,anchorOrigin:{vertical:"bottom",horizontal:"left"},autoHideDuration:4e3,onClose:et,children:Object(ce.jsx)(da,{onClose:et,severity:"success",children:"Time is reset!"})}),Object(ce.jsx)("div",{style:{marginBottom:"2rem"}})]})}var ma=Object(Oe.a)((function(e){return{head:{backgroundColor:"#ffffbf",color:e.palette.common.black,fontSize:16},body:{fontSize:16}}}))(Se.a),ha=Object(Oe.a)((function(e){return{root:{"&:nth-of-type(odd)":{backgroundColor:e.palette.action.hover}}}}))(ve.a),Oa=Object(D.a)({tableContainer:{maxHeight:"80vh"}}),ga=function(e){var t=e.value,a=null;return Object(ce.jsxs)(ha,{children:[Object(ce.jsx)(ma,{component:"th",scope:"row",style:{paddingTop:".6rem",paddingBottom:".6rem",backgroundColor:a},children:Object(ce.jsx)("strong",{style:{paddingLeft:"2.5rem"},children:t.heading})}),Object(ce.jsx)(ma,{align:"center",style:{backgroundColor:a},children:Object(ce.jsx)("span",{children:isNaN(Number(t.inv1))?"-":-111===Number(t.inv1)?"x":Number(t.inv1).toFixed(2)})}),Object(ce.jsx)(ma,{align:"center",style:{backgroundColor:a},children:Object(ce.jsx)("span",{children:isNaN(Number(t.inv2))?"-":-111===Number(t.inv2)?"x":Number(t.inv2).toFixed(2)})}),Object(ce.jsx)(ma,{align:"center",style:{backgroundColor:a},children:Object(ce.jsx)("span",{children:isNaN(Number(t.inv3))?"-":-111===Number(t.inv3)?"x":Number(t.inv3).toFixed(2)})}),Object(ce.jsx)(ma,{align:"center",style:{backgroundColor:a},children:Object(ce.jsx)("span",{children:isNaN(Number(t.inv4))?"-":-111===Number(t.inv4)?"x":Number(t.inv4).toFixed(2)})})]})},xa=function(e){var t=e.value;return Object(ce.jsxs)(ha,{children:[Object(ce.jsx)(ma,{component:"th",scope:"row",style:{paddingTop:".6rem",paddingBottom:".6rem"},children:Object(ce.jsx)("strong",{style:{paddingLeft:"1rem"},children:t.heading})}),Object(ce.jsx)(ma,{align:"center",children:isNaN(Number(t.inv1))?"-":-111===Number(t.inv1)?"x":Number(t.inv1).toFixed(2)}),Object(ce.jsx)(ma,{align:"center",children:isNaN(Number(t.inv2))?"-":-111===Number(t.inv2)?"x":Number(t.inv2).toFixed(2)}),Object(ce.jsx)(ma,{align:"center",children:isNaN(Number(t.inv3))?"-":-111===Number(t.inv3)?"x":Number(t.inv3).toFixed(2)}),Object(ce.jsx)(ma,{align:"center",children:isNaN(Number(t.inv4))?"-":-111===Number(t.inv4)?"x":Number(t.inv4).toFixed(2)})]})};function Sa(e){var t=e.values,a=Oa(),c=Object(n.useState)([]),r=Object(u.a)(c,2),s=r[0],l=r[1],o=i.a.useState(!1),j=Object(u.a)(o,2),d=j[0],b=j[1],m=i.a.useState(!1),h=Object(u.a)(m,2),O=h[0],g=h[1],x=function(e){var t=e.title,a=e.tag,n=e.openRows;return Object(ce.jsx)(ha,{children:Object(ce.jsxs)(ma,{component:"th",scope:"row",colSpan:7,style:{backgroundColor:"#EBF5FB"},children:[Object(ce.jsx)("strong",{style:{paddingLeft:"1rem",paddingRight:".5rem",color:"#000"},children:t}),Object(ce.jsx)(y.a,{"aria-label":"expand row",size:"small",onClick:function(){return function(e){"S"===e?b((function(e){return!e})):g((function(e){return!e}))}(a)},style:{color:"#000"},children:n?Object(ce.jsx)(Ie.a,{}):Object(ce.jsx)(ye.a,{})})]})})};return Object(n.useEffect)((function(){for(var e=[],a=[],n=[],i=null,c=null,r=0;r<t.length;r++)t[r].heading.match(/S[1-4] [^/]/i)?(i||(i=r,n.push(Object(ce.jsx)(x,{title:"Inverter Slots",tag:"S",openRows:d},r))),r,e.push(Object(ce.jsx)(ga,{value:t[r]},t[r].heading))):t[r].heading.match(/[S]2[0-4]|1[0-9]|[1-9] [/] S[1-4]CB/i)?(c||(c=r,n.push(Object(ce.jsx)(x,{title:"Inverter Strings",tag:"PV",openRows:O},r))),r,a.push(Object(ce.jsx)(ga,{value:t[r]},t[r].heading))):n.push(Object(ce.jsx)(xa,{value:t[r]},r));var s,o=[].concat(n);if(d&&O)(s=o).splice.apply(s,[i+1,0].concat(e)),o=[].concat(Object(me.a)(o),[a]);else if(d&&!O){var j;(j=o).splice.apply(j,[i+1,0].concat(e))}else o=!d&&O?[].concat(Object(me.a)(o),[a]):[].concat(n);l(o)}),[t,d,O]),Object(ce.jsx)(pe.a,{component:he.a,elevation:6,className:a.tableContainer,children:Object(ce.jsxs)(ge.a,{stickyHeader:!0,"aria-label":"customized table",size:"small",children:[Object(ce.jsx)(fe.a,{children:Object(ce.jsxs)(ve.a,{children:[Object(ce.jsx)(ma,{style:{paddingTop:".7rem",paddingLeft:"1.75rem",paddingBottom:".7rem"},children:Object(ce.jsx)("strong",{children:"Parameters"})}),Object(ce.jsx)(ma,{align:"center",children:Object(ce.jsx)("strong",{children:"Inv 1"})}),Object(ce.jsx)(ma,{align:"center",children:Object(ce.jsx)("strong",{children:"Inv 2"})}),Object(ce.jsx)(ma,{align:"center",children:Object(ce.jsx)("strong",{children:"Inv 3"})}),Object(ce.jsx)(ma,{align:"center",children:Object(ce.jsx)("strong",{children:"Inv 4"})})]})}),Object(ce.jsx)(xe.a,{children:s})]})})}function pa(e){return Object(ce.jsx)($.a,Object(h.a)({elevation:6,variant:"filled"},e))}var fa=Object(D.a)((function(e){return{grow:{flexGrow:1},gaugeChartStyle:{marginTop:e.spacing(12)},formControl:{minWidth:120},modalCardStyle:{width:340,height:"fit-content"},gridBreakpoint:Object(m.a)({},e.breakpoints.up("md"),{})}}));function va(e){e.handleSessionExpire;var t=e.handleClickOpen,a=e.sitestatusBar,c=fa(),r=$e().intervalTime,s=(localStorage.getItem("username","Admin"),localStorage.getItem("userToken")),l=(localStorage.getItem("userId"),K),o=Object(n.useState)((new Date).getTime()),j=Object(u.a)(o,2),d=j[0],b=j[1],m=Object(n.useState)(0),h=Object(u.a)(m,2),O=h[0],g=h[1],x=Object(n.useState)(void 0),p=Object(u.a)(x,2),f=p[0],y=p[1],T=Object(n.useState)({}),I=Object(u.a)(T,2),k=I[0],w=I[1],N=Object(n.useState)(0),L=Object(u.a)(N,2),D=L[0],P=L[1],F=Object(n.useState)(0),A=Object(u.a)(F,2),E=(A[0],A[1]),H=Object(n.useState)(0),_=Object(u.a)(H,2),z=_[0],M=_[1],R=Object(n.useState)(0),G=Object(u.a)(R,2),W=G[0],Y=G[1],q=Object(n.useState)(0),U=Object(u.a)(q,2),$=U[0],Q=U[1],ee=Object(n.useState)(0),te=Object(u.a)(ee,2),ae=te[0],ne=te[1],ie=Object(n.useState)(0),re=Object(u.a)(ie,2),le=re[0],oe=re[1],je=Object(n.useState)(0),de=Object(u.a)(je,2),be=de[0],me=de[1],he=Object(n.useState)([{time:"00:00",gti:"0.00",ghi:"0.00",pg:"0.00"}]),Oe=Object(u.a)(he,2),ge=Oe[0],xe=Oe[1],Se=i.a.useState(1),pe=Object(u.a)(Se,2),fe=pe[0],ve=pe[1],Ce=Object(n.useState)([]),ye=Object(u.a)(Ce,2),Te=ye[0],Ie=ye[1],ke=Object(n.useState)(0),we=Object(u.a)(ke,2),Ne=we[0],Be=we[1];Object(n.useEffect)((function(){0!==Ne&&at(d)}),[Ne]);var Le=function(){return 0!==Ne?"1":"0"},De=function(){return Ne>0?"1":"0"},Pe=null,Fe=Object(n.useState)(!1),Ve=Object(u.a)(Fe,2),Ee=Ve[0],He=Ve[1],ze=Object(n.useState)(new Date),Me=Object(u.a)(ze,2),Re=Me[0],Ge=Me[1],We=Object(n.useState)(!1),Xe=Object(u.a)(We,2),Ye=Xe[0],qe=Xe[1],Ue=Object(n.useState)(!0),Ze=Object(u.a)(Ue,2),Je=Ze[0],Qe=Ze[1],et=function(){He(!1)};Object(n.useEffect)((function(){b(Re.getTime())}),[Re]);var tt=function(e,t,a,n){X.a.get(l+"/sircilla/grid/B0"+e,{headers:{jwtToken:s,startTime:t,endTime:a,beginTime:n,enablePacket:Le(),clientPacketTime:f,isNext:De()}}).then((function(e){!function(e){for(var t=[],a=Object.entries(e),n=["L1 I","L2 I","L3 I","L1 V","L2 V","L3 V","Frequency","DC I","DC V","Active Power","DC Power","Reactive Power","PF","Cab Temp","IGBT Temp","DC Energy","S1 L1 I","S1 L2 I","S1 L3 I","S1 L1 V","S1 L2 V","S1 L3 V","S1 DC I","S1 DC V","S1 Active Power","S1 DC Power","S1 PF","S1 IGBT Temp","S2 L1 I","S2 L2 I","S2 L3 I","S2 L1 V","S2 L2 V","S2 L3 V","S2 DC I","S2 DC V","S2 Active Power","S2 DC Power","S2 PF","S2 IGBT Temp","S3 L1 I","S3 L2 I","S3 L3 I","S3 L1 V","S3 L2 V","S3 L3 V","S3 DC I","S3 DC V","S3 Active Power","S3 DC Power","S3 PF","S3 IGBT Temp","S4 L1 I","S4 L2 I","S4 L3 I","S4 L1 V","S4 L2 V","S4 L3 V","S4 DC I","S4 DC V","S4 Active Power","S4 DC Power","S4 PF","S4 IGBT Temp","S1 + S2 Peak Active Power","S3 + S4 Peak Active Power","S1 / S1CB1 I","S2 / S1CB2 I","S3 / S1CB3 I","S4 / S1CB4 I","S5 / S1CB5 I","S6 / S1CB6 I","S7 / S2CB1 I","S8 / S2CB2 I","S9 / S2CB3 I","S10 / S2CB4 I","S11 / S2CB5 I","S12 / S2CB6 I","S13 / S3CB1 I","S14 / S3CB2 I","S15 / S3CB3 I","S16 / S3CB4 I","S17 / S3CB5 I","S18 / S3CB6 I","S19 / S4CB1 I","S20 / S4CB2 I","S21 / S4CB3 I","S22 / S4CB4 I","S23 / S4CB5 I","S24 / S4CB6 I"],i=0;i<n.length;i++){var c=NaN,r=NaN,s=NaN,l=NaN,o=NaN,j=NaN;try{a[i][1]&&(c=a[i][1]),a[n.length+i][1]&&(r=a[n.length+i][1]),a[2*n.length+i][1]&&(s=a[2*n.length+i][1]),a[3*n.length+i][1]&&(l=a[3*n.length+i][1]),a[4*n.length+i][1]&&(o=a[4*n.length+i][1]),a[5*n.length+i][1]&&(j=a[5*n.length+i][1])}catch(d){}t.push({heading:n[i],inv1:c,inv2:r,inv3:s,inv4:l,inv5:o,inv6:j})}Ie([].concat(t))}(e.data)})).catch((function(e){}))},at=function(e){var t=1623696973e3,a=e;a=Je?Date.now():e;var n=new Date(a);n.setHours(5,0,0,0);var i=n.getTime();!function(e,t,a){X.a.get(l+"/sircilla/site",{headers:{jwtToken:s,startTime:e,endTime:t,beginTime:a,enablePacket:Le(),clientPacketTime:f,isNext:De()}}).then((function(e){g(e.data.status),y(1e3*e.data.time)})).catch((function(e){}))}(t,a,i),function(e,t,a){X.a.get(l+"/sircilla/boxes",{headers:{jwtToken:s,startTime:e,endTime:t,beginTime:a,enablePacket:Le(),clientPacketTime:f,isNext:De()}}).then((function(e){w(e.data)})).catch((function(e){}))}(t,a,i),function(e,t,a){X.a.get(l+"/sircilla/gauge",{headers:{jwtToken:s,startTime:e,endTime:t,beginTime:a,enablePacket:Le(),clientPacketTime:f,isNext:De()}}).then((function(e){var t=e.data.value;P(Number(t).toFixed(1)),E(Number(t).toFixed(1)/50)})).catch((function(e){}))}(t,a,i),function(e,t,a){X.a.get(l+"/sircilla/temperature",{headers:{jwtToken:s,startTime:e,endTime:t,beginTime:a,enablePacket:Le(),clientPacketTime:f,isNext:De()}}).then((function(e){var t=e.data.ambientTemp,a=e.data.moduleTemp,n=e.data.humidity;M(Number(t).toFixed(1)),Y(Number(a).toFixed(1)),Q(Number(n).toFixed(1))})).catch((function(e){}))}(t,a,i),function(e,t,a){X.a.get(l+"/sircilla/wind",{headers:{jwtToken:s,startTime:e,endTime:t,beginTime:a,enablePacket:Le(),clientPacketTime:f,isNext:De()}}).then((function(e){var t=e.data.direction,a=e.data.speed;e.data.rain,ne(Number(t).toFixed(0)),oe(Number(a).toFixed(1)),me(Number(e.data.rain).toFixed(1))})).catch((function(e){}))}(t,a,i),function(e,t,a){X.a.get(l+"/sircilla/graph",{headers:{jwtToken:s,startTime:e,endTime:t,beginTime:a,enablePacket:Le(),clientPacketTime:f,isNext:De()}}).then((function(e){xe(e.data)})).catch((function(e){}))}(t,a,i),tt(fe,t,a,i)};Object(n.useEffect)((function(){(Pe=document.getElementById("timeSliderLabel2"))&&(Pe.innerText=(new Date).toLocaleString([],{hour:"2-digit",minute:"2-digit",hour12:!0}).toUpperCase()),at(d);var e=setInterval((function(){at(d)}),r);return function(){clearInterval(e)}}),[d]);var nt=Object(n.useState)("space-between"),it=Object(u.a)(nt,2),ct=(it[0],it[1]);return Object(n.useLayoutEffect)((function(){window.matchMedia("(min-width: 1280px)").matches?ct("space-between"):ct("flex-start")}),[]),Object(ce.jsxs)(i.a.Fragment,{children:[Object(ce.jsx)(C.a,{container:!0,justifyContent:"space-between",alignItems:"center",children:Object(ce.jsx)(rt,{sitestatusBar:a,status:O,timestamp:f,handleClickOpen:t,handleTimeReset:function(){Be(0);var e=new Date;Ge(e),b(e.getTime()),He(!0),Qe(!0)},setIsNextCount:Be,setOpenDateTimePicker:qe,getMinDateForPicker:function(){return new Date(16255098e5)},selectedDate:Re,getFormattedDateAndTimeString:function(e){var t=new Date(e);return Object(ce.jsxs)("span",{children:[String(t.getDate()).padStart(2,"0"),"/",String(t.getMonth()+1).padStart(2,"0"),"/",t.getFullYear(),Object(ce.jsx)("span",{children:"\u2003"}),t.toLocaleString([],{hour:"2-digit",minute:"2-digit",hour12:!0}).toUpperCase()]})},openDateTimePicker:Ye,handleDateChange:function(e){try{Qe(!1)}finally{Ge(e),qe(!1)}}})}),Object(ce.jsx)("div",{style:{marginTop:"2rem"}}),Object(ce.jsx)(Ae,{day_generation:k.day_generation,revenue:1e3*k.day_generation*5.58,peak_power:k.peak_power,ghi:k.ghi,gti:k.gti,plant_pr:k.plant_pr,grid_availability:k.grid_availability,plant_availability:k.plant_availability}),Object(ce.jsxs)(C.a,{container:!0,spacing:6,style:{marginTop:"1rem"},children:[Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(_e,{totalExport:D,maxValue:45})}),Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(se,{ambientTemp:z,moduleTemp:W,humidity:$})}),Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(Ke,{windDirection:ae,windSpeed:le,rain:be})})]}),Object(ce.jsxs)(S.a,{elevation:6,style:{marginTop:"2.5rem",height:"500px",width:"100%"},children:[Object(ce.jsx)(V.a,{variant:"h6",color:"textSecondary",style:{marginLeft:"1.5rem",marginTop:"1rem",marginBottom:"1.5rem"},children:"Irradiance / Generation"}),Object(ce.jsx)(ue,{data:ge,interval:12,leftAxisY:[0,1500],rightAxisY:[0,50]})]}),Object(ce.jsx)(C.a,{container:!0,style:{marginTop:"3rem"},children:Object(ce.jsxs)(C.a,{item:!0,xs:12,children:[Object(ce.jsxs)(C.a,{container:!0,spacing:2,alignItems:"center",style:{marginBottom:".5rem"},children:[Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(V.a,{variant:"h6",color:"textSecondary",children:"Inverter Values"})}),Object(ce.jsx)(C.a,{item:!0,className:c.grow}),Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsxs)(V.a,{style:{marginLeft:".25rem"},children:["Selected Block:"," "]})}),Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(v.a,{className:c.formControl,children:Object(ce.jsxs)(Z.a,{value:fe,onChange:function(e){ve(e.target.value);var t=new Date;t.setDate((new Date).getDate()-1),t.setHours(23,50,0,0);var a=new Date(d);a.setHours(5,0,0,0);var n=a.getTime();tt(e.target.value,t.getTime(),d,n)},children:[Object(ce.jsx)(B.a,{value:1,children:"B01"}),Object(ce.jsx)(B.a,{value:2,children:"B02"}),Object(ce.jsx)(B.a,{value:3,children:"B03"}),Object(ce.jsx)(B.a,{value:4,children:"B04"}),Object(ce.jsx)(B.a,{value:5,children:"B05"}),Object(ce.jsx)(B.a,{value:6,children:"B06"})]})})})]}),Object(ce.jsx)(Sa,{values:Te})]})}),Object(ce.jsx)(J.a,{open:Ee,anchorOrigin:{vertical:"bottom",horizontal:"left"},autoHideDuration:4e3,onClose:et,children:Object(ce.jsx)(pa,{onClose:et,severity:"success",children:"Time is reset!"})}),Object(ce.jsx)("div",{style:{marginBottom:"2rem"}})]})}var Ca=Object(Oe.a)((function(e){return{head:{backgroundColor:"#ffffbf",color:e.palette.common.black,fontSize:16},body:{fontSize:16}}}))(Se.a),ya=Object(Oe.a)((function(e){return{root:{"&:nth-of-type(odd)":{backgroundColor:e.palette.action.hover}}}}))(ve.a),Ta=Object(D.a)({tableContainer:{maxHeight:"80vh"}}),Ia=function(e){var t=e.value,a=null;return Object(ce.jsxs)(ya,{children:[Object(ce.jsx)(Ca,{component:"th",scope:"row",style:{paddingTop:".6rem",paddingBottom:".6rem",backgroundColor:a},children:Object(ce.jsx)("strong",{style:{paddingLeft:"2.5rem"},children:t.heading})}),Object(ce.jsx)(Ca,{align:"center",style:{backgroundColor:a},children:Object(ce.jsx)("span",{children:isNaN(Number(t.inv1))?"-":-111===Number(t.inv1)?"x":Number(t.inv1).toFixed(2)})}),Object(ce.jsx)(Ca,{align:"center",style:{backgroundColor:a},children:Object(ce.jsx)("span",{children:isNaN(Number(t.inv2))?"-":-111===Number(t.inv2)?"x":Number(t.inv2).toFixed(2)})}),Object(ce.jsx)(Ca,{align:"center",style:{backgroundColor:a},children:Object(ce.jsx)("span",{children:isNaN(Number(t.inv3))?"-":-111===Number(t.inv3)?"x":Number(t.inv3).toFixed(2)})}),Object(ce.jsx)(Ca,{align:"center",style:{backgroundColor:a},children:Object(ce.jsx)("span",{children:isNaN(Number(t.inv4))?"-":-111===Number(t.inv4)?"x":Number(t.inv4).toFixed(2)})})]})},ka=function(e){var t=e.value;return Object(ce.jsxs)(ya,{children:[Object(ce.jsx)(Ca,{component:"th",scope:"row",style:{paddingTop:".6rem",paddingBottom:".6rem"},children:Object(ce.jsx)("strong",{style:{paddingLeft:"1rem"},children:t.heading})}),Object(ce.jsx)(Ca,{align:"center",children:isNaN(Number(t.inv1))?"-":-111===Number(t.inv1)?"x":Number(t.inv1).toFixed(2)}),Object(ce.jsx)(Ca,{align:"center",children:isNaN(Number(t.inv2))?"-":-111===Number(t.inv2)?"x":Number(t.inv2).toFixed(2)}),Object(ce.jsx)(Ca,{align:"center",children:isNaN(Number(t.inv3))?"-":-111===Number(t.inv3)?"x":Number(t.inv3).toFixed(2)}),Object(ce.jsx)(Ca,{align:"center",children:isNaN(Number(t.inv4))?"-":-111===Number(t.inv4)?"x":Number(t.inv4).toFixed(2)})]})};function wa(e){var t=e.values,a=Ta(),c=Object(n.useState)([]),r=Object(u.a)(c,2),s=r[0],l=r[1],o=i.a.useState(!1),j=Object(u.a)(o,2),d=j[0],b=j[1],m=i.a.useState(!1),h=Object(u.a)(m,2),O=h[0],g=h[1],x=function(e){var t=e.title,a=e.tag,n=e.openRows;return Object(ce.jsx)(ya,{children:Object(ce.jsxs)(Ca,{component:"th",scope:"row",colSpan:7,style:{backgroundColor:"#EBF5FB"},children:[Object(ce.jsx)("strong",{style:{paddingLeft:"1rem",paddingRight:".5rem",color:"#000"},children:t}),Object(ce.jsx)(y.a,{"aria-label":"expand row",size:"small",onClick:function(){return function(e){"S"===e?b((function(e){return!e})):g((function(e){return!e}))}(a)},style:{color:"#000"},children:n?Object(ce.jsx)(Ie.a,{}):Object(ce.jsx)(ye.a,{})})]})})};return Object(n.useEffect)((function(){for(var e=[],a=[],n=[],i=null,c=null,r=0;r<t.length;r++)t[r].heading.match(/S[1-4] [^/]/i)?(i||(i=r,n.push(Object(ce.jsx)(x,{title:"Inverter Slots",tag:"S",openRows:d},r))),r,e.push(Object(ce.jsx)(Ia,{value:t[r]},t[r].heading))):t[r].heading.match(/[S]2[0-4]|1[0-9]|[1-9] [/] S[1-4]CB/i)?(c||(c=r,n.push(Object(ce.jsx)(x,{title:"Inverter Strings",tag:"PV",openRows:O},r))),r,a.push(Object(ce.jsx)(Ia,{value:t[r]},t[r].heading))):n.push(Object(ce.jsx)(ka,{value:t[r]},r));var s,o=[].concat(n);if(d&&O)(s=o).splice.apply(s,[i+1,0].concat(e)),o=[].concat(Object(me.a)(o),[a]);else if(d&&!O){var j;(j=o).splice.apply(j,[i+1,0].concat(e))}else o=!d&&O?[].concat(Object(me.a)(o),[a]):[].concat(n);l(o)}),[t,d,O]),Object(ce.jsx)(pe.a,{component:he.a,elevation:6,className:a.tableContainer,children:Object(ce.jsxs)(ge.a,{stickyHeader:!0,"aria-label":"customized table",size:"small",children:[Object(ce.jsx)(fe.a,{children:Object(ce.jsxs)(ve.a,{children:[Object(ce.jsx)(Ca,{style:{paddingTop:".7rem",paddingLeft:"1.75rem",paddingBottom:".7rem"},children:Object(ce.jsx)("strong",{children:"Parameters"})}),Object(ce.jsx)(Ca,{align:"center",children:Object(ce.jsx)("strong",{children:"Inv 1"})}),Object(ce.jsx)(Ca,{align:"center",children:Object(ce.jsx)("strong",{children:"Inv 2"})}),Object(ce.jsx)(Ca,{align:"center",children:Object(ce.jsx)("strong",{children:"Inv 3"})}),Object(ce.jsx)(Ca,{align:"center",children:Object(ce.jsx)("strong",{children:"Inv 4"})})]})}),Object(ce.jsx)(xe.a,{children:s})]})})}function Na(e){return Object(ce.jsx)($.a,Object(h.a)({elevation:6,variant:"filled"},e))}var Ba=Object(D.a)((function(e){return{grow:{flexGrow:1},gaugeChartStyle:{marginTop:e.spacing(12)},formControl:{minWidth:120},modalCardStyle:{width:340,height:"fit-content"},gridBreakpoint:Object(m.a)({},e.breakpoints.up("md"),{})}}));function La(e){e.handleSessionExpire;var t=e.handleClickOpen,a=e.sitestatusBar,c=Ba(),r=$e().intervalTime,s=(localStorage.getItem("username","Admin"),localStorage.getItem("userToken")),l=(localStorage.getItem("userId"),K),o=Object(n.useState)((new Date).getTime()),j=Object(u.a)(o,2),d=j[0],b=j[1],m=Object(n.useState)(0),h=Object(u.a)(m,2),O=h[0],g=h[1],x=Object(n.useState)(void 0),p=Object(u.a)(x,2),f=p[0],y=p[1],T=Object(n.useState)({}),I=Object(u.a)(T,2),k=I[0],w=I[1],N=Object(n.useState)(0),L=Object(u.a)(N,2),D=L[0],P=L[1],F=Object(n.useState)(0),A=Object(u.a)(F,2),E=(A[0],A[1]),H=Object(n.useState)(0),_=Object(u.a)(H,2),z=_[0],M=_[1],R=Object(n.useState)(0),G=Object(u.a)(R,2),W=G[0],Y=G[1],q=Object(n.useState)(0),U=Object(u.a)(q,2),$=U[0],Q=U[1],ee=Object(n.useState)(0),te=Object(u.a)(ee,2),ae=te[0],ne=te[1],ie=Object(n.useState)(0),re=Object(u.a)(ie,2),le=re[0],oe=re[1],je=Object(n.useState)(0),de=Object(u.a)(je,2),be=de[0],me=de[1],he=Object(n.useState)([{time:"00:00",gti:"0.00",ghi:"0.00",pg:"0.00"}]),Oe=Object(u.a)(he,2),ge=Oe[0],xe=Oe[1],Se=i.a.useState(1),pe=Object(u.a)(Se,2),fe=pe[0],ve=pe[1],Ce=Object(n.useState)([]),ye=Object(u.a)(Ce,2),Te=ye[0],Ie=ye[1],ke=Object(n.useState)(0),we=Object(u.a)(ke,2),Ne=we[0],Be=we[1];Object(n.useEffect)((function(){0!==Ne&&at(d)}),[Ne]);var Le=function(){return 0!==Ne?"1":"0"},De=function(){return Ne>0?"1":"0"},Pe=null,Fe=Object(n.useState)(!1),Ve=Object(u.a)(Fe,2),Ee=Ve[0],He=Ve[1],ze=Object(n.useState)(new Date),Me=Object(u.a)(ze,2),Re=Me[0],Ge=Me[1],We=Object(n.useState)(!1),Xe=Object(u.a)(We,2),Ye=Xe[0],qe=Xe[1],Ue=Object(n.useState)(!0),Ze=Object(u.a)(Ue,2),Je=Ze[0],Qe=Ze[1],et=function(){He(!1)};Object(n.useEffect)((function(){b(Re.getTime())}),[Re]);var tt=function(e,t,a,n){X.a.get(l+"/gadarpur/grid/B0"+e,{headers:{jwtToken:s,startTime:t,endTime:a,beginTime:n,enablePacket:Le(),clientPacketTime:f,isNext:De()}}).then((function(e){!function(e){for(var t=[],a=Object.entries(e),n=["L1 I","L2 I","L3 I","L1 V","L2 V","L3 V","Frequency","DC I","DC V","Active Power","DC Power","Reactive Power","PF","Cab Temp","IGBT Temp","DC Energy","S1 L1 I","S1 L2 I","S1 L3 I","S1 L1 V","S1 L2 V","S1 L3 V","S1 DC I","S1 DC V","S1 Active Power","S1 DC Power","S1 PF","S1 IGBT Temp","S2 L1 I","S2 L2 I","S2 L3 I","S2 L1 V","S2 L2 V","S2 L3 V","S2 DC I","S2 DC V","S2 Active Power","S2 DC Power","S2 PF","S2 IGBT Temp","S3 L1 I","S3 L2 I","S3 L3 I","S3 L1 V","S3 L2 V","S3 L3 V","S3 DC I","S3 DC V","S3 Active Power","S3 DC Power","S3 PF","S3 IGBT Temp","S4 L1 I","S4 L2 I","S4 L3 I","S4 L1 V","S4 L2 V","S4 L3 V","S4 DC I","S4 DC V","S4 Active Power","S4 DC Power","S4 PF","S4 IGBT Temp","S1 + S2 Peak Active Power","S3 + S4 Peak Active Power","S1 / S1CB1 I","S2 / S1CB2 I","S3 / S1CB3 I","S4 / S1CB4 I","S5 / S1CB5 I","S6 / S1CB6 I","S7 / S2CB1 I","S8 / S2CB2 I","S9 / S2CB3 I","S10 / S2CB4 I","S11 / S2CB5 I","S12 / S2CB6 I","S13 / S3CB1 I","S14 / S3CB2 I","S15 / S3CB3 I","S16 / S3CB4 I","S17 / S3CB5 I","S18 / S3CB6 I","S19 / S4CB1 I","S20 / S4CB2 I","S21 / S4CB3 I","S22 / S4CB4 I","S23 / S4CB5 I","S24 / S4CB6 I"],i=0;i<n.length;i++){var c=NaN,r=NaN,s=NaN,l=NaN,o=NaN,j=NaN;try{a[i][1]&&(c=a[i][1]),a[n.length+i][1]&&(r=a[n.length+i][1]),a[2*n.length+i][1]&&(s=a[2*n.length+i][1]),a[3*n.length+i][1]&&(l=a[3*n.length+i][1]),a[4*n.length+i][1]&&(o=a[4*n.length+i][1]),a[5*n.length+i][1]&&(j=a[5*n.length+i][1])}catch(d){}t.push({heading:n[i],inv1:c,inv2:r,inv3:s,inv4:l,inv5:o,inv6:j})}Ie([].concat(t))}(e.data)})).catch((function(e){}))},at=function(e){var t=1623696973e3,a=e;a=Je?Date.now():e;var n=new Date(a);n.setHours(5,0,0,0);var i=n.getTime();!function(e,t,a){X.a.get(l+"/gadarpur/site",{headers:{jwtToken:s,startTime:e,endTime:t,beginTime:a,enablePacket:Le(),clientPacketTime:f,isNext:De()}}).then((function(e){g(e.data.status),y(1e3*e.data.time)})).catch((function(e){}))}(t,a,i),function(e,t,a){X.a.get(l+"/gadarpur/boxes",{headers:{jwtToken:s,startTime:e,endTime:t,beginTime:a,enablePacket:Le(),clientPacketTime:f,isNext:De()}}).then((function(e){w(e.data)})).catch((function(e){}))}(t,a,i),function(e,t,a){X.a.get(l+"/gadarpur/gauge",{headers:{jwtToken:s,startTime:e,endTime:t,beginTime:a,enablePacket:Le(),clientPacketTime:f,isNext:De()}}).then((function(e){var t=e.data.value;P(Number(t).toFixed(2)),E(Number(t).toFixed(1)/50)})).catch((function(e){}))}(t,a,i),function(e,t,a){X.a.get(l+"/gadarpur/temperature",{headers:{jwtToken:s,startTime:e,endTime:t,beginTime:a,enablePacket:Le(),clientPacketTime:f,isNext:De()}}).then((function(e){var t=e.data.ambientTemp,a=e.data.moduleTemp,n=e.data.humidity;M(Number(t).toFixed(1)),Y(Number(a).toFixed(1)),Q(Number(n).toFixed(1))})).catch((function(e){}))}(t,a,i),function(e,t,a){X.a.get(l+"/gadarpur/wind",{headers:{jwtToken:s,startTime:e,endTime:t,beginTime:a,enablePacket:Le(),clientPacketTime:f,isNext:De()}}).then((function(e){var t=e.data.direction,a=e.data.speed;e.data.rain,ne(Number(t).toFixed(0)),oe(Number(a).toFixed(1)),me(Number(e.data.rain).toFixed(1))})).catch((function(e){}))}(t,a,i),function(e,t,a){X.a.get(l+"/gadarpur/graph",{headers:{jwtToken:s,startTime:e,endTime:t,beginTime:a,enablePacket:Le(),clientPacketTime:f,isNext:De()}}).then((function(e){xe(e.data)})).catch((function(e){}))}(t,a,i),tt(fe,t,a,i)};Object(n.useEffect)((function(){(Pe=document.getElementById("timeSliderLabel2"))&&(Pe.innerText=(new Date).toLocaleString([],{hour:"2-digit",minute:"2-digit",hour12:!0}).toUpperCase()),at(d);var e=setInterval((function(){at(d)}),r);return function(){clearInterval(e)}}),[d]);var nt=Object(n.useState)("space-between"),it=Object(u.a)(nt,2),ct=(it[0],it[1]);return Object(n.useLayoutEffect)((function(){window.matchMedia("(min-width: 1280px)").matches?ct("space-between"):ct("flex-start")}),[]),Object(ce.jsxs)(i.a.Fragment,{children:[Object(ce.jsx)(C.a,{container:!0,justifyContent:"space-between",alignItems:"center",children:Object(ce.jsx)(rt,{sitestatusBar:a,status:O,timestamp:f,handleClickOpen:t,handleTimeReset:function(){Be(0);var e=new Date;Ge(e),b(e.getTime()),He(!0),Qe(!0)},setIsNextCount:Be,setOpenDateTimePicker:qe,getMinDateForPicker:function(){return new Date(16255098e5)},selectedDate:Re,getFormattedDateAndTimeString:function(e){var t=new Date(e);return Object(ce.jsxs)("span",{children:[String(t.getDate()).padStart(2,"0"),"/",String(t.getMonth()+1).padStart(2,"0"),"/",t.getFullYear(),Object(ce.jsx)("span",{children:"\u2003"}),t.toLocaleString([],{hour:"2-digit",minute:"2-digit",hour12:!0}).toUpperCase()]})},openDateTimePicker:Ye,handleDateChange:function(e){try{Qe(!1)}finally{Ge(e),qe(!1)}}})}),Object(ce.jsx)("div",{style:{marginTop:"2rem"}}),Object(ce.jsx)(Ae,{day_generation:k.day_generation,revenue:1e3*k.day_generation*5.58,peak_power:k.peak_power,ghi:k.ghi,gti:k.gti,plant_pr:k.plant_pr,grid_availability:k.grid_availability,plant_availability:k.plant_availability}),Object(ce.jsxs)(C.a,{container:!0,spacing:6,style:{marginTop:"1rem"},children:[Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(_e,{totalExport:D,maxValue:40})}),Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(se,{ambientTemp:z,moduleTemp:W,humidity:$})}),Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(Ke,{windDirection:ae,windSpeed:le,rain:be})})]}),Object(ce.jsxs)(S.a,{elevation:6,style:{marginTop:"2.5rem",height:"500px",width:"100%"},children:[Object(ce.jsx)(V.a,{variant:"h6",color:"textSecondary",style:{marginLeft:"1.5rem",marginTop:"1rem",marginBottom:"1.5rem"},children:"Irradiance / Generation"}),Object(ce.jsx)(ue,{data:ge,interval:12,leftAxisY:[0,1500],rightAxisY:[0,50]})]}),Object(ce.jsx)(C.a,{container:!0,style:{marginTop:"3rem"},children:Object(ce.jsxs)(C.a,{item:!0,xs:12,children:[Object(ce.jsxs)(C.a,{container:!0,spacing:2,alignItems:"center",style:{marginBottom:".5rem"},children:[Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(V.a,{variant:"h6",color:"textSecondary",children:"Inverter Values"})}),Object(ce.jsx)(C.a,{item:!0,className:c.grow}),Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsxs)(V.a,{style:{marginLeft:".25rem"},children:["Selected Block:"," "]})}),Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(v.a,{className:c.formControl,children:Object(ce.jsxs)(Z.a,{value:fe,onChange:function(e){ve(e.target.value);var t=new Date;t.setDate((new Date).getDate()-1),t.setHours(23,50,0,0);var a=new Date(d);a.setHours(5,0,0,0);var n=a.getTime();tt(e.target.value,t.getTime(),d,n)},children:[Object(ce.jsx)(B.a,{value:1,children:"B01"}),Object(ce.jsx)(B.a,{value:2,children:"B02"}),Object(ce.jsx)(B.a,{value:3,children:"B03"}),Object(ce.jsx)(B.a,{value:4,children:"B04"}),Object(ce.jsx)(B.a,{value:5,children:"B05"}),Object(ce.jsx)(B.a,{value:6,children:"B06"})]})})})]}),Object(ce.jsx)(wa,{values:Te})]})}),Object(ce.jsx)(J.a,{open:Ee,anchorOrigin:{vertical:"bottom",horizontal:"left"},autoHideDuration:4e3,onClose:et,children:Object(ce.jsx)(Na,{onClose:et,severity:"success",children:"Time is reset!"})}),Object(ce.jsx)("div",{style:{marginBottom:"2rem"}})]})}var Da=a(71),Pa=a(1417),Fa=a(1399),Va=a(1322),Aa=a(1312),Ea=a(1398),Ha=[{label:"Day Generation Cumulative (KWH)",checked:!0},{label:"Power Generation Instant (MW)",checked:!0},{label:"Peak Power",checked:!0},{label:"Plant PR Instant",checked:!0},{label:"GA Instant",checked:!0},{label:"PA Instant",checked:!0},{label:"GHI Instant",checked:!0},{label:"GTI Instant",checked:!0},{label:"GHI Instant 2",checked:!0},{label:"GTI Instant 2",checked:!0},{label:"Amb. Temp Instant",checked:!0},{label:"Amb. Temp Instant 2",checked:!0},{label:"Mod. Temp Instant",checked:!0},{label:"Mod. Temp Instant 2",checked:!0},{label:"Wind Speed Instant",checked:!0},{label:"Wind Speed Instant 2",checked:!0},{label:"Wind Dir Instant",checked:!0},{label:"Wind Dir Instant 2",checked:!0},{label:"Humidity Instant",checked:!0},{label:"Humidity Instant 2",checked:!0},{label:"Rain",checked:!0},{label:"Rain 2",checked:!0}],_a=[{label:"Day Generation Cumulative (KWH)",checked:!1},{label:"Power Generation Instant (MW)",checked:!1},{label:"Peak Power",checked:!1},{label:"Plant PR Instant",checked:!1},{label:"GA Instant",checked:!1},{label:"PA Instant",checked:!1},{label:"GHI Instant",checked:!1},{label:"GTI Instant",checked:!1},{label:"GHI Instant 2",checked:!1},{label:"GTI Instant 2",checked:!1},{label:"Amb. Temp Instant",checked:!1},{label:"Amb. Temp Instant 2",checked:!1},{label:"Mod. Temp Instant",checked:!1},{label:"Mod. Temp Instant 2",checked:!1},{label:"Wind Speed Instant",checked:!1},{label:"Wind Speed Instant 2",checked:!1},{label:"Wind Dir Instant",checked:!1},{label:"Wind Dir Instant 2",checked:!1},{label:"Humidity Instant",checked:!1},{label:"Humidity Instant 2",checked:!1},{label:"Rain",checked:!1},{label:"Rain 2",checked:!1}],za=[{label:"L1 I",checked:!0},{label:"L2 I",checked:!0},{label:"L3 I",checked:!0},{label:"L1 V",checked:!0},{label:"L2 V",checked:!0},{label:"L3 V",checked:!0},{label:"Frequency",checked:!0},{label:"DC I",checked:!0},{label:"DC V",checked:!0},{label:"Active Power",checked:!0},{label:"DC Power",checked:!0},{label:"Reactive Power",checked:!0},{label:"PF",checked:!0},{label:"Cab Temp",checked:!0},{label:"IGBT Temp",checked:!0},{label:"DC Energy",checked:!0}],Ma=[{label:"L1 I",checked:!1},{label:"L2 I",checked:!1},{label:"L3 I",checked:!1},{label:"L1 V",checked:!1},{label:"L2 V",checked:!1},{label:"L3 V",checked:!1},{label:"Frequency",checked:!1},{label:"DC I",checked:!1},{label:"DC V",checked:!1},{label:"Active Power",checked:!1},{label:"DC Power",checked:!1},{label:"Reactive Power",checked:!1},{label:"PF",checked:!1},{label:"Cab Temp",checked:!1},{label:"IGBT Temp",checked:!1},{label:"DC Energy",checked:!1}],Ra=[{label:"S1 L2 I",checked:!0},{label:"S1 L1 I",checked:!0},{label:"S1 L3 I",checked:!0},{label:"S1 L1 V",checked:!0},{label:"S1 L2 V",checked:!0},{label:"S1 L3 V",checked:!0},{label:"S1 DC I",checked:!0},{label:"S1 DC V",checked:!0},{label:"S1 Active Power",checked:!0},{label:"S1 DC Power",checked:!0},{label:"S1 PF",checked:!0},{label:"S1 Cab Temp",checked:!0},{label:"S1 IGBT Temp",checked:!0},{label:"S2 L1 I",checked:!0},{label:"S2 L2 I",checked:!0},{label:"S2 L3 I",checked:!0},{label:"S2 L1 V",checked:!0},{label:"S2 L2 V",checked:!0},{label:"S2 L3 V",checked:!0},{label:"S2 DC I",checked:!0},{label:"S2 DC V",checked:!0},{label:"S2 Active Power",checked:!0},{label:"S2 DC Power",checked:!0},{label:"S2 PF",checked:!0},{label:"S2 Cab Temp",checked:!0},{label:"S2 IGBT Temp",checked:!0},{label:"S3 L1 I",checked:!0},{label:"S3 L2 I",checked:!0},{label:"S3 L3 I",checked:!0},{label:"S3 L1 V",checked:!0},{label:"S3 L2 V",checked:!0},{label:"S3 L3 V",checked:!0},{label:"S3 DC I",checked:!0},{label:"S3 DC V",checked:!0},{label:"S3 Active Power",checked:!0},{label:"S3 DC Power",checked:!0},{label:"S3 PF",checked:!0},{label:"S3 Cab Temp",checked:!0},{label:"S3 IGBT Temp",checked:!0},{label:"S4 L1 I",checked:!0},{label:"S4 L2 I",checked:!0},{label:"S4 L3 I",checked:!0},{label:"S4 L1 V",checked:!0},{label:"S4 L2 V",checked:!0},{label:"S4 L3 V",checked:!0},{label:"S4 DC I",checked:!0},{label:"S4 DC V",checked:!0},{label:"S4 Active Power",checked:!0},{label:"S4 DC Power",checked:!0},{label:"S4 PF",checked:!0},{label:"S4 Cab Temp",checked:!0},{label:"S4 IGBT Temp",checked:!0},{label:"S1 + S2 Peak Active Power",checked:!0},{label:"S3 + S4 Peak Active Power",checked:!0}],Ga=[{label:"S1 L2 I",checked:!1},{label:"S1 L1 I",checked:!1},{label:"S1 L3 I",checked:!1},{label:"S1 L1 V",checked:!1},{label:"S1 L2 V",checked:!1},{label:"S1 L3 V",checked:!1},{label:"S1 DC I",checked:!1},{label:"S1 DC V",checked:!1},{label:"S1 Active Power",checked:!1},{label:"S1 DC Power",checked:!1},{label:"S1 PF",checked:!1},{label:"S1 Cab Temp",checked:!1},{label:"S1 IGBT Temp",checked:!1},{label:"S2 L1 I",checked:!1},{label:"S2 L2 I",checked:!1},{label:"S2 L3 I",checked:!1},{label:"S2 L1 V",checked:!1},{label:"S2 L2 V",checked:!1},{label:"S2 L3 V",checked:!1},{label:"S2 DC I",checked:!1},{label:"S2 DC V",checked:!1},{label:"S2 Active Power",checked:!1},{label:"S2 DC Power",checked:!1},{label:"S2 PF",checked:!1},{label:"S2 Cab Temp",checked:!1},{label:"S2 IGBT Temp",checked:!1},{label:"S3 L1 I",checked:!1},{label:"S3 L2 I",checked:!1},{label:"S3 L3 I",checked:!1},{label:"S3 L1 V",checked:!1},{label:"S3 L2 V",checked:!1},{label:"S3 L3 V",checked:!1},{label:"S3 DC I",checked:!1},{label:"S3 DC V",checked:!1},{label:"S3 Active Power",checked:!1},{label:"S3 DC Power",checked:!1},{label:"S3 PF",checked:!1},{label:"S3 Cab Temp",checked:!1},{label:"S3 IGBT Temp",checked:!1},{label:"S4 L1 I",checked:!1},{label:"S4 L2 I",checked:!1},{label:"S4 L3 I",checked:!1},{label:"S4 L1 V",checked:!1},{label:"S4 L2 V",checked:!1},{label:"S4 L3 V",checked:!1},{label:"S4 DC I",checked:!1},{label:"S4 DC V",checked:!1},{label:"S4 Active Power",checked:!1},{label:"S4 DC Power",checked:!1},{label:"S4 PF",checked:!1},{label:"S4 Cab Temp",checked:!1},{label:"S4 IGBT Temp",checked:!1},{label:"S1 + S2 Peak Active Power",checked:!1},{label:"S3 + S4 Peak Active Power",checked:!1}],Wa=[{label:"S1 / S1CB1 I",checked:!0},{label:"S2 / S1CB2 I",checked:!0},{label:"S3 / S1CB3 I",checked:!0},{label:"S4 / S1CB4 I",checked:!0},{label:"S5 / S1CB5 I",checked:!0},{label:"S6 / S1CB6 I",checked:!0},{label:"S7 / S1CB7 I",checked:!0},{label:"S8 / S1CB8 I",checked:!0},{label:"S9 / S2CB1 I",checked:!0},{label:"S10 / S2CB2 I",checked:!0},{label:"S11 / S2CB3 I",checked:!0},{label:"S12 / S2CB4 I",checked:!0},{label:"S13 / S2CB5 I",checked:!0},{label:"S14 / S2CB6 I",checked:!0},{label:"S15 / S2CB7 I",checked:!0},{label:"S16 / S2CB8 I",checked:!0},{label:"S17 / S3CB1 I",checked:!0},{label:"S18 / S3CB2 I",checked:!0},{label:"S19 / S3CB3 I",checked:!0},{label:"S20 / S3CB4 I",checked:!0},{label:"S21 / S3CB5 I",checked:!0},{label:"S22 / S3CB6 I",checked:!0},{label:"S23 / S3CB7 I",checked:!0},{label:"S24 / S3CB8 I",checked:!0},{label:"S25 / S4CB1 I",checked:!0},{label:"S26 / S4CB2 I",checked:!0},{label:"S27 / S4CB3 I",checked:!0},{label:"S28 / S4CB4 I",checked:!0},{label:"S29 / S4CB5 I",checked:!0},{label:"S30 / S4CB6 I",checked:!0},{label:"S31 / S4CB7 I",checked:!0},{label:"S32 / S4CB8 I",checked:!0}],Xa=[{label:"S1 / S1CB1 I",checked:!1},{label:"S2 / S1CB2 I",checked:!1},{label:"S3 / S1CB3 I",checked:!1},{label:"S4 / S1CB4 I",checked:!1},{label:"S5 / S1CB5 I",checked:!1},{label:"S6 / S1CB6 I",checked:!1},{label:"S7 / S1CB7 I",checked:!1},{label:"S8 / S1CB8 I",checked:!1},{label:"S9 / S2CB1 I",checked:!1},{label:"S10 / S2CB2 I",checked:!1},{label:"S11 / S2CB3 I",checked:!1},{label:"S12 / S2CB4 I",checked:!1},{label:"S13 / S2CB5 I",checked:!1},{label:"S14 / S2CB6 I",checked:!1},{label:"S15 / S2CB7 I",checked:!1},{label:"S16 / S2CB8 I",checked:!1},{label:"S17 / S3CB1 I",checked:!1},{label:"S18 / S3CB2 I",checked:!1},{label:"S19 / S3CB3 I",checked:!1},{label:"S20 / S3CB4 I",checked:!1},{label:"S21 / S3CB5 I",checked:!1},{label:"S22 / S3CB6 I",checked:!1},{label:"S23 / S3CB7 I",checked:!1},{label:"S24 / S3CB8 I",checked:!1},{label:"S25 / S4CB1 I",checked:!1},{label:"S26 / S4CB2 I",checked:!1},{label:"S27 / S4CB3 I",checked:!1},{label:"S28 / S4CB4 I",checked:!1},{label:"S29 / S4CB5 I",checked:!1},{label:"S30 / S4CB6 I",checked:!1},{label:"S31 / S4CB7 I",checked:!1},{label:"S32 / S4CB8 I",checked:!1}],Ya=Object(D.a)((function(e){return{formControl:{minWidth:120},dateStyle:{width:140},root:{width:"100%"},heading:{fontSize:e.typography.pxToRem(15),fontWeight:e.typography.fontWeightRegular},formControlLabelStyle:{margin:0}}}));function qa(e){return Object(ce.jsx)($.a,Object(h.a)({elevation:6,variant:"filled"},e))}var Ua=Object(Oe.a)({root:{border:"1px solid rgba(0, 0, 0, .125)",boxShadow:"none","&:not(:last-child)":{borderBottom:0},"&:before":{display:"none"},"&$expanded":{margin:"auto"}},expanded:{}})(qt.a),Ka=Object(Oe.a)({root:{backgroundColor:"#FEF9E7",borderBottom:"1px solid rgba(0, 0, 0, .125)",marginBottom:-1,minHeight:1,maxHeight:44,"&$expanded":{minHeight:1,maxHeight:44}},content:{"&$expanded":{margin:"12px 0"}},expanded:{}})(Ut.a),Za=Object(Oe.a)((function(e){return{root:{paddingTop:e.spacing(1),paddingRight:e.spacing(2),paddingLeft:e.spacing(2),paddingBottom:e.spacing(1)}}}))(Kt.a),Ja=function(e){var t=new Date(e.getTime());return t.setHours(0,0,0,0),t},$a=function(e){var t=new Date(e.getTime());return t.setHours(23,59,59,999),t};function Qa(e){e.handleSessionExpire;var t=Ya(),a=JSON.parse(localStorage.getItem("siteNamesAndBlocks")).map((function(e){return e.name})),i=Object(n.useState)(a[0]),c=Object(u.a)(i,2),r=c[0],s=c[1],l=$e().setEnabledLinearProgress,o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r;if("Banka N"===e)return[3,4,5,6];if("Banka M"===e)return[1,2,"MCR"];var t=JSON.parse(localStorage.getItem("siteNamesAndBlocks")).find((function(t){return t.name===e}));return Array.from({length:t.blocks[0]},(function(e,t){return t+1}))},j=Object(n.useState)(o()),d=Object(u.a)(j,2),b=d[0],m=d[1],g=Object(n.useState)((function(){var e=new Date;return e.setDate((new Date).getDate()-1),Ja(e)})),S=Object(u.a)(g,2),p=S[0],f=S[1],y=Object(n.useState)((function(){var e=new Date;return $a(e)})),T=Object(u.a)(y,2),I=T[0],k=T[1],N=Object(n.useState)(!0),L=Object(u.a)(N,2),D=L[0],P=L[1],F=Object(n.useState)(!0),A=Object(u.a)(F,2),E=A[0],H=A[1],_=Object(n.useState)(!0),z=Object(u.a)(_,2),R=z[0],G=z[1],W=Object(n.useState)(!0),Y=Object(u.a)(W,2),q=Y[0],U=Y[1],K=Object(n.useState)(!0),$=Object(u.a)(K,2),Q=$[0],ee=$[1],te=Object(n.useState)(!1),ae=Object(u.a)(te,2),ne=ae[0],ie=ae[1],re=Object(n.useState)(!1),se=Object(u.a)(re,2),le=se[0],oe=se[1],je=Object(n.useState)({severity:"info",message:""}),de=Object(u.a)(je,2),be=de[0],ue=de[1],he=Object(n.useState)([]),Oe=Object(u.a)(he,2),ge=(Oe[0],Oe[1],Object(n.useState)(JSON.parse(JSON.stringify(Ha)))),xe=Object(u.a)(ge,2),Se=xe[0],pe=xe[1],fe=Object(n.useState)(JSON.parse(JSON.stringify(za))),ve=Object(u.a)(fe,2),Ce=ve[0],ye=ve[1],Te=Object(n.useState)(JSON.parse(JSON.stringify(Ra))),Ie=Object(u.a)(Te,2),ke=Ie[0],we=Ie[1],Ne=Object(n.useState)(JSON.parse(JSON.stringify(Wa))),Be=Object(u.a)(Ne,2),Le=Be[0],De=Be[1],Pe=Object(n.useState)([]),Fe=Object(u.a)(Pe,2),Ve=Fe[0],Ae=Fe[1],Ee=Object(n.useState)("full"),He=Object(u.a)(Ee,2),_e=He[0],ze=He[1];Object(n.useEffect)((function(){var e=JSON.parse(localStorage.getItem("csvVariants"));if(e){var t=[];e.forEach((function(e){t.push(e.key)})),Ae(t)}return function(){l(!1)}}),[]);var Me=Object(n.useState)("none"),Re=Object(u.a)(Me,2),Ge=Re[0],We=Re[1],Xe=function(e){var t=JSON.parse(localStorage.getItem("csvVariants"));if(t){var a={};t.forEach((function(t){t.key===e&&(a=Object(h.a)({},t))})),pe(a.commonParams),ye(a.invertersParams),we(a.inverterSlotsParams),De(a.inverterStringsParams)}},Ye=function(){oe(!1)},qe=function(e){!function(e,t,a){l(!0);var n=localStorage.getItem("userToken"),i=[];b.forEach((function(e){"MCR"!==e?i.push("B"+String(e).padStart(2,0)):i.push(e)})),X.a.post(e,{startTime:p.getTime(),endTime:I.getTime(),site:String(r).includes("banka")?"bankam":r,parameters:a,block:i,frequency:_e},{headers:{jwtToken:n,responseType:"blob"}}).then((function(e){l(!1);var a=window.URL.createObjectURL(new Blob([e.data])),n=document.createElement("a");n.href=a;var i="".concat(t,"_").concat(p.getDate(),"_").concat(p.getMonth()+1,"_").concat(p.getFullYear(),"-").concat(I.getDate(),"_").concat(I.getMonth()+1,"_").concat(I.getFullYear(),".csv");n.setAttribute("download",i),document.body.appendChild(n),n.click(),n.remove(),ie(!1)})).catch((function(e){l(!1),ue({severity:"error",message:"No data found!"}),oe(!0),ie(!1)}))}("https://apps.acme.in:3001/customcsv",r+"_"+b,e)},Ue=function(e){var t,a=[],n=Object(Da.a)(e);try{for(n.s();!(t=n.n()).done;){var i=t.value;i.checked&&a.push(i.label)}}catch(c){n.e(c)}finally{n.f()}return a};Object(n.useEffect)((function(){!0===E&&pe(JSON.parse(JSON.stringify(Ha)))}),[E]),Object(n.useEffect)((function(){!0===R&&ye(JSON.parse(JSON.stringify(za)))}),[R]),Object(n.useEffect)((function(){!0===q&&we(JSON.parse(JSON.stringify(Ra)))}),[q]),Object(n.useEffect)((function(){!0===Q&&De(JSON.parse(JSON.stringify(Wa)))}),[Q]);return Object(ce.jsxs)("div",{style:{paddingTop:".5rem"},children:[Object(ce.jsxs)(C.a,{container:!0,alignItems:"flex-end",justify:"space-between",children:[Object(ce.jsxs)(C.a,{item:!0,children:[Object(ce.jsxs)(v.a,{className:t.formControl,style:{marginRight:"1rem"},children:[Object(ce.jsx)(Aa.a,{id:"demo-simple-select-label",children:"Site"}),Object(ce.jsx)(Z.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:r,onChange:function(e){var t=e.target.value;s(t),m(o(t))},children:JSON.parse(localStorage.getItem("siteNamesAndBlocks")).map((function(e){return Object(ce.jsx)(B.a,{value:e.name,children:e.name},e.name)}))})]}),Object(ce.jsxs)(v.a,{style:{marginRight:"1rem",maxWidth:"110px"},children:[Object(ce.jsx)(Aa.a,{id:"block-multiple-checkbox-label",children:"Block"}),Object(ce.jsxs)(Z.a,{labelId:"block-multiple-checkbox-label",id:"block-multiple-checkbox",multiple:!0,value:b,onChange:function(e){var t=e.target.value;"all"!==t[t.length-1]?m(t):m(b.length===o().length?[]:o())},renderValue:function(e){return e.join(", ")},MenuProps:{classes:{paper:t.menuPaper},getContentAnchorEl:function(){return null}},children:[Object(ce.jsxs)(B.a,{value:"all",style:{paddingBlock:0},children:[Object(ce.jsx)(Pa.a,{size:"small",color:"primary",checked:o().length>0&&b.length===o().length,indeterminate:b.length>0&&b.length<o().length}),Object(ce.jsx)(w.a,{primary:"All"})]},"all"),o().map((function(e){return Object(ce.jsxs)(B.a,{value:e,style:{paddingBlock:0},children:[Object(ce.jsx)(Pa.a,{size:"small",color:"primary",checked:b.indexOf(e)>-1}),Object(ce.jsx)(w.a,{primary:e})]},e)}))]})]}),Object(ce.jsxs)(it.a,{utils:O.a,children:[Object(ce.jsx)(Ea.a,{autoOk:!0,disableToolbar:!0,variant:"inline",format:"MM/dd/yyyy",id:"from-date-picker-inline",label:"From",value:p,onChange:function(e){f(Ja(e))},KeyboardButtonProps:{"aria-labelte":"from date"},style:{marginRight:"1rem"},className:t.dateStyle}),Object(ce.jsx)(Ea.a,{autoOk:!0,disableToolbar:!0,variant:"inline",format:"MM/dd/yyyy",id:"to-date-picker-inline",label:"To",value:I,onChange:function(e){k($a(e))},KeyboardButtonProps:{"aria-label":"to date"},className:t.dateStyle})]}),Object(ce.jsxs)(v.a,{style:{marginLeft:"1rem",maxWidth:"110px"},children:[Object(ce.jsx)(Aa.a,{id:"frequency-checkbox-label",children:"Frequency"}),Object(ce.jsxs)(Z.a,{labelId:"frequency-checkbox-label",id:"frequency-checkbox",value:_e,onChange:function(e){var t=e.target.value;ze(t)},children:[Object(ce.jsx)(B.a,{value:"full",children:"Full"},"full"),Object(ce.jsx)(B.a,{value:"hourly",children:"Hr Avg"},"hourly")]})]})]}),Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsxs)(C.a,{container:!0,alignItems:"center",children:[Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsxs)(v.a,{className:t.formControl,style:{marginRight:"1rem"},children:[Object(ce.jsx)(Aa.a,{id:"variants-select-label",children:"Variants"}),Object(ce.jsxs)(Z.a,{labelId:"variants-select-label",id:"variants-simple-select",value:Ge,onChange:function(e){We(e.target.value),Xe(e.target.value)},children:[Object(ce.jsx)(B.a,{value:"none",children:Object(ce.jsx)("span",{style:{color:"#9e9e9e"},children:"Select"})}),Ve.length>0&&Ve.map((function(e){return Object(ce.jsx)(B.a,{value:e,onClick:function(){Xe(e)},children:e})}))]})]})}),Object(ce.jsx)(C.a,{item:!0,style:{marginRight:"2rem"},children:Object(ce.jsx)(x.a,{variant:"outlined",size:"small",onClick:function(){var e=Ve.length,t={key:"v"+(e+=1),commonParams:Object(me.a)(Se),invertersParams:Object(me.a)(Ce),inverterSlotsParams:Object(me.a)(ke),inverterStringsParams:Object(me.a)(Le)},a=[],n=JSON.parse(localStorage.getItem("csvVariants"));n&&a.push.apply(a,Object(me.a)(n)),a.push(t),localStorage.setItem("csvVariants",JSON.stringify(a)),Ae((function(t){var a=[];return a.push.apply(a,Object(me.a)(t).concat(["v"+e])),a}))},children:"Save"})}),Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(Fa.a,{control:Object(ce.jsx)(Pa.a,{checked:D,onChange:function(e){P((function(e){return!e})),!1===e.target.checked?(H(!1),G(!1),U(!1),ee(!1),pe(JSON.parse(JSON.stringify(_a))),ye(JSON.parse(JSON.stringify(Ma))),we(JSON.parse(JSON.stringify(Ga))),De(JSON.parse(JSON.stringify(Xa)))):(H(!0),G(!0),U(!0),ee(!0),pe(JSON.parse(JSON.stringify(Ha))),ye(JSON.parse(JSON.stringify(za))),we(JSON.parse(JSON.stringify(Ra))),De(JSON.parse(JSON.stringify(Wa))))},name:"checkedA",color:"primary"}),label:"Select All"})}),Object(ce.jsx)(C.a,{item:!0,style:{marginLeft:".5rem",paddingRight:"1.5rem"},children:Object(ce.jsx)(x.a,{color:"primary",variant:"outlined",onClick:function(){if(ie(!0),"none"===r)return ue({severity:"warning",message:"Select a site."}),oe(!0),void ie(!1);var e=[].concat(Object(me.a)(Ue(Se)),Object(me.a)(Ue(Ce)),Object(me.a)(Ue(ke)),Object(me.a)(Ue(Le)));if(0===e.length)return ue({severity:"warning",message:"Select at least one parameter."}),oe(!0),void ie(!1);var t=p.getTime();I.getTime()-t>0?qe(e):(ue({severity:"info",message:"Select a different 'To' date."}),oe(!0),ie(!1))},disabled:ne,children:"Download"})})]})})]}),Object(ce.jsxs)("div",{className:t.root,style:{marginTop:"1.5rem"},children:[Object(ce.jsxs)(Ua,{defaultExpanded:!0,children:[Object(ce.jsx)(Ka,{expandIcon:Object(ce.jsx)(M.a,{}),"aria-controls":"panel1a-content",id:"panel1a-header",style:{paddingTop:0,paddingBottom:0},children:Object(ce.jsxs)(C.a,{container:!0,alignItems:"center",justify:"space-between",children:[Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(V.a,{style:{color:"#000"},children:"Common"})}),Object(ce.jsx)(C.a,{item:!0,style:{marginRight:"2rem"},children:Object(ce.jsx)(Fa.a,{className:t.formControlLabelStyle,onClick:function(e){return e.stopPropagation()},control:Object(ce.jsx)(Pa.a,{checked:E,onChange:function(e){H((function(e){return!e})),!1===e.target.checked&&(P(!1),pe(JSON.parse(JSON.stringify(_a))))},size:"small",name:"checkedA",color:"primary"}),label:Object(ce.jsx)("span",{style:{fontSize:".9rem"},children:"Select All"})})})]})}),Object(ce.jsx)(Za,{children:Object(ce.jsx)(Va.a,{row:!0,children:Se.map((function(e,t){return Object(ce.jsx)(Fa.a,{control:Object(ce.jsx)(Pa.a,{checked:e.checked,onChange:function(t){return function(e){var t,a=Object(me.a)(Se),n=Object(Da.a)(a);try{for(n.s();!(t=n.n()).done;){var i=t.value;i.label===e&&(i.checked=!i.checked,!1===i.checked&&(H(!1),P(!1)))}}catch(c){n.e(c)}finally{n.f()}pe(a)}(e.label)},size:"small",name:e.label.replace(/\s/g,""),color:"default"}),label:e.label},e.label)}))})})]}),Object(ce.jsxs)(Ua,{defaultExpanded:!0,children:[Object(ce.jsx)(Ka,{expandIcon:Object(ce.jsx)(M.a,{}),"aria-controls":"panel2a-content",id:"panel2a-header",children:Object(ce.jsxs)(C.a,{container:!0,alignItems:"center",justifyContent:"space-between",children:[Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(V.a,{style:{color:"#000"},children:"Inverters"})}),Object(ce.jsx)(C.a,{item:!0,style:{marginRight:"1rem"},children:Object(ce.jsx)(Fa.a,{onClick:function(e){return e.stopPropagation()},control:Object(ce.jsx)(Pa.a,{checked:R,onChange:function(e){G((function(e){return!e})),!1===e.target.checked&&(P(!1),ye(JSON.parse(JSON.stringify(Ma))))},size:"small",name:"checkedA",color:"primary"}),label:Object(ce.jsx)("span",{style:{fontSize:".9rem"},children:"Select All"})})})]})}),Object(ce.jsx)(Za,{children:Object(ce.jsx)(Va.a,{row:!0,children:Ce.map((function(e,t){return Object(ce.jsx)(Fa.a,{control:Object(ce.jsx)(Pa.a,{checked:e.checked,onChange:function(t){return function(e){var t,a=Object(me.a)(Ce),n=Object(Da.a)(a);try{for(n.s();!(t=n.n()).done;){var i=t.value;i.label===e&&(i.checked=!i.checked,!1===i.checked&&(G(!1),P(!1)))}}catch(c){n.e(c)}finally{n.f()}ye(a)}(e.label)},size:"small",name:e.label.replace(/\s/g,""),color:"default"}),label:e.label},e.label)}))})})]}),Object(ce.jsxs)(Ua,{children:[Object(ce.jsx)(Ka,{expandIcon:Object(ce.jsx)(M.a,{}),"aria-controls":"panel2a-content",id:"panel2a-header",children:Object(ce.jsxs)(C.a,{container:!0,alignItems:"center",justify:"space-between",children:[Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(V.a,{style:{color:"#000"},children:"Inverter Slots"})}),Object(ce.jsx)(C.a,{item:!0,style:{marginRight:"1rem"},children:Object(ce.jsx)(Fa.a,{onClick:function(e){return e.stopPropagation()},control:Object(ce.jsx)(Pa.a,{checked:q,onChange:function(e){U((function(e){return!e})),!1===e.target.checked&&(P(!1),we(JSON.parse(JSON.stringify(Ga))))},size:"small",name:"checkedA",color:"primary"}),label:Object(ce.jsx)("span",{style:{fontSize:".9rem"},children:"Select All"})})})]})}),Object(ce.jsx)(Za,{children:Object(ce.jsx)(Va.a,{row:!0,children:ke.map((function(e,t){return Object(ce.jsx)(Fa.a,{control:Object(ce.jsx)(Pa.a,{checked:e.checked,onChange:function(t){return function(e){var t,a=Object(me.a)(ke),n=Object(Da.a)(a);try{for(n.s();!(t=n.n()).done;){var i=t.value;i.label===e&&(i.checked=!i.checked,!1===i.checked&&(U(!1),P(!1)))}}catch(c){n.e(c)}finally{n.f()}we(a)}(e.label)},size:"small",name:e.label.replace(/\s/g,""),color:"default"}),label:e.label},e.label)}))})})]}),Object(ce.jsxs)(Ua,{children:[Object(ce.jsx)(Ka,{expandIcon:Object(ce.jsx)(M.a,{}),"aria-controls":"panel2a-content",id:"panel2a-header",children:Object(ce.jsxs)(C.a,{container:!0,alignItems:"center",justify:"space-between",children:[Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(V.a,{style:{color:"#000"},children:"Inverter Strings"})}),Object(ce.jsx)(C.a,{item:!0,style:{marginRight:"1rem"},children:Object(ce.jsx)(Fa.a,{onClick:function(e){return e.stopPropagation()},control:Object(ce.jsx)(Pa.a,{checked:Q,onChange:function(e){ee((function(e){return!e})),!1===e.target.checked&&(P(!1),De(JSON.parse(JSON.stringify(Xa))))},size:"small",name:"checkedA",color:"primary"}),label:Object(ce.jsx)("span",{style:{fontSize:".9rem"},children:"Select All"})})})]})}),Object(ce.jsx)(Za,{children:Object(ce.jsx)(Va.a,{row:!0,children:Le.map((function(e,t){return Object(ce.jsx)(Fa.a,{control:Object(ce.jsx)(Pa.a,{checked:e.checked,onChange:function(t){return function(e){var t,a=Object(me.a)(Le),n=Object(Da.a)(a);try{for(n.s();!(t=n.n()).done;){var i=t.value;i.label===e&&(i.checked=!i.checked,!1===i.checked&&(ee(!1),P(!1)))}}catch(c){n.e(c)}finally{n.f()}De(a)}(e.label)},size:"small",name:e.label.replace(/\s/g,""),color:"default"}),label:e.label},e.label)}))})})]})]}),Object(ce.jsx)(J.a,{open:le,anchorOrigin:{vertical:"bottom",horizontal:"left"},autoHideDuration:4e3,onClose:Ye,children:Object(ce.jsx)(qa,{onClose:Ye,severity:be.severity,children:be.message})}),Object(ce.jsx)("div",{style:{marginBottom:"2rem"}})]})}var en=Object(Oe.a)((function(e){return{head:{backgroundColor:"#ffffbf",color:e.palette.common.black,fontSize:16},body:{fontSize:16}}}))(Se.a),tn=Object(Oe.a)((function(e){return{root:{"&:nth-of-type(odd)":{backgroundColor:e.palette.action.hover}}}}))(ve.a),an=Object(D.a)({tableContainer:{maxHeight:"80vh"}}),nn=function(e){var t=e.value,a=null;return Object(ce.jsxs)(tn,{children:[Object(ce.jsx)(en,{component:"th",scope:"row",style:{paddingTop:".6rem",paddingBottom:".6rem",backgroundColor:a},children:Object(ce.jsx)("strong",{style:{paddingLeft:"2.5rem"},children:t.heading})}),Object(ce.jsx)(en,{align:"center",style:{backgroundColor:a},children:Object(ce.jsx)("span",{children:isNaN(Number(t.inv1))?"-":-111===Number(t.inv1)?"x":Number(t.inv1).toFixed(2)})}),Object(ce.jsx)(en,{align:"center",style:{backgroundColor:a},children:Object(ce.jsx)("span",{children:isNaN(Number(t.inv2))?"-":-111===Number(t.inv2)?"x":Number(t.inv2).toFixed(2)})}),Object(ce.jsx)(en,{align:"center",style:{backgroundColor:a},children:Object(ce.jsx)("span",{children:isNaN(Number(t.inv3))?"-":-111===Number(t.inv3)?"x":Number(t.inv3).toFixed(2)})}),Object(ce.jsx)(en,{align:"center",style:{backgroundColor:a},children:Object(ce.jsx)("span",{children:isNaN(Number(t.inv4))?"-":-111===Number(t.inv4)?"x":Number(t.inv4).toFixed(2)})})]})},cn=function(e){var t=e.value;return Object(ce.jsxs)(tn,{children:[Object(ce.jsx)(en,{component:"th",scope:"row",style:{paddingTop:".6rem",paddingBottom:".6rem"},children:Object(ce.jsx)("strong",{style:{paddingLeft:"1rem"},children:t.heading})}),Object(ce.jsx)(en,{align:"center",children:isNaN(Number(t.inv1))?"-":-111===Number(t.inv1)?"x":Number(t.inv1).toFixed(2)}),Object(ce.jsx)(en,{align:"center",children:isNaN(Number(t.inv2))?"-":-111===Number(t.inv2)?"x":Number(t.inv2).toFixed(2)}),Object(ce.jsx)(en,{align:"center",children:isNaN(Number(t.inv3))?"-":-111===Number(t.inv3)?"x":Number(t.inv3).toFixed(2)}),Object(ce.jsx)(en,{align:"center",children:isNaN(Number(t.inv4))?"-":-111===Number(t.inv4)?"x":Number(t.inv4).toFixed(2)})]})};function rn(e){var t=e.values,a=an(),c=Object(n.useState)([]),r=Object(u.a)(c,2),s=r[0],l=r[1],o=i.a.useState(!1),j=Object(u.a)(o,2),d=j[0],b=j[1],m=i.a.useState(!1),h=Object(u.a)(m,2),O=h[0],g=h[1],x=function(e){var t=e.title,a=e.tag,n=e.openRows;return Object(ce.jsx)(tn,{children:Object(ce.jsxs)(en,{component:"th",scope:"row",colSpan:7,style:{backgroundColor:"#EBF5FB"},children:[Object(ce.jsx)("strong",{style:{paddingLeft:"1rem",paddingRight:".5rem",color:"#000"},children:t}),Object(ce.jsx)(y.a,{"aria-label":"expand row",size:"small",onClick:function(){return function(e){"S"===e?b((function(e){return!e})):g((function(e){return!e}))}(a)},style:{color:"#000"},children:n?Object(ce.jsx)(Ie.a,{}):Object(ce.jsx)(ye.a,{})})]})})};return Object(n.useEffect)((function(){for(var e=[],a=[],n=[],i=null,c=null,r=0;r<t.length;r++)t[r].heading.match(/S[1-4] [^/]/i)?(i||(i=r,n.push(Object(ce.jsx)(x,{title:"Inverter Slots",tag:"S",openRows:d},r))),r,e.push(Object(ce.jsx)(nn,{value:t[r]},t[r].heading))):t[r].heading.match(/[S]2[0-4]|1[0-9]|[1-9] [/] S[1-4]CB/i)?(c||(c=r,n.push(Object(ce.jsx)(x,{title:"Inverter Strings",tag:"PV",openRows:O},r))),r,a.push(Object(ce.jsx)(nn,{value:t[r]},t[r].heading))):n.push(Object(ce.jsx)(cn,{value:t[r]},r));var s,o=[].concat(n);if(d&&O)(s=o).splice.apply(s,[i+1,0].concat(e)),o=[].concat(Object(me.a)(o),[a]);else if(d&&!O){var j;(j=o).splice.apply(j,[i+1,0].concat(e))}else o=!d&&O?[].concat(Object(me.a)(o),[a]):[].concat(n);l(o)}),[t,d,O]),Object(ce.jsx)(pe.a,{component:he.a,elevation:6,className:a.tableContainer,children:Object(ce.jsxs)(ge.a,{stickyHeader:!0,"aria-label":"customized table",size:"small",children:[Object(ce.jsx)(fe.a,{children:Object(ce.jsxs)(ve.a,{children:[Object(ce.jsx)(en,{style:{paddingTop:".7rem",paddingLeft:"1.75rem",paddingBottom:".7rem"},children:Object(ce.jsx)("strong",{children:"Parameters"})}),Object(ce.jsx)(en,{align:"center",children:Object(ce.jsx)("strong",{children:"Inv 1"})}),Object(ce.jsx)(en,{align:"center",children:Object(ce.jsx)("strong",{children:"Inv 2"})}),Object(ce.jsx)(en,{align:"center",children:Object(ce.jsx)("strong",{children:"Inv 3"})}),Object(ce.jsx)(en,{align:"center",children:Object(ce.jsx)("strong",{children:"Inv 4"})})]})}),Object(ce.jsx)(xe.a,{children:s})]})})}function sn(e){return Object(ce.jsx)($.a,Object(h.a)({elevation:6,variant:"filled"},e))}var ln=Object(D.a)((function(e){return{grow:{flexGrow:1},gaugeChartStyle:{marginTop:e.spacing(12)},formControl:{minWidth:120},modalCardStyle:{width:340,height:"fit-content"},gridBreakpoint:Object(m.a)({},e.breakpoints.up("md"),{})}}));function on(e){e.handleSessionExpire;var t=e.handleClickOpen,a=e.sitestatusBar,c=ln(),r=$e().intervalTime,s=(localStorage.getItem("username","Admin"),localStorage.getItem("userToken")),l=(localStorage.getItem("userId"),K),o=Object(n.useState)((new Date).getTime()),j=Object(u.a)(o,2),d=j[0],b=j[1],m=Object(n.useState)(0),h=Object(u.a)(m,2),O=h[0],g=h[1],x=Object(n.useState)(void 0),p=Object(u.a)(x,2),f=p[0],y=p[1],T=Object(n.useState)({}),I=Object(u.a)(T,2),k=I[0],w=I[1],N=Object(n.useState)(0),L=Object(u.a)(N,2),D=L[0],P=L[1],F=Object(n.useState)(0),A=Object(u.a)(F,2),E=(A[0],A[1]),H=Object(n.useState)(0),_=Object(u.a)(H,2),z=_[0],M=_[1],R=Object(n.useState)(0),G=Object(u.a)(R,2),W=G[0],Y=G[1],q=Object(n.useState)(0),U=Object(u.a)(q,2),$=U[0],Q=U[1],ee=Object(n.useState)(0),te=Object(u.a)(ee,2),ae=te[0],ne=te[1],ie=Object(n.useState)(0),re=Object(u.a)(ie,2),le=re[0],oe=re[1],je=Object(n.useState)(0),de=Object(u.a)(je,2),be=de[0],me=de[1],he=Object(n.useState)([{time:"00:00",gti:"0.00",ghi:"0.00",pg:"0.00"}]),Oe=Object(u.a)(he,2),ge=Oe[0],xe=Oe[1],Se=i.a.useState(1),pe=Object(u.a)(Se,2),fe=pe[0],ve=pe[1],Ce=Object(n.useState)([]),ye=Object(u.a)(Ce,2),Te=ye[0],Ie=ye[1],ke=Object(n.useState)(0),we=Object(u.a)(ke,2),Ne=we[0],Be=we[1];Object(n.useEffect)((function(){0!==Ne&&at(d)}),[Ne]);var Le=function(){return 0!==Ne?"1":"0"},De=function(){return Ne>0?"1":"0"},Pe=null,Fe=Object(n.useState)(!1),Ve=Object(u.a)(Fe,2),Ee=Ve[0],He=Ve[1],ze=Object(n.useState)(new Date),Me=Object(u.a)(ze,2),Re=Me[0],Ge=Me[1],We=Object(n.useState)(!1),Xe=Object(u.a)(We,2),Ye=Xe[0],qe=Xe[1],Ue=Object(n.useState)(!0),Ze=Object(u.a)(Ue,2),Je=Ze[0],Qe=Ze[1],et=function(){He(!1)};Object(n.useEffect)((function(){b(Re.getTime())}),[Re]);var tt=function(e,t,a,n){X.a.get(l+"/yemmiganur/grid/B0"+e,{headers:{jwtToken:s,startTime:t,endTime:a,beginTime:n,enablePacket:Le(),clientPacketTime:f,isNext:De()}}).then((function(e){!function(e){for(var t=[],a=Object.entries(e),n=["L1 I","L2 I","L3 I","L1 V","L2 V","L3 V","Frequency","DC I","DC V","Active Power","DC Power","Reactive Power","PF","Cab Temp","IGBT Temp","DC Energy","S1 L1 I","S1 L2 I","S1 L3 I","S1 L1 V","S1 L2 V","S1 L3 V","S1 DC I","S1 DC V","S1 Active Power","S1 DC Power","S1 PF","S1 IGBT Temp","S2 L1 I","S2 L2 I","S2 L3 I","S2 L1 V","S2 L2 V","S2 L3 V","S2 DC I","S2 DC V","S2 Active Power","S2 DC Power","S2 PF","S2 IGBT Temp","S3 L1 I","S3 L2 I","S3 L3 I","S3 L1 V","S3 L2 V","S3 L3 V","S3 DC I","S3 DC V","S3 Active Power","S3 DC Power","S3 PF","S3 IGBT Temp","S4 L1 I","S4 L2 I","S4 L3 I","S4 L1 V","S4 L2 V","S4 L3 V","S4 DC I","S4 DC V","S4 Active Power","S4 DC Power","S4 PF","S4 IGBT Temp","S1 + S2 Peak Active Power","S3 + S4 Peak Active Power","S1 / S1CB1 I","S2 / S1CB2 I","S3 / S1CB3 I","S4 / S1CB4 I","S5 / S1CB5 I","S6 / S1CB6 I","S7 / S2CB1 I","S8 / S2CB2 I","S9 / S2CB3 I","S10 / S2CB4 I","S11 / S2CB5 I","S12 / S2CB6 I","S13 / S3CB1 I","S14 / S3CB2 I","S15 / S3CB3 I","S16 / S3CB4 I","S17 / S3CB5 I","S18 / S3CB6 I","S19 / S4CB1 I","S20 / S4CB2 I","S21 / S4CB3 I","S22 / S4CB4 I","S23 / S4CB5 I","S24 / S4CB6 I"],i=0;i<n.length;i++){var c=NaN,r=NaN,s=NaN,l=NaN,o=NaN,j=NaN;try{a[i][1]&&(c=a[i][1]),a[n.length+i][1]&&(r=a[n.length+i][1]),a[2*n.length+i][1]&&(s=a[2*n.length+i][1]),a[3*n.length+i][1]&&(l=a[3*n.length+i][1]),a[4*n.length+i][1]&&(o=a[4*n.length+i][1]),a[5*n.length+i][1]&&(j=a[5*n.length+i][1])}catch(d){}t.push({heading:n[i],inv1:c,inv2:r,inv3:s,inv4:l,inv5:o,inv6:j})}Ie([].concat(t))}(e.data)})).catch((function(e){}))},at=function(e){var t=1623696973e3,a=e;a=Je?Date.now():e;var n=new Date(a);n.setHours(5,0,0,0);var i=n.getTime();!function(e,t,a){X.a.get(l+"/yemmiganur/site",{headers:{jwtToken:s,startTime:e,endTime:t,beginTime:a,enablePacket:Le(),clientPacketTime:f,isNext:De()}}).then((function(e){g(e.data.status),y(1e3*e.data.time)})).catch((function(e){}))}(t,a,i),function(e,t,a){X.a.get(l+"/yemmiganur/boxes",{headers:{jwtToken:s,startTime:e,endTime:t,beginTime:a,enablePacket:Le(),clientPacketTime:f,isNext:De()}}).then((function(e){w(e.data)})).catch((function(e){}))}(t,a,i),function(e,t,a){X.a.get(l+"/yemmiganur/gauge",{headers:{jwtToken:s,startTime:e,endTime:t,beginTime:a,enablePacket:Le(),clientPacketTime:f,isNext:De()}}).then((function(e){var t=e.data.value;P(Number(t).toFixed(2)),E(Number(t).toFixed(1)/50)})).catch((function(e){}))}(t,a,i),function(e,t,a){X.a.get(l+"/yemmiganur/temperature",{headers:{jwtToken:s,startTime:e,endTime:t,beginTime:a,enablePacket:Le(),clientPacketTime:f,isNext:De()}}).then((function(e){var t=e.data.ambientTemp,a=e.data.moduleTemp,n=e.data.humidity;M(Number(t).toFixed(1)),Y(Number(a).toFixed(1)),Q(Number(n).toFixed(1))})).catch((function(e){}))}(t,a,i),function(e,t,a){X.a.get(l+"/yemmiganur/wind",{headers:{jwtToken:s,startTime:e,endTime:t,beginTime:a,enablePacket:Le(),clientPacketTime:f,isNext:De()}}).then((function(e){var t=e.data.direction,a=e.data.speed;e.data.rain,ne(Number(t).toFixed(0)),oe(Number(a).toFixed(1)),me(Number(e.data.rain).toFixed(1))})).catch((function(e){}))}(t,a,i),function(e,t,a){X.a.get(l+"/yemmiganur/graph",{headers:{jwtToken:s,startTime:e,endTime:t,beginTime:a,enablePacket:Le(),clientPacketTime:f,isNext:De()}}).then((function(e){xe(e.data)})).catch((function(e){}))}(t,a,i),tt(fe,t,a,i)};Object(n.useEffect)((function(){(Pe=document.getElementById("timeSliderLabel2"))&&(Pe.innerText=(new Date).toLocaleString([],{hour:"2-digit",minute:"2-digit",hour12:!0}).toUpperCase()),at(d);var e=setInterval((function(){at(d)}),r);return function(){clearInterval(e)}}),[d]);var nt=Object(n.useState)("space-between"),it=Object(u.a)(nt,2),ct=(it[0],it[1]);return Object(n.useLayoutEffect)((function(){window.matchMedia("(min-width: 1280px)").matches?ct("space-between"):ct("flex-start")}),[]),Object(ce.jsxs)(i.a.Fragment,{children:[Object(ce.jsx)(C.a,{container:!0,justifyContent:"space-between",alignItems:"center",children:Object(ce.jsx)(rt,{sitestatusBar:a,status:O,timestamp:f,handleClickOpen:t,handleTimeReset:function(){Be(0);var e=new Date;Ge(e),b(e.getTime()),He(!0),Qe(!0)},setIsNextCount:Be,setOpenDateTimePicker:qe,getMinDateForPicker:function(){return new Date(16255098e5)},selectedDate:Re,getFormattedDateAndTimeString:function(e){var t=new Date(e);return Object(ce.jsxs)("span",{children:[String(t.getDate()).padStart(2,"0"),"/",String(t.getMonth()+1).padStart(2,"0"),"/",t.getFullYear(),Object(ce.jsx)("span",{children:"\u2003"}),t.toLocaleString([],{hour:"2-digit",minute:"2-digit",hour12:!0}).toUpperCase()]})},openDateTimePicker:Ye,handleDateChange:function(e){try{Qe(!1)}finally{Ge(e),qe(!1)}}})}),Object(ce.jsx)("div",{style:{marginTop:"2rem"}}),Object(ce.jsx)(Ae,{day_generation:k.day_generation,revenue:1e3*k.day_generation*6.62,peak_power:k.peak_power,ghi:k.ghi,gti:k.gti,plant_pr:k.plant_pr,grid_availability:k.grid_availability,plant_availability:k.plant_availability}),Object(ce.jsxs)(C.a,{container:!0,spacing:6,style:{marginTop:"1rem"},children:[Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(_e,{totalExport:D,maxValue:45})}),Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(se,{ambientTemp:z,moduleTemp:W,humidity:$})}),Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(Ke,{windDirection:ae,windSpeed:le,rain:be})})]}),Object(ce.jsxs)(S.a,{elevation:6,style:{marginTop:"2.5rem",height:"500px",width:"100%"},children:[Object(ce.jsx)(V.a,{variant:"h6",color:"textSecondary",style:{marginLeft:"1.5rem",marginTop:"1rem",marginBottom:"1.5rem"},children:"Irradiance / Generation"}),Object(ce.jsx)(ue,{data:ge,interval:12,leftAxisY:[0,1500],rightAxisY:[0,50]})]}),Object(ce.jsx)(C.a,{container:!0,style:{marginTop:"3rem"},children:Object(ce.jsxs)(C.a,{item:!0,xs:12,children:[Object(ce.jsxs)(C.a,{container:!0,spacing:2,alignItems:"center",style:{marginBottom:".5rem"},children:[Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(V.a,{variant:"h6",color:"textSecondary",children:"Inverter Values"})}),Object(ce.jsx)(C.a,{item:!0,className:c.grow}),Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsxs)(V.a,{style:{marginLeft:".25rem"},children:["Selected Block:"," "]})}),Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(v.a,{className:c.formControl,children:Object(ce.jsxs)(Z.a,{value:fe,onChange:function(e){ve(e.target.value);var t=new Date;t.setDate((new Date).getDate()-1),t.setHours(23,50,0,0);var a=new Date(d);a.setHours(5,0,0,0);var n=a.getTime();tt(e.target.value,t.getTime(),d,n)},children:[Object(ce.jsx)(B.a,{value:1,children:"B01"}),Object(ce.jsx)(B.a,{value:2,children:"B02"}),Object(ce.jsx)(B.a,{value:3,children:"B03"}),Object(ce.jsx)(B.a,{value:4,children:"B04"}),Object(ce.jsx)(B.a,{value:5,children:"B05"}),Object(ce.jsx)(B.a,{value:6,children:"B06"}),Object(ce.jsx)(B.a,{value:7,children:"B07"})]})})})]}),Object(ce.jsx)(rn,{values:Te})]})}),Object(ce.jsx)(J.a,{open:Ee,anchorOrigin:{vertical:"bottom",horizontal:"left"},autoHideDuration:4e3,onClose:et,children:Object(ce.jsx)(sn,{onClose:et,severity:"success",children:"Time is reset!"})}),Object(ce.jsx)("div",{style:{marginBottom:"1rem"}})]})}var jn=Object(Oe.a)((function(e){return{head:{backgroundColor:"#ffffbf",color:e.palette.common.black,fontSize:16},body:{fontSize:16}}}))(Se.a),dn=Object(Oe.a)((function(e){return{root:{"&:nth-of-type(odd)":{backgroundColor:e.palette.action.hover}}}}))(ve.a),bn=Object(D.a)({tableContainer:{maxHeight:"80vh"}}),un=function(e){var t=e.value,a=null;return Object(ce.jsxs)(dn,{children:[Object(ce.jsx)(jn,{component:"th",scope:"row",style:{paddingTop:".6rem",paddingBottom:".6rem",backgroundColor:a},children:Object(ce.jsx)("strong",{style:{paddingLeft:"2.5rem"},children:t.heading})}),Object(ce.jsx)(jn,{align:"center",style:{backgroundColor:a},children:Object(ce.jsx)("span",{children:isNaN(Number(t.inv1))?"-":-111===Number(t.inv1)?"x":Number(t.inv1).toFixed(2)})}),Object(ce.jsx)(jn,{align:"center",style:{backgroundColor:a},children:Object(ce.jsx)("span",{children:isNaN(Number(t.inv2))?"-":-111===Number(t.inv2)?"x":Number(t.inv2).toFixed(2)})}),Object(ce.jsx)(jn,{align:"center",style:{backgroundColor:a},children:Object(ce.jsx)("span",{children:isNaN(Number(t.inv3))?"-":-111===Number(t.inv3)?"x":Number(t.inv3).toFixed(2)})}),Object(ce.jsx)(jn,{align:"center",style:{backgroundColor:a},children:Object(ce.jsx)("span",{children:isNaN(Number(t.inv4))?"-":-111===Number(t.inv4)?"x":Number(t.inv4).toFixed(2)})}),Object(ce.jsx)(jn,{align:"center",style:{backgroundColor:a},children:Object(ce.jsx)("span",{children:isNaN(Number(t.inv5))?"-":-111===Number(t.inv5)?"x":Number(t.inv5).toFixed(2)})}),Object(ce.jsx)(jn,{align:"center",style:{backgroundColor:a},children:Object(ce.jsx)("span",{children:isNaN(Number(t.inv6))?"-":-111===Number(t.inv6)?"x":Number(t.inv6).toFixed(2)})}),Object(ce.jsx)(jn,{align:"center",style:{backgroundColor:a},children:Object(ce.jsx)("span",{children:isNaN(Number(t.inv7))?"-":-111===Number(t.inv7)?"x":Number(t.inv7).toFixed(2)})}),Object(ce.jsx)(jn,{align:"center",style:{backgroundColor:a},children:Object(ce.jsx)("span",{children:isNaN(Number(t.inv8))?"-":-111===Number(t.inv8)?"x":Number(t.inv8).toFixed(2)})})]})},mn=function(e){var t=e.value;return Object(ce.jsxs)(dn,{children:[Object(ce.jsx)(jn,{component:"th",scope:"row",style:{paddingTop:".6rem",paddingBottom:".6rem"},children:Object(ce.jsx)("strong",{style:{paddingLeft:"1rem"},children:t.heading})}),Object(ce.jsx)(jn,{align:"center",children:isNaN(Number(t.inv1))?"-":-111===Number(t.inv1)?"x":Number(t.inv1).toFixed(2)}),Object(ce.jsx)(jn,{align:"center",children:isNaN(Number(t.inv2))?"-":-111===Number(t.inv2)?"x":Number(t.inv2).toFixed(2)}),Object(ce.jsx)(jn,{align:"center",children:isNaN(Number(t.inv3))?"-":-111===Number(t.inv3)?"x":Number(t.inv3).toFixed(2)}),Object(ce.jsx)(jn,{align:"center",children:isNaN(Number(t.inv4))?"-":-111===Number(t.inv4)?"x":Number(t.inv4).toFixed(2)}),Object(ce.jsx)(jn,{align:"center",children:isNaN(Number(t.inv5))?"-":-111===Number(t.inv5)?"x":Number(t.inv5).toFixed(2)}),Object(ce.jsx)(jn,{align:"center",children:isNaN(Number(t.inv6))?"-":-111===Number(t.inv6)?"x":Number(t.inv6).toFixed(2)}),Object(ce.jsx)(jn,{align:"center",children:isNaN(Number(t.inv7))?"-":-111===Number(t.inv7)?"x":Number(t.inv7).toFixed(2)}),Object(ce.jsx)(jn,{align:"center",children:isNaN(Number(t.inv8))?"-":-111===Number(t.inv8)?"x":Number(t.inv8).toFixed(2)})]})};function hn(e){var t=e.values,a=bn(),c=Object(n.useState)([]),r=Object(u.a)(c,2),s=r[0],l=r[1],o=i.a.useState(!1),j=Object(u.a)(o,2),d=j[0],b=j[1],m=i.a.useState(!1),h=Object(u.a)(m,2),O=h[0],g=h[1],x=function(e){var t=e.title,a=e.tag,n=e.openRows;return Object(ce.jsx)(dn,{children:Object(ce.jsxs)(jn,{component:"th",scope:"row",colSpan:9,style:{backgroundColor:"#EBF5FB"},children:[Object(ce.jsx)("strong",{style:{paddingLeft:"1rem",paddingRight:".5rem",color:"#000"},children:t}),Object(ce.jsx)(y.a,{"aria-label":"expand row",size:"small",onClick:function(){return function(e){"S"===e?b((function(e){return!e})):g((function(e){return!e}))}(a)},style:{color:"#000"},children:n?Object(ce.jsx)(Ie.a,{}):Object(ce.jsx)(ye.a,{})})]})})};return Object(n.useEffect)((function(){for(var e=[],a=[],n=[],i=null,c=null,r=0;r<t.length;r++)t[r].heading.match(/S[1-4] [^/]/i)?(i||(i=r,n.push(Object(ce.jsx)(x,{title:"Inverter Slots",tag:"S",openRows:d},r))),r,e.push(Object(ce.jsx)(un,{value:t[r]},t[r].heading))):t[r].heading.match(/[S]2[0-4]|1[0-9]|[1-9] [/] S[1-4]CB/i)?(c||(c=r,n.push(Object(ce.jsx)(x,{title:"Inverter Strings",tag:"PV",openRows:O},r))),r,a.push(Object(ce.jsx)(un,{value:t[r]},t[r].heading))):n.push(Object(ce.jsx)(mn,{value:t[r]},r));var s,o=[].concat(n);if(d&&O)(s=o).splice.apply(s,[i+1,0].concat(e)),o=[].concat(Object(me.a)(o),[a]);else if(d&&!O){var j;(j=o).splice.apply(j,[i+1,0].concat(e))}else o=!d&&O?[].concat(Object(me.a)(o),[a]):[].concat(n);l(o)}),[t,d,O]),Object(ce.jsx)(pe.a,{component:he.a,elevation:6,className:a.tableContainer,children:Object(ce.jsxs)(ge.a,{stickyHeader:!0,"aria-label":"customized table",size:"small",children:[Object(ce.jsx)(fe.a,{children:Object(ce.jsxs)(ve.a,{children:[Object(ce.jsx)(jn,{style:{paddingTop:".7rem",paddingLeft:"1.75rem",paddingBottom:".7rem"},children:Object(ce.jsx)("strong",{children:"Parameters"})}),Object(ce.jsx)(jn,{align:"center",children:Object(ce.jsx)("strong",{children:"Inv 1"})}),Object(ce.jsx)(jn,{align:"center",children:Object(ce.jsx)("strong",{children:"Inv 2"})}),Object(ce.jsx)(jn,{align:"center",children:Object(ce.jsx)("strong",{children:"Inv 3"})}),Object(ce.jsx)(jn,{align:"center",children:Object(ce.jsx)("strong",{children:"Inv 4"})}),Object(ce.jsx)(jn,{align:"center",children:Object(ce.jsx)("strong",{children:"Inv 5"})}),Object(ce.jsx)(jn,{align:"center",children:Object(ce.jsx)("strong",{children:"Inv 6"})}),Object(ce.jsx)(jn,{align:"center",children:Object(ce.jsx)("strong",{children:"Inv 7"})}),Object(ce.jsx)(jn,{align:"center",children:Object(ce.jsx)("strong",{children:"Inv 8"})})]})}),Object(ce.jsx)(xe.a,{children:s})]})})}function On(e){return Object(ce.jsx)($.a,Object(h.a)({elevation:6,variant:"filled"},e))}var gn=Object(D.a)((function(e){return{grow:{flexGrow:1},gaugeChartStyle:{marginTop:e.spacing(12)},formControl:{minWidth:120},modalCardStyle:{width:340,height:"fit-content"},gridBreakpoint:Object(m.a)({},e.breakpoints.up("md"),{})}}));function xn(e){e.handleSessionExpire;var t=e.handleClickOpen,a=e.sitestatusBar,c=gn(),r=$e().intervalTime,s=(localStorage.getItem("username","Admin"),localStorage.getItem("userToken")),l=(localStorage.getItem("userId"),K),o=Object(n.useState)((new Date).getTime()),j=Object(u.a)(o,2),d=j[0],b=j[1],m=Object(n.useState)(0),h=Object(u.a)(m,2),O=h[0],g=h[1],x=Object(n.useState)(void 0),p=Object(u.a)(x,2),f=p[0],y=p[1],T=Object(n.useState)({}),I=Object(u.a)(T,2),k=I[0],w=I[1],N=Object(n.useState)(0),L=Object(u.a)(N,2),D=L[0],P=L[1],F=Object(n.useState)(0),A=Object(u.a)(F,2),E=(A[0],A[1]),H=Object(n.useState)(0),_=Object(u.a)(H,2),z=_[0],M=_[1],R=Object(n.useState)(0),G=Object(u.a)(R,2),W=G[0],Y=G[1],q=Object(n.useState)(0),U=Object(u.a)(q,2),$=U[0],Q=U[1],ee=Object(n.useState)(0),te=Object(u.a)(ee,2),ae=te[0],ne=te[1],ie=Object(n.useState)(0),re=Object(u.a)(ie,2),le=re[0],oe=re[1],je=Object(n.useState)(0),de=Object(u.a)(je,2),be=de[0],me=de[1],he=Object(n.useState)([{time:"00:00",gti:"0.00",ghi:"0.00",pg:"0.00"}]),Oe=Object(u.a)(he,2),ge=Oe[0],xe=Oe[1],Se=i.a.useState(1),pe=Object(u.a)(Se,2),fe=pe[0],ve=pe[1],Ce=Object(n.useState)([]),ye=Object(u.a)(Ce,2),Te=ye[0],Ie=ye[1],ke=Object(n.useState)(0),we=Object(u.a)(ke,2),Ne=we[0],Be=we[1];Object(n.useEffect)((function(){0!==Ne&&at(d)}),[Ne]);var Le=function(){return 0!==Ne?"1":"0"},De=function(){return Ne>0?"1":"0"},Pe=null,Fe=Object(n.useState)(!1),Ve=Object(u.a)(Fe,2),Ee=Ve[0],He=Ve[1],ze=Object(n.useState)(new Date),Me=Object(u.a)(ze,2),Re=Me[0],Ge=Me[1],We=Object(n.useState)(!1),Xe=Object(u.a)(We,2),Ye=Xe[0],qe=Xe[1],Ue=Object(n.useState)(!0),Ze=Object(u.a)(Ue,2),Je=Ze[0],Qe=Ze[1],et=function(){He(!1)};Object(n.useEffect)((function(){b(Re.getTime())}),[Re]);var tt=function(e,t,a,n){X.a.get(l+"/mahoba/grid/B0"+e,{headers:{jwtToken:s,startTime:t,endTime:a,beginTime:n,enablePacket:Le(),clientPacketTime:f,isNext:De()}}).then((function(e){!function(e){for(var t=[],a=Object.entries(e),n=["L1 I","L2 I","L3 I","L1 V","L2 V","L3 V","Frequency","DC I","DC V","Active Power","DC Power","Reactive Power","PF","Cab Temp","IGBT Temp","DC Energy","S1 L1 I","S1 L2 I","S1 L3 I","S1 L1 V","S1 L2 V","S1 L3 V","S1 DC I","S1 DC V","S1 Active Power","S1 DC Power","S1 PF","S1 IGBT Temp","S2 L1 I","S2 L2 I","S2 L3 I","S2 L1 V","S2 L2 V","S2 L3 V","S2 DC I","S2 DC V","S2 Active Power","S2 DC Power","S2 PF","S2 IGBT Temp","S3 L1 I","S3 L2 I","S3 L3 I","S3 L1 V","S3 L2 V","S3 L3 V","S3 DC I","S3 DC V","S3 Active Power","S3 DC Power","S3 PF","S3 IGBT Temp","S4 L1 I","S4 L2 I","S4 L3 I","S4 L1 V","S4 L2 V","S4 L3 V","S4 DC I","S4 DC V","S4 Active Power","S4 DC Power","S4 PF","S4 IGBT Temp","S1 + S2 Peak Active Power","S3 + S4 Peak Active Power","S1 / S1CB1 I","S2 / S1CB2 I","S3 / S1CB3 I","S4 / S1CB4 I","S5 / S1CB5 I","S6 / S1CB6 I","S7 / S2CB1 I","S8 / S2CB2 I","S9 / S2CB3 I","S10 / S2CB4 I","S11 / S2CB5 I","S12 / S2CB6 I","S13 / S3CB1 I","S14 / S3CB2 I","S15 / S3CB3 I","S16 / S3CB4 I","S17 / S3CB5 I","S18 / S3CB6 I","S19 / S4CB1 I","S20 / S4CB2 I","S21 / S4CB3 I","S22 / S4CB4 I","S23 / S4CB5 I","S24 / S4CB6 I"],i=0;i<n.length;i++){var c=NaN,r=NaN,s=NaN,l=NaN,o=NaN,j=NaN,d=NaN,b=NaN;try{a[i][1]&&(c=a[i][1]),a[n.length+i][1]&&(r=a[n.length+i][1]),a[2*n.length+i][1]&&(s=a[2*n.length+i][1]),a[3*n.length+i][1]&&(l=a[3*n.length+i][1]),a[4*n.length+i][1]&&(o=a[4*n.length+i][1]),a[5*n.length+i][1]&&(j=a[5*n.length+i][1]),a[6*n.length+i][1]&&(d=a[6*n.length+i][1]),a[7*n.length+i][1]&&(b=a[7*n.length+i][1])}catch(u){}t.push({heading:n[i],inv1:c,inv2:r,inv3:s,inv4:l,inv5:o,inv6:j,inv7:d,inv8:b})}Ie([].concat(t))}(e.data)})).catch((function(e){}))},at=function(e){var t=1623696973e3,a=e;a=Je?Date.now():e;var n=new Date(a);n.setHours(5,0,0,0);var i=n.getTime();!function(e,t,a){X.a.get(l+"/mahoba/site",{headers:{jwtToken:s,startTime:e,endTime:t,beginTime:a,enablePacket:Le(),clientPacketTime:f,isNext:De()}}).then((function(e){g(e.data.status),y(1e3*e.data.time)})).catch((function(e){}))}(t,a,i),function(e,t,a){X.a.get(l+"/mahoba/boxes",{headers:{jwtToken:s,startTime:e,endTime:t,beginTime:a,enablePacket:Le(),clientPacketTime:f,isNext:De()}}).then((function(e){w(e.data)})).catch((function(e){}))}(t,a,i),function(e,t,a){X.a.get(l+"/mahoba/gauge",{headers:{jwtToken:s,startTime:e,endTime:t,beginTime:a,enablePacket:Le(),clientPacketTime:f,isNext:De()}}).then((function(e){var t=e.data.value;P(Number(t).toFixed(2)),E(Number(t).toFixed(1)/50)})).catch((function(e){}))}(t,a,i),function(e,t,a){X.a.get(l+"/mahoba/temperature",{headers:{jwtToken:s,startTime:e,endTime:t,beginTime:a,enablePacket:Le(),clientPacketTime:f,isNext:De()}}).then((function(e){var t=e.data.ambientTemp,a=e.data.moduleTemp,n=e.data.humidity;M(Number(t).toFixed(1)),Y(Number(a).toFixed(1)),Q(Number(n).toFixed(1))})).catch((function(e){}))}(t,a,i),function(e,t,a){X.a.get(l+"/mahoba/wind",{headers:{jwtToken:s,startTime:e,endTime:t,beginTime:a,enablePacket:Le(),clientPacketTime:f,isNext:De()}}).then((function(e){var t=e.data.direction,a=e.data.speed;e.data.rain,ne(Number(t).toFixed(0)),oe(Number(a).toFixed(1)),me(Number(e.data.rain).toFixed(1))})).catch((function(e){}))}(t,a,i),function(e,t,a){X.a.get(l+"/mahoba/graph",{headers:{jwtToken:s,startTime:e,endTime:t,beginTime:a,enablePacket:Le(),clientPacketTime:f,isNext:De()}}).then((function(e){xe(e.data)})).catch((function(e){}))}(t,a,i),tt(fe,t,a,i)};Object(n.useEffect)((function(){(Pe=document.getElementById("timeSliderLabel2"))&&(Pe.innerText=(new Date).toLocaleString([],{hour:"2-digit",minute:"2-digit",hour12:!0}).toUpperCase()),at(d);var e=setInterval((function(){at(d)}),r);return function(){clearInterval(e)}}),[d]);var nt=Object(n.useState)("space-between"),it=Object(u.a)(nt,2),ct=(it[0],it[1]);return Object(n.useLayoutEffect)((function(){window.matchMedia("(min-width: 1280px)").matches?ct("space-between"):ct("flex-start")}),[]),Object(ce.jsxs)(i.a.Fragment,{children:[Object(ce.jsx)(C.a,{container:!0,justifyContent:"space-between",alignItems:"center",children:Object(ce.jsx)(rt,{sitestatusBar:a,status:O,timestamp:f,handleClickOpen:t,handleTimeReset:function(){Be(0);var e=new Date;Ge(e),b(e.getTime()),He(!0),Qe(!0)},setIsNextCount:Be,setOpenDateTimePicker:qe,getMinDateForPicker:function(){return new Date(16267626e5)},selectedDate:Re,getFormattedDateAndTimeString:function(e){var t=new Date(e);return Object(ce.jsxs)("span",{children:[String(t.getDate()).padStart(2,"0"),"/",String(t.getMonth()+1).padStart(2,"0"),"/",t.getFullYear(),Object(ce.jsx)("span",{children:"\u2003"}),t.toLocaleString([],{hour:"2-digit",minute:"2-digit",hour12:!0}).toUpperCase()]})},openDateTimePicker:Ye,handleDateChange:function(e){try{Qe(!1)}finally{Ge(e),qe(!1)}}})}),Object(ce.jsx)("div",{style:{marginTop:"2rem"}}),Object(ce.jsx)(Ae,{day_generation:k.day_generation,revenue:1e3*k.day_generation*8.93,peak_power:k.peak_power,ghi:k.ghi,gti:k.gti,plant_pr:k.plant_pr,grid_availability:k.grid_availability,plant_availability:k.plant_availability}),Object(ce.jsxs)(C.a,{container:!0,spacing:6,style:{marginTop:"1rem"},children:[Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(_e,{totalExport:D,maxValue:45})}),Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(se,{ambientTemp:z,moduleTemp:W,humidity:$})}),Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(Ke,{windDirection:ae,windSpeed:le,rain:be})})]}),Object(ce.jsxs)(S.a,{elevation:6,style:{marginTop:"2.5rem",height:"500px",width:"100%"},children:[Object(ce.jsx)(V.a,{variant:"h6",color:"textSecondary",style:{marginLeft:"1.5rem",marginTop:"1rem",marginBottom:"1.5rem"},children:"Irradiance / Generation"}),Object(ce.jsx)(ue,{data:ge,interval:12,leftAxisY:[0,1500],rightAxisY:[0,50]})]}),Object(ce.jsx)(C.a,{container:!0,style:{marginTop:"3rem"},children:Object(ce.jsxs)(C.a,{item:!0,xs:12,children:[Object(ce.jsxs)(C.a,{container:!0,spacing:2,alignItems:"center",style:{marginBottom:".5rem"},children:[Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(V.a,{variant:"h6",color:"textSecondary",children:"Inverter Values"})}),Object(ce.jsx)(C.a,{item:!0,className:c.grow}),Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsxs)(V.a,{style:{marginLeft:".25rem"},children:["Selected Block:"," "]})}),Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(v.a,{className:c.formControl,children:Object(ce.jsxs)(Z.a,{value:fe,onChange:function(e){ve(e.target.value);var t=new Date;t.setDate((new Date).getDate()-1),t.setHours(23,50,0,0);var a=new Date(d);a.setHours(5,0,0,0);var n=a.getTime();tt(e.target.value,t.getTime(),d,n)},children:[Object(ce.jsx)(B.a,{value:1,children:"B01"}),Object(ce.jsx)(B.a,{value:2,children:"B02"}),Object(ce.jsx)(B.a,{value:3,children:"B03"}),Object(ce.jsx)(B.a,{value:4,children:"B04"}),Object(ce.jsx)(B.a,{value:5,children:"B05"})]})})})]}),Object(ce.jsx)(hn,{values:Te})]})}),Object(ce.jsx)(J.a,{open:Ee,anchorOrigin:{vertical:"bottom",horizontal:"left"},autoHideDuration:4e3,onClose:et,children:Object(ce.jsx)(On,{onClose:et,severity:"success",children:"Time is reset!"})}),Object(ce.jsx)("div",{style:{marginBottom:"1rem"}})]})}var Sn=Object(Oe.a)((function(e){return{head:{backgroundColor:"#ffffbf",color:e.palette.common.black,fontSize:16},body:{fontSize:16}}}))(Se.a),pn=Object(Oe.a)((function(e){return{root:{"&:nth-of-type(odd)":{backgroundColor:e.palette.action.hover}}}}))(ve.a),fn=Object(D.a)({tableContainer:{maxHeight:"80vh"}}),vn=function(e){var t=e.value,a=null;return Object(ce.jsxs)(pn,{children:[Object(ce.jsx)(Sn,{component:"th",scope:"row",style:{paddingTop:".6rem",paddingBottom:".6rem",backgroundColor:a},children:Object(ce.jsx)("strong",{style:{paddingLeft:"2.5rem"},children:t.heading})}),Object(ce.jsx)(Sn,{align:"center",style:{backgroundColor:a},children:Object(ce.jsx)("span",{children:isNaN(Number(t.inv1))?"-":-111===Number(t.inv1)?"x":Number(t.inv1).toFixed(2)})}),Object(ce.jsx)(Sn,{align:"center",style:{backgroundColor:a},children:Object(ce.jsx)("span",{children:isNaN(Number(t.inv2))?"-":-111===Number(t.inv2)?"x":Number(t.inv2).toFixed(2)})}),Object(ce.jsx)(Sn,{align:"center",style:{backgroundColor:a},children:Object(ce.jsx)("span",{children:isNaN(Number(t.inv3))?"-":-111===Number(t.inv3)?"x":Number(t.inv3).toFixed(2)})}),Object(ce.jsx)(Sn,{align:"center",style:{backgroundColor:a},children:Object(ce.jsx)("span",{children:isNaN(Number(t.inv4))?"-":-111===Number(t.inv4)?"x":Number(t.inv4).toFixed(2)})}),Object(ce.jsx)(Sn,{align:"center",style:{backgroundColor:a},children:Object(ce.jsx)("span",{children:isNaN(Number(t.inv5))?"-":-111===Number(t.inv5)?"x":Number(t.inv5).toFixed(2)})})]})},Cn=function(e){var t=e.value;return Object(ce.jsxs)(pn,{children:[Object(ce.jsx)(Sn,{component:"th",scope:"row",style:{paddingTop:".6rem",paddingBottom:".6rem"},children:Object(ce.jsx)("strong",{style:{paddingLeft:"1rem"},children:t.heading})}),Object(ce.jsx)(Sn,{align:"center",children:isNaN(Number(t.inv1))?"-":-111===Number(t.inv1)?"x":Number(t.inv1).toFixed(2)}),Object(ce.jsx)(Sn,{align:"center",children:isNaN(Number(t.inv2))?"-":-111===Number(t.inv2)?"x":Number(t.inv2).toFixed(2)}),Object(ce.jsx)(Sn,{align:"center",children:isNaN(Number(t.inv3))?"-":-111===Number(t.inv3)?"x":Number(t.inv3).toFixed(2)}),Object(ce.jsx)(Sn,{align:"center",children:isNaN(Number(t.inv4))?"-":-111===Number(t.inv4)?"x":Number(t.inv4).toFixed(2)}),Object(ce.jsx)(Sn,{align:"center",children:isNaN(Number(t.inv5))?"-":-111===Number(t.inv5)?"x":Number(t.inv5).toFixed(2)})]})};function yn(e){var t=e.values,a=fn(),c=Object(n.useState)([]),r=Object(u.a)(c,2),s=r[0],l=r[1],o=i.a.useState(!1),j=Object(u.a)(o,2),d=j[0],b=j[1],m=i.a.useState(!1),h=Object(u.a)(m,2),O=h[0],g=h[1],x=function(e){var t=e.title,a=e.tag,n=e.openRows;return Object(ce.jsx)(pn,{children:Object(ce.jsxs)(Sn,{component:"th",scope:"row",colSpan:6,style:{backgroundColor:"#EBF5FB"},children:[Object(ce.jsx)("strong",{style:{paddingLeft:"1rem",paddingRight:".5rem",color:"#000"},children:t}),Object(ce.jsx)(y.a,{"aria-label":"expand row",size:"small",onClick:function(){return function(e){"S"===e?b((function(e){return!e})):g((function(e){return!e}))}(a)},style:{color:"#000"},children:n?Object(ce.jsx)(Ie.a,{}):Object(ce.jsx)(ye.a,{})})]})})};return Object(n.useEffect)((function(){for(var e=[],a=[],n=[],i=null,c=null,r=0;r<t.length;r++)t[r].heading.match(/S[1-4] [^/]/i)?(i||(i=r,n.push(Object(ce.jsx)(x,{title:"Inverter Slots",tag:"S",openRows:d},r))),r,e.push(Object(ce.jsx)(vn,{value:t[r]},t[r].heading))):t[r].heading.match(/[S]3[0-4]|2[0-9]|1[0-9]|[1-9] [/] S[1-4]CB/i)?(c||(c=r,n.push(Object(ce.jsx)(x,{title:"Inverter Strings",tag:"PV",openRows:O},r))),r,a.push(Object(ce.jsx)(vn,{value:t[r]},t[r].heading))):n.push(Object(ce.jsx)(Cn,{value:t[r]},r));var s,o=[].concat(n);if(d&&O)(s=o).splice.apply(s,[i+1,0].concat(e)),o=[].concat(Object(me.a)(o),[a]);else if(d&&!O){var j;(j=o).splice.apply(j,[i+1,0].concat(e))}else o=!d&&O?[].concat(Object(me.a)(o),[a]):[].concat(n);l(o)}),[t,d,O]),Object(ce.jsx)(pe.a,{component:he.a,elevation:6,className:a.tableContainer,children:Object(ce.jsxs)(ge.a,{stickyHeader:!0,"aria-label":"customized table",size:"small",children:[Object(ce.jsx)(fe.a,{children:Object(ce.jsxs)(ve.a,{children:[Object(ce.jsx)(Sn,{style:{paddingTop:".7rem",paddingLeft:"1.75rem",paddingBottom:".7rem"},children:Object(ce.jsx)("strong",{children:"Parameters"})}),Object(ce.jsx)(Sn,{align:"center",children:Object(ce.jsx)("strong",{children:"Inv 1"})}),Object(ce.jsx)(Sn,{align:"center",children:Object(ce.jsx)("strong",{children:"Inv 2"})}),Object(ce.jsx)(Sn,{align:"center",children:Object(ce.jsx)("strong",{children:"Inv 3"})}),Object(ce.jsx)(Sn,{align:"center",children:Object(ce.jsx)("strong",{children:"Inv 4"})}),Object(ce.jsx)(Sn,{align:"center",children:Object(ce.jsx)("strong",{children:"Inv 5"})})]})}),Object(ce.jsx)(xe.a,{children:s})]})})}function Tn(e){return Object(ce.jsx)($.a,Object(h.a)({elevation:6,variant:"filled"},e))}var In=Object(D.a)((function(e){return{grow:{flexGrow:1},gaugeChartStyle:{marginTop:e.spacing(12)},formControl:{minWidth:120},modalCardStyle:{width:340,height:"fit-content"},gridBreakpoint:Object(m.a)({},e.breakpoints.up("md"),{})}}));function kn(e){var t=e.handleSessionExpire,a=e.handleClickOpen,c=e.sitestatusBar,r=In(),s=$e().intervalTime,l=(localStorage.getItem("username","Admin"),localStorage.getItem("userToken")),o=(localStorage.getItem("userId"),K),j=Object(n.useState)((new Date).getTime()),d=Object(u.a)(j,2),b=d[0],m=d[1],h=Object(n.useState)(0),O=Object(u.a)(h,2),g=O[0],x=O[1],p=Object(n.useState)(void 0),f=Object(u.a)(p,2),y=f[0],T=f[1],I=Object(n.useState)({}),k=Object(u.a)(I,2),w=k[0],N=k[1],L=Object(n.useState)(0),D=Object(u.a)(L,2),P=D[0],F=D[1],A=Object(n.useState)(0),E=Object(u.a)(A,2),H=(E[0],E[1]),_=Object(n.useState)(0),z=Object(u.a)(_,2),M=z[0],R=z[1],G=Object(n.useState)(0),W=Object(u.a)(G,2),Y=W[0],q=W[1],U=Object(n.useState)(0),$=Object(u.a)(U,2),Q=$[0],ee=$[1],te=Object(n.useState)(0),ae=Object(u.a)(te,2),ne=ae[0],ie=ae[1],re=Object(n.useState)(0),le=Object(u.a)(re,2),oe=le[0],je=le[1],de=Object(n.useState)(0),be=Object(u.a)(de,2),me=be[0],he=be[1],Oe=Object(n.useState)([{time:"00:00",gti:"0.00",ghi:"0.00",pg:"0.00"}]),ge=Object(u.a)(Oe,2),xe=ge[0],Se=ge[1],pe=i.a.useState(1),fe=Object(u.a)(pe,2),ve=fe[0],Ce=fe[1],ye=Object(n.useState)([]),Te=Object(u.a)(ye,2),Ie=Te[0],ke=Te[1],we=Object(n.useState)(0),Ne=Object(u.a)(we,2),Be=Ne[0],Le=Ne[1];Object(n.useEffect)((function(){0!==Be&&nt(b)}),[Be]);var De=function(){return 0!==Be?"1":"0"},Pe=function(){return Be>0?"1":"0"},Fe=null,Ve=Object(n.useState)(!1),Ee=Object(u.a)(Ve,2),He=Ee[0],ze=Ee[1],Me=Object(n.useState)(new Date),Re=Object(u.a)(Me,2),Ge=Re[0],We=Re[1],Xe=Object(n.useState)(!1),Ye=Object(u.a)(Xe,2),qe=Ye[0],Ue=Ye[1],Ze=Object(n.useState)(!0),Je=Object(u.a)(Ze,2),Qe=Je[0],et=Je[1],tt=function(){ze(!1)};Object(n.useEffect)((function(){m(Ge.getTime())}),[Ge]);var at=function(e,t,a,n){e||(localStorage.setItem("siteInverterTableBlock",1),e=localStorage.getItem("siteInverterTableBlock")),X.a.get(o+"/balangir/grid/B0"+e,{headers:{jwtToken:l,startTime:t,endTime:a,beginTime:n,enablePacket:De(),clientPacketTime:y,isNext:Pe()}}).then((function(e){!function(e){for(var t=[],a=Object.entries(e),n=["L1 I","L2 I","L3 I","L1 V","L2 V","L3 V","Frequency","DC I","DC V","Active Power","DC Power","Reactive Power","PF","Cab Temp","IGBT Temp","DC Energy","S1 L1 I","S1 L2 I","S1 L3 I","S1 L1 V","S1 L2 V","S1 L3 V","S1 DC I","S1 DC V","S1 Active Power","S1 DC Power","S1 PF","S1 IGBT Temp","S2 L1 I","S2 L2 I","S2 L3 I","S2 L1 V","S2 L2 V","S2 L3 V","S2 DC I","S2 DC V","S2 Active Power","S2 DC Power","S2 PF","S2 IGBT Temp","S3 L1 I","S3 L2 I","S3 L3 I","S3 L1 V","S3 L2 V","S3 L3 V","S3 DC I","S3 DC V","S3 Active Power","S3 DC Power","S3 PF","S3 IGBT Temp","S4 L1 I","S4 L2 I","S4 L3 I","S4 L1 V","S4 L2 V","S4 L3 V","S4 DC I","S4 DC V","S4 Active Power","S4 DC Power","S4 PF","S4 IGBT Temp","S1 + S2 Peak Active Power","S3 + S4 Peak Active Power","S1 / S1CB1 I","S2 / S1CB2 I","S3 / S1CB3 I","S4 / S1CB4 I","S5 / S1CB5 I","S6 / S1CB6 I","S7 / S1CB7 I","S8 / S1CB8 I","S9 / S2CB1 I","S10 / S2CB2 I","S11 / S2CB3 I","S12 / S2CB4 I","S13 / S2CB5 I","S14 / S2CB6 I","S15 / S2CB7 I","S16 / S2CB8 I","S17 / S3CB1 I","S18 / S3CB2 I","S19 / S3CB3 I","S20 / S3CB4 I","S21 / S3CB5 I","S22 / S3CB6 I","S23 / S3CB7 I","S24 / S3CB8 I","S25 / S4CB1 I","S26 / S4CB2 I","S27 / S4CB3 I","S28 / S4CB4 I","S29 / S4CB5 I","S30 / S4CB6 I","S31 / S4CB7 I","S32 / S4CB8 I"],i=0;i<n.length;i++){var c=NaN,r=NaN,s=NaN,l=NaN,o=NaN;try{a[i][1]&&(c=a[i][1]),a[n.length+i][1]&&(r=a[n.length+i][1]),a[2*n.length+i][1]&&(s=a[2*n.length+i][1]),a[3*n.length+i][1]&&(l=a[3*n.length+i][1]),a[4*n.length+i][1]&&(o=a[4*n.length+i][1])}catch(j){}t.push({heading:n[i],inv1:c,inv2:r,inv3:s,inv4:l,inv5:o})}ke([].concat(t))}(e.data)})).catch((function(e){}))},nt=function(e){var a=1623696973e3,n=e;n=Qe?Date.now():e;var i=new Date(n);i.setHours(5,0,0,0);var c=i.getTime();!function(e,a,n){X.a.get(o+"/balangir/site",{headers:{jwtToken:l,startTime:e,endTime:a,beginTime:n,enablePacket:De(),clientPacketTime:y,isNext:Pe()}}).then((function(e){x(e.data.status),T(1e3*e.data.time)})).catch((function(e){var a;401===(null===e||void 0===e||null===(a=e.response)||void 0===a?void 0:a.status)&&t()}))}(a,n,c),function(e,t,a){X.a.get(o+"/balangir/boxes",{headers:{jwtToken:l,startTime:e,endTime:t,beginTime:a,enablePacket:De(),clientPacketTime:y,isNext:Pe()}}).then((function(e){N(e.data)})).catch((function(e){}))}(a,n,c),function(e,t,a){X.a.get(o+"/balangir/gauge",{headers:{jwtToken:l,startTime:e,endTime:t,beginTime:a,enablePacket:De(),clientPacketTime:y,isNext:Pe()}}).then((function(e){var t=e.data.value;F(Number(t).toFixed(2)),H(Number(t).toFixed(1)/50)})).catch((function(e){}))}(a,n,c),function(e,t,a){X.a.get(o+"/balangir/temperature",{headers:{jwtToken:l,startTime:e,endTime:t,beginTime:a,enablePacket:De(),clientPacketTime:y,isNext:Pe()}}).then((function(e){var t=e.data.ambientTemp,a=e.data.moduleTemp,n=e.data.humidity;R(Number(t).toFixed(1)),q(Number(a).toFixed(1)),ee(Number(n).toFixed(1))})).catch((function(e){}))}(a,n,c),function(e,t,a){X.a.get(o+"/balangir/wind",{headers:{jwtToken:l,startTime:e,endTime:t,beginTime:a,enablePacket:De(),clientPacketTime:y,isNext:Pe()}}).then((function(e){var t=e.data.direction,a=e.data.speed;e.data.rain,ie(Number(t).toFixed(0)),je(Number(a).toFixed(1)),he(Number(e.data.rain).toFixed(1))})).catch((function(e){}))}(a,n,c),function(e,t,a){X.a.get(o+"/balangir/graph",{headers:{jwtToken:l,startTime:e,endTime:t,beginTime:a,enablePacket:De(),clientPacketTime:y,isNext:Pe()}}).then((function(e){Se(e.data)})).catch((function(e){}))}(a,n,c),at(localStorage.getItem("siteInverterTableBlock"),a,n,c)};Object(n.useEffect)((function(){(Fe=document.getElementById("timeSliderLabel2"))&&(Fe.innerText=(new Date).toLocaleString([],{hour:"2-digit",minute:"2-digit",hour12:!0}).toUpperCase()),nt(b);var e=setInterval((function(){nt(b)}),s);return function(){clearInterval(e),localStorage.setItem("siteInverterTableBlock",1)}}),[b]);var it=Object(n.useState)("space-between"),ct=Object(u.a)(it,2),st=(ct[0],ct[1]);return Object(n.useLayoutEffect)((function(){window.matchMedia("(min-width: 1280px)").matches?st("space-between"):st("flex-start")}),[]),Object(ce.jsxs)(i.a.Fragment,{children:[Object(ce.jsx)(C.a,{container:!0,justifyContent:"space-between",alignItems:"center",children:Object(ce.jsx)(rt,{sitestatusBar:c,status:g,timestamp:y,handleClickOpen:a,handleTimeReset:function(){Le(0);var e=new Date;We(e),m(e.getTime()),ze(!0),et(!0)},setIsNextCount:Le,setOpenDateTimePicker:Ue,getMinDateForPicker:function(){return new Date(1627056e6)},selectedDate:Ge,getFormattedDateAndTimeString:function(e){var t=new Date(e);return Object(ce.jsxs)("span",{children:[String(t.getDate()).padStart(2,"0"),"/",String(t.getMonth()+1).padStart(2,"0"),"/",t.getFullYear(),Object(ce.jsx)("span",{children:"\u2003"}),t.toLocaleString([],{hour:"2-digit",minute:"2-digit",hour12:!0}).toUpperCase()]})},openDateTimePicker:qe,handleDateChange:function(e){try{et(!1)}finally{We(e),Ue(!1)}}})}),Object(ce.jsx)("div",{style:{marginTop:"2rem"}}),Object(ce.jsx)(Ae,{day_generation:w.day_generation,revenue:1e3*w.day_generation*7.28,peak_power:w.peak_power,ghi:w.ghi,gti:w.gti,plant_pr:w.plant_pr,grid_availability:w.grid_availability,plant_availability:w.plant_availability}),Object(ce.jsxs)(C.a,{container:!0,spacing:6,style:{marginTop:"1rem"},children:[Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(_e,{totalExport:P,maxValue:40})}),Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(se,{ambientTemp:M,moduleTemp:Y,humidity:Q})}),Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(Ke,{windDirection:ne,windSpeed:oe,rain:me})})]}),Object(ce.jsxs)(S.a,{elevation:6,style:{marginTop:"2.5rem",height:"500px",width:"100%"},children:[Object(ce.jsx)(V.a,{variant:"h6",color:"textSecondary",style:{marginLeft:"1.5rem",marginTop:"1rem",marginBottom:"1.5rem"},children:"Irradiance / Generation"}),Object(ce.jsx)(ue,{data:xe,interval:12,leftAxisY:[0,1500],rightAxisY:[0,50]})]}),Object(ce.jsx)(C.a,{container:!0,style:{marginTop:"3rem"},children:Object(ce.jsxs)(C.a,{item:!0,xs:12,children:[Object(ce.jsxs)(C.a,{container:!0,spacing:2,alignItems:"center",style:{marginBottom:".5rem"},children:[Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(V.a,{variant:"h6",color:"textSecondary",children:"Inverter Values"})}),Object(ce.jsx)(C.a,{item:!0,className:r.grow}),Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsxs)(V.a,{style:{marginLeft:".25rem"},children:["Selected Block:"," "]})}),Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(v.a,{className:r.formControl,children:Object(ce.jsxs)(Z.a,{value:ve,onChange:function(e){Ce(e.target.value),localStorage.setItem("siteInverterTableBlock",e.target.value);var t=new Date;t.setDate((new Date).getDate()-1),t.setHours(23,50,0,0);var a=new Date(b);a.setHours(5,0,0,0);var n=a.getTime();at(e.target.value,t.getTime(),b,n)},children:[Object(ce.jsx)(B.a,{value:1,children:"B01"}),Object(ce.jsx)(B.a,{value:2,children:"B02"}),Object(ce.jsx)(B.a,{value:3,children:"B03"}),Object(ce.jsx)(B.a,{value:4,children:"B04"}),Object(ce.jsx)(B.a,{value:5,children:"B05"}),Object(ce.jsx)(B.a,{value:6,children:"B06"}),Object(ce.jsx)(B.a,{value:7,children:"B07"}),Object(ce.jsx)(B.a,{value:8,children:"B08"}),Object(ce.jsx)(B.a,{value:9,children:"B09"})]})})})]}),Object(ce.jsx)(yn,{values:Ie})]})}),Object(ce.jsx)(J.a,{open:He,anchorOrigin:{vertical:"bottom",horizontal:"left"},autoHideDuration:4e3,onClose:tt,children:Object(ce.jsx)(Tn,{onClose:tt,severity:"success",children:"Time is reset!"})}),Object(ce.jsx)("div",{style:{marginBottom:"2rem"}})]})}var wn=Object(Oe.a)((function(e){return{head:{backgroundColor:"#ffffbf",color:e.palette.common.black,fontSize:16},body:{fontSize:16}}}))(Se.a),Nn=Object(Oe.a)((function(e){return{root:{"&:nth-of-type(odd)":{backgroundColor:e.palette.action.hover}}}}))(ve.a),Bn=Object(D.a)({tableContainer:{maxHeight:"80vh"}}),Ln=function(e){var t=e.value,a=null;return Object(ce.jsxs)(Nn,{children:[Object(ce.jsx)(wn,{component:"th",scope:"row",style:{paddingTop:".6rem",paddingBottom:".6rem",backgroundColor:a},children:Object(ce.jsx)("strong",{style:{paddingLeft:"2.5rem"},children:t.heading})}),Object(ce.jsx)(wn,{align:"center",style:{backgroundColor:a},children:Object(ce.jsx)("span",{children:isNaN(Number(t.inv1))?"-":-111===Number(t.inv1)?"x":Number(t.inv1).toFixed(2)})}),Object(ce.jsx)(wn,{align:"center",style:{backgroundColor:a},children:Object(ce.jsx)("span",{children:isNaN(Number(t.inv2))?"-":-111===Number(t.inv2)?"x":Number(t.inv2).toFixed(2)})})]})},Dn=function(e){var t=e.value;return Object(ce.jsxs)(Nn,{children:[Object(ce.jsx)(wn,{component:"th",scope:"row",style:{paddingTop:".6rem",paddingBottom:".6rem"},children:Object(ce.jsx)("strong",{style:{paddingLeft:"1rem"},children:t.heading})}),Object(ce.jsx)(wn,{align:"center",children:isNaN(Number(t.inv1))?"-":-111===Number(t.inv1)?"x":Number(t.inv1).toFixed(2)}),Object(ce.jsx)(wn,{align:"center",children:isNaN(Number(t.inv2))?"-":-111===Number(t.inv2)?"x":Number(t.inv2).toFixed(2)})]})};function Pn(e){var t=e.values,a=Bn(),c=Object(n.useState)([]),r=Object(u.a)(c,2),s=r[0],l=r[1],o=i.a.useState(!1),j=Object(u.a)(o,2),d=j[0],b=j[1],m=i.a.useState(!1),h=Object(u.a)(m,2),O=h[0],g=h[1],x=function(e){var t=e.title,a=e.tag,n=e.openRows;return Object(ce.jsx)(Nn,{children:Object(ce.jsxs)(wn,{component:"th",scope:"row",colSpan:3,style:{backgroundColor:"#EBF5FB"},children:[Object(ce.jsx)("strong",{style:{paddingLeft:"1rem",paddingRight:".5rem",color:"#000"},children:t}),Object(ce.jsx)(y.a,{"aria-label":"expand row",size:"small",onClick:function(){return function(e){"S"===e?b((function(e){return!e})):g((function(e){return!e}))}(a)},style:{color:"#000"},children:n?Object(ce.jsx)(Ie.a,{}):Object(ce.jsx)(ye.a,{})})]})})};return Object(n.useEffect)((function(){for(var e=[],a=[],n=[],i=null,c=null,r=0;r<t.length;r++)t[r].heading.match(/S[1-4] [^/]/i)?(i||(i=r,n.push(Object(ce.jsx)(x,{title:"Inverter Slots",tag:"S",openRows:d},r))),r,e.push(Object(ce.jsx)(Ln,{value:t[r]},t[r].heading))):t[r].heading.match(/[S]3[0-4]|2[0-9]|1[0-9]|[1-9] [/] S[1-4]CB/i)?(c||(c=r,n.push(Object(ce.jsx)(x,{title:"Inverter Strings",tag:"PV",openRows:O},r))),r,a.push(Object(ce.jsx)(Ln,{value:t[r]},t[r].heading))):n.push(Object(ce.jsx)(Dn,{value:t[r]},r));var s,o=[].concat(n);if(d&&O)(s=o).splice.apply(s,[i+1,0].concat(e)),o=[].concat(Object(me.a)(o),[a]);else if(d&&!O){var j;(j=o).splice.apply(j,[i+1,0].concat(e))}else o=!d&&O?[].concat(Object(me.a)(o),[a]):[].concat(n);l(o)}),[t,d,O]),Object(ce.jsx)(pe.a,{component:he.a,elevation:6,className:a.tableContainer,children:Object(ce.jsxs)(ge.a,{stickyHeader:!0,"aria-label":"customized table",size:"small",children:[Object(ce.jsx)(fe.a,{children:Object(ce.jsxs)(ve.a,{children:[Object(ce.jsx)(wn,{style:{paddingTop:".7rem",paddingLeft:"1.75rem",paddingBottom:".7rem"},children:Object(ce.jsx)("strong",{children:"Parameters"})}),Object(ce.jsx)(wn,{align:"center",children:Object(ce.jsx)("strong",{children:"Inv 1"})}),Object(ce.jsx)(wn,{align:"center",children:Object(ce.jsx)("strong",{children:"Inv 2"})})]})}),Object(ce.jsx)(xe.a,{children:s})]})})}function Fn(e){return Object(ce.jsx)($.a,Object(h.a)({elevation:6,variant:"filled"},e))}var Vn=Object(D.a)((function(e){return{grow:{flexGrow:1},gaugeChartStyle:{marginTop:e.spacing(12)},formControl:{minWidth:120},modalCardStyle:{width:340,height:"fit-content"},gridBreakpoint:Object(m.a)({},e.breakpoints.up("md"),{})}}));function An(e){var t=e.handleSessionExpire,a=e.handleClickOpen,c=e.sitestatusBar,r=Vn(),s=$e().intervalTime,l=(localStorage.getItem("username","Admin"),localStorage.getItem("userToken")),o=(localStorage.getItem("userId"),K),j=Object(n.useState)((new Date).getTime()),d=Object(u.a)(j,2),b=d[0],m=d[1],h=Object(n.useState)(0),O=Object(u.a)(h,2),g=O[0],x=O[1],p=Object(n.useState)(void 0),f=Object(u.a)(p,2),y=f[0],T=f[1],I=Object(n.useState)({}),k=Object(u.a)(I,2),w=k[0],N=k[1],L=Object(n.useState)(0),D=Object(u.a)(L,2),P=D[0],F=D[1],A=Object(n.useState)(0),E=Object(u.a)(A,2),H=(E[0],E[1]),_=Object(n.useState)(0),z=Object(u.a)(_,2),M=z[0],R=z[1],G=Object(n.useState)(0),W=Object(u.a)(G,2),Y=W[0],q=W[1],U=Object(n.useState)(0),$=Object(u.a)(U,2),Q=$[0],ee=$[1],te=Object(n.useState)(0),ae=Object(u.a)(te,2),ne=ae[0],ie=ae[1],re=Object(n.useState)(0),le=Object(u.a)(re,2),oe=le[0],je=le[1],de=Object(n.useState)(0),be=Object(u.a)(de,2),me=be[0],he=be[1],Oe=Object(n.useState)([{time:"00:00",gti:"0.00",ghi:"0.00",pg:"0.00"}]),ge=Object(u.a)(Oe,2),xe=ge[0],Se=ge[1],pe=i.a.useState(1),fe=Object(u.a)(pe,2),ve=fe[0],Ce=fe[1],ye=Object(n.useState)([]),Te=Object(u.a)(ye,2),Ie=Te[0],ke=Te[1],we=Object(n.useState)(0),Ne=Object(u.a)(we,2),Be=Ne[0],Le=Ne[1];Object(n.useEffect)((function(){0!==Be&&nt(b)}),[Be]);var De=function(){return 0!==Be?"1":"0"},Pe=function(){return Be>0?"1":"0"},Fe=null,Ve=Object(n.useState)(!1),Ee=Object(u.a)(Ve,2),He=Ee[0],ze=Ee[1],Me=Object(n.useState)(new Date),Re=Object(u.a)(Me,2),Ge=Re[0],We=Re[1],Xe=Object(n.useState)(!1),Ye=Object(u.a)(Xe,2),qe=Ye[0],Ue=Ye[1],Ze=Object(n.useState)(!0),Je=Object(u.a)(Ze,2),Qe=Je[0],et=Je[1],tt=function(){ze(!1)};Object(n.useEffect)((function(){m(Ge.getTime())}),[Ge]);var at=function(e,t,a,n){X.a.get(o+"/bhadlal2/grid/B"+String(e).padStart(2,0),{headers:{jwtToken:l,startTime:t,endTime:a,beginTime:n,enablePacket:De(),clientPacketTime:y,isNext:Pe()}}).then((function(e){!function(e){for(var t=[],a=Object.entries(e),n=["L1 I","L2 I","L3 I","L1 V","L2 V","L3 V","Frequency","DC I","DC V","Active Power","DC Power","Reactive Power","PF","Cab Temp","IGBT Temp","DC Energy","S1 L1 I","S1 L2 I","S1 L3 I","S1 L1 V","S1 L2 V","S1 L3 V","S1 DC I","S1 DC V","S1 Active Power","S1 DC Power","S1 PF","S1 IGBT Temp","S2 L1 I","S2 L2 I","S2 L3 I","S2 L1 V","S2 L2 V","S2 L3 V","S2 DC I","S2 DC V","S2 Active Power","S2 DC Power","S2 PF","S2 IGBT Temp","S3 L1 I","S3 L2 I","S3 L3 I","S3 L1 V","S3 L2 V","S3 L3 V","S3 DC I","S3 DC V","S3 Active Power","S3 DC Power","S3 PF","S3 IGBT Temp","S4 L1 I","S4 L2 I","S4 L3 I","S4 L1 V","S4 L2 V","S4 L3 V","S4 DC I","S4 DC V","S4 Active Power","S4 DC Power","S4 PF","S4 IGBT Temp","S1 + S2 Peak Active Power","S3 + S4 Peak Active Power","S1 / S1CB1 I","S2 / S1CB2 I","S3 / S1CB3 I","S4 / S1CB4 I","S5 / S1CB5 I","S6 / S1CB6 I","S7 / S1CB7 I","S8 / S1CB8 I","S9 / S2CB1 I","S10 / S2CB2 I","S11 / S2CB3 I","S12 / S2CB4 I","S13 / S2CB5 I","S14 / S2CB6 I","S15 / S2CB7 I","S16 / S2CB8 I","S17 / S3CB1 I","S18 / S3CB2 I","S19 / S3CB3 I","S20 / S3CB4 I","S21 / S3CB5 I","S22 / S3CB6 I","S23 / S3CB7 I","S24 / S3CB8 I","S25 / S4CB1 I","S26 / S4CB2 I","S27 / S4CB3 I","S28 / S4CB4 I","S29 / S4CB5 I","S30 / S4CB6 I","S31 / S4CB7 I","S32 / S4CB8 I"],i=0;i<n.length;i++){var c=NaN,r=NaN,s=NaN,l=NaN,o=NaN;try{a[i][1]&&(c=a[i][1]),a[n.length+i][1]&&(r=a[n.length+i][1]),a[2*n.length+i][1]&&(s=a[2*n.length+i][1]),a[3*n.length+i][1]&&(l=a[3*n.length+i][1]),a[4*n.length+i][1]&&(o=a[4*n.length+i][1])}catch(j){}t.push({heading:n[i],inv1:c,inv2:r,inv3:s,inv4:l,inv5:o})}ke([].concat(t))}(e.data)})).catch((function(e){}))},nt=function(e){var a=1623696973e3,n=e;n=Qe?Date.now():e;var i=new Date(n);i.setHours(5,0,0,0);var c=i.getTime();!function(e,a,n){X.a.get(o+"/bhadlal2/site",{headers:{jwtToken:l,startTime:e,endTime:a,beginTime:n,enablePacket:De(),clientPacketTime:y,isNext:Pe()}}).then((function(e){x(e.data.status),T(1e3*e.data.time)})).catch((function(e){var a;401===(null===e||void 0===e||null===(a=e.response)||void 0===a?void 0:a.status)&&t()}))}(a,n,c),function(e,t,a){X.a.get(o+"/bhadlal2/boxes",{headers:{jwtToken:l,startTime:e,endTime:t,beginTime:a,enablePacket:De(),clientPacketTime:y,isNext:Pe()}}).then((function(e){N(e.data)})).catch((function(e){}))}(a,n,c),function(e,t,a){X.a.get(o+"/bhadlal2/gauge",{headers:{jwtToken:l,startTime:e,endTime:t,beginTime:a,enablePacket:De(),clientPacketTime:y,isNext:Pe()}}).then((function(e){var t=e.data.value;F(Number(t).toFixed(2)),H(Number(t).toFixed(1)/50)})).catch((function(e){}))}(a,n,c),function(e,t,a){X.a.get(o+"/bhadlal2/temperature",{headers:{jwtToken:l,startTime:e,endTime:t,beginTime:a,enablePacket:De(),clientPacketTime:y,isNext:Pe()}}).then((function(e){var t=e.data.ambientTemp,a=e.data.moduleTemp,n=e.data.humidity;R(Number(t).toFixed(1)),q(Number(a).toFixed(1)),ee(Number(n).toFixed(1))})).catch((function(e){}))}(a,n,c),function(e,t,a){X.a.get(o+"/bhadlal2/wind",{headers:{jwtToken:l,startTime:e,endTime:t,beginTime:a,enablePacket:De(),clientPacketTime:y,isNext:Pe()}}).then((function(e){var t=e.data.direction,a=e.data.speed;e.data.rain,ie(Number(t).toFixed(0)),je(Number(a).toFixed(1)),he(Number(e.data.rain).toFixed(1))})).catch((function(e){}))}(a,n,c),function(e,t,a){X.a.get(o+"/bhadlal2/graph",{headers:{jwtToken:l,startTime:e,endTime:t,beginTime:a,enablePacket:De(),clientPacketTime:y,isNext:Pe()}}).then((function(e){Se(e.data)})).catch((function(e){}))}(a,n,c),at(ve,a,n,c)};Object(n.useEffect)((function(){(Fe=document.getElementById("timeSliderLabel2"))&&(Fe.innerText=(new Date).toLocaleString([],{hour:"2-digit",minute:"2-digit",hour12:!0}).toUpperCase()),nt(b);var e=setInterval((function(){nt(b)}),s);return function(){clearInterval(e)}}),[b]);var it=Object(n.useState)("space-between"),ct=Object(u.a)(it,2),st=(ct[0],ct[1]);return Object(n.useLayoutEffect)((function(){window.matchMedia("(min-width: 1280px)").matches?st("space-between"):st("flex-start")}),[]),Object(ce.jsxs)(i.a.Fragment,{children:[Object(ce.jsx)(C.a,{container:!0,justifyContent:"space-between",alignItems:"center",children:Object(ce.jsx)(rt,{sitestatusBar:c,status:g,timestamp:y,handleClickOpen:a,handleTimeReset:function(){Le(0);var e=new Date;We(e),m(e.getTime()),ze(!0),et(!0)},setIsNextCount:Le,setOpenDateTimePicker:Ue,getMinDateForPicker:function(){return new Date(16273224e5)},selectedDate:Ge,getFormattedDateAndTimeString:function(e){var t=new Date(e);return Object(ce.jsxs)("span",{children:[String(t.getDate()).padStart(2,"0"),"/",String(t.getMonth()+1).padStart(2,"0"),"/",t.getFullYear(),Object(ce.jsx)("span",{children:"\u2003"}),t.toLocaleString([],{hour:"2-digit",minute:"2-digit",hour12:!0}).toUpperCase()]})},openDateTimePicker:qe,handleDateChange:function(e){try{et(!1)}finally{We(e),Ue(!1)}}})}),Object(ce.jsx)("div",{style:{marginTop:"2rem"}}),Object(ce.jsx)(Ae,{day_generation:w.day_generation,revenue:1e3*w.day_generation*2.44,peak_power:w.peak_power,ghi:w.ghi,gti:w.gti,plant_pr:w.plant_pr,grid_availability:100*w.grid_availability,plant_availability:100*w.plant_availability}),Object(ce.jsxs)(C.a,{container:!0,spacing:6,style:{marginTop:"1rem"},children:[Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(_e,{totalExport:P,maxValue:150})}),Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(se,{ambientTemp:M,moduleTemp:Y,humidity:Q})}),Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(Ke,{windDirection:ne,windSpeed:oe,rain:me})})]}),Object(ce.jsxs)(S.a,{elevation:6,style:{marginTop:"2.5rem",height:"500px",width:"100%"},children:[Object(ce.jsx)(V.a,{variant:"h6",color:"textSecondary",style:{marginLeft:"1.5rem",marginTop:"1rem",marginBottom:"1.5rem"},children:"Irradiance / Generation"}),Object(ce.jsx)(ue,{data:xe,interval:12,leftAxisY:[0,1500],rightAxisY:[0,120]})]}),Object(ce.jsx)(C.a,{container:!0,style:{marginTop:"3rem"},children:Object(ce.jsxs)(C.a,{item:!0,xs:12,children:[Object(ce.jsxs)(C.a,{container:!0,spacing:2,alignItems:"center",style:{marginBottom:".5rem"},children:[Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(V.a,{variant:"h6",color:"textSecondary",children:"Inverter Values"})}),Object(ce.jsx)(C.a,{item:!0,className:r.grow}),Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsxs)(V.a,{style:{marginLeft:".25rem"},children:["Selected Block:"," "]})}),Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(v.a,{className:r.formControl,children:Object(ce.jsxs)(Z.a,{value:ve,onChange:function(e){Ce(e.target.value);var t=new Date;t.setDate((new Date).getDate()-1),t.setHours(23,50,0,0);var a=new Date(b);a.setHours(5,0,0,0);var n=a.getTime();at(e.target.value,t.getTime(),b,n)},children:[Object(ce.jsx)(B.a,{value:1,children:"B01"}),Object(ce.jsx)(B.a,{value:2,children:"B02"}),Object(ce.jsx)(B.a,{value:3,children:"B03"}),Object(ce.jsx)(B.a,{value:4,children:"B04"}),Object(ce.jsx)(B.a,{value:5,children:"B05"}),Object(ce.jsx)(B.a,{value:6,children:"B06"}),Object(ce.jsx)(B.a,{value:7,children:"B07"}),Object(ce.jsx)(B.a,{value:8,children:"B08"}),Object(ce.jsx)(B.a,{value:9,children:"B09"}),Object(ce.jsx)(B.a,{value:10,children:"B10"}),Object(ce.jsx)(B.a,{value:11,children:"B11"}),Object(ce.jsx)(B.a,{value:12,children:"B12"}),Object(ce.jsx)(B.a,{value:13,children:"B13"}),Object(ce.jsx)(B.a,{value:14,children:"B14"})]})})})]}),Object(ce.jsx)(Pn,{values:Ie})]})}),Object(ce.jsx)(J.a,{open:He,anchorOrigin:{vertical:"bottom",horizontal:"left"},autoHideDuration:4e3,onClose:tt,children:Object(ce.jsx)(Fn,{onClose:tt,severity:"success",children:"Time is reset!"})}),Object(ce.jsx)("div",{style:{marginBottom:"2rem"}})]})}var En=Object(Oe.a)((function(e){return{head:{backgroundColor:"#ffffbf",color:e.palette.common.black,fontSize:16},body:{fontSize:16}}}))(Se.a),Hn=Object(Oe.a)((function(e){return{root:{"&:nth-of-type(odd)":{backgroundColor:e.palette.action.hover}}}}))(ve.a),_n=Object(D.a)({tableContainer:{maxHeight:"80vh"}}),zn=function(e){var t=e.value,a=null;return Object(ce.jsxs)(Hn,{children:[Object(ce.jsx)(En,{component:"th",scope:"row",style:{paddingTop:".6rem",paddingBottom:".6rem",backgroundColor:a},children:Object(ce.jsx)("strong",{style:{paddingLeft:"2.5rem"},children:t.heading})}),Object(ce.jsx)(En,{align:"center",style:{backgroundColor:a},children:Object(ce.jsx)("span",{children:isNaN(Number(t.inv1))?"-":-111===Number(t.inv1)?"x":Number(t.inv1).toFixed(2)})}),Object(ce.jsx)(En,{align:"center",style:{backgroundColor:a},children:Object(ce.jsx)("span",{children:isNaN(Number(t.inv2))?"-":-111===Number(t.inv2)?"x":Number(t.inv2).toFixed(2)})}),Object(ce.jsx)(En,{align:"center",style:{backgroundColor:a},children:Object(ce.jsx)("span",{children:isNaN(Number(t.inv3))?"-":-111===Number(t.inv3)?"x":Number(t.inv3).toFixed(2)})}),Object(ce.jsx)(En,{align:"center",style:{backgroundColor:a},children:Object(ce.jsx)("span",{children:isNaN(Number(t.inv4))?"-":-111===Number(t.inv4)?"x":Number(t.inv4).toFixed(2)})})]})},Mn=function(e){var t=e.value;return Object(ce.jsxs)(Hn,{children:[Object(ce.jsx)(En,{component:"th",scope:"row",style:{paddingTop:".6rem",paddingBottom:".6rem"},children:Object(ce.jsx)("strong",{style:{paddingLeft:"1rem"},children:t.heading})}),Object(ce.jsx)(En,{align:"center",children:isNaN(Number(t.inv1))?"-":-111===Number(t.inv1)?"x":Number(t.inv1).toFixed(2)}),Object(ce.jsx)(En,{align:"center",children:isNaN(Number(t.inv2))?"-":-111===Number(t.inv2)?"x":Number(t.inv2).toFixed(2)}),Object(ce.jsx)(En,{align:"center",children:isNaN(Number(t.inv3))?"-":-111===Number(t.inv3)?"x":Number(t.inv3).toFixed(2)}),Object(ce.jsx)(En,{align:"center",children:isNaN(Number(t.inv4))?"-":-111===Number(t.inv4)?"x":Number(t.inv4).toFixed(2)})]})};function Rn(e){var t=e.values,a=_n(),c=Object(n.useState)([]),r=Object(u.a)(c,2),s=r[0],l=r[1],o=i.a.useState(!1),j=Object(u.a)(o,2),d=j[0],b=j[1],m=i.a.useState(!1),h=Object(u.a)(m,2),O=h[0],g=h[1],x=function(e){var t=e.title,a=e.tag,n=e.openRows;return Object(ce.jsx)(Hn,{children:Object(ce.jsxs)(En,{component:"th",scope:"row",colSpan:6,style:{backgroundColor:"#EBF5FB"},children:[Object(ce.jsx)("strong",{style:{paddingLeft:"1rem",paddingRight:".5rem",color:"#000"},children:t}),Object(ce.jsx)(y.a,{"aria-label":"expand row",size:"small",onClick:function(){return function(e){"S"===e?b((function(e){return!e})):g((function(e){return!e}))}(a)},style:{color:"#000"},children:n?Object(ce.jsx)(Ie.a,{}):Object(ce.jsx)(ye.a,{})})]})})};return Object(n.useEffect)((function(){for(var e=[],a=[],n=[],i=null,c=null,r=0;r<t.length;r++)t[r].heading.match(/S[1-4] [^/]/i)?(i||(i=r,n.push(Object(ce.jsx)(x,{title:"Inverter Slots",tag:"S",openRows:d},r))),r,e.push(Object(ce.jsx)(zn,{value:t[r]},t[r].heading))):t[r].heading.match(/[S]3[0-4]|2[0-9]|1[0-9]|[1-9] [/] S[1-4]CB/i)?(c||(c=r,n.push(Object(ce.jsx)(x,{title:"Inverter Strings",tag:"PV",openRows:O},r))),r,a.push(Object(ce.jsx)(zn,{value:t[r]},t[r].heading))):n.push(Object(ce.jsx)(Mn,{value:t[r]},r));var s,o=[].concat(n);if(d&&O)(s=o).splice.apply(s,[i+1,0].concat(e)),o=[].concat(Object(me.a)(o),[a]);else if(d&&!O){var j;(j=o).splice.apply(j,[i+1,0].concat(e))}else o=!d&&O?[].concat(Object(me.a)(o),[a]):[].concat(n);l(o)}),[t,d,O]),Object(ce.jsx)(pe.a,{component:he.a,elevation:6,className:a.tableContainer,children:Object(ce.jsxs)(ge.a,{stickyHeader:!0,"aria-label":"customized table",size:"small",children:[Object(ce.jsx)(fe.a,{children:Object(ce.jsxs)(ve.a,{children:[Object(ce.jsx)(En,{style:{paddingTop:".7rem",paddingLeft:"1.75rem",paddingBottom:".7rem"},children:Object(ce.jsx)("strong",{children:"Parameters"})}),Object(ce.jsx)(En,{align:"center",children:Object(ce.jsx)("strong",{children:"Inv 1"})}),Object(ce.jsx)(En,{align:"center",children:Object(ce.jsx)("strong",{children:"Inv 2"})}),Object(ce.jsx)(En,{align:"center",children:Object(ce.jsx)("strong",{children:"Inv 3"})}),Object(ce.jsx)(En,{align:"center",children:Object(ce.jsx)("strong",{children:"Inv 4"})})]})}),Object(ce.jsx)(xe.a,{children:s})]})})}function Gn(e){return Object(ce.jsx)($.a,Object(h.a)({elevation:6,variant:"filled"},e))}var Wn=Object(D.a)((function(e){return{grow:{flexGrow:1},gaugeChartStyle:{marginTop:e.spacing(12)},formControl:{minWidth:120},modalCardStyle:{width:340,height:"fit-content"},gridBreakpoint:Object(m.a)({},e.breakpoints.up("md"),{})}}));function Xn(e){e.handleSessionExpire;var t=e.handleClickOpen,a=e.sitestatusBar,c=Wn(),r=$e().intervalTime,s=(localStorage.getItem("username","Admin"),localStorage.getItem("userToken")),l=(localStorage.getItem("userId"),K),o=Object(n.useState)((new Date).getTime()),j=Object(u.a)(o,2),d=j[0],b=j[1],m=Object(n.useState)(0),h=Object(u.a)(m,2),O=h[0],g=h[1],x=Object(n.useState)(void 0),p=Object(u.a)(x,2),f=p[0],y=p[1],T=Object(n.useState)({}),I=Object(u.a)(T,2),k=I[0],w=I[1],N=Object(n.useState)(0),L=Object(u.a)(N,2),D=L[0],P=L[1],F=Object(n.useState)(0),A=Object(u.a)(F,2),E=(A[0],A[1]),H=Object(n.useState)(0),_=Object(u.a)(H,2),z=_[0],M=_[1],R=Object(n.useState)(0),G=Object(u.a)(R,2),W=G[0],Y=G[1],q=Object(n.useState)(0),U=Object(u.a)(q,2),$=U[0],Q=U[1],ee=Object(n.useState)(0),te=Object(u.a)(ee,2),ae=te[0],ne=te[1],ie=Object(n.useState)(0),re=Object(u.a)(ie,2),le=re[0],oe=re[1],je=Object(n.useState)(0),de=Object(u.a)(je,2),be=de[0],me=de[1],he=Object(n.useState)([{time:"00:00",gti:"0.00",ghi:"0.00",pg:"0.00"}]),Oe=Object(u.a)(he,2),ge=Oe[0],xe=Oe[1],Se=i.a.useState(1),pe=Object(u.a)(Se,2),fe=pe[0],ve=pe[1],Ce=Object(n.useState)([]),ye=Object(u.a)(Ce,2),Te=ye[0],Ie=ye[1],ke=Object(n.useState)(0),we=Object(u.a)(ke,2),Ne=we[0],Be=we[1];Object(n.useEffect)((function(){0!==Ne&&at(d)}),[Ne]);var Le=function(){return 0!==Ne?"1":"0"},De=function(){return Ne>0?"1":"0"},Pe=null,Fe=Object(n.useState)(!1),Ve=Object(u.a)(Fe,2),Ee=Ve[0],He=Ve[1],ze=Object(n.useState)(new Date),Me=Object(u.a)(ze,2),Re=Me[0],Ge=Me[1],We=Object(n.useState)(!1),Xe=Object(u.a)(We,2),Ye=Xe[0],qe=Xe[1],Ue=Object(n.useState)(!0),Ze=Object(u.a)(Ue,2),Je=Ze[0],Qe=Ze[1],et=function(){He(!1)};Object(n.useEffect)((function(){b(Re.getTime())}),[Re]);var tt=function(e,t,a,n){X.a.get(l+"/jhandekalan/grid/B0"+e,{headers:{jwtToken:s,startTime:t,endTime:a,beginTime:n,enablePacket:Le(),clientPacketTime:f,isNext:De()}}).then((function(e){!function(e){for(var t=[],a=Object.entries(e),n=["L1 I","L2 I","L3 I","L1 V","L2 V","L3 V","Frequency","DC I","DC V","Active Power","DC Power","Reactive Power","PF","Cab Temp","IGBT Temp","DC Energy","S1 L1 I","S1 L2 I","S1 L3 I","S1 L1 V","S1 L2 V","S1 L3 V","S1 DC I","S1 DC V","S1 Active Power","S1 DC Power","S1 PF","S1 IGBT Temp","S2 L1 I","S2 L2 I","S2 L3 I","S2 L1 V","S2 L2 V","S2 L3 V","S2 DC I","S2 DC V","S2 Active Power","S2 DC Power","S2 PF","S2 IGBT Temp","S3 L1 I","S3 L2 I","S3 L3 I","S3 L1 V","S3 L2 V","S3 L3 V","S3 DC I","S3 DC V","S3 Active Power","S3 DC Power","S3 PF","S3 IGBT Temp","S4 L1 I","S4 L2 I","S4 L3 I","S4 L1 V","S4 L2 V","S4 L3 V","S4 DC I","S4 DC V","S4 Active Power","S4 DC Power","S4 PF","S4 IGBT Temp","S1 + S2 Peak Active Power","S3 + S4 Peak Active Power","S1 / S1CB1 I","S2 / S1CB2 I","S3 / S1CB3 I","S4 / S1CB4 I","S5 / S1CB5 I","S6 / S1CB6 I","S7 / S1CB7 I","S8 / S1CB8 I","S9 / S2CB1 I","S10 / S2CB2 I","S11 / S2CB3 I","S12 / S2CB4 I","S13 / S2CB5 I","S14 / S2CB6 I","S15 / S2CB7 I","S16 / S2CB8 I","S17 / S3CB1 I","S18 / S3CB2 I","S19 / S3CB3 I","S20 / S3CB4 I","S21 / S3CB5 I","S22 / S3CB6 I","S23 / S3CB7 I","S24 / S3CB8 I","S25 / S4CB1 I","S26 / S4CB2 I","S27 / S4CB3 I","S28 / S4CB4 I","S29 / S4CB5 I","S30 / S4CB6 I","S31 / S4CB7 I","S32 / S4CB8 I"],i=0;i<n.length;i++){var c=NaN,r=NaN,s=NaN,l=NaN,o=NaN;try{a[i][1]&&(c=a[i][1]),a[n.length+i][1]&&(r=a[n.length+i][1]),a[2*n.length+i][1]&&(s=a[2*n.length+i][1]),a[3*n.length+i][1]&&(l=a[3*n.length+i][1]),a[4*n.length+i][1]&&(o=a[4*n.length+i][1])}catch(j){}t.push({heading:n[i],inv1:c,inv2:r,inv3:s,inv4:l,inv5:o})}Ie([].concat(t))}(e.data)})).catch((function(e){}))},at=function(e){var t=1623696973e3,a=e;a=Je?Date.now():e;var n=new Date(a);n.setHours(5,0,0,0);var i=n.getTime();!function(e,t,a){X.a.get(l+"/jhandekalan/site",{headers:{jwtToken:s,startTime:e,endTime:t,beginTime:a,enablePacket:Le(),clientPacketTime:f,isNext:De()}}).then((function(e){g(e.data.status),y(1e3*e.data.time)})).catch((function(e){}))}(t,a,i),function(e,t,a){X.a.get(l+"/jhandekalan/boxes",{headers:{jwtToken:s,startTime:e,endTime:t,beginTime:a,enablePacket:Le(),clientPacketTime:f,isNext:De()}}).then((function(e){w(e.data)})).catch((function(e){}))}(t,a,i),function(e,t,a){X.a.get(l+"/jhandekalan/gauge",{headers:{jwtToken:s,startTime:e,endTime:t,beginTime:a,enablePacket:Le(),clientPacketTime:f,isNext:De()}}).then((function(e){var t=e.data.value;P(Number(t).toFixed(2)),E(Number(t).toFixed(1)/50)})).catch((function(e){}))}(t,a,i),function(e,t,a){X.a.get(l+"/jhandekalan/temperature",{headers:{jwtToken:s,startTime:e,endTime:t,beginTime:a,enablePacket:Le(),clientPacketTime:f,isNext:De()}}).then((function(e){var t=e.data.ambientTemp,a=e.data.moduleTemp,n=e.data.humidity;M(Number(t).toFixed(1)),Y(Number(a).toFixed(1)),Q(Number(n).toFixed(1))})).catch((function(e){}))}(t,a,i),function(e,t,a){X.a.get(l+"/jhandekalan/wind",{headers:{jwtToken:s,startTime:e,endTime:t,beginTime:a,enablePacket:Le(),clientPacketTime:f,isNext:De()}}).then((function(e){var t=e.data.direction,a=e.data.speed;e.data.rain,ne(Number(t).toFixed(0)),oe(Number(a).toFixed(1)),me(Number(e.data.rain).toFixed(1))})).catch((function(e){}))}(t,a,i),function(e,t,a){X.a.get(l+"/jhandekalan/graph",{headers:{jwtToken:s,startTime:e,endTime:t,beginTime:a,enablePacket:Le(),clientPacketTime:f,isNext:De()}}).then((function(e){xe(e.data)})).catch((function(e){}))}(t,a,i),tt(fe,t,a,i)};Object(n.useEffect)((function(){(Pe=document.getElementById("timeSliderLabel2"))&&(Pe.innerText=(new Date).toLocaleString([],{hour:"2-digit",minute:"2-digit",hour12:!0}).toUpperCase()),at(d);var e=setInterval((function(){at(d)}),r);return function(){clearInterval(e)}}),[d]);var nt=Object(n.useState)("space-between"),it=Object(u.a)(nt,2),ct=(it[0],it[1]);return Object(n.useLayoutEffect)((function(){window.matchMedia("(min-width: 1280px)").matches?ct("space-between"):ct("flex-start")}),[]),Object(ce.jsxs)(i.a.Fragment,{children:[Object(ce.jsx)(C.a,{container:!0,justifyContent:"space-between",alignItems:"center",children:Object(ce.jsx)(rt,{sitestatusBar:a,status:O,timestamp:f,handleClickOpen:t,handleTimeReset:function(){Be(0);var e=new Date;Ge(e),b(e.getTime()),He(!0),Qe(!0)},setIsNextCount:Be,setOpenDateTimePicker:qe,getMinDateForPicker:function(){return new Date(1627344e6)},selectedDate:Re,getFormattedDateAndTimeString:function(e){var t=new Date(e);return Object(ce.jsxs)("span",{children:[String(t.getDate()).padStart(2,"0"),"/",String(t.getMonth()+1).padStart(2,"0"),"/",t.getFullYear(),Object(ce.jsx)("span",{children:"\u2003"}),t.toLocaleString([],{hour:"2-digit",minute:"2-digit",hour12:!0}).toUpperCase()]})},openDateTimePicker:Ye,handleDateChange:function(e){try{Qe(!1)}finally{Ge(e),qe(!1)}}})}),Object(ce.jsx)("div",{style:{marginTop:"2rem"}}),Object(ce.jsx)(Ae,{day_generation:k.day_generation,revenue:1e3*k.day_generation*7.16,peak_power:k.peak_power,ghi:k.ghi,gti:k.gti,plant_pr:k.plant_pr,grid_availability:k.grid_availability,plant_availability:k.plant_availability}),Object(ce.jsxs)(C.a,{container:!0,spacing:6,style:{marginTop:"1rem"},children:[Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(_e,{totalExport:D,maxValue:40})}),Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(se,{ambientTemp:z,moduleTemp:W,humidity:$})}),Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(Ke,{windDirection:ae,windSpeed:le,rain:be})})]}),Object(ce.jsxs)(S.a,{elevation:6,style:{marginTop:"2.5rem",height:"500px",width:"100%"},children:[Object(ce.jsx)(V.a,{variant:"h6",color:"textSecondary",style:{marginLeft:"1.5rem",marginTop:"1rem",marginBottom:"1.5rem"},children:"Irradiance / Generation"}),Object(ce.jsx)(ue,{data:ge,interval:12,leftAxisY:[0,1500],rightAxisY:[0,50]})]}),Object(ce.jsx)(C.a,{container:!0,style:{marginTop:"3rem"},children:Object(ce.jsxs)(C.a,{item:!0,xs:12,children:[Object(ce.jsxs)(C.a,{container:!0,spacing:2,alignItems:"center",style:{marginBottom:".5rem"},children:[Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(V.a,{variant:"h6",color:"textSecondary",children:"Inverter Values"})}),Object(ce.jsx)(C.a,{item:!0,className:c.grow}),Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsxs)(V.a,{style:{marginLeft:".25rem"},children:["Selected Block:"," "]})}),Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(v.a,{className:c.formControl,children:Object(ce.jsxs)(Z.a,{value:fe,onChange:function(e){ve(e.target.value);var t=new Date;t.setDate((new Date).getDate()-1),t.setHours(23,50,0,0);var a=new Date(d);a.setHours(5,0,0,0);var n=a.getTime();tt(e.target.value,t.getTime(),d,n)},children:[Object(ce.jsx)(B.a,{value:1,children:"B01"}),Object(ce.jsx)(B.a,{value:2,children:"B02"}),Object(ce.jsx)(B.a,{value:3,children:"B03"}),Object(ce.jsx)(B.a,{value:4,children:"B04"}),Object(ce.jsx)(B.a,{value:5,children:"B05"})]})})})]}),Object(ce.jsx)(Rn,{values:Te})]})}),Object(ce.jsx)(J.a,{open:Ee,anchorOrigin:{vertical:"bottom",horizontal:"left"},autoHideDuration:4e3,onClose:et,children:Object(ce.jsx)(Gn,{onClose:et,severity:"success",children:"Time is reset!"})}),Object(ce.jsx)("div",{style:{marginBottom:"2rem"}})]})}var Yn=Object(Oe.a)((function(e){return{head:{backgroundColor:"#ffffbf",color:e.palette.common.black,fontSize:16},body:{fontSize:16}}}))(Se.a),qn=Object(Oe.a)((function(e){return{root:{"&:nth-of-type(odd)":{backgroundColor:e.palette.action.hover}}}}))(ve.a),Un=Object(D.a)({tableContainer:{maxHeight:"80vh"}}),Kn=function(e){var t=e.value,a=null;return Object(ce.jsxs)(qn,{children:[Object(ce.jsx)(Yn,{component:"th",scope:"row",style:{paddingTop:".6rem",paddingBottom:".6rem",backgroundColor:a},children:Object(ce.jsx)("strong",{style:{paddingLeft:"2.5rem"},children:t.heading})}),Object(ce.jsx)(Yn,{align:"center",style:{backgroundColor:a},children:Object(ce.jsx)("span",{children:isNaN(Number(t.inv1))?"-":-111===Number(t.inv1)?"X":Number(t.inv1).toFixed(2)})}),Object(ce.jsx)(Yn,{align:"center",style:{backgroundColor:a},children:Object(ce.jsx)("span",{children:isNaN(Number(t.inv2))?"-":-111===Number(t.inv2)?"X":Number(t.inv2).toFixed(2)})}),Object(ce.jsx)(Yn,{align:"center",style:{backgroundColor:a},children:Object(ce.jsx)("span",{children:isNaN(Number(t.inv3))?"-":-111===Number(t.inv3)?"X":Number(t.inv3).toFixed(2)})}),Object(ce.jsx)(Yn,{align:"center",style:{backgroundColor:a},children:Object(ce.jsx)("span",{children:isNaN(Number(t.inv4))?"-":-111===Number(t.inv4)?"X":Number(t.inv4).toFixed(2)})})]})},Zn=function(e){var t=e.value;return Object(ce.jsxs)(qn,{children:[Object(ce.jsx)(Yn,{component:"th",scope:"row",style:{paddingTop:".6rem",paddingBottom:".6rem"},children:Object(ce.jsx)("strong",{style:{paddingLeft:"1rem"},children:t.heading})}),Object(ce.jsx)(Yn,{align:"center",children:isNaN(Number(t.inv1))?"-":-111===Number(t.inv1)?"X":Number(t.inv1).toFixed(2)}),Object(ce.jsx)(Yn,{align:"center",children:isNaN(Number(t.inv2))?"-":-111===Number(t.inv2)?"X":Number(t.inv2).toFixed(2)}),Object(ce.jsx)(Yn,{align:"center",children:isNaN(Number(t.inv3))?"-":-111===Number(t.inv3)?"X":Number(t.inv3).toFixed(2)}),Object(ce.jsx)(Yn,{align:"center",children:isNaN(Number(t.inv4))?"-":-111===Number(t.inv4)?"X":Number(t.inv4).toFixed(2)})]})};function Jn(e){var t=e.values,a=Un(),c=Object(n.useState)([]),r=Object(u.a)(c,2),s=r[0],l=r[1],o=i.a.useState(!1),j=Object(u.a)(o,2),d=j[0],b=j[1],m=i.a.useState(!1),h=Object(u.a)(m,2),O=h[0],g=h[1],x=function(e){var t=e.title,a=e.tag,n=e.openRows;return Object(ce.jsx)(qn,{children:Object(ce.jsxs)(Yn,{component:"th",scope:"row",colSpan:6,style:{backgroundColor:"#EBF5FB"},children:[Object(ce.jsx)("strong",{style:{paddingLeft:"1rem",paddingRight:".5rem",color:"#000"},children:t}),Object(ce.jsx)(y.a,{"aria-label":"expand row",size:"small",onClick:function(){return function(e){"S"===e?b((function(e){return!e})):g((function(e){return!e}))}(a)},style:{color:"#000"},children:n?Object(ce.jsx)(Ie.a,{}):Object(ce.jsx)(ye.a,{})})]})})};return Object(n.useEffect)((function(){for(var e=[],a=[],n=[],i=null,c=null,r=0;r<t.length;r++)t[r].heading.match(/S[1-4] [^/]/i)?(i||(i=r,n.push(Object(ce.jsx)(x,{title:"Inverter Slots",tag:"S",openRows:d},r))),r,e.push(Object(ce.jsx)(Kn,{value:t[r]},t[r].heading))):t[r].heading.match(/[S]3[0-4]|2[0-9]|1[0-9]|[1-9] [/] S[1-4]CB/i)?(c||(c=r,n.push(Object(ce.jsx)(x,{title:"Inverter Strings",tag:"PV",openRows:O},r))),r,a.push(Object(ce.jsx)(Kn,{value:t[r]},t[r].heading))):n.push(Object(ce.jsx)(Zn,{value:t[r]},r));var s,o=[].concat(n);if(d&&O)(s=o).splice.apply(s,[i+1,0].concat(e)),o=[].concat(Object(me.a)(o),[a]);else if(d&&!O){var j;(j=o).splice.apply(j,[i+1,0].concat(e))}else o=!d&&O?[].concat(Object(me.a)(o),[a]):[].concat(n);l(o)}),[t,d,O]),Object(ce.jsx)(pe.a,{component:he.a,elevation:6,className:a.tableContainer,children:Object(ce.jsxs)(ge.a,{stickyHeader:!0,"aria-label":"customized table",size:"small",children:[Object(ce.jsx)(fe.a,{children:Object(ce.jsxs)(ve.a,{children:[Object(ce.jsx)(Yn,{style:{paddingTop:".7rem",paddingLeft:"1.75rem",paddingBottom:".7rem"},children:Object(ce.jsx)("strong",{children:"Parameters"})}),Object(ce.jsx)(Yn,{align:"center",children:Object(ce.jsx)("strong",{children:"Inv 1"})}),Object(ce.jsx)(Yn,{align:"center",children:Object(ce.jsx)("strong",{children:"Inv 2"})}),Object(ce.jsx)(Yn,{align:"center",children:Object(ce.jsx)("strong",{children:"Inv 3"})}),Object(ce.jsx)(Yn,{align:"center",children:Object(ce.jsx)("strong",{children:"Inv 4"})})]})}),Object(ce.jsx)(xe.a,{children:s})]})})}function $n(e){return Object(ce.jsx)($.a,Object(h.a)({elevation:6,variant:"filled"},e))}var Qn=Object(D.a)((function(e){return{grow:{flexGrow:1},gaugeChartStyle:{marginTop:e.spacing(12)},formControl:{minWidth:120},modalCardStyle:{width:340,height:"fit-content"},gridBreakpoint:Object(m.a)({},e.breakpoints.up("md"),{})}}));function ei(e){e.handleSessionExpire;var t=e.handleClickOpen,a=e.sitestatusBar,c=Qn(),r=$e().intervalTime,s=(localStorage.getItem("username","Admin"),localStorage.getItem("userToken")),l=(localStorage.getItem("userId"),K),o=Object(n.useState)((new Date).getTime()),j=Object(u.a)(o,2),d=j[0],b=j[1],m=Object(n.useState)(0),h=Object(u.a)(m,2),O=h[0],g=h[1],x=Object(n.useState)(void 0),p=Object(u.a)(x,2),f=p[0],y=p[1],T=Object(n.useState)({}),I=Object(u.a)(T,2),k=I[0],w=I[1],N=Object(n.useState)(0),L=Object(u.a)(N,2),D=L[0],P=L[1],F=Object(n.useState)(0),A=Object(u.a)(F,2),E=(A[0],A[1]),H=Object(n.useState)(0),_=Object(u.a)(H,2),z=_[0],M=_[1],R=Object(n.useState)(0),G=Object(u.a)(R,2),W=G[0],Y=G[1],q=Object(n.useState)(0),U=Object(u.a)(q,2),$=U[0],Q=U[1],ee=Object(n.useState)(0),te=Object(u.a)(ee,2),ae=te[0],ne=te[1],ie=Object(n.useState)(0),re=Object(u.a)(ie,2),le=re[0],oe=re[1],je=Object(n.useState)(0),de=Object(u.a)(je,2),be=de[0],me=de[1],he=Object(n.useState)([{time:"00:00",gti:"0.00",ghi:"0.00",pg:"0.00"}]),Oe=Object(u.a)(he,2),ge=Oe[0],xe=Oe[1],Se=i.a.useState(1),pe=Object(u.a)(Se,2),fe=pe[0],ve=pe[1],Ce=Object(n.useState)([]),ye=Object(u.a)(Ce,2),Te=ye[0],Ie=ye[1],ke=Object(n.useState)(0),we=Object(u.a)(ke,2),Ne=we[0],Be=we[1];Object(n.useEffect)((function(){0!==Ne&&at(d)}),[Ne]);var Le=function(){return 0!==Ne?"1":"0"},De=function(){return Ne>0?"1":"0"},Pe=null,Fe=Object(n.useState)(!1),Ve=Object(u.a)(Fe,2),Ee=Ve[0],He=Ve[1],ze=Object(n.useState)(new Date),Me=Object(u.a)(ze,2),Re=Me[0],Ge=Me[1],We=Object(n.useState)(!1),Xe=Object(u.a)(We,2),Ye=Xe[0],qe=Xe[1],Ue=Object(n.useState)(!0),Ze=Object(u.a)(Ue,2),Je=Ze[0],Qe=Ze[1],et=function(){He(!1)};Object(n.useEffect)((function(){b(Re.getTime())}),[Re]);var tt=function(e,t,a,n){X.a.get(l+"/nangla/grid/B0"+e,{headers:{jwtToken:s,startTime:t,endTime:a,beginTime:n,enablePacket:Le(),clientPacketTime:f,isNext:De()}}).then((function(e){!function(e){for(var t=[],a=Object.entries(e),n=["L1 I","L2 I","L3 I","L1 V","L2 V","L3 V","Frequency","DC I","DC V","Active Power","DC Power","Reactive Power","PF","Cab Temp","IGBT Temp","DC Energy","S1 L1 I","S1 L2 I","S1 L3 I","S1 L1 V","S1 L2 V","S1 L3 V","S1 DC I","S1 DC V","S1 Active Power","S1 DC Power","S1 PF","S1 IGBT Temp","S2 L1 I","S2 L2 I","S2 L3 I","S2 L1 V","S2 L2 V","S2 L3 V","S2 DC I","S2 DC V","S2 Active Power","S2 DC Power","S2 PF","S2 IGBT Temp","S3 L1 I","S3 L2 I","S3 L3 I","S3 L1 V","S3 L2 V","S3 L3 V","S3 DC I","S3 DC V","S3 Active Power","S3 DC Power","S3 PF","S3 IGBT Temp","S4 L1 I","S4 L2 I","S4 L3 I","S4 L1 V","S4 L2 V","S4 L3 V","S4 DC I","S4 DC V","S4 Active Power","S4 DC Power","S4 PF","S4 IGBT Temp","S1 + S2 Peak Active Power","S3 + S4 Peak Active Power","S1 / S1CB1 I","S2 / S1CB2 I","S3 / S1CB3 I","S4 / S1CB4 I","S5 / S1CB5 I","S6 / S1CB6 I","S7 / S1CB7 I","S8 / S1CB8 I","S9 / S2CB1 I","S10 / S2CB2 I","S11 / S2CB3 I","S12 / S2CB4 I","S13 / S2CB5 I","S14 / S2CB6 I","S15 / S2CB7 I","S16 / S2CB8 I","S17 / S3CB1 I","S18 / S3CB2 I","S19 / S3CB3 I","S20 / S3CB4 I","S21 / S3CB5 I","S22 / S3CB6 I","S23 / S3CB7 I","S24 / S3CB8 I","S25 / S4CB1 I","S26 / S4CB2 I","S27 / S4CB3 I","S28 / S4CB4 I","S29 / S4CB5 I","S30 / S4CB6 I","S31 / S4CB7 I","S32 / S4CB8 I"],i=0;i<n.length;i++){var c=NaN,r=NaN,s=NaN,l=NaN,o=NaN;try{a[i][1]&&(c=a[i][1]),a[n.length+i][1]&&(r=a[n.length+i][1]),a[2*n.length+i][1]&&(s=a[2*n.length+i][1]),a[3*n.length+i][1]&&(l=a[3*n.length+i][1]),a[4*n.length+i][1]&&(o=a[4*n.length+i][1])}catch(j){}t.push({heading:n[i],inv1:c,inv2:r,inv3:s,inv4:l,inv5:o})}Ie([].concat(t))}(e.data)})).catch((function(e){}))},at=function(e){var t=1623696973e3,a=e;a=Je?Date.now():e;var n=new Date(a);n.setHours(5,0,0,0);var i=n.getTime();!function(e,t,a){X.a.get(l+"/nangla/site",{headers:{jwtToken:s,startTime:e,endTime:t,beginTime:a,enablePacket:Le(),clientPacketTime:f,isNext:De()}}).then((function(e){g(e.data.status),y(1e3*e.data.time)})).catch((function(e){}))}(t,a,i),function(e,t,a){X.a.get(l+"/nangla/boxes",{headers:{jwtToken:s,startTime:e,endTime:t,beginTime:a,enablePacket:Le(),clientPacketTime:f,isNext:De()}}).then((function(e){w(e.data)})).catch((function(e){}))}(t,a,i),function(e,t,a){X.a.get(l+"/nangla/gauge",{headers:{jwtToken:s,startTime:e,endTime:t,beginTime:a,enablePacket:Le(),clientPacketTime:f,isNext:De()}}).then((function(e){var t=e.data.value;P(Number(t).toFixed(2)),E(Number(t).toFixed(1)/50)})).catch((function(e){}))}(t,a,i),function(e,t,a){X.a.get(l+"/nangla/temperature",{headers:{jwtToken:s,startTime:e,endTime:t,beginTime:a,enablePacket:Le(),clientPacketTime:f,isNext:De()}}).then((function(e){var t=e.data.ambientTemp,a=e.data.moduleTemp,n=e.data.humidity;M(Number(t).toFixed(1)),Y(Number(a).toFixed(1)),Q(Number(n).toFixed(1))})).catch((function(e){}))}(t,a,i),function(e,t,a){X.a.get(l+"/nangla/wind",{headers:{jwtToken:s,startTime:e,endTime:t,beginTime:a,enablePacket:Le(),clientPacketTime:f,isNext:De()}}).then((function(e){var t=e.data.direction,a=e.data.speed;e.data.rain,ne(Number(t).toFixed(0)),oe(Number(a).toFixed(1)),me(Number(e.data.rain).toFixed(1))})).catch((function(e){}))}(t,a,i),function(e,t,a){X.a.get(l+"/nangla/graph",{headers:{jwtToken:s,startTime:e,endTime:t,beginTime:a,enablePacket:Le(),clientPacketTime:f,isNext:De()}}).then((function(e){xe(e.data)})).catch((function(e){}))}(t,a,i),tt(fe,t,a,i)};Object(n.useEffect)((function(){(Pe=document.getElementById("timeSliderLabel2"))&&(Pe.innerText=(new Date).toLocaleString([],{hour:"2-digit",minute:"2-digit",hour12:!0}).toUpperCase()),at(d);var e=setInterval((function(){at(d)}),r);return function(){clearInterval(e)}}),[d]);var nt=Object(n.useState)("space-between"),it=Object(u.a)(nt,2),ct=(it[0],it[1]);return Object(n.useLayoutEffect)((function(){window.matchMedia("(min-width: 1280px)").matches?ct("space-between"):ct("flex-start")}),[]),Object(ce.jsxs)(i.a.Fragment,{children:[Object(ce.jsx)(C.a,{container:!0,justifyContent:"space-between",alignItems:"center",children:Object(ce.jsx)(rt,{sitestatusBar:a,status:O,timestamp:f,handleClickOpen:t,handleTimeReset:function(){Be(0);var e=new Date;Ge(e),b(e.getTime()),He(!0),Qe(!0)},setIsNextCount:Be,setOpenDateTimePicker:qe,getMinDateForPicker:function(){return new Date(16303248e5)},selectedDate:Re,getFormattedDateAndTimeString:function(e){var t=new Date(e);return Object(ce.jsxs)("span",{children:[String(t.getDate()).padStart(2,"0"),"/",String(t.getMonth()+1).padStart(2,"0"),"/",t.getFullYear(),Object(ce.jsx)("span",{children:"\u2003"}),t.toLocaleString([],{hour:"2-digit",minute:"2-digit",hour12:!0}).toUpperCase()]})},openDateTimePicker:Ye,handleDateChange:function(e){try{Qe(!1)}finally{Ge(e),qe(!1)}}})}),Object(ce.jsx)("div",{style:{marginTop:"2rem"}}),Object(ce.jsx)(Ae,{day_generation:k.day_generation,revenue:1e3*k.day_generation*7.57,peak_power:k.peak_power,ghi:k.ghi,gti:k.gti,plant_pr:k.plant_pr,grid_availability:k.grid_availability,plant_availability:k.plant_availability}),Object(ce.jsxs)(C.a,{container:!0,spacing:6,style:{marginTop:"1rem"},children:[Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(_e,{totalExport:D,maxValue:30})}),Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(se,{ambientTemp:z,moduleTemp:W,humidity:$})}),Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(Ke,{windDirection:ae,windSpeed:le,rain:be})})]}),Object(ce.jsxs)(S.a,{elevation:6,style:{marginTop:"2.5rem",height:"500px",width:"100%"},children:[Object(ce.jsx)(V.a,{variant:"h6",color:"textSecondary",style:{marginLeft:"1.5rem",marginTop:"1rem",marginBottom:"1.5rem"},children:"Irradiance / Generation"}),Object(ce.jsx)(ue,{data:ge,interval:12,leftAxisY:[0,1500],rightAxisY:[0,50]})]}),Object(ce.jsx)(C.a,{container:!0,style:{marginTop:"3rem"},children:Object(ce.jsxs)(C.a,{item:!0,xs:12,children:[Object(ce.jsxs)(C.a,{container:!0,spacing:2,alignItems:"center",style:{marginBottom:".5rem"},children:[Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(V.a,{variant:"h6",color:"textSecondary",children:"Inverter Values"})}),Object(ce.jsx)(C.a,{item:!0,className:c.grow}),Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsxs)(V.a,{style:{marginLeft:".25rem"},children:["Selected Block:"," "]})}),Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(v.a,{className:c.formControl,children:Object(ce.jsxs)(Z.a,{value:fe,onChange:function(e){ve(e.target.value);var t=new Date;t.setDate((new Date).getDate()-1),t.setHours(23,50,0,0);var a=new Date(d);a.setHours(5,0,0,0);var n=a.getTime();tt(e.target.value,t.getTime(),d,n)},children:[Object(ce.jsx)(B.a,{value:1,children:"B01"}),Object(ce.jsx)(B.a,{value:2,children:"B02"}),Object(ce.jsx)(B.a,{value:3,children:"B03"})]})})})]}),Object(ce.jsx)(Jn,{values:Te})]})}),Object(ce.jsx)(J.a,{open:Ee,anchorOrigin:{vertical:"bottom",horizontal:"left"},autoHideDuration:4e3,onClose:et,children:Object(ce.jsx)($n,{onClose:et,severity:"success",children:"Time is reset!"})}),Object(ce.jsx)("div",{style:{marginBottom:"2rem"}})]})}var ti=Object(Oe.a)((function(e){return{head:{backgroundColor:"#ffffbf",color:e.palette.common.black,fontSize:16},body:{fontSize:16}}}))(Se.a),ai=Object(Oe.a)((function(e){return{root:{"&:nth-of-type(odd)":{backgroundColor:e.palette.action.hover}}}}))(ve.a),ni=Object(D.a)({tableContainer:{maxHeight:"80vh"}}),ii=function(e){var t=e.value,a=null;return Object(ce.jsxs)(ai,{children:[Object(ce.jsx)(ti,{component:"th",scope:"row",style:{paddingTop:".6rem",paddingBottom:".6rem",backgroundColor:a},children:Object(ce.jsx)("strong",{style:{paddingLeft:"2.5rem"},children:t.heading})}),Object(ce.jsx)(ti,{align:"center",style:{backgroundColor:a},children:Object(ce.jsx)("span",{children:isNaN(Number(t.inv1))?"-":-111===Number(t.inv1)?"x":Number(t.inv1).toFixed(2)})}),Object(ce.jsx)(ti,{align:"center",style:{backgroundColor:a},children:Object(ce.jsx)("span",{children:isNaN(Number(t.inv2))?"-":-111===Number(t.inv2)?"x":Number(t.inv2).toFixed(2)})})]})},ci=function(e){var t=e.value;return Object(ce.jsxs)(ai,{children:[Object(ce.jsx)(ti,{component:"th",scope:"row",style:{paddingTop:".6rem",paddingBottom:".6rem"},children:Object(ce.jsx)("strong",{style:{paddingLeft:"1rem"},children:t.heading})}),Object(ce.jsx)(ti,{align:"center",children:isNaN(Number(t.inv1))?"-":-111===Number(t.inv1)?"x":Number(t.inv1).toFixed(2)}),Object(ce.jsx)(ti,{align:"center",children:isNaN(Number(t.inv2))?"-":-111===Number(t.inv2)?"x":Number(t.inv2).toFixed(2)})]})};function ri(e){var t=e.values,a=ni(),c=Object(n.useState)([]),r=Object(u.a)(c,2),s=r[0],l=r[1],o=i.a.useState(!1),j=Object(u.a)(o,2),d=j[0],b=j[1],m=i.a.useState(!1),h=Object(u.a)(m,2),O=h[0],g=h[1],x=function(e){var t=e.title,a=e.tag,n=e.openRows;return Object(ce.jsx)(ai,{children:Object(ce.jsxs)(ti,{component:"th",scope:"row",colSpan:3,style:{backgroundColor:"#EBF5FB"},children:[Object(ce.jsx)("strong",{style:{paddingLeft:"1rem",paddingRight:".5rem",color:"#000"},children:t}),Object(ce.jsx)(y.a,{"aria-label":"expand row",size:"small",onClick:function(){return function(e){"S"===e?b((function(e){return!e})):g((function(e){return!e}))}(a)},style:{color:"#000"},children:n?Object(ce.jsx)(Ie.a,{}):Object(ce.jsx)(ye.a,{})})]})})};return Object(n.useEffect)((function(){for(var e=[],a=[],n=[],i=null,c=null,r=0;r<t.length;r++)t[r].heading.match(/S[1-4] [^/]/i)?(i||(i=r,n.push(Object(ce.jsx)(x,{title:"Inverter Slots",tag:"S",openRows:d},r))),r,e.push(Object(ce.jsx)(ii,{value:t[r]},t[r].heading))):t[r].heading.match(/[S]3[0-4]|2[0-9]|1[0-9]|[1-9] [/] S[1-4]CB/i)?(c||(c=r,n.push(Object(ce.jsx)(x,{title:"Inverter Strings",tag:"PV",openRows:O},r))),r,a.push(Object(ce.jsx)(ii,{value:t[r]},t[r].heading))):n.push(Object(ce.jsx)(ci,{value:t[r]},r));var s,o=[].concat(n);if(d&&O)(s=o).splice.apply(s,[i+1,0].concat(e)),o=[].concat(Object(me.a)(o),[a]);else if(d&&!O){var j;(j=o).splice.apply(j,[i+1,0].concat(e))}else o=!d&&O?[].concat(Object(me.a)(o),[a]):[].concat(n);l(o)}),[t,d,O]),Object(ce.jsx)(pe.a,{component:he.a,elevation:6,className:a.tableContainer,children:Object(ce.jsxs)(ge.a,{stickyHeader:!0,"aria-label":"customized table",size:"small",children:[Object(ce.jsx)(fe.a,{children:Object(ce.jsxs)(ve.a,{children:[Object(ce.jsx)(ti,{style:{paddingTop:".7rem",paddingLeft:"1.75rem",paddingBottom:".7rem"},children:Object(ce.jsx)("strong",{children:"Parameters"})}),Object(ce.jsx)(ti,{align:"center",children:Object(ce.jsx)("strong",{children:"Inv 1"})}),Object(ce.jsx)(ti,{align:"center",children:Object(ce.jsx)("strong",{children:"Inv 2"})})]})}),Object(ce.jsx)(xe.a,{children:s})]})})}function si(e){return Object(ce.jsx)($.a,Object(h.a)({elevation:6,variant:"filled"},e))}var li=Object(D.a)((function(e){return{grow:{flexGrow:1},gaugeChartStyle:{marginTop:e.spacing(12)},formControl:{minWidth:120},modalCardStyle:{width:340,height:"fit-content"},gridBreakpoint:Object(m.a)({},e.breakpoints.up("md"),{})}}));function oi(e){var t=e.handleSessionExpire,a=e.handleClickOpen,c=e.sitestatusBar,r=li(),s=$e().intervalTime,l=(localStorage.getItem("username","Admin"),localStorage.getItem("userToken")),o=(localStorage.getItem("userId"),K),j=Object(n.useState)((new Date).getTime()),d=Object(u.a)(j,2),b=d[0],m=d[1],h=Object(n.useState)(0),O=Object(u.a)(h,2),g=O[0],x=O[1],p=Object(n.useState)(void 0),f=Object(u.a)(p,2),y=f[0],T=f[1],I=Object(n.useState)({}),k=Object(u.a)(I,2),w=k[0],N=k[1],L=Object(n.useState)(0),D=Object(u.a)(L,2),P=D[0],F=D[1],A=Object(n.useState)(0),E=Object(u.a)(A,2),H=(E[0],E[1]),_=Object(n.useState)(0),z=Object(u.a)(_,2),M=z[0],R=z[1],G=Object(n.useState)(0),W=Object(u.a)(G,2),Y=W[0],q=W[1],U=Object(n.useState)(0),$=Object(u.a)(U,2),Q=$[0],ee=$[1],te=Object(n.useState)(0),ae=Object(u.a)(te,2),ne=ae[0],ie=ae[1],re=Object(n.useState)(0),le=Object(u.a)(re,2),oe=le[0],je=le[1],de=Object(n.useState)(0),be=Object(u.a)(de,2),me=be[0],he=be[1],Oe=Object(n.useState)([{time:"00:00",gti:"0.00",ghi:"0.00",pg:"0.00"}]),ge=Object(u.a)(Oe,2),xe=ge[0],Se=ge[1],pe=i.a.useState(1),fe=Object(u.a)(pe,2),ve=fe[0],Ce=fe[1],ye=Object(n.useState)([]),Te=Object(u.a)(ye,2),Ie=Te[0],ke=Te[1],we=Object(n.useState)(0),Ne=Object(u.a)(we,2),Be=Ne[0],Le=Ne[1];Object(n.useEffect)((function(){0!==Be&&nt(b)}),[Be]);var De=function(){return 0!==Be?"1":"0"},Pe=function(){return Be>0?"1":"0"},Fe=null,Ve=Object(n.useState)(!1),Ee=Object(u.a)(Ve,2),He=Ee[0],ze=Ee[1],Me=Object(n.useState)(new Date),Re=Object(u.a)(Me,2),Ge=Re[0],We=Re[1],Xe=Object(n.useState)(!1),Ye=Object(u.a)(Xe,2),qe=Ye[0],Ue=Ye[1],Ze=Object(n.useState)(!0),Je=Object(u.a)(Ze,2),Qe=Je[0],et=Je[1],tt=function(){ze(!1)};Object(n.useEffect)((function(){m(Ge.getTime())}),[Ge]);var at=function(e,t,a,n){X.a.get(o+"/bhadlal3/grid/B"+String(e).padStart(2,0),{headers:{jwtToken:l,startTime:t,endTime:a,beginTime:n,enablePacket:De(),clientPacketTime:y,isNext:Pe()}}).then((function(e){!function(e){for(var t=[],a=Object.entries(e),n=["L1 I","L2 I","L3 I","L1 V","L2 V","L3 V","Frequency","DC I","DC V","Active Power","DC Power","Reactive Power","PF","Cab Temp","IGBT Temp","DC Energy","S1 L1 I","S1 L2 I","S1 L3 I","S1 L1 V","S1 L2 V","S1 L3 V","S1 DC I","S1 DC V","S1 Active Power","S1 DC Power","S1 PF","S1 IGBT Temp","S2 L1 I","S2 L2 I","S2 L3 I","S2 L1 V","S2 L2 V","S2 L3 V","S2 DC I","S2 DC V","S2 Active Power","S2 DC Power","S2 PF","S2 IGBT Temp","S3 L1 I","S3 L2 I","S3 L3 I","S3 L1 V","S3 L2 V","S3 L3 V","S3 DC I","S3 DC V","S3 Active Power","S3 DC Power","S3 PF","S3 IGBT Temp","S4 L1 I","S4 L2 I","S4 L3 I","S4 L1 V","S4 L2 V","S4 L3 V","S4 DC I","S4 DC V","S4 Active Power","S4 DC Power","S4 PF","S4 IGBT Temp","S1 + S2 Peak Active Power","S3 + S4 Peak Active Power","S1 / S1CB1 I","S2 / S1CB2 I","S3 / S1CB3 I","S4 / S1CB4 I","S5 / S1CB5 I","S6 / S1CB6 I","S7 / S1CB7 I","S8 / S1CB8 I","S9 / S2CB1 I","S10 / S2CB2 I","S11 / S2CB3 I","S12 / S2CB4 I","S13 / S2CB5 I","S14 / S2CB6 I","S15 / S2CB7 I","S16 / S2CB8 I","S17 / S3CB1 I","S18 / S3CB2 I","S19 / S3CB3 I","S20 / S3CB4 I","S21 / S3CB5 I","S22 / S3CB6 I","S23 / S3CB7 I","S24 / S3CB8 I","S25 / S4CB1 I","S26 / S4CB2 I","S27 / S4CB3 I","S28 / S4CB4 I","S29 / S4CB5 I","S30 / S4CB6 I","S31 / S4CB7 I","S32 / S4CB8 I"],i=0;i<n.length;i++){var c=NaN,r=NaN,s=NaN,l=NaN,o=NaN;try{a[i][1]&&(c=a[i][1]),a[n.length+i][1]&&(r=a[n.length+i][1]),a[2*n.length+i][1]&&(s=a[2*n.length+i][1]),a[3*n.length+i][1]&&(l=a[3*n.length+i][1]),a[4*n.length+i][1]&&(o=a[4*n.length+i][1])}catch(j){}t.push({heading:n[i],inv1:c,inv2:r,inv3:s,inv4:l,inv5:o})}ke([].concat(t))}(e.data)})).catch((function(e){}))},nt=function(e){var a=1623696973e3,n=e;n=Qe?Date.now():e;var i=new Date(n);i.setHours(5,0,0,0);var c=i.getTime();!function(e,a,n){X.a.get(o+"/bhadlal3/site",{headers:{jwtToken:l,startTime:e,endTime:a,beginTime:n,enablePacket:De(),clientPacketTime:y,isNext:Pe()}}).then((function(e){x(e.data.status),T(1e3*e.data.time)})).catch((function(e){var a;401===(null===e||void 0===e||null===(a=e.response)||void 0===a?void 0:a.status)&&t()}))}(a,n,c),function(e,t,a){X.a.get(o+"/bhadlal3/boxes",{headers:{jwtToken:l,startTime:e,endTime:t,beginTime:a,enablePacket:De(),clientPacketTime:y,isNext:Pe()}}).then((function(e){N(e.data)})).catch((function(e){}))}(a,n,c),function(e,t,a){X.a.get(o+"/bhadlal3/gauge",{headers:{jwtToken:l,startTime:e,endTime:t,beginTime:a,enablePacket:De(),clientPacketTime:y,isNext:Pe()}}).then((function(e){var t=e.data.value;F(Number(t).toFixed(2)),H(Number(t).toFixed(1)/50)})).catch((function(e){}))}(a,n,c),function(e,t,a){X.a.get(o+"/bhadlal3/temperature",{headers:{jwtToken:l,startTime:e,endTime:t,beginTime:a,enablePacket:De(),clientPacketTime:y,isNext:Pe()}}).then((function(e){var t=e.data.ambientTemp,a=e.data.moduleTemp,n=e.data.humidity;R(Number(t).toFixed(1)),q(Number(a).toFixed(1)),ee(Number(n).toFixed(1))})).catch((function(e){}))}(a,n,c),function(e,t,a){X.a.get(o+"/bhadlal3/wind",{headers:{jwtToken:l,startTime:e,endTime:t,beginTime:a,enablePacket:De(),clientPacketTime:y,isNext:Pe()}}).then((function(e){var t=e.data.direction,a=e.data.speed;e.data.rain,ie(Number(t).toFixed(0)),je(Number(a).toFixed(1)),he(Number(e.data.rain).toFixed(1))})).catch((function(e){}))}(a,n,c),function(e,t,a){X.a.get(o+"/bhadlal3/graph",{headers:{jwtToken:l,startTime:e,endTime:t,beginTime:a,enablePacket:De(),clientPacketTime:y,isNext:Pe()}}).then((function(e){Se(e.data)})).catch((function(e){}))}(a,n,c),at(ve,a,n,c)};Object(n.useEffect)((function(){(Fe=document.getElementById("timeSliderLabel2"))&&(Fe.innerText=(new Date).toLocaleString([],{hour:"2-digit",minute:"2-digit",hour12:!0}).toUpperCase()),nt(b);var e=setInterval((function(){nt(b)}),s);return function(){clearInterval(e)}}),[b]);var it=Object(n.useState)("space-between"),ct=Object(u.a)(it,2),st=(ct[0],ct[1]);return Object(n.useLayoutEffect)((function(){window.matchMedia("(min-width: 1280px)").matches?st("space-between"):st("flex-start")}),[]),Object(ce.jsxs)(i.a.Fragment,{children:[Object(ce.jsx)(C.a,{container:!0,justifyContent:"space-between",alignItems:"center",children:Object(ce.jsx)(rt,{sitestatusBar:c,status:g,timestamp:y,handleClickOpen:a,handleTimeReset:function(){Le(0);var e=new Date;We(e),m(e.getTime()),ze(!0),et(!0)},setIsNextCount:Le,setOpenDateTimePicker:Ue,getMinDateForPicker:function(){return new Date(1627668e6)},selectedDate:Ge,getFormattedDateAndTimeString:function(e){var t=new Date(e);return Object(ce.jsxs)("span",{children:[String(t.getDate()).padStart(2,"0"),"/",String(t.getMonth()+1).padStart(2,"0"),"/",t.getFullYear(),Object(ce.jsx)("span",{children:"\u2003"}),t.toLocaleString([],{hour:"2-digit",minute:"2-digit",hour12:!0}).toUpperCase()]})},openDateTimePicker:qe,handleDateChange:function(e){try{et(!1)}finally{We(e),Ue(!1)}}})}),Object(ce.jsx)("div",{style:{marginTop:"2rem"}}),Object(ce.jsx)(Ae,{day_generation:w.day_generation,revenue:1e3*w.day_generation*2.44,peak_power:w.peak_power,ghi:w.ghi,gti:w.gti,plant_pr:w.plant_pr,grid_availability:100*w.grid_availability,plant_availability:100*w.plant_availability}),Object(ce.jsxs)(C.a,{container:!0,spacing:6,style:{marginTop:"1rem"},children:[Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(_e,{totalExport:P,maxValue:150})}),Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(se,{ambientTemp:M,moduleTemp:Y,humidity:Q})}),Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(Ke,{windDirection:ne,windSpeed:oe,rain:me})})]}),Object(ce.jsxs)(S.a,{elevation:6,style:{marginTop:"2.5rem",height:"500px",width:"100%"},children:[Object(ce.jsx)(V.a,{variant:"h6",color:"textSecondary",style:{marginLeft:"1.5rem",marginTop:"1rem",marginBottom:"1.5rem"},children:"Irradiance / Generation"}),Object(ce.jsx)(ue,{data:xe,interval:12,leftAxisY:[0,1500],rightAxisY:[0,100]})]}),Object(ce.jsx)(C.a,{container:!0,style:{marginTop:"3rem"},children:Object(ce.jsxs)(C.a,{item:!0,xs:12,children:[Object(ce.jsxs)(C.a,{container:!0,spacing:2,alignItems:"center",style:{marginBottom:".5rem"},children:[Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(V.a,{variant:"h6",color:"textSecondary",children:"Inverter Values"})}),Object(ce.jsx)(C.a,{item:!0,className:r.grow}),Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsxs)(V.a,{style:{marginLeft:".25rem"},children:["Selected Block:"," "]})}),Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(v.a,{className:r.formControl,children:Object(ce.jsxs)(Z.a,{value:ve,onChange:function(e){Ce(e.target.value);var t=new Date;t.setDate((new Date).getDate()-1),t.setHours(23,50,0,0);var a=new Date(b);a.setHours(5,0,0,0);var n=a.getTime();at(e.target.value,t.getTime(),b,n)},children:[Object(ce.jsx)(B.a,{value:1,children:"B01"}),Object(ce.jsx)(B.a,{value:2,children:"B02"}),Object(ce.jsx)(B.a,{value:3,children:"B03"}),Object(ce.jsx)(B.a,{value:4,children:"B04"}),Object(ce.jsx)(B.a,{value:5,children:"B05"}),Object(ce.jsx)(B.a,{value:6,children:"B06"}),Object(ce.jsx)(B.a,{value:7,children:"B07"}),Object(ce.jsx)(B.a,{value:8,children:"B08"}),Object(ce.jsx)(B.a,{value:9,children:"B09"}),Object(ce.jsx)(B.a,{value:10,children:"B10"}),Object(ce.jsx)(B.a,{value:11,children:"B11"}),Object(ce.jsx)(B.a,{value:12,children:"B12"}),Object(ce.jsx)(B.a,{value:13,children:"B13"}),Object(ce.jsx)(B.a,{value:14,children:"B14"})]})})})]}),Object(ce.jsx)(ri,{values:Ie})]})}),Object(ce.jsx)(J.a,{open:He,anchorOrigin:{vertical:"bottom",horizontal:"left"},autoHideDuration:4e3,onClose:tt,children:Object(ce.jsx)(si,{onClose:tt,severity:"success",children:"Time is reset!"})}),Object(ce.jsx)("div",{style:{marginBottom:"2rem"}})]})}var ji=a(6),di=a(1414),bi=a(1385),ui=a(1411),mi=(a(385),a(1413)),hi=Object(Oe.a)((function(e){return{head:{backgroundColor:"#ffffbf",color:e.palette.common.black},body:{fontSize:14}}}))(Se.a),Oi=Object(Oe.a)((function(e){return{root:{"&:nth-of-type(odd)":{backgroundColor:e.palette.action.hover}}}}))(ve.a),gi=Object(D.a)({tableContainer:{width:"100%"}});function xi(e){var t=e.data,a=gi(),i=Object(n.useState)(0),c=Object(u.a)(i,2),r=c[0],s=c[1],l=Object(n.useState)(0),o=Object(u.a)(l,2),j=o[0],d=o[1],b=Object(n.useState)([]),m=Object(u.a)(b,2),h=m[0],O=m[1],g=Object(n.useState)(null),x=Object(u.a)(g,2),S=x[0],p=x[1],f=function(e,t){return Number(e)-Number(t)};Object(n.useEffect)((function(){s((function(){return t.length>0?1:0})),d((function(){return t.length>0?Math.ceil(t.length/10):0})),O((function(){return t.length>0?t.slice(0,10):[]})),function(){var e={};if(t.length>0){for(var a=null,n=null,i=1;i<=12;i++){var c=f(t[0]["e"+i],t[t.length-1]["e"+i]);null===a&&(a=c,n="e"+i),a<c&&(a=c,n="e"+i)}for(var r=1;r<=12;r++){var s=f(t[0]["e"+r],t[t.length-1]["e"+r]);e["e"+r]=s<a-.05*a?[s,"red"]:[s,"black"]}e[n]=[a,"green"],p(Object.entries(e))}}()}),[t]);return Object(ce.jsxs)("div",{children:[Object(ce.jsx)(pe.a,{component:he.a,className:a.tableContainer,children:Object(ce.jsxs)(ge.a,{"aria-label":"customized table",size:"small",children:[Object(ce.jsx)(fe.a,{children:Object(ce.jsxs)(ve.a,{children:[Object(ce.jsx)(hi,{style:{position:"sticky",left:0},children:"Time"}),Object(ce.jsx)(hi,{align:"right",children:"I1"}),Object(ce.jsx)(hi,{align:"right",children:"I2"}),Object(ce.jsx)(hi,{align:"right",children:"I3"}),Object(ce.jsx)(hi,{align:"right",children:"I4"}),Object(ce.jsx)(hi,{align:"right",children:"I5"}),Object(ce.jsx)(hi,{align:"right",children:"I6"}),Object(ce.jsx)(hi,{align:"right",children:"I7"}),Object(ce.jsx)(hi,{align:"right",children:"I8"}),Object(ce.jsx)(hi,{align:"right",children:"I9"}),Object(ce.jsx)(hi,{align:"right",children:"I10"}),Object(ce.jsx)(hi,{align:"right",children:"I11"}),Object(ce.jsx)(hi,{align:"right",children:"I12"}),S&&S.map((function(e,t){var a="E"+(t+1);return Object(ce.jsxs)(hi,{align:"right",children:[a,"\xa0",Object(ce.jsxs)("span",{style:{color:e[1][1]},children:["(",e[1][0],")"]})]})})),Object(ce.jsx)(hi,{align:"right",children:"Temp"}),Object(ce.jsx)(hi,{align:"right",children:"VDC"}),Object(ce.jsx)(hi,{align:"right",children:"Total\xa0Energy"})]})}),Object(ce.jsx)(xe.a,{children:h.map((function(e){return Object(ce.jsxs)(Oi,{children:[Object(ce.jsx)(hi,{component:"th",scope:"row",style:{position:"sticky",left:0,backgroundColor:"white"},children:String(e.time).split(" ")[1]}),Object(ce.jsx)(hi,{align:"right",style:{color:e.i1[1]},children:e.i1[0]}),Object(ce.jsx)(hi,{align:"right",style:{color:e.i2[1]},children:e.i2[0]}),Object(ce.jsx)(hi,{align:"right",style:{color:e.i3[1]},children:e.i3[0]}),Object(ce.jsx)(hi,{align:"right",style:{color:e.i4[1]},children:e.i4[0]}),Object(ce.jsx)(hi,{align:"right",style:{color:e.i5[1]},children:e.i5[0]}),Object(ce.jsx)(hi,{align:"right",style:{color:e.i6[1]},children:e.i6[0]}),Object(ce.jsx)(hi,{align:"right",style:{color:e.i7[1]},children:e.i7[0]}),Object(ce.jsx)(hi,{align:"right",style:{color:e.i8[1]},children:e.i8[0]}),Object(ce.jsx)(hi,{align:"right",style:{color:e.i9[1]},children:e.i9[0]}),Object(ce.jsx)(hi,{align:"right",style:{color:e.i10[1]},children:e.i10[0]}),Object(ce.jsx)(hi,{align:"right",style:{color:e.i11[1]},children:e.i11[0]}),Object(ce.jsx)(hi,{align:"right",style:{color:e.i12[1]},children:e.i12[0]}),Object(ce.jsx)(hi,{align:"right",children:e.e1}),Object(ce.jsx)(hi,{align:"right",children:e.e2}),Object(ce.jsx)(hi,{align:"right",children:e.e3}),Object(ce.jsx)(hi,{align:"right",children:e.e4}),Object(ce.jsx)(hi,{align:"right",children:e.e5}),Object(ce.jsx)(hi,{align:"right",children:e.e6}),Object(ce.jsx)(hi,{align:"right",children:e.e7}),Object(ce.jsx)(hi,{align:"right",children:e.e8}),Object(ce.jsx)(hi,{align:"right",children:e.e9}),Object(ce.jsx)(hi,{align:"right",children:e.e10}),Object(ce.jsx)(hi,{align:"right",children:e.e11}),Object(ce.jsx)(hi,{align:"right",children:e.e12}),Object(ce.jsx)(hi,{align:"right",children:e.intertemp}),Object(ce.jsx)(hi,{align:"right",children:e.vdc}),Object(ce.jsx)(hi,{align:"right",children:e.totalenergy})]},String(e.time).split(" ")[1])}))})]})}),Object(ce.jsx)("div",{style:{marginTop:".5rem",display:"flex",justifyContent:"flex-end"},children:Object(ce.jsx)(mi.a,{count:j,page:r,onChange:function(e,a){var n=t.slice(10*(a-1),10*a);O(n),s(a)},shape:"rounded"})})]})}function Si(e){var t=e.data,a=e.lines,i=e.interval,c=(e.width,e.height,e.leftAxisY),r=e.rightAxisY,s=Object(n.useState)({i1:1,i2:1,i3:1,i4:1,i5:1,i6:1,i7:1,i8:1,i9:1,i10:1,i11:1,i12:1,temperature:1}),l=Object(u.a)(s,2),o=l[0],j=l[1];return Object(ce.jsx)(le.a,{width:"100%",height:"100%",children:Object(ce.jsxs)(oe.a,{data:t,children:[Object(ce.jsx)(ae.a,{strokeDasharray:"3 3"}),Object(ce.jsx)(ee.a,{dataKey:"time",interval:i}),Object(ce.jsx)(te.a,{yAxisId:"left",domain:c,allowDataOverflow:!0,label:{value:"I",position:"insideLeft",offset:20}}),Object(ce.jsx)(te.a,{yAxisId:"right",domain:r,orientation:"right",allowDataOverflow:!0,label:{value:"\xb0C",position:"insideRight",offset:20}}),Object(ce.jsx)(je.a,{}),Object(ce.jsx)(de.a,{content:function(e){var t=e.payload;return Object(ce.jsx)("div",{style:{display:"flex",justifyContent:"center",gap:"20px"},children:t.map((function(e){var t=e.dataKey,a=e.color;return Object(ce.jsx)("strong",{style:{fontSize:"1rem",color:a,cursor:"pointer",opacity:0===o[t]?.5:1},onClick:function(){return function(e){j((function(t){return Object(h.a)(Object(h.a)({},t),{},Object(m.a)({},e,0===t[e]?1:0))}))}(t)},children:"temperature"===String(t).toLowerCase()?"TEMP":String(t).toUpperCase()},t)}))})}}),Array.from({length:a},(function(e,t){return t+1})).map((function(e){return Object(ce.jsx)(be.a,{name:"I"+e,yAxisId:"left",type:"monotone",dataKey:"i"+e,stroke:"#82ca9d",strokeWidth:2,strokeOpacity:o["i"+e],activeDot:{r:6},dot:!1})})),Object(ce.jsx)(be.a,{name:"Temperature",yAxisId:"right",type:"monotone",dataKey:"temperature",stroke:"#EC7063",strokeWidth:2,strokeOpacity:o.temperature,activeDot:{r:6},dot:!1})]})})}function pi(e){return Object(ce.jsx)($.a,Object(h.a)({elevation:6,variant:"filled"},e))}var fi=Object(D.a)((function(e){return{grow:{flexGrow:1}}}));function vi(e){var t=e.handleSessionExpire,a=fi(),i=X.a.CancelToken.source(),c=localStorage.getItem("userToken"),r=$e().setEnabledLinearProgress,s=Object(n.useState)(!1),l=Object(u.a)(s,2),o=l[0],j=l[1],d=Object(n.useState)([]),b=Object(u.a)(d,2),m=b[0],g=b[1],S=Object(n.useState)([{time:"00:00",i1:0,i2:0,i3:0,i4:0,i5:0,i6:0,i7:0,i8:0,i9:0,i10:0,i11:0,i12:0,intertemp:0}]),p=Object(u.a)(S,2),f=p[0],T=p[1],I=Object(n.useState)("gadarpur"),k=Object(u.a)(I,2),w=k[0],N=k[1],L=Object(n.useState)(1),D=Object(u.a)(L,2),P=D[0],F=D[1],A=Object(n.useState)(10),E=Object(u.a)(A,2),H=E[0],_=(E[1],Object(n.useState)(1)),z=Object(u.a)(_,2),M=z[0],R=z[1],G=Object(n.useState)(6),W=Object(u.a)(G,2),Y=W[0],q=(W[1],Object(n.useState)(1)),U=Object(u.a)(q,2),$=U[0],Q=U[1],ee=Object(n.useState)(4),te=Object(u.a)(ee,2),ae=te[0],ne=(te[1],Object(n.useState)(1)),ie=Object(u.a)(ne,2),re=(ie[0],ie[1],Object(n.useState)(10)),se=Object(u.a)(re,2),le=(se[0],se[1],Object(n.useState)(0)),oe=Object(u.a)(le,2),je=oe[0],de=(oe[1],Object(n.useState)(!0)),be=Object(u.a)(de,2),ue=be[0],me=be[1],Oe=Object(n.useState)(!0),ge=Object(u.a)(Oe,2),xe=ge[0],Se=ge[1],pe=Object(n.useState)([]),fe=Object(u.a)(pe,2),ve=(fe[0],fe[1],Object(n.useState)((new Date).getTime())),Ce=Object(u.a)(ve,2),ye=Ce[0],Te=Ce[1],Ie=Object(n.useState)(new Date),ke=Object(u.a)(Ie,2),we=ke[0],Ne=ke[1],Be=Object(n.useState)(!1),Le=Object(u.a)(Be,2),De=Le[0],Pe=Le[1],Fe=Object(n.useState)(!1),Ve=Object(u.a)(Fe,2),Ae=Ve[0],Ee=Ve[1],He=Object(n.useState)(!0),_e=Object(u.a)(He,2),ze=_e[0],Re=_e[1];Object(n.useEffect)((function(){return function(){r(!1)}}),[]);var Ge=function(){Ee(!1)};Object(n.useEffect)((function(){Te(we.getTime())}),[we]);var We=Object(n.useState)(0),Xe=Object(u.a)(We,2),Ye=Xe[0],qe=Xe[1],Ue=Object(n.useState)(void 0),Ke=Object(u.a)(Ue,2),Ze=Ke[0],Je=Ke[1],Qe=function(e,a){r(!0),j(!0);var n=e,s=new Date(n);s.setHours(5,0,0,0);var l=s.getTime();(function(e,a,n){r(!0),X.a.get(K+"/"+n+"/site",{headers:{cancelToken:i.token,jwtToken:c,startTime:e,endTime:a}}).then((function(e){qe(e.data.status),Je(1e3*e.data.time),r(!1)})).catch((function(e){var a;401===(null===e||void 0===e||null===(a=e.response)||void 0===a?void 0:a.status)&&t(),r(!1)}))})(l,n=ze?Date.now():e,a),X.a.post(K+"/"+a+"/scb",{fromDate:l,endTime:n,block:"b0"+M,inverter:String($),smb:String(P)},{cancelToken:i.token,headers:{jwtToken:c}}).then((function(e){T(function(e){var t=[];return e.forEach((function(e){var a=Object(h.a)({},e),n=a.i1,i=a.i2,c=a.i3,r=a.i4,s=a.i5,l=a.i6,o=a.i7,j=a.i8,d=a.i9,b=a.i10,u=a.i11,m=a.i12,O=a.intertemp,g=a.time;t.push({i1:n,i2:i,i3:c,i4:r,i5:s,i6:l,i7:o,i8:j,i9:d,i10:b,i11:u,i12:m,temperature:O,time:String(g).split(" ")[1]})})),t.reverse()}(e.data));var t=function(e,t){var a=[],n="";return"i"===t?n=/i[1-9]|i[1][0-2]/:"e"===t&&(n=/e[1-9]|e[1][0-2]/),e.forEach((function(e){var t=Object.entries(e),i={},c=["",null];t.forEach((function(e){if(e[0].match(n)){var t=Number(e[1]);null===c[1]&&(c[0]=e[0],c[1]=t),c[1]<e[1]&&(c[0]=e[0],c[1]=t)}})),t.forEach((function(e){if(e[0].match(n)){var t=Number(e[1]);t<c[1]-.05*c[1]?i[e[0]]=[t,"red"]:i[e[0]]=[t,"black"]}})),i[c[0]]=[c[1],"green"],a.push(i)})),a}(e.data,"i"),a=[];e.data.forEach((function(e,n){var i=Object(h.a)(Object(h.a)({},e),t[n]);a.push(i)})),g(a),j(!1),r(!1)})).catch((function(e){var a;401===(null===e||void 0===e||null===(a=e.response)||void 0===a?void 0:a.status)&&t(),j(!1),r(!1)}))};Object(n.useEffect)((function(){Qe(ye,w);var e=setInterval((function(){Qe(ye,w)}),3e5);return function(){clearInterval(e),i.cancel()}}),[ye]);return Object(ce.jsxs)("div",{style:{paddingTop:".5rem",width:"90vw"},children:[Object(ce.jsxs)(C.a,{container:!0,alignItems:"center",justify:"space-between",children:[Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsxs)(C.a,{container:!0,alignItems:"flex-end",children:[Object(ce.jsx)(C.a,{item:!0,style:{marginRight:"1rem"},children:Object(ce.jsxs)(v.a,{className:a.siteFormControl,children:[Object(ce.jsx)(Aa.a,{id:"site-select-label",children:"Site"}),Object(ce.jsx)(Z.a,{labelId:"site-select-label",id:"site-select",value:w,onChange:function(e){N(e.target.value)},children:Object(ce.jsx)(B.a,{value:"gadarpur",children:Object(ce.jsx)("span",{children:"Gadarpur\u2002"})})})]})}),Object(ce.jsx)(C.a,{item:!0,style:{marginRight:"1rem"},children:Object(ce.jsxs)(v.a,{className:a.formControl,children:[Object(ce.jsx)(Aa.a,{id:"block-select-label",children:"Block"}),Object(ce.jsx)(Z.a,{labelId:"block-select-label",id:"block-select",value:M,onChange:function(e){R(e.target.value)},children:Array.from({length:Y},(function(e,t){return t+1})).map((function(e,t){return Object(ce.jsx)(B.a,{value:e,children:Object(ce.jsxs)("span",{children:[e,"\u2002"]})},t)}))})]})}),Object(ce.jsx)(C.a,{item:!0,style:{marginRight:"1rem"},children:Object(ce.jsxs)(v.a,{children:[Object(ce.jsx)(Aa.a,{id:"inverter-select-label",children:"Inverter"}),Object(ce.jsx)(Z.a,{labelId:"inverter-select-label",id:"inverter-select",value:$,onChange:function(e){Q(e.target.value)},children:Array.from({length:ae},(function(e,t){return t+1})).map((function(e,t){return Object(ce.jsx)(B.a,{value:e,children:Object(ce.jsxs)("span",{variant:"h6",children:[e,"\u2002"]})},t)}))})]})}),Object(ce.jsx)(C.a,{item:!0,style:{marginRight:"1rem"},children:Object(ce.jsxs)(v.a,{children:[Object(ce.jsx)(Aa.a,{id:"scb-select-label",children:"SCB"}),Object(ce.jsx)(Z.a,{labelId:"scb-select-label",id:"scb-select",value:P,onChange:function(e){F(e.target.value)},children:Array.from({length:H},(function(e,t){return t+1})).map((function(e){return Object(ce.jsx)(B.a,{value:e,children:Object(ce.jsxs)("span",{variant:"h6",children:[e,"\u2002"]})})}))})]})}),Object(ce.jsx)(C.a,{item:!0,style:{marginRight:".5rem"},children:Object(ce.jsx)(x.a,{variant:"outlined",color:"primary",onClick:function(){Qe(ye,w)},disabled:o,children:o?"Loading":"View"})}),Object(ce.jsx)(C.a,{item:!0,style:{marginRight:".5rem"},children:Object(ce.jsx)(x.a,{variant:"outlined",onClick:function(){r(!0),me(!1);var e=new Date(ye);e.setHours(5,0,0,0);var t=e.getTime(),a=null;a=ze?Date.now():ye,X.a.post(K+"/"+w+"/scb/excel",{fromDate:t,endTime:a,block:"b0"+M,inverter:$,smb:P},{cancelToken:i.token,headers:{jwtToken:c,responseType:"blob"}}).then((function(e){r(!1);var a=window.URL.createObjectURL(new Blob([e.data])),n=document.createElement("a");n.href=a;new Date(t);var i=new Date(ye),c="SCB_".concat(i.getDate(),"_").concat(i.getMonth()+1,"_").concat(i.getFullYear(),".csv");n.setAttribute("download",c),document.body.appendChild(n),n.click(),n.remove(),me(!0)})).catch((function(e){r(!1),me(!0)}))},disabled:!ue,children:"CSV"})}),Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(x.a,{variant:"outlined",onClick:function(){r(!0),Se(!1);var e=new Date(ye);e.setHours(5,0,0,0);var t=e.getTime(),a=null;a=ze?Date.now():ye,X.a.post(K+"/"+w+"/scb/energy",{fromDate:t,endTime:a,block:"b0"+M,inverter:$},{cancelToken:i.token,headers:{jwtToken:c,responseType:"blob"}}).then((function(e){r(!1);var t=window.URL.createObjectURL(new Blob([e.data])),a=document.createElement("a");a.href=t;var n=new Date(ye),i="Energy_export_".concat(M,"_").concat($,"__").concat(n.getDate(),"_").concat(n.getMonth()+1,"_").concat(n.getFullYear(),".csv");a.setAttribute("download",i),document.body.appendChild(a),a.click(),a.remove(),Se(!0)})).catch((function(e){r(!1),Se(!0)}))},disabled:!xe,children:"Energy CSV"})})]})}),Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsxs)(C.a,{container:!0,alignItems:"center",children:[Object(ce.jsx)(C.a,{item:!0,style:{marginRight:"2rem"},children:Object(ce.jsxs)(C.a,{container:!0,children:[Object(ce.jsx)(C.a,{item:!0,children:0===Ye?Object(ce.jsx)(V.a,{variant:"h6",style:{color:"#f44336"},children:"Offline"}):Object(ce.jsx)(V.a,{variant:"h6",style:{color:"#4caf50"},children:"Online"})}),Object(ce.jsx)(C.a,{item:!0,style:{margin:"0 1rem"}}),Object(ce.jsx)(C.a,{item:!0,children:void 0===Ze?Object(ce.jsx)(tt.a,{size:"1.25rem"}):Object(ce.jsx)(V.a,{variant:"h6",children:function(e){var t=new Date(e);return Object(ce.jsxs)("span",{children:[String(t.getDate()).padStart(2,"0"),"/",String(t.getMonth()+1).padStart(2,"0"),"/",t.getFullYear(),Object(ce.jsx)("span",{children:"\u2003"}),t.toLocaleString([],{hour:"2-digit",minute:"2-digit",hour12:!0}).toUpperCase()]})}(Ze)})})]})}),Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(it.a,{utils:O.a,children:Object(ce.jsx)(ct.a,{style:{width:1,visibility:"hidden"},value:we,open:De,onClose:function(){return Pe(!1)},onChange:function(e){try{Re(!1)}finally{Ne(e),Pe(!1)}},format:"dd/MM/yyyy hh:mm a",minDate:function(){var e=new Date;return"gadarpur"===w&&e.setTime(1629396e6),e}()})})}),Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(y.a,{onClick:function(){return Pe(!0)},children:Object(ce.jsx)(Me.a,{color:"action",fontSize:"large"})})}),Object(ce.jsx)(C.a,{item:!0,style:{paddingRight:"0rem",marginRight:"1rem"},children:Object(ce.jsx)(y.a,{onClick:function(){var e=new Date;Ne(e),Te(e.getTime()),Ee(!0),Re(!0)},children:Object(ce.jsx)(nt.a,{color:"primary",fontSize:"large"})})})]})})]}),Object(ce.jsx)("div",{style:{marginBlock:"1.5rem"}}),w&&Object(ce.jsxs)("div",{children:[Object(ce.jsx)(he.a,{style:{paddingTop:"1rem",paddingBottom:".5rem"},children:Object(ce.jsx)("div",{style:{height:"400px"},children:Object(ce.jsx)(Si,{data:f,lines:12,interval:12,leftAxisY:[je,18],rightAxisY:[0,64]})})}),Object(ce.jsx)("div",{style:{marginBlock:"1.75rem"}}),Object(ce.jsx)(xi,{data:m})]}),Object(ce.jsx)(J.a,{open:Ae,anchorOrigin:{vertical:"bottom",horizontal:"left"},autoHideDuration:4e3,onClose:Ge,children:Object(ce.jsx)(pi,{onClose:Ge,severity:"success",children:"Time is reset!"})}),Object(ce.jsx)("div",{style:{marginBottom:"1.5rem"}})]})}function Ci(e){return Object(ce.jsx)($.a,Object(h.a)({elevation:6,variant:"filled"},e))}var yi=Object(D.a)((function(e){return{grow:{flexGrow:1},textField:{width:150}}}));function Ti(e){var t=e.handleSessionExpire,a=yi(),i=$e().setEnabledLinearProgress,c=X.a.CancelToken.source(),r=localStorage.getItem("userToken"),s=Object(n.useState)([]),l=Object(u.a)(s,2),o=(l[0],l[1]),j=Object(n.useState)([{time:"00:00",i1:0,i2:0,i3:0,i4:0,i5:0,i6:0,i7:0,i8:0,i9:0,i10:0,i11:0,i12:0,intertemp:0}]),d=Object(u.a)(j,2),b=(d[0],d[1]),m=Object(n.useState)("gadarpur"),g=Object(u.a)(m,2),S=g[0],p=g[1],f=Object(n.useState)(1),y=Object(u.a)(f,2),T=y[0],I=(y[1],Object(n.useState)(10)),k=Object(u.a)(I,2),w=(k[0],k[1],Object(n.useState)(1)),N=Object(u.a)(w,2),L=N[0],D=(N[1],Object(n.useState)(6)),P=Object(u.a)(D,2),F=(P[0],P[1],Object(n.useState)(1)),V=Object(u.a)(F,2),A=V[0],E=(V[1],Object(n.useState)(4)),H=Object(u.a)(E,2),_=(H[0],H[1],Object(n.useState)(1)),z=Object(u.a)(_,2),M=(z[0],z[1],Object(n.useState)(10)),R=Object(u.a)(M,2),G=(R[0],R[1],Object(n.useState)(0)),W=Object(u.a)(G,2),Y=(W[0],W[1],Object(n.useState)(!0)),q=Object(u.a)(Y,2),U=(q[0],q[1],Object(n.useState)(!0)),$=Object(u.a)(U,2),Q=$[0],ee=$[1],te=Object(n.useState)(!0),ae=Object(u.a)(te,2),ne=ae[0],ie=ae[1],re=Object(n.useState)([]),se=Object(u.a)(re,2),le=(se[0],se[1],function(e){var t=new Date(e.getTime());return t.setHours(0,0,0,0),t}),oe=function(e){var t=new Date(e.getTime());return t.setHours(23,59,59,999),t},je=Object(n.useState)((function(){var e=new Date;return le(e)})),de=Object(u.a)(je,2),be=de[0],ue=de[1],me=Object(n.useState)((function(){var e=new Date;return oe(e)})),he=Object(u.a)(me,2),Oe=he[0],ge=he[1],xe=Object(n.useState)((new Date).getTime()),Se=Object(u.a)(xe,2),pe=Se[0],fe=Se[1],ve=Object(n.useState)(new Date),Ce=Object(u.a)(ve,2),ye=Ce[0],Te=(Ce[1],Object(n.useState)(!1)),Ie=Object(u.a)(Te,2),ke=(Ie[0],Ie[1],Object(n.useState)(!1)),we=Object(u.a)(ke,2),Ne=we[0],Be=we[1],Le=Object(n.useState)(!0),De=Object(u.a)(Le,2),Pe=De[0],Fe=(De[1],function(){Be(!1)});Object(n.useEffect)((function(){fe(ye.getTime())}),[ye]);var Ve=Object(n.useState)(0),Ae=Object(u.a)(Ve,2),Ee=(Ae[0],Ae[1]),He=Object(n.useState)(void 0),_e=Object(u.a)(He,2),ze=(_e[0],_e[1]),Me=function(e,a){i(!0);var n=e,s=new Date(n);s.setHours(5,0,0,0);var l=s.getTime();(function(e,a,n){i(!0),X.a.get(K+"/"+n+"/site",{cancelToken:c.token,headers:{jwtToken:r,startTime:e,endTime:a}}).then((function(e){Ee(e.data.status),ze(1e3*e.data.time),i(!1)})).catch((function(e){var a;console.log(e),401===(null===e||void 0===e||null===(a=e.response)||void 0===a?void 0:a.status)&&t(),i(!1)}))})(l,n=Pe?Date.now():e,a),X.a.post(K+"/"+a+"/scb",{fromDate:l,endTime:n,block:"b0"+L,inverter:String(A),smb:String(T)},{cancelToken:c.token,headers:{jwtToken:r}}).then((function(e){b(function(e){var t=[];return e.forEach((function(e){var a=Object(h.a)({},e),n=a.i1,i=a.i2,c=a.i3,r=a.i4,s=a.i5,l=a.i6,o=a.i7,j=a.i8,d=a.i9,b=a.i10,u=a.i11,m=a.i12,O=a.intertemp,g=a.time;t.push({i1:n,i2:i,i3:c,i4:r,i5:s,i6:l,i7:o,i8:j,i9:d,i10:b,i11:u,i12:m,temperature:O,time:String(g).split(" ")[1]})})),t.reverse()}(e.data));var t=function(e,t){var a=[],n="";return"i"===t?n=/i[1-9]|i[1][0-2]/:"e"===t&&(n=/e[1-9]|e[1][0-2]/),e.forEach((function(e){var t=Object.entries(e),i={},c=["",null];t.forEach((function(e){if(e[0].match(n)){var t=Number(e[1]);null===c[1]&&(c[0]=e[0],c[1]=t),c[1]<e[1]&&(c[0]=e[0],c[1]=t)}})),t.forEach((function(e){if(e[0].match(n)){var t=Number(e[1]);t<c[1]-.05*c[1]?i[e[0]]=[t,"red"]:i[e[0]]=[t,"black"]}})),i[c[0]]=[c[1],"green"],a.push(i)})),a}(e.data,"i"),a=[];e.data.forEach((function(e,n){var i=Object(h.a)(Object(h.a)({},e),t[n]);a.push(i)})),o(a),i(!1)})).catch((function(e){var a;console.log(e),401===(null===e||void 0===e||null===(a=e.response)||void 0===a?void 0:a.status)&&t(),i(!1)}))};Object(n.useEffect)((function(){Me(pe,S);var e=setInterval((function(){Me(pe,S)}),3e5);return function(){clearInterval(e),c.cancel()}}),[pe]);return Object(ce.jsxs)("div",{style:{paddingTop:".5rem",width:"90vw"},children:[Object(ce.jsx)(C.a,{container:!0,alignItems:"center",justify:"space-between",children:Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsxs)(C.a,{container:!0,alignItems:"flex-end",children:[Object(ce.jsx)(C.a,{item:!0,style:{marginRight:"1rem"},children:Object(ce.jsxs)(v.a,{className:a.siteFormControl,children:[Object(ce.jsx)(Aa.a,{id:"site-select-label",children:"Site"}),Object(ce.jsx)(Z.a,{labelId:"site-select-label",id:"site-select",value:S,onChange:function(e){p(e.target.value)},children:Object(ce.jsx)(B.a,{value:"gadarpur",children:Object(ce.jsx)("span",{children:"Gadarpur\u2002"})})})]})}),Object(ce.jsx)(C.a,{item:!0,style:{marginRight:"1rem"},children:Object(ce.jsxs)(it.a,{utils:O.a,children:[Object(ce.jsx)(Ea.a,{autoOk:!0,disableToolbar:!0,variant:"inline",format:"MM/dd/yyyy",id:"from-date-picker-inline",label:"From",value:be,onChange:function(e){ue(le(e))},KeyboardButtonProps:{"aria-labelte":"from date"},style:{marginRight:"1rem"},className:a.textField}),Object(ce.jsx)(Ea.a,{autoOk:!0,disableToolbar:!0,variant:"inline",format:"MM/dd/yyyy",id:"to-date-picker-inline",label:"To",value:Oe,onChange:function(e){ge(oe(e))},KeyboardButtonProps:{"aria-label":"to date"},className:a.textField})]})}),Object(ce.jsx)(C.a,{item:!0,style:{marginRight:"1rem"},children:Object(ce.jsx)(x.a,{variant:"outlined",onClick:function(){ee(!1),i(!0),X.a.post(K+"/"+S+"/scb/energy/date",{fromDate:be.getTime(),endDate:Oe.getTime()},{cancelToken:c.token,headers:{jwtToken:r,responseType:"blob"}}).then((function(e){var t=window.URL.createObjectURL(new Blob([e.data])),a=document.createElement("a");a.href=t;var n="".concat(S,"_energy__").concat(be.getDate(),"_").concat(be.getMonth()+1,"__").concat(Oe.getDate(),"_").concat(Oe.getMonth()+1,".csv");a.setAttribute("download",n),document.body.appendChild(a),a.click(),a.remove(),ee(!0),i(!1)})).catch((function(e){var a;ee(!0),401===(null===e||void 0===e||null===(a=e.response)||void 0===a?void 0:a.status)&&t(),i(!1)}))},disabled:!Q,children:"Energy CSV"})}),Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(x.a,{variant:"outlined",onClick:function(){ie(!1),i(!0),X.a.post(K+"/"+S+"/scb/energy/datetodate",{fromDate:be.getTime(),endDate:Oe.getTime()},{cancelToken:c.token,headers:{jwtToken:r,responseType:"blob"}}).then((function(e){var t=window.URL.createObjectURL(new Blob([e.data])),a=document.createElement("a");a.href=t;var n="".concat(S,"_energy__").concat(be.getDate(),"_").concat(be.getMonth()+1,"__").concat(Oe.getDate(),"_").concat(Oe.getMonth()+1,".csv");a.setAttribute("download",n),document.body.appendChild(a),a.click(),a.remove(),ie(!0),i(!1)})).catch((function(e){var a;ie(!0),401===(null===e||void 0===e||null===(a=e.response)||void 0===a?void 0:a.status)&&t(),i(!1)}))},disabled:!ne,children:"Day Energy CSV"})})]})})}),Object(ce.jsx)(J.a,{open:Ne,anchorOrigin:{vertical:"bottom",horizontal:"left"},autoHideDuration:4e3,onClose:Fe,children:Object(ce.jsx)(Ci,{onClose:Fe,severity:"success",children:"Time is reset!"})})]})}var Ii=["children","value","index"],ki=Object(D.a)({tabs:{"& .MuiTabs-indicator":{backgroundColor:"#148F77"},"& .MuiTab-root.Mui-selected":{color:"#148F77"}}});function wi(e){var t=e.children,a=e.value,n=e.index,i=Object(ji.a)(e,Ii);return Object(ce.jsx)("div",Object(h.a)(Object(h.a)({role:"tabpanel",hidden:a!==n,id:"simple-tabpanel-".concat(n),"aria-labelledby":"simple-tab-".concat(n)},i),{},{children:a===n&&Object(ce.jsx)(ui.a,{children:Object(ce.jsx)(V.a,{children:t})})}))}function Ni(e){return{id:"scb-tab-".concat(e),"aria-controls":"scb-tabpanel-".concat(e)}}function Bi(e){var t=e.handleSessionExpire,a=n.useState(0),i=Object(u.a)(a,2),c=i[0],r=i[1],s=ki();return Object(ce.jsxs)(ui.a,{children:[Object(ce.jsxs)(di.a,{style:{color:"#000000"},className:s.tabs,value:c,onChange:function(e,t){r(t)},"aria-label":"scb tabs",children:[Object(ce.jsx)(bi.a,Object(h.a)({label:"Online"},Ni(0))),Object(ce.jsx)(bi.a,Object(h.a)({label:"Custom"},Ni(1)))]}),Object(ce.jsx)(wi,{value:c,index:0,children:Object(ce.jsx)(vi,{handleSessionExpire:t})}),Object(ce.jsx)(wi,{value:c,index:1,children:Object(ce.jsx)(Ti,{handleSessionExpire:t})})]})}var Li=a(325),Di=a.n(Li),Pi=a(1403),Fi=a(1404),Vi=a(1313),Ai=a(1406),Ei=a(1416),Hi=a(1314),_i=(a(699),a(326)),zi=a.n(_i),Mi=Object(Oe.a)((function(e){return{head:{backgroundColor:"#ffffbf",color:e.palette.common.black,fontSize:16},body:{fontSize:16}}}))(Se.a),Ri=Object(Oe.a)((function(e){return{root:{"&:nth-of-type(odd)":{backgroundColor:e.palette.action.hover}}}}))(ve.a),Gi=Object(D.a)({tableContainer:{maxHeight:"80vh"}}),Wi=function(e){var t=e.value,a=e.block,n=null;return Object(ce.jsxs)(Ri,{children:[Object(ce.jsx)(Mi,{component:"th",scope:"row",style:{paddingTop:".6rem",paddingBottom:".6rem",backgroundColor:n},children:Object(ce.jsx)("strong",{style:{paddingLeft:"2.5rem"},children:t.heading})}),Object(ce.jsx)(Mi,{align:"center",style:{backgroundColor:n},children:Object(ce.jsx)("span",{children:isNaN(Number(t.inv1))?"-":-111===Number(t.inv1)?"x":Number(t.inv1).toFixed(2)})}),Object(ce.jsx)(Mi,{align:"center",style:{backgroundColor:n},children:Object(ce.jsx)("span",{children:isNaN(Number(t.inv2))?"-":-111===Number(t.inv2)?"x":Number(t.inv2).toFixed(2)})}),Object(ce.jsx)(Mi,{align:"center",style:{backgroundColor:n},children:Object(ce.jsx)("span",{children:isNaN(Number(t.inv3))?"-":-111===Number(t.inv3)?"x":Number(t.inv3).toFixed(2)})}),Object(ce.jsx)(Mi,{align:"center",style:{backgroundColor:n},children:Object(ce.jsx)("span",{children:isNaN(Number(t.inv4))?"-":-111===Number(t.inv4)?"x":Number(t.inv4).toFixed(2)})}),Object(ce.jsx)(Mi,{align:"center",style:{backgroundColor:n},children:Object(ce.jsx)("span",{children:isNaN(Number(t.inv5))?"-":-111===Number(t.inv5)?"x":Number(t.inv5).toFixed(2)})}),5!==a&&Object(ce.jsx)(Mi,{align:"center",style:{backgroundColor:n},children:Object(ce.jsx)("span",{children:isNaN(Number(t.inv6))?"-":-111===Number(t.inv6)?"x":Number(t.inv6).toFixed(2)})})]})},Xi=function(e){var t=e.value,a=e.block;return Object(ce.jsxs)(Ri,{children:[Object(ce.jsx)(Mi,{component:"th",scope:"row",style:{paddingTop:".6rem",paddingBottom:".6rem"},children:Object(ce.jsx)("strong",{style:{paddingLeft:"1rem"},children:t.heading})}),Object(ce.jsx)(Mi,{align:"center",children:isNaN(Number(t.inv1))?"-":-111===Number(t.inv1)?"x":Number(t.inv1).toFixed(2)}),Object(ce.jsx)(Mi,{align:"center",children:isNaN(Number(t.inv2))?"-":-111===Number(t.inv2)?"x":Number(t.inv2).toFixed(2)}),Object(ce.jsx)(Mi,{align:"center",children:isNaN(Number(t.inv3))?"-":-111===Number(t.inv3)?"x":Number(t.inv3).toFixed(2)}),Object(ce.jsx)(Mi,{align:"center",children:isNaN(Number(t.inv4))?"-":-111===Number(t.inv4)?"x":Number(t.inv4).toFixed(2)}),Object(ce.jsx)(Mi,{align:"center",children:isNaN(Number(t.inv5))?"-":-111===Number(t.inv5)?"x":Number(t.inv5).toFixed(2)}),5!==a&&Object(ce.jsx)(Mi,{align:"center",children:isNaN(Number(t.inv6))?"-":-111===Number(t.inv6)?"x":Number(t.inv6).toFixed(2)})]})};function Yi(e){var t=e.values,a=e.selectedBlock,c=Gi(),r=Object(n.useState)([]),s=Object(u.a)(r,2),l=s[0],o=s[1],j=i.a.useState(!1),d=Object(u.a)(j,2),b=d[0],m=d[1],h=i.a.useState(!1),O=Object(u.a)(h,2),g=O[0],x=O[1],S=function(e){var t=e.title,a=e.tag,n=e.openRows;e.block;return Object(ce.jsx)(Ri,{children:Object(ce.jsxs)(Mi,{component:"th",scope:"row",colSpan:7,style:{backgroundColor:"#EBF5FB"},children:[Object(ce.jsx)("strong",{style:{paddingLeft:"1rem",paddingRight:".5rem",color:"#000"},children:t}),Object(ce.jsx)(y.a,{"aria-label":"expand row",size:"small",onClick:function(){return function(e){"S"===e?m((function(e){return!e})):x((function(e){return!e}))}(a)},style:{color:"#000"},children:n?Object(ce.jsx)(Ie.a,{}):Object(ce.jsx)(ye.a,{})})]})})};return Object(n.useEffect)((function(){for(var e=[],n=[],i=[],c=null,r=null,s=0;s<t.length;s++)t[s].heading.match(/S[1-4] [^/]/i)?(c||(c=s,i.push(Object(ce.jsx)(S,{title:"Inverter Slots",tag:"S",openRows:b,block:a},s))),s,e.push(Object(ce.jsx)(Wi,{value:t[s],block:a},t[s].heading))):t[s].heading.match(/[S]3[0-4]|2[0-9]|1[0-9]|[1-9] [/] S[1-4]CB/i)?(r||(r=s,i.push(Object(ce.jsx)(S,{title:"Inverter Strings",tag:"PV",openRows:g,block:a},s))),s,n.push(Object(ce.jsx)(Wi,{value:t[s],block:a},t[s].heading))):i.push(Object(ce.jsx)(Xi,{value:t[s],block:a},s));var l,j=[].concat(i);if(b&&g)(l=j).splice.apply(l,[c+1,0].concat(e)),j=[].concat(Object(me.a)(j),[n]);else if(b&&!g){var d;(d=j).splice.apply(d,[c+1,0].concat(e))}else j=!b&&g?[].concat(Object(me.a)(j),[n]):[].concat(i);o(j)}),[t,b,g]),Object(ce.jsx)(pe.a,{component:he.a,elevation:6,className:c.tableContainer,children:Object(ce.jsxs)(ge.a,{stickyHeader:!0,"aria-label":"customized table",size:"small",children:[Object(ce.jsx)(fe.a,{children:Object(ce.jsxs)(ve.a,{children:[Object(ce.jsx)(Mi,{style:{paddingTop:".7rem",paddingLeft:"1.75rem",paddingBottom:".7rem"},children:Object(ce.jsx)("strong",{children:"Parameters"})}),Object(ce.jsx)(Mi,{align:"center",children:Object(ce.jsx)("strong",{children:"Inv 1"})}),Object(ce.jsx)(Mi,{align:"center",children:Object(ce.jsx)("strong",{children:"Inv 2"})}),Object(ce.jsx)(Mi,{align:"center",children:Object(ce.jsx)("strong",{children:"Inv 3"})}),Object(ce.jsx)(Mi,{align:"center",children:Object(ce.jsx)("strong",{children:"Inv 4"})}),Object(ce.jsx)(Mi,{align:"center",children:Object(ce.jsx)("strong",{children:"Inv 5"})}),5!==a&&Object(ce.jsx)(Mi,{align:"center",children:Object(ce.jsx)("strong",{children:"Inv 6"})})]})}),Object(ce.jsx)(xe.a,{children:l})]})})}function qi(e){return Object(ce.jsx)($.a,Object(h.a)({elevation:6,variant:"filled"},e))}var Ui=Object(D.a)((function(e){return{grow:{flexGrow:1},gaugeChartStyle:{marginTop:e.spacing(12)},formControl:{minWidth:120},modalCardStyle:{width:340,height:"fit-content"},gridBreakpoint:Object(m.a)({},e.breakpoints.up("md"),{})}}));function Ki(e){e.handleSessionExpire;var t=e.handleClickOpen,a=e.sitestatusBar,c=Ui(),r=$e().intervalTime,s=(localStorage.getItem("username","Admin"),localStorage.getItem("userToken")),l=(localStorage.getItem("userId"),K),o=Object(n.useState)((new Date).getTime()),j=Object(u.a)(o,2),d=j[0],b=j[1],m=Object(n.useState)(0),h=Object(u.a)(m,2),O=h[0],g=h[1],x=Object(n.useState)(void 0),p=Object(u.a)(x,2),f=p[0],y=p[1],T=Object(n.useState)({}),I=Object(u.a)(T,2),k=I[0],w=I[1],N=Object(n.useState)(0),L=Object(u.a)(N,2),D=L[0],P=L[1],F=Object(n.useState)(0),A=Object(u.a)(F,2),E=(A[0],A[1]),H=Object(n.useState)(0),_=Object(u.a)(H,2),z=_[0],M=_[1],R=Object(n.useState)(0),G=Object(u.a)(R,2),W=G[0],Y=G[1],q=Object(n.useState)(0),U=Object(u.a)(q,2),$=U[0],Q=U[1],ee=Object(n.useState)(0),te=Object(u.a)(ee,2),ae=te[0],ne=te[1],ie=Object(n.useState)(0),re=Object(u.a)(ie,2),le=re[0],oe=re[1],je=Object(n.useState)(0),de=Object(u.a)(je,2),be=de[0],me=de[1],he=Object(n.useState)([{time:"00:00",gti:"0.00",ghi:"0.00",pg:"0.00"}]),Oe=Object(u.a)(he,2),ge=Oe[0],xe=Oe[1],Se=i.a.useState(1),pe=Object(u.a)(Se,2),fe=pe[0],ve=pe[1],Ce=Object(n.useState)([]),ye=Object(u.a)(Ce,2),Te=ye[0],Ie=ye[1],ke=Object(n.useState)(0),we=Object(u.a)(ke,2),Ne=we[0],Be=we[1];Object(n.useEffect)((function(){0!==Ne&&at(d)}),[Ne]);var Le=function(){return 0!==Ne?"1":"0"},De=function(){return Ne>0?"1":"0"},Pe=null,Fe=Object(n.useState)(!1),Ve=Object(u.a)(Fe,2),Ee=Ve[0],He=Ve[1],ze=Object(n.useState)(new Date),Me=Object(u.a)(ze,2),Re=Me[0],Ge=Me[1],We=Object(n.useState)(!1),Xe=Object(u.a)(We,2),Ye=Xe[0],qe=Xe[1],Ue=Object(n.useState)(!0),Ze=Object(u.a)(Ue,2),Je=Ze[0],Qe=Ze[1],et=function(){He(!1)};Object(n.useEffect)((function(){b(Re.getTime())}),[Re]);var tt=function(e,t,a,n){X.a.get(l+"/mankhera/grid/B0"+e,{headers:{jwtToken:s,startTime:t,endTime:a,beginTime:n,enablePacket:Le(),clientPacketTime:f,isNext:De()}}).then((function(e){!function(e){for(var t=[],a=Object.entries(e),n=["L1 I","L2 I","L3 I","L1 V","L2 V","L3 V","Frequency","DC I","DC V","Active Power","DC Power","Reactive Power","PF","Cab Temp","IGBT Temp","DC Energy","S1 L1 I","S1 L2 I","S1 L3 I","S1 L1 V","S1 L2 V","S1 L3 V","S1 DC I","S1 DC V","S1 Active Power","S1 DC Power","S1 PF","S1 IGBT Temp","S2 L1 I","S2 L2 I","S2 L3 I","S2 L1 V","S2 L2 V","S2 L3 V","S2 DC I","S2 DC V","S2 Active Power","S2 DC Power","S2 PF","S2 IGBT Temp","S3 L1 I","S3 L2 I","S3 L3 I","S3 L1 V","S3 L2 V","S3 L3 V","S3 DC I","S3 DC V","S3 Active Power","S3 DC Power","S3 PF","S3 IGBT Temp","S4 L1 I","S4 L2 I","S4 L3 I","S4 L1 V","S4 L2 V","S4 L3 V","S4 DC I","S4 DC V","S4 Active Power","S4 DC Power","S4 PF","S4 IGBT Temp","S1 + S2 Peak Active Power","S3 + S4 Peak Active Power","S1 / S1CB1 I","S2 / S1CB2 I","S3 / S1CB3 I","S4 / S1CB4 I","S5 / S1CB5 I","S6 / S1CB6 I","S7 / S1CB7 I","S8 / S1CB8 I","S9 / S2CB1 I","S10 / S2CB2 I","S11 / S2CB3 I","S12 / S2CB4 I","S13 / S2CB5 I","S14 / S2CB6 I","S15 / S2CB7 I","S16 / S2CB8 I","S17 / S3CB1 I","S18 / S3CB2 I","S19 / S3CB3 I","S20 / S3CB4 I","S21 / S3CB5 I","S22 / S3CB6 I","S23 / S3CB7 I","S24 / S3CB8 I","S25 / S4CB1 I","S26 / S4CB2 I","S27 / S4CB3 I","S28 / S4CB4 I","S29 / S4CB5 I","S30 / S4CB6 I","S31 / S4CB7 I","S32 / S4CB8 I"],i=0;i<n.length;i++){var c=NaN,r=NaN,s=NaN,l=NaN,o=NaN,j=NaN;try{a[i][1]&&(c=a[i][1]),a[n.length+i][1]&&(r=a[n.length+i][1]),a[2*n.length+i][1]&&(s=a[2*n.length+i][1]),a[3*n.length+i][1]&&(l=a[3*n.length+i][1]),a[4*n.length+i][1]&&(o=a[4*n.length+i][1]),a[5*n.length+i][1]&&(j=a[5*n.length+i][1])}catch(d){}t.push({heading:n[i],inv1:c,inv2:r,inv3:s,inv4:l,inv5:o,inv6:j})}Ie([].concat(t))}(e.data)})).catch((function(e){}))},at=function(e){var t=1623696973e3,a=e;a=Je?Date.now():e;var n=new Date(a);n.setHours(5,0,0,0);var i=n.getTime();!function(e,t,a){X.a.get(l+"/mankhera/site",{headers:{jwtToken:s,startTime:e,endTime:t,beginTime:a,enablePacket:Le(),clientPacketTime:f,isNext:De()}}).then((function(e){g(e.data.status),y(1e3*e.data.time)})).catch((function(e){}))}(t,a,i),function(e,t,a){X.a.get(l+"/mankhera/boxes",{headers:{jwtToken:s,startTime:e,endTime:t,beginTime:a,enablePacket:Le(),clientPacketTime:f,isNext:De()}}).then((function(e){w(e.data)})).catch((function(e){}))}(t,a,i),function(e,t,a){X.a.get(l+"/mankhera/gauge",{headers:{jwtToken:s,startTime:e,endTime:t,beginTime:a,enablePacket:Le(),clientPacketTime:f,isNext:De()}}).then((function(e){var t=e.data.value;P(Number(t).toFixed(2)),E(Number(t).toFixed(1)/50)})).catch((function(e){}))}(t,a,i),function(e,t,a){X.a.get(l+"/mankhera/temperature",{headers:{jwtToken:s,startTime:e,endTime:t,beginTime:a,enablePacket:Le(),clientPacketTime:f,isNext:De()}}).then((function(e){var t=e.data.ambientTemp,a=e.data.moduleTemp,n=e.data.humidity;M(Number(t).toFixed(1)),Y(Number(a).toFixed(1)),Q(Number(n).toFixed(1))})).catch((function(e){}))}(t,a,i),function(e,t,a){X.a.get(l+"/mankhera/wind",{headers:{jwtToken:s,startTime:e,endTime:t,beginTime:a,enablePacket:Le(),clientPacketTime:f,isNext:De()}}).then((function(e){var t=e.data.direction,a=e.data.speed;e.data.rain,ne(Number(t).toFixed(0)),oe(Number(a).toFixed(1)),me(Number(e.data.rain).toFixed(1))})).catch((function(e){}))}(t,a,i),function(e,t,a){X.a.get(l+"/mankhera/graph",{headers:{jwtToken:s,startTime:e,endTime:t,beginTime:a,enablePacket:Le(),clientPacketTime:f,isNext:De()}}).then((function(e){xe(e.data)})).catch((function(e){}))}(t,a,i),tt(fe,t,a,i)};Object(n.useEffect)((function(){(Pe=document.getElementById("timeSliderLabel2"))&&(Pe.innerText=(new Date).toLocaleString([],{hour:"2-digit",minute:"2-digit",hour12:!0}).toUpperCase()),at(d);var e=setInterval((function(){at(d)}),r);return function(){clearInterval(e)}}),[d]);var nt=Object(n.useState)("space-between"),it=Object(u.a)(nt,2),ct=(it[0],it[1]);return Object(n.useLayoutEffect)((function(){window.matchMedia("(min-width: 1280px)").matches?ct("space-between"):ct("flex-start")}),[]),Object(ce.jsxs)(i.a.Fragment,{children:[Object(ce.jsx)(C.a,{container:!0,justifyContent:"space-between",alignItems:"center",children:Object(ce.jsx)(rt,{sitestatusBar:a,status:O,timestamp:f,handleClickOpen:t,handleTimeReset:function(){Be(0);var e=new Date;Ge(e),b(e.getTime()),He(!0),Qe(!0)},setIsNextCount:Be,setOpenDateTimePicker:qe,getMinDateForPicker:function(){return new Date(16303248e5)},selectedDate:Re,getFormattedDateAndTimeString:function(e){var t=new Date(e);return Object(ce.jsxs)("span",{children:[String(t.getDate()).padStart(2,"0"),"/",String(t.getMonth()+1).padStart(2,"0"),"/",t.getFullYear(),Object(ce.jsx)("span",{children:"\u2003"}),t.toLocaleString([],{hour:"2-digit",minute:"2-digit",hour12:!0}).toUpperCase()]})},openDateTimePicker:Ye,handleDateChange:function(e){try{Qe(!1)}finally{Ge(e),qe(!1)}}})}),Object(ce.jsx)("div",{style:{marginTop:"2rem"}}),Object(ce.jsx)(Ae,{day_generation:k.day_generation,revenue:1e3*k.day_generation*7.06,peak_power:k.peak_power,ghi:k.ghi,gti:k.gti,plant_pr:k.plant_pr,grid_availability:k.grid_availability,plant_availability:k.plant_availability}),Object(ce.jsxs)(C.a,{container:!0,spacing:6,style:{marginTop:"1rem"},children:[Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(_e,{totalExport:D,maxValue:40})}),Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(se,{ambientTemp:z,moduleTemp:W,humidity:$})}),Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(Ke,{windDirection:ae,windSpeed:le,rain:be})})]}),Object(ce.jsxs)(S.a,{elevation:6,style:{marginTop:"2.5rem",height:"500px",width:"100%"},children:[Object(ce.jsx)(V.a,{variant:"h6",color:"textSecondary",style:{marginLeft:"1.5rem",marginTop:"1rem",marginBottom:"1.5rem"},children:"Irradiance / Generation"}),Object(ce.jsx)(ue,{data:ge,interval:12,leftAxisY:[0,1500],rightAxisY:[0,50]})]}),Object(ce.jsx)(C.a,{container:!0,style:{marginTop:"3rem"},children:Object(ce.jsxs)(C.a,{item:!0,xs:12,children:[Object(ce.jsxs)(C.a,{container:!0,spacing:2,alignItems:"center",style:{marginBottom:".5rem"},children:[Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(V.a,{variant:"h6",color:"textSecondary",children:"Inverter Values"})}),Object(ce.jsx)(C.a,{item:!0,className:c.grow}),Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsxs)(V.a,{style:{marginLeft:".25rem"},children:["Selected Block:"," "]})}),Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(v.a,{className:c.formControl,children:Object(ce.jsxs)(Z.a,{value:fe,onChange:function(e){ve(e.target.value);var t=new Date;t.setDate((new Date).getDate()-1),t.setHours(23,50,0,0);var a=new Date(d);a.setHours(5,0,0,0);var n=a.getTime();tt(e.target.value,t.getTime(),d,n)},children:[Object(ce.jsx)(B.a,{value:1,children:"B01"}),Object(ce.jsx)(B.a,{value:2,children:"B02"}),Object(ce.jsx)(B.a,{value:3,children:"B03"}),Object(ce.jsx)(B.a,{value:4,children:"B04"}),Object(ce.jsx)(B.a,{value:5,children:"B05"})]})})})]}),Object(ce.jsx)(Yi,{values:Te,selectedBlock:fe})]})}),Object(ce.jsx)(J.a,{open:Ee,anchorOrigin:{vertical:"bottom",horizontal:"left"},autoHideDuration:4e3,onClose:et,children:Object(ce.jsx)(qi,{onClose:et,severity:"success",children:"Time is reset!"})}),Object(ce.jsx)("div",{style:{marginBottom:"2rem"}})]})}var Zi=Object(Oe.a)((function(e){return{head:{backgroundColor:"#ffffbf",color:e.palette.common.black,fontSize:16},body:{fontSize:16}}}))(Se.a),Ji=Object(Oe.a)((function(e){return{root:{"&:nth-of-type(odd)":{backgroundColor:e.palette.action.hover}}}}))(ve.a),$i=Object(D.a)({tableContainer:{maxHeight:"80vh"}}),Qi=function(e){var t=e.value,a=null;return Object(ce.jsxs)(Ji,{children:[Object(ce.jsx)(Zi,{component:"th",scope:"row",style:{paddingTop:".6rem",paddingBottom:".6rem",backgroundColor:a},children:Object(ce.jsx)("strong",{style:{paddingLeft:"2.5rem"},children:t.heading})}),Object(ce.jsx)(Zi,{align:"center",style:{backgroundColor:a},children:Object(ce.jsx)("span",{children:isNaN(Number(t.inv1))?"-":-111===Number(t.inv1)?"X":Number(t.inv1).toFixed(2)})}),Object(ce.jsx)(Zi,{align:"center",style:{backgroundColor:a},children:Object(ce.jsx)("span",{children:isNaN(Number(t.inv2))?"-":-111===Number(t.inv2)?"X":Number(t.inv2).toFixed(2)})}),Object(ce.jsx)(Zi,{align:"center",style:{backgroundColor:a},children:Object(ce.jsx)("span",{children:isNaN(Number(t.inv3))?"-":-111===Number(t.inv3)?"X":Number(t.inv3).toFixed(2)})}),Object(ce.jsx)(Zi,{align:"center",style:{backgroundColor:a},children:Object(ce.jsx)("span",{children:isNaN(Number(t.inv4))?"-":-111===Number(t.inv4)?"X":Number(t.inv4).toFixed(2)})})]})},ec=function(e){var t=e.value;return Object(ce.jsxs)(Ji,{children:[Object(ce.jsx)(Zi,{component:"th",scope:"row",style:{paddingTop:".6rem",paddingBottom:".6rem"},children:Object(ce.jsx)("strong",{style:{paddingLeft:"1rem"},children:t.heading})}),Object(ce.jsx)(Zi,{align:"center",children:isNaN(Number(t.inv1))?"-":-111===Number(t.inv1)?"X":Number(t.inv1).toFixed(2)}),Object(ce.jsx)(Zi,{align:"center",children:isNaN(Number(t.inv2))?"-":-111===Number(t.inv2)?"X":Number(t.inv2).toFixed(2)}),Object(ce.jsx)(Zi,{align:"center",children:isNaN(Number(t.inv3))?"-":-111===Number(t.inv3)?"X":Number(t.inv3).toFixed(2)}),Object(ce.jsx)(Zi,{align:"center",children:isNaN(Number(t.inv4))?"-":-111===Number(t.inv4)?"X":Number(t.inv4).toFixed(2)})]})};function tc(e){var t=e.values,a=$i(),c=Object(n.useState)([]),r=Object(u.a)(c,2),s=r[0],l=r[1],o=i.a.useState(!1),j=Object(u.a)(o,2),d=j[0],b=j[1],m=i.a.useState(!1),h=Object(u.a)(m,2),O=h[0],g=h[1],x=function(e){var t=e.title,a=e.tag,n=e.openRows;return Object(ce.jsx)(Ji,{children:Object(ce.jsxs)(Zi,{component:"th",scope:"row",colSpan:6,style:{backgroundColor:"#EBF5FB"},children:[Object(ce.jsx)("strong",{style:{paddingLeft:"1rem",paddingRight:".5rem",color:"#000"},children:t}),Object(ce.jsx)(y.a,{"aria-label":"expand row",size:"small",onClick:function(){return function(e){"S"===e?b((function(e){return!e})):g((function(e){return!e}))}(a)},style:{color:"#000"},children:n?Object(ce.jsx)(Ie.a,{}):Object(ce.jsx)(ye.a,{})})]})})};return Object(n.useEffect)((function(){for(var e=[],a=[],n=[],i=null,c=null,r=0;r<t.length;r++)t[r].heading.match(/S[1-4] [^/]/i)?(i||(i=r,n.push(Object(ce.jsx)(x,{title:"Inverter Slots",tag:"S",openRows:d},r))),r,e.push(Object(ce.jsx)(Qi,{value:t[r]},t[r].heading))):t[r].heading.match(/[S]3[0-4]|2[0-9]|1[0-9]|[1-9] [/] S[1-4]CB/i)?(c||(c=r,n.push(Object(ce.jsx)(x,{title:"Inverter Strings",tag:"PV",openRows:O},r))),r,a.push(Object(ce.jsx)(Qi,{value:t[r]},t[r].heading))):n.push(Object(ce.jsx)(ec,{value:t[r]},r));var s,o=[].concat(n);if(d&&O)(s=o).splice.apply(s,[i+1,0].concat(e)),o=[].concat(Object(me.a)(o),[a]);else if(d&&!O){var j;(j=o).splice.apply(j,[i+1,0].concat(e))}else o=!d&&O?[].concat(Object(me.a)(o),[a]):[].concat(n);l(o)}),[t,d,O]),Object(ce.jsx)(pe.a,{component:he.a,elevation:6,className:a.tableContainer,children:Object(ce.jsxs)(ge.a,{stickyHeader:!0,"aria-label":"customized table",size:"small",children:[Object(ce.jsx)(fe.a,{children:Object(ce.jsxs)(ve.a,{children:[Object(ce.jsx)(Zi,{style:{paddingTop:".7rem",paddingLeft:"1.75rem",paddingBottom:".7rem"},children:Object(ce.jsx)("strong",{children:"Parameters"})}),Object(ce.jsx)(Zi,{align:"center",children:Object(ce.jsx)("strong",{children:"Inv 1"})}),Object(ce.jsx)(Zi,{align:"center",children:Object(ce.jsx)("strong",{children:"Inv 2"})}),Object(ce.jsx)(Zi,{align:"center",children:Object(ce.jsx)("strong",{children:"Inv 3"})}),Object(ce.jsx)(Zi,{align:"center",children:Object(ce.jsx)("strong",{children:"Inv 4"})})]})}),Object(ce.jsx)(xe.a,{children:s})]})})}function ac(e){return Object(ce.jsx)($.a,Object(h.a)({elevation:6,variant:"filled"},e))}var nc=Object(D.a)((function(e){return{grow:{flexGrow:1},gaugeChartStyle:{marginTop:e.spacing(12)},formControl:{minWidth:120},modalCardStyle:{width:340,height:"fit-content"},gridBreakpoint:Object(m.a)({},e.breakpoints.up("md"),{})}}));function ic(e){e.handleSessionExpire;var t=e.handleClickOpen,a=e.sitestatusBar,c=nc(),r=$e().intervalTime,s=(localStorage.getItem("username","Admin"),localStorage.getItem("userToken")),l=(localStorage.getItem("userId"),K),o=Object(n.useState)((new Date).getTime()),j=Object(u.a)(o,2),d=j[0],b=j[1],m=Object(n.useState)(0),h=Object(u.a)(m,2),O=h[0],g=h[1],x=Object(n.useState)(void 0),p=Object(u.a)(x,2),f=p[0],y=p[1],T=Object(n.useState)({}),I=Object(u.a)(T,2),k=I[0],w=I[1],N=Object(n.useState)(0),L=Object(u.a)(N,2),D=L[0],P=L[1],F=Object(n.useState)(0),A=Object(u.a)(F,2),E=(A[0],A[1]),H=Object(n.useState)(0),_=Object(u.a)(H,2),z=_[0],M=_[1],R=Object(n.useState)(0),G=Object(u.a)(R,2),W=G[0],Y=G[1],q=Object(n.useState)(0),U=Object(u.a)(q,2),$=U[0],Q=U[1],ee=Object(n.useState)(0),te=Object(u.a)(ee,2),ae=te[0],ne=te[1],ie=Object(n.useState)(0),re=Object(u.a)(ie,2),le=re[0],oe=re[1],je=Object(n.useState)(0),de=Object(u.a)(je,2),be=de[0],me=de[1],he=Object(n.useState)([{time:"00:00",gti:"0.00",ghi:"0.00",pg:"0.00"}]),Oe=Object(u.a)(he,2),ge=Oe[0],xe=Oe[1],Se=i.a.useState(1),pe=Object(u.a)(Se,2),fe=pe[0],ve=pe[1],Ce=Object(n.useState)([]),ye=Object(u.a)(Ce,2),Te=ye[0],Ie=ye[1],ke=Object(n.useState)(0),we=Object(u.a)(ke,2),Ne=we[0],Be=we[1];Object(n.useEffect)((function(){0!==Ne&&at(d)}),[Ne]);var Le=function(){return 0!==Ne?"1":"0"},De=function(){return Ne>0?"1":"0"},Pe=null,Fe=Object(n.useState)(!1),Ve=Object(u.a)(Fe,2),Ee=Ve[0],He=Ve[1],ze=Object(n.useState)(new Date),Me=Object(u.a)(ze,2),Re=Me[0],Ge=Me[1],We=Object(n.useState)(!1),Xe=Object(u.a)(We,2),Ye=Xe[0],qe=Xe[1],Ue=Object(n.useState)(!0),Ze=Object(u.a)(Ue,2),Je=Ze[0],Qe=Ze[1],et=function(){He(!1)};Object(n.useEffect)((function(){b(Re.getTime())}),[Re]);var tt=function(e,t,a,n){X.a.get(l+"/jhunir/grid/B0"+e,{headers:{jwtToken:s,startTime:t,endTime:a,beginTime:n,enablePacket:Le(),clientPacketTime:f,isNext:De()}}).then((function(e){!function(e){for(var t=[],a=Object.entries(e),n=["L1 I","L2 I","L3 I","L1 V","L2 V","L3 V","Frequency","DC I","DC V","Active Power","DC Power","Reactive Power","PF","Cab Temp","IGBT Temp","DC Energy","S1 L1 I","S1 L2 I","S1 L3 I","S1 L1 V","S1 L2 V","S1 L3 V","S1 DC I","S1 DC V","S1 Active Power","S1 DC Power","S1 PF","S1 IGBT Temp","S2 L1 I","S2 L2 I","S2 L3 I","S2 L1 V","S2 L2 V","S2 L3 V","S2 DC I","S2 DC V","S2 Active Power","S2 DC Power","S2 PF","S2 IGBT Temp","S3 L1 I","S3 L2 I","S3 L3 I","S3 L1 V","S3 L2 V","S3 L3 V","S3 DC I","S3 DC V","S3 Active Power","S3 DC Power","S3 PF","S3 IGBT Temp","S4 L1 I","S4 L2 I","S4 L3 I","S4 L1 V","S4 L2 V","S4 L3 V","S4 DC I","S4 DC V","S4 Active Power","S4 DC Power","S4 PF","S4 IGBT Temp","S1 + S2 Peak Active Power","S3 + S4 Peak Active Power","S1 / S1CB1 I","S2 / S1CB2 I","S3 / S1CB3 I","S4 / S1CB4 I","S5 / S1CB5 I","S6 / S1CB6 I","S7 / S1CB7 I","S8 / S1CB8 I","S9 / S2CB1 I","S10 / S2CB2 I","S11 / S2CB3 I","S12 / S2CB4 I","S13 / S2CB5 I","S14 / S2CB6 I","S15 / S2CB7 I","S16 / S2CB8 I","S17 / S3CB1 I","S18 / S3CB2 I","S19 / S3CB3 I","S20 / S3CB4 I","S21 / S3CB5 I","S22 / S3CB6 I","S23 / S3CB7 I","S24 / S3CB8 I","S25 / S4CB1 I","S26 / S4CB2 I","S27 / S4CB3 I","S28 / S4CB4 I","S29 / S4CB5 I","S30 / S4CB6 I","S31 / S4CB7 I","S32 / S4CB8 I"],i=0;i<n.length;i++){var c=NaN,r=NaN,s=NaN,l=NaN,o=NaN;try{a[i][1]&&(c=a[i][1]),a[n.length+i][1]&&(r=a[n.length+i][1]),a[2*n.length+i][1]&&(s=a[2*n.length+i][1]),a[3*n.length+i][1]&&(l=a[3*n.length+i][1]),a[4*n.length+i][1]&&(o=a[4*n.length+i][1])}catch(j){}t.push({heading:n[i],inv1:c,inv2:r,inv3:s,inv4:l,inv5:o})}Ie([].concat(t))}(e.data)})).catch((function(e){}))},at=function(e){var t=1623696973e3,a=e;a=Je?Date.now():e;var n=new Date(a);n.setHours(5,0,0,0);var i=n.getTime();!function(e,t,a){X.a.get(l+"/jhunir/site",{headers:{jwtToken:s,startTime:e,endTime:t,beginTime:a,enablePacket:Le(),clientPacketTime:f,isNext:De()}}).then((function(e){g(e.data.status),y(1e3*e.data.time)})).catch((function(e){}))}(t,a,i),function(e,t,a){X.a.get(l+"/jhunir/boxes",{headers:{jwtToken:s,startTime:e,endTime:t,beginTime:a,enablePacket:Le(),clientPacketTime:f,isNext:De()}}).then((function(e){w(e.data)})).catch((function(e){}))}(t,a,i),function(e,t,a){X.a.get(l+"/jhunir/gauge",{headers:{jwtToken:s,startTime:e,endTime:t,beginTime:a,enablePacket:Le(),clientPacketTime:f,isNext:De()}}).then((function(e){var t=e.data.value;P(Number(t).toFixed(2)),E(Number(t).toFixed(1)/50)})).catch((function(e){}))}(t,a,i),function(e,t,a){X.a.get(l+"/jhunir/temperature",{headers:{jwtToken:s,startTime:e,endTime:t,beginTime:a,enablePacket:Le(),clientPacketTime:f,isNext:De()}}).then((function(e){var t=e.data.ambientTemp,a=e.data.moduleTemp,n=e.data.humidity;M(Number(t).toFixed(1)),Y(Number(a).toFixed(1)),Q(Number(n).toFixed(1))})).catch((function(e){}))}(t,a,i),function(e,t,a){X.a.get(l+"/jhunir/wind",{headers:{jwtToken:s,startTime:e,endTime:t,beginTime:a,enablePacket:Le(),clientPacketTime:f,isNext:De()}}).then((function(e){var t=e.data.direction,a=e.data.speed;e.data.rain,ne(Number(t).toFixed(0)),oe(Number(a).toFixed(1)),me(Number(e.data.rain).toFixed(1))})).catch((function(e){}))}(t,a,i),function(e,t,a){X.a.get(l+"/jhunir/graph",{headers:{jwtToken:s,startTime:e,endTime:t,beginTime:a,enablePacket:Le(),clientPacketTime:f,isNext:De()}}).then((function(e){xe(e.data)})).catch((function(e){}))}(t,a,i),tt(fe,t,a,i)};Object(n.useEffect)((function(){(Pe=document.getElementById("timeSliderLabel2"))&&(Pe.innerText=(new Date).toLocaleString([],{hour:"2-digit",minute:"2-digit",hour12:!0}).toUpperCase()),at(d);var e=setInterval((function(){at(d)}),r);return function(){clearInterval(e)}}),[d]);var nt=Object(n.useState)("space-between"),it=Object(u.a)(nt,2),ct=(it[0],it[1]);return Object(n.useLayoutEffect)((function(){window.matchMedia("(min-width: 1280px)").matches?ct("space-between"):ct("flex-start")}),[]),Object(ce.jsxs)(i.a.Fragment,{children:[Object(ce.jsx)(C.a,{container:!0,justifyContent:"space-between",alignItems:"center",children:Object(ce.jsx)(rt,{sitestatusBar:a,status:O,timestamp:f,handleClickOpen:t,handleTimeReset:function(){Be(0);var e=new Date;Ge(e),b(e.getTime()),He(!0),Qe(!0)},setIsNextCount:Be,setOpenDateTimePicker:qe,getMinDateForPicker:function(){return new Date(16303248e5)},selectedDate:Re,getFormattedDateAndTimeString:function(e){var t=new Date(e);return Object(ce.jsxs)("span",{children:[String(t.getDate()).padStart(2,"0"),"/",String(t.getMonth()+1).padStart(2,"0"),"/",t.getFullYear(),Object(ce.jsx)("span",{children:"\u2003"}),t.toLocaleString([],{hour:"2-digit",minute:"2-digit",hour12:!0}).toUpperCase()]})},openDateTimePicker:Ye,handleDateChange:function(e){try{Qe(!1)}finally{Ge(e),qe(!1)}}})}),Object(ce.jsx)("div",{style:{marginTop:"2rem"}}),Object(ce.jsx)(Ae,{day_generation:k.day_generation,revenue:1e3*k.day_generation*7.57,peak_power:k.peak_power,ghi:k.ghi,gti:k.gti,plant_pr:k.plant_pr,grid_availability:k.grid_availability,plant_availability:k.plant_availability}),Object(ce.jsxs)(C.a,{container:!0,spacing:6,style:{marginTop:"1rem"},children:[Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(_e,{totalExport:D,maxValue:30})}),Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(se,{ambientTemp:z,moduleTemp:W,humidity:$})}),Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(Ke,{windDirection:ae,windSpeed:le,rain:be})})]}),Object(ce.jsxs)(S.a,{elevation:6,style:{marginTop:"2.5rem",height:"500px",width:"100%"},children:[Object(ce.jsx)(V.a,{variant:"h6",color:"textSecondary",style:{marginLeft:"1.5rem",marginTop:"1rem",marginBottom:"1.5rem"},children:"Irradiance / Generation"}),Object(ce.jsx)(ue,{data:ge,interval:12,leftAxisY:[0,1500],rightAxisY:[0,50]})]}),Object(ce.jsx)(C.a,{container:!0,style:{marginTop:"3rem"},children:Object(ce.jsxs)(C.a,{item:!0,xs:12,children:[Object(ce.jsxs)(C.a,{container:!0,spacing:2,alignItems:"center",style:{marginBottom:".5rem"},children:[Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(V.a,{variant:"h6",color:"textSecondary",children:"Inverter Values"})}),Object(ce.jsx)(C.a,{item:!0,className:c.grow}),Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsxs)(V.a,{style:{marginLeft:".25rem"},children:["Selected Block:"," "]})}),Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(v.a,{className:c.formControl,children:Object(ce.jsxs)(Z.a,{value:fe,onChange:function(e){ve(e.target.value);var t=new Date;t.setDate((new Date).getDate()-1),t.setHours(23,50,0,0);var a=new Date(d);a.setHours(5,0,0,0);var n=a.getTime();tt(e.target.value,t.getTime(),d,n)},children:[Object(ce.jsx)(B.a,{value:1,children:"B01"}),Object(ce.jsx)(B.a,{value:2,children:"B02"}),Object(ce.jsx)(B.a,{value:3,children:"B03"})]})})})]}),Object(ce.jsx)(tc,{values:Te})]})}),Object(ce.jsx)(J.a,{open:Ee,anchorOrigin:{vertical:"bottom",horizontal:"left"},autoHideDuration:4e3,onClose:et,children:Object(ce.jsx)(ac,{onClose:et,severity:"success",children:"Time is reset!"})}),Object(ce.jsx)("div",{style:{marginBottom:"2rem"}})]})}var cc=Object(Oe.a)((function(e){return{head:{backgroundColor:"#ffffbf",color:e.palette.common.black,fontSize:16},body:{fontSize:16}}}))(Se.a),rc=Object(Oe.a)((function(e){return{root:{"&:nth-of-type(odd)":{backgroundColor:e.palette.action.hover}}}}))(ve.a),sc=Object(D.a)({tableContainer:{maxHeight:"80vh"}}),lc=function(e){var t=e.value,a=null;return Object(ce.jsxs)(rc,{children:[Object(ce.jsx)(cc,{component:"th",scope:"row",style:{paddingTop:".6rem",paddingBottom:".6rem",backgroundColor:a},children:Object(ce.jsx)("strong",{style:{paddingLeft:"2.5rem"},children:t.heading})}),Object(ce.jsx)(cc,{align:"center",style:{backgroundColor:a},children:Object(ce.jsx)("span",{children:isNaN(Number(t.inv1))?"-":-111===Number(t.inv1)?"X":Number(t.inv1).toFixed(2)})}),Object(ce.jsx)(cc,{align:"center",style:{backgroundColor:a},children:Object(ce.jsx)("span",{children:isNaN(Number(t.inv2))?"-":-111===Number(t.inv2)?"X":Number(t.inv2).toFixed(2)})})]})},oc=function(e){var t=e.value;return Object(ce.jsxs)(rc,{children:[Object(ce.jsx)(cc,{component:"th",scope:"row",style:{paddingTop:".6rem",paddingBottom:".6rem"},children:Object(ce.jsx)("strong",{style:{paddingLeft:"1rem"},children:t.heading})}),Object(ce.jsx)(cc,{align:"center",children:isNaN(Number(t.inv1))?"-":-111===Number(t.inv1)?"X":Number(t.inv1).toFixed(2)}),Object(ce.jsx)(cc,{align:"center",children:isNaN(Number(t.inv2))?"-":-111===Number(t.inv2)?"X":Number(t.inv2).toFixed(2)})]})};function jc(e){var t=e.values,a=sc(),c=Object(n.useState)([]),r=Object(u.a)(c,2),s=r[0],l=r[1],o=i.a.useState(!1),j=Object(u.a)(o,2),d=j[0],b=j[1],m=i.a.useState(!1),h=Object(u.a)(m,2),O=h[0],g=h[1],x=function(e){var t=e.title,a=e.tag,n=e.openRows;return Object(ce.jsx)(rc,{children:Object(ce.jsxs)(cc,{component:"th",scope:"row",colSpan:6,style:{backgroundColor:"#EBF5FB"},children:[Object(ce.jsx)("strong",{style:{paddingLeft:"1rem",paddingRight:".5rem",color:"#000"},children:t}),Object(ce.jsx)(y.a,{"aria-label":"expand row",size:"small",onClick:function(){return function(e){"S"===e?b((function(e){return!e})):g((function(e){return!e}))}(a)},style:{color:"#000"},children:n?Object(ce.jsx)(Ie.a,{}):Object(ce.jsx)(ye.a,{})})]})})};return Object(n.useEffect)((function(){for(var e=[],a=[],n=[],i=null,c=null,r=0;r<t.length;r++)t[r].heading.match(/S[1-4] [^/]/i)?(i||(i=r,n.push(Object(ce.jsx)(x,{title:"Inverter Slots",tag:"S",openRows:d},r))),r,e.push(Object(ce.jsx)(lc,{value:t[r]},t[r].heading))):t[r].heading.match(/[S]3[0-4]|2[0-9]|1[0-9]|[1-9] [/] S[1-4]CB/i)?(c||(c=r,n.push(Object(ce.jsx)(x,{title:"Inverter Strings",tag:"PV",openRows:O},r))),r,a.push(Object(ce.jsx)(lc,{value:t[r]},t[r].heading))):n.push(Object(ce.jsx)(oc,{value:t[r]},r));var s,o=[].concat(n);if(d&&O)(s=o).splice.apply(s,[i+1,0].concat(e)),o=[].concat(Object(me.a)(o),[a]);else if(d&&!O){var j;(j=o).splice.apply(j,[i+1,0].concat(e))}else o=!d&&O?[].concat(Object(me.a)(o),[a]):[].concat(n);l(o)}),[t,d,O]),Object(ce.jsx)(pe.a,{component:he.a,elevation:6,className:a.tableContainer,children:Object(ce.jsxs)(ge.a,{stickyHeader:!0,"aria-label":"customized table",size:"small",children:[Object(ce.jsx)(fe.a,{children:Object(ce.jsxs)(ve.a,{children:[Object(ce.jsx)(cc,{style:{paddingTop:".7rem",paddingLeft:"1.75rem",paddingBottom:".7rem"},children:Object(ce.jsx)("strong",{children:"Parameters"})}),Object(ce.jsx)(cc,{align:"center",children:Object(ce.jsx)("strong",{children:"Inv 1"})}),Object(ce.jsx)(cc,{align:"center",children:Object(ce.jsx)("strong",{children:"Inv 2"})})]})}),Object(ce.jsx)(xe.a,{children:s})]})})}function dc(e){return Object(ce.jsx)($.a,Object(h.a)({elevation:6,variant:"filled"},e))}var bc=Object(D.a)((function(e){return{grow:{flexGrow:1},gaugeChartStyle:{marginTop:e.spacing(12)},formControl:{minWidth:120},modalCardStyle:{width:340,height:"fit-content"},gridBreakpoint:Object(m.a)({},e.breakpoints.up("md"),{})}}));function uc(e){var t=e.handleSessionExpire,a=e.handleClickOpen,c=e.sitestatusBar,r=bc(),s=$e().intervalTime,l=(localStorage.getItem("username","Admin"),localStorage.getItem("userToken")),o=(localStorage.getItem("userId"),K),j=Object(n.useState)((new Date).getTime()),d=Object(u.a)(j,2),b=d[0],m=d[1],h=Object(n.useState)(0),O=Object(u.a)(h,2),g=O[0],x=O[1],p=Object(n.useState)(void 0),f=Object(u.a)(p,2),y=f[0],T=f[1],I=Object(n.useState)({}),k=Object(u.a)(I,2),w=k[0],N=k[1],L=Object(n.useState)(0),D=Object(u.a)(L,2),P=D[0],F=D[1],A=Object(n.useState)(0),E=Object(u.a)(A,2),H=(E[0],E[1]),_=Object(n.useState)(0),z=Object(u.a)(_,2),M=z[0],R=z[1],G=Object(n.useState)(0),W=Object(u.a)(G,2),Y=W[0],q=W[1],U=Object(n.useState)(0),$=Object(u.a)(U,2),Q=$[0],ee=$[1],te=Object(n.useState)(0),ae=Object(u.a)(te,2),ne=ae[0],ie=ae[1],re=Object(n.useState)(0),le=Object(u.a)(re,2),oe=le[0],je=le[1],de=Object(n.useState)(0),be=Object(u.a)(de,2),me=be[0],he=be[1],Oe=Object(n.useState)([{time:"00:00",gti:"0.00",ghi:"0.00",pg:"0.00"}]),ge=Object(u.a)(Oe,2),xe=ge[0],Se=ge[1],pe=i.a.useState(1),fe=Object(u.a)(pe,2),ve=fe[0],Ce=fe[1],ye=Object(n.useState)([]),Te=Object(u.a)(ye,2),Ie=Te[0],ke=Te[1],we=Object(n.useState)(0),Ne=Object(u.a)(we,2),Be=Ne[0],Le=Ne[1];Object(n.useEffect)((function(){0!==Be&&nt(b)}),[Be]);var De=function(){return 0!==Be?"1":"0"},Pe=function(){return Be>0?"1":"0"},Fe=null,Ve=Object(n.useState)(!1),Ee=Object(u.a)(Ve,2),He=Ee[0],ze=Ee[1],Me=Object(n.useState)(new Date),Re=Object(u.a)(Me,2),Ge=Re[0],We=Re[1],Xe=Object(n.useState)(!1),Ye=Object(u.a)(Xe,2),qe=Ye[0],Ue=Ye[1],Ze=Object(n.useState)(!0),Je=Object(u.a)(Ze,2),Qe=Je[0],et=Je[1],tt=function(){ze(!1)};Object(n.useEffect)((function(){m(Ge.getTime())}),[Ge]);var at=function(e,t,a,n){X.a.get(o+"/bhongir/grid/B"+String(e).padStart(2,0),{headers:{jwtToken:l,startTime:t,endTime:a,beginTime:n,enablePacket:De(),clientPacketTime:y,isNext:Pe()}}).then((function(e){!function(e){for(var t=[],a=Object.entries(e),n=["L1 I","L2 I","L3 I","L1 V","L2 V","L3 V","Frequency","DC I","DC V","Active Power","DC Power","Reactive Power","PF","Cab Temp","IGBT Temp","DC Energy","S1 L1 I","S1 L2 I","S1 L3 I","S1 L1 V","S1 L2 V","S1 L3 V","S1 DC I","S1 DC V","S1 Active Power","S1 DC Power","S1 PF","S1 IGBT Temp","S1 CAB Temp","S2 L1 I","S2 L2 I","S2 L3 I","S2 L1 V","S2 L2 V","S2 L3 V","S2 DC I","S2 DC V","S2 Active Power","S2 DC Power","S2 PF","S2 IGBT Temp","S2 CAB Temp","S3 L1 I","S3 L2 I","S3 L3 I","S3 L1 V","S3 L2 V","S3 L3 V","S3 DC I","S3 DC V","S3 Active Power","S3 DC Power","S3 PF","S3 IGBT Temp","S3 CAB Temp","S4 L1 I","S4 L2 I","S4 L3 I","S4 L1 V","S4 L2 V","S4 L3 V","S4 DC I","S4 DC V","S4 Active Power","S4 DC Power","S4 PF","S4 IGBT Temp","S4 CAB Temp","S1 + S2 Peak Active Power","S3 + S4 Peak Active Power","S1 / S1CB1 I","S2 / S1CB2 I","S3 / S1CB3 I","S4 / S1CB4 I","S5 / S1CB5 I","S6 / S1CB6 I","S7 / S1CB7 I","S8 / S1CB8 I","S9 / S2CB1 I","S10 / S2CB2 I","S11 / S2CB3 I","S12 / S2CB4 I","S13 / S2CB5 I","S14 / S2CB6 I","S15 / S2CB7 I","S16 / S2CB8 I","S17 / S3CB1 I","S18 / S3CB2 I","S19 / S3CB3 I","S20 / S3CB4 I","S21 / S3CB5 I","S22 / S3CB6 I","S23 / S3CB7 I","S24 / S3CB8 I","S25 / S4CB1 I","S26 / S4CB2 I","S27 / S4CB3 I","S28 / S4CB4 I","S29 / S4CB5 I","S30 / S4CB6 I","S31 / S4CB7 I","S32 / S4CB8 I"],i=0;i<n.length;i++){var c=NaN,r=NaN,s=NaN,l=NaN,o=NaN;try{a[i][1]&&(c=a[i][1]),a[n.length+i][1]&&(r=a[n.length+i][1]),a[2*n.length+i][1]&&(s=a[2*n.length+i][1]),a[3*n.length+i][1]&&(l=a[3*n.length+i][1]),a[4*n.length+i][1]&&(o=a[4*n.length+i][1])}catch(j){}t.push({heading:n[i],inv1:c,inv2:r,inv3:s,inv4:l,inv5:o})}ke([].concat(t))}(e.data)})).catch((function(e){}))},nt=function(e){var a=1623696973e3,n=e;n=Qe?Date.now():e;var i=new Date(n);i.setHours(5,0,0,0);var c=i.getTime();!function(e,a,n){X.a.get(o+"/bhongir/site",{headers:{jwtToken:l,startTime:e,endTime:a,beginTime:n,enablePacket:De(),clientPacketTime:y,isNext:Pe()}}).then((function(e){x(e.data.status),T(1e3*e.data.time)})).catch((function(e){var a;401===(null===e||void 0===e||null===(a=e.response)||void 0===a?void 0:a.status)&&t()}))}(a,n,c),function(e,t,a){X.a.get(o+"/bhongir/boxes",{headers:{jwtToken:l,startTime:e,endTime:t,beginTime:a,enablePacket:De(),clientPacketTime:y,isNext:Pe()}}).then((function(e){N(e.data)})).catch((function(e){}))}(a,n,c),function(e,t,a){X.a.get(o+"/bhongir/gauge",{headers:{jwtToken:l,startTime:e,endTime:t,beginTime:a,enablePacket:De(),clientPacketTime:y,isNext:Pe()}}).then((function(e){var t=e.data.value;F(Number(t).toFixed(2)),H(Number(t).toFixed(1)/50)})).catch((function(e){}))}(a,n,c),function(e,t,a){X.a.get(o+"/bhongir/temperature",{headers:{jwtToken:l,startTime:e,endTime:t,beginTime:a,enablePacket:De(),clientPacketTime:y,isNext:Pe()}}).then((function(e){var t=e.data.ambientTemp,a=e.data.moduleTemp,n=e.data.humidity;R(Number(t).toFixed(1)),q(Number(a).toFixed(1)),ee(Number(n).toFixed(1))})).catch((function(e){}))}(a,n,c),function(e,t,a){X.a.get(o+"/bhongir/wind",{headers:{jwtToken:l,startTime:e,endTime:t,beginTime:a,enablePacket:De(),clientPacketTime:y,isNext:Pe()}}).then((function(e){var t=e.data.direction,a=e.data.speed;e.data.rain,ie(Number(t).toFixed(0)),je(Number(a).toFixed(1)),he(Number(e.data.rain).toFixed(1))})).catch((function(e){}))}(a,n,c),function(e,t,a){X.a.get(o+"/bhongir/graph",{headers:{jwtToken:l,startTime:e,endTime:t,beginTime:a,enablePacket:De(),clientPacketTime:y,isNext:Pe()}}).then((function(e){Se(e.data)})).catch((function(e){}))}(a,n,c),at(ve,a,n,c)};Object(n.useEffect)((function(){(Fe=document.getElementById("timeSliderLabel2"))&&(Fe.innerText=(new Date).toLocaleString([],{hour:"2-digit",minute:"2-digit",hour12:!0}).toUpperCase()),nt(b);var e=setInterval((function(){nt(b)}),s);return function(){clearInterval(e)}}),[b]);var it=Object(n.useState)("space-between"),ct=Object(u.a)(it,2),st=(ct[0],ct[1]);return Object(n.useLayoutEffect)((function(){window.matchMedia("(min-width: 1280px)").matches?st("space-between"):st("flex-start")}),[]),Object(ce.jsxs)(i.a.Fragment,{children:[Object(ce.jsx)(C.a,{container:!0,justifyContent:"space-between",alignItems:"center",children:Object(ce.jsx)(rt,{sitestatusBar:c,status:g,timestamp:y,handleClickOpen:a,handleTimeReset:function(){Le(0);var e=new Date;We(e),m(e.getTime()),ze(!0),et(!0)},setIsNextCount:Le,setOpenDateTimePicker:Ue,getMinDateForPicker:function(){return new Date(16305156e5)},selectedDate:Ge,getFormattedDateAndTimeString:function(e){var t=new Date(e);return Object(ce.jsxs)("span",{children:[String(t.getDate()).padStart(2,"0"),"/",String(t.getMonth()+1).padStart(2,"0"),"/",t.getFullYear(),Object(ce.jsx)("span",{children:"\u2003"}),t.toLocaleString([],{hour:"2-digit",minute:"2-digit",hour12:!0}).toUpperCase()]})},openDateTimePicker:qe,handleDateChange:function(e){try{et(!1)}finally{We(e),Ue(!1)}}})}),Object(ce.jsx)("div",{style:{marginTop:"2rem"}}),Object(ce.jsx)(Ae,{day_generation:w.day_generation,revenue:1e3*w.day_generation*5.59,peak_power:w.peak_power,ghi:w.ghi,gti:w.gti,plant_pr:w.plant_pr,grid_availability:w.grid_availability,plant_availability:w.plant_availability}),Object(ce.jsxs)(C.a,{container:!0,spacing:6,style:{marginTop:"1rem"},children:[Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(_e,{totalExport:P,maxValue:75})}),Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(se,{ambientTemp:M,moduleTemp:Y,humidity:Q})}),Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(Ke,{windDirection:ne,windSpeed:oe,rain:me})})]}),Object(ce.jsxs)(S.a,{elevation:6,style:{marginTop:"2.5rem",height:"500px",width:"100%"},children:[Object(ce.jsx)(V.a,{variant:"h6",color:"textSecondary",style:{marginLeft:"1.5rem",marginTop:"1rem",marginBottom:"1.5rem"},children:"Irradiance / Generation"}),Object(ce.jsx)(ue,{data:xe,interval:12,leftAxisY:[0,1500],rightAxisY:[0,50]})]}),Object(ce.jsx)(C.a,{container:!0,style:{marginTop:"3rem"},children:Object(ce.jsxs)(C.a,{item:!0,xs:12,children:[Object(ce.jsxs)(C.a,{container:!0,spacing:2,alignItems:"center",style:{marginBottom:".5rem"},children:[Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(V.a,{variant:"h6",color:"textSecondary",children:"Inverter Values"})}),Object(ce.jsx)(C.a,{item:!0,className:r.grow}),Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsxs)(V.a,{style:{marginLeft:".25rem"},children:["Selected Block:"," "]})}),Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(v.a,{className:r.formControl,children:Object(ce.jsxs)(Z.a,{value:ve,onChange:function(e){Ce(e.target.value);var t=new Date;t.setDate((new Date).getDate()-1),t.setHours(23,50,0,0);var a=new Date(b);a.setHours(5,0,0,0);var n=a.getTime();at(e.target.value,t.getTime(),b,n)},children:[Object(ce.jsx)(B.a,{value:1,children:"B01"}),Object(ce.jsx)(B.a,{value:2,children:"B02"}),Object(ce.jsx)(B.a,{value:3,children:"B03"}),Object(ce.jsx)(B.a,{value:4,children:"B04"}),Object(ce.jsx)(B.a,{value:5,children:"B05"}),Object(ce.jsx)(B.a,{value:6,children:"B06"}),Object(ce.jsx)(B.a,{value:7,children:"B07"}),Object(ce.jsx)(B.a,{value:8,children:"B08"}),Object(ce.jsx)(B.a,{value:9,children:"B09"}),Object(ce.jsx)(B.a,{value:10,children:"B10"})]})})})]}),Object(ce.jsx)(jc,{values:Ie})]})}),Object(ce.jsx)(J.a,{open:He,anchorOrigin:{vertical:"bottom",horizontal:"left"},autoHideDuration:4e3,onClose:tt,children:Object(ce.jsx)(dc,{onClose:tt,severity:"success",children:"Time is reset!"})}),Object(ce.jsx)("div",{style:{marginBottom:"2rem"}})]})}var mc=Object(Oe.a)((function(e){return{head:{backgroundColor:"#ffffbf",color:e.palette.common.black,fontSize:16},body:{fontSize:16}}}))(Se.a),hc=Object(Oe.a)((function(e){return{root:{"&:nth-of-type(odd)":{backgroundColor:e.palette.action.hover}}}}))(ve.a),Oc=Object(D.a)({tableContainer:{maxHeight:"80vh"}}),gc=function(e){var t=e.value,a=null;return Object(ce.jsxs)(hc,{children:[Object(ce.jsx)(mc,{component:"th",scope:"row",style:{paddingTop:".6rem",paddingBottom:".6rem",backgroundColor:a},children:Object(ce.jsx)("strong",{style:{paddingLeft:"2.5rem"},children:t.heading})}),Object(ce.jsx)(mc,{align:"center",style:{backgroundColor:a},children:Object(ce.jsx)("span",{children:isNaN(Number(t.inv1))?"-":-111===Number(t.inv1)?"X":Number(t.inv1).toFixed(2)})}),Object(ce.jsx)(mc,{align:"center",style:{backgroundColor:a},children:Object(ce.jsx)("span",{children:isNaN(Number(t.inv2))?"-":-111===Number(t.inv2)?"X":Number(t.inv2).toFixed(2)})}),Object(ce.jsx)(mc,{align:"center",style:{backgroundColor:a},children:Object(ce.jsx)("span",{children:isNaN(Number(t.inv3))?"-":-111===Number(t.inv3)?"X":Number(t.inv3).toFixed(2)})}),Object(ce.jsx)(mc,{align:"center",style:{backgroundColor:a},children:Object(ce.jsx)("span",{children:isNaN(Number(t.inv4))?"-":-111===Number(t.inv4)?"X":Number(t.inv4).toFixed(2)})})]})},xc=function(e){var t=e.value;return Object(ce.jsxs)(hc,{children:[Object(ce.jsx)(mc,{component:"th",scope:"row",style:{paddingTop:".6rem",paddingBottom:".6rem"},children:Object(ce.jsx)("strong",{style:{paddingLeft:"1rem"},children:t.heading})}),Object(ce.jsx)(mc,{align:"center",children:isNaN(Number(t.inv1))?"-":-111===Number(t.inv1)?"X":Number(t.inv1).toFixed(2)}),Object(ce.jsx)(mc,{align:"center",children:isNaN(Number(t.inv2))?"-":-111===Number(t.inv2)?"X":Number(t.inv2).toFixed(2)}),Object(ce.jsx)(mc,{align:"center",children:isNaN(Number(t.inv3))?"-":-111===Number(t.inv3)?"X":Number(t.inv3).toFixed(2)}),Object(ce.jsx)(mc,{align:"center",children:isNaN(Number(t.inv4))?"-":-111===Number(t.inv4)?"X":Number(t.inv4).toFixed(2)})]})};function Sc(e){var t=e.values,a=Oc(),c=Object(n.useState)([]),r=Object(u.a)(c,2),s=r[0],l=r[1],o=i.a.useState(!1),j=Object(u.a)(o,2),d=j[0],b=j[1],m=i.a.useState(!1),h=Object(u.a)(m,2),O=h[0],g=h[1],x=function(e){var t=e.title,a=e.tag,n=e.openRows;return Object(ce.jsx)(hc,{children:Object(ce.jsxs)(mc,{component:"th",scope:"row",colSpan:6,style:{backgroundColor:"#EBF5FB"},children:[Object(ce.jsx)("strong",{style:{paddingLeft:"1rem",paddingRight:".5rem",color:"#000"},children:t}),Object(ce.jsx)(y.a,{"aria-label":"expand row",size:"small",onClick:function(){return function(e){"S"===e?b((function(e){return!e})):g((function(e){return!e}))}(a)},style:{color:"#000"},children:n?Object(ce.jsx)(Ie.a,{}):Object(ce.jsx)(ye.a,{})})]})})};return Object(n.useEffect)((function(){for(var e=[],a=[],n=[],i=null,c=null,r=0;r<t.length;r++)t[r].heading.match(/S[1-4] [^/]/i)?(i||(i=r,n.push(Object(ce.jsx)(x,{title:"Inverter Slots",tag:"S",openRows:d},r))),r,e.push(Object(ce.jsx)(gc,{value:t[r]},t[r].heading))):t[r].heading.match(/[S]3[0-4]|2[0-9]|1[0-9]|[1-9] [/] S[1-4]CB/i)?(c||(c=r,n.push(Object(ce.jsx)(x,{title:"Inverter Strings",tag:"PV",openRows:O},r))),r,a.push(Object(ce.jsx)(gc,{value:t[r]},t[r].heading))):n.push(Object(ce.jsx)(xc,{value:t[r]},r));var s,o=[].concat(n);if(d&&O)(s=o).splice.apply(s,[i+1,0].concat(e)),o=[].concat(Object(me.a)(o),[a]);else if(d&&!O){var j;(j=o).splice.apply(j,[i+1,0].concat(e))}else o=!d&&O?[].concat(Object(me.a)(o),[a]):[].concat(n);l(o)}),[t,d,O]),Object(ce.jsx)(pe.a,{component:he.a,elevation:6,className:a.tableContainer,children:Object(ce.jsxs)(ge.a,{stickyHeader:!0,"aria-label":"customized table",size:"small",children:[Object(ce.jsx)(fe.a,{children:Object(ce.jsxs)(ve.a,{children:[Object(ce.jsx)(mc,{style:{paddingTop:".7rem",paddingLeft:"1.75rem",paddingBottom:".7rem"},children:Object(ce.jsx)("strong",{children:"Parameters"})}),Object(ce.jsx)(mc,{align:"center",children:Object(ce.jsx)("strong",{children:"Inv 1"})}),Object(ce.jsx)(mc,{align:"center",children:Object(ce.jsx)("strong",{children:"Inv 2"})}),Object(ce.jsx)(mc,{align:"center",children:Object(ce.jsx)("strong",{children:"Inv 3"})}),Object(ce.jsx)(mc,{align:"center",children:Object(ce.jsx)("strong",{children:"Inv 4"})})]})}),Object(ce.jsx)(xe.a,{children:s})]})})}function pc(e){return Object(ce.jsx)($.a,Object(h.a)({elevation:6,variant:"filled"},e))}var fc=Object(D.a)((function(e){return{grow:{flexGrow:1},gaugeChartStyle:{marginTop:e.spacing(12)},formControl:{minWidth:120},modalCardStyle:{width:340,height:"fit-content"},gridBreakpoint:Object(m.a)({},e.breakpoints.up("md"),{})}}));function vc(e){e.handleSessionExpire;var t=e.handleClickOpen,a=e.sitestatusBar,c=fc(),r=$e().intervalTime,s=(localStorage.getItem("username","Admin"),localStorage.getItem("userToken")),l=(localStorage.getItem("userId"),K),o=Object(n.useState)((new Date).getTime()),j=Object(u.a)(o,2),d=j[0],b=j[1],m=Object(n.useState)(0),h=Object(u.a)(m,2),O=h[0],g=h[1],x=Object(n.useState)(void 0),p=Object(u.a)(x,2),f=p[0],y=p[1],T=Object(n.useState)({}),I=Object(u.a)(T,2),k=I[0],w=I[1],N=Object(n.useState)(0),L=Object(u.a)(N,2),D=L[0],P=L[1],F=Object(n.useState)(0),A=Object(u.a)(F,2),E=(A[0],A[1]),H=Object(n.useState)(0),_=Object(u.a)(H,2),z=_[0],M=_[1],R=Object(n.useState)(0),G=Object(u.a)(R,2),W=G[0],Y=G[1],q=Object(n.useState)(0),U=Object(u.a)(q,2),$=U[0],Q=U[1],ee=Object(n.useState)(0),te=Object(u.a)(ee,2),ae=te[0],ne=te[1],ie=Object(n.useState)(0),re=Object(u.a)(ie,2),le=re[0],oe=re[1],je=Object(n.useState)(0),de=Object(u.a)(je,2),be=de[0],me=de[1],he=Object(n.useState)([{time:"00:00",gti:"0.00",ghi:"0.00",pg:"0.00"}]),Oe=Object(u.a)(he,2),ge=Oe[0],xe=Oe[1],Se=i.a.useState(1),pe=Object(u.a)(Se,2),fe=pe[0],ve=pe[1],Ce=Object(n.useState)([]),ye=Object(u.a)(Ce,2),Te=ye[0],Ie=ye[1],ke=Object(n.useState)(0),we=Object(u.a)(ke,2),Ne=we[0],Be=we[1];Object(n.useEffect)((function(){0!==Ne&&at(d)}),[Ne]);var Le=function(){return 0!==Ne?"1":"0"},De=function(){return Ne>0?"1":"0"},Pe=null,Fe=Object(n.useState)(!1),Ve=Object(u.a)(Fe,2),Ee=Ve[0],He=Ve[1],ze=Object(n.useState)(new Date),Me=Object(u.a)(ze,2),Re=Me[0],Ge=Me[1],We=Object(n.useState)(!1),Xe=Object(u.a)(We,2),Ye=Xe[0],qe=Xe[1],Ue=Object(n.useState)(!0),Ze=Object(u.a)(Ue,2),Je=Ze[0],Qe=Ze[1],et=function(){He(!1)};Object(n.useEffect)((function(){b(Re.getTime())}),[Re]);var tt=function(e,t,a,n){X.a.get(l+"/padmajiwadi/grid/B"+String(e).padStart(2,0),{headers:{jwtToken:s,startTime:t,endTime:a,beginTime:n,enablePacket:Le(),clientPacketTime:f,isNext:De()}}).then((function(e){!function(e){for(var t=[],a=Object.entries(e),n=["L1 I","L2 I","L3 I","L1 V","L2 V","L3 V","Frequency","DC I","DC V","Active Power","DC Power","Reactive Power","PF","Cab Temp","IGBT Temp","DC Energy","S1 L1 I","S1 L2 I","S1 L3 I","S1 L1 V","S1 L2 V","S1 L3 V","S1 DC I","S1 DC V","S1 Active Power","S1 DC Power","S1 PF","S1 IGBT Temp","S1 CAB Temp","S2 L1 I","S2 L2 I","S2 L3 I","S2 L1 V","S2 L2 V","S2 L3 V","S2 DC I","S2 DC V","S2 Active Power","S2 DC Power","S2 PF","S2 IGBT Temp","S2 CAB Temp","S3 L1 I","S3 L2 I","S3 L3 I","S3 L1 V","S3 L2 V","S3 L3 V","S3 DC I","S3 DC V","S3 Active Power","S3 DC Power","S3 PF","S3 IGBT Temp","S3 CAB Temp","S4 L1 I","S4 L2 I","S4 L3 I","S4 L1 V","S4 L2 V","S4 L3 V","S4 DC I","S4 DC V","S4 Active Power","S4 DC Power","S4 PF","S4 IGBT Temp","S4 CAB Temp","S1 + S2 Peak Active Power","S3 + S4 Peak Active Power","S1 / S1CB1 I","S2 / S1CB2 I","S3 / S1CB3 I","S4 / S1CB4 I","S5 / S1CB5 I","S6 / S1CB6 I","S7 / S1CB7 I","S8 / S1CB8 I","S9 / S2CB1 I","S10 / S2CB2 I","S11 / S2CB3 I","S12 / S2CB4 I","S13 / S2CB5 I","S14 / S2CB6 I","S15 / S2CB7 I","S16 / S2CB8 I","S17 / S3CB1 I","S18 / S3CB2 I","S19 / S3CB3 I","S20 / S3CB4 I","S21 / S3CB5 I","S22 / S3CB6 I","S23 / S3CB7 I","S24 / S3CB8 I","S25 / S4CB1 I","S26 / S4CB2 I","S27 / S4CB3 I","S28 / S4CB4 I","S29 / S4CB5 I","S30 / S4CB6 I","S31 / S4CB7 I","S32 / S4CB8 I"],i=0;i<n.length;i++){var c=NaN,r=NaN,s=NaN,l=NaN,o=NaN;try{a[i][1]&&(c=a[i][1]),a[n.length+i][1]&&(r=a[n.length+i][1]),a[2*n.length+i][1]&&(s=a[2*n.length+i][1]),a[3*n.length+i][1]&&(l=a[3*n.length+i][1]),a[4*n.length+i][1]&&(o=a[4*n.length+i][1])}catch(j){}t.push({heading:n[i],inv1:c,inv2:r,inv3:s,inv4:l,inv5:o})}Ie([].concat(t))}(e.data)})).catch((function(e){}))},at=function(e){var t=1623696973e3,a=e;a=Je?Date.now():e;var n=new Date(a);n.setHours(5,0,0,0);var i=n.getTime();!function(e,t,a){X.a.get(l+"/padmajiwadi/site",{headers:{jwtToken:s,startTime:e,endTime:t,beginTime:a,enablePacket:Le(),clientPacketTime:f,isNext:De()}}).then((function(e){g(e.data.status),y(1e3*e.data.time)})).catch((function(e){}))}(t,a,i),function(e,t,a){X.a.get(l+"/padmajiwadi/boxes",{headers:{jwtToken:s,startTime:e,endTime:t,beginTime:a,enablePacket:Le(),clientPacketTime:f,isNext:De()}}).then((function(e){w(e.data)})).catch((function(e){}))}(t,a,i),function(e,t,a){X.a.get(l+"/padmajiwadi/gauge",{headers:{jwtToken:s,startTime:e,endTime:t,beginTime:a,enablePacket:Le(),clientPacketTime:f,isNext:De()}}).then((function(e){var t=e.data.value;P(Number(t).toFixed(2)),E(Number(t).toFixed(1)/50)})).catch((function(e){}))}(t,a,i),function(e,t,a){X.a.get(l+"/padmajiwadi/temperature",{headers:{jwtToken:s,startTime:e,endTime:t,beginTime:a,enablePacket:Le(),clientPacketTime:f,isNext:De()}}).then((function(e){var t=e.data.ambientTemp,a=e.data.moduleTemp,n=e.data.humidity;M(Number(t).toFixed(1)),Y(Number(a).toFixed(1)),Q(Number(n).toFixed(1))})).catch((function(e){}))}(t,a,i),function(e,t,a){X.a.get(l+"/padmajiwadi/wind",{headers:{jwtToken:s,startTime:e,endTime:t,beginTime:a,enablePacket:Le(),clientPacketTime:f,isNext:De()}}).then((function(e){var t=e.data.direction,a=e.data.speed;e.data.rain,ne(Number(t).toFixed(0)),oe(Number(a).toFixed(1)),me(Number(e.data.rain).toFixed(1))})).catch((function(e){}))}(t,a,i),function(e,t,a){X.a.get(l+"/padmajiwadi/graph",{headers:{jwtToken:s,startTime:e,endTime:t,beginTime:a,enablePacket:Le(),clientPacketTime:f,isNext:De()}}).then((function(e){xe(e.data)})).catch((function(e){}))}(t,a,i),tt(fe,t,a,i)};Object(n.useEffect)((function(){(Pe=document.getElementById("timeSliderLabel2"))&&(Pe.innerText=(new Date).toLocaleString([],{hour:"2-digit",minute:"2-digit",hour12:!0}).toUpperCase()),at(d);var e=setInterval((function(){at(d)}),r);return function(){clearInterval(e)}}),[d]);var nt=Object(n.useState)("space-between"),it=Object(u.a)(nt,2),ct=(it[0],it[1]);return Object(n.useLayoutEffect)((function(){window.matchMedia("(min-width: 1280px)").matches?ct("space-between"):ct("flex-start")}),[]),Object(ce.jsxs)(i.a.Fragment,{children:[Object(ce.jsx)(C.a,{container:!0,justifyContent:"space-between",alignItems:"center",children:Object(ce.jsx)(rt,{sitestatusBar:a,status:O,timestamp:f,handleClickOpen:t,handleTimeReset:function(){Be(0);var e=new Date;Ge(e),b(e.getTime()),He(!0),Qe(!0)},setIsNextCount:Be,setOpenDateTimePicker:qe,getMinDateForPicker:function(){return new Date(16305912e5)},selectedDate:Re,getFormattedDateAndTimeString:function(e){var t=new Date(e);return Object(ce.jsxs)("span",{children:[String(t.getDate()).padStart(2,"0"),"/",String(t.getMonth()+1).padStart(2,"0"),"/",t.getFullYear(),Object(ce.jsx)("span",{children:"\u2003"}),t.toLocaleString([],{hour:"2-digit",minute:"2-digit",hour12:!0}).toUpperCase()]})},openDateTimePicker:Ye,handleDateChange:function(e){try{Qe(!1)}finally{Ge(e),qe(!1)}}})}),Object(ce.jsx)("div",{style:{marginTop:"2rem"}}),Object(ce.jsx)(Ae,{day_generation:k.day_generation,revenue:1e3*k.day_generation*4.67,peak_power:k.peak_power,ghi:k.ghi,gti:k.gti,plant_pr:k.plant_pr,grid_availability:k.grid_availability,plant_availability:k.plant_availability}),Object(ce.jsxs)(C.a,{container:!0,spacing:6,style:{marginTop:"1rem"},children:[Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(_e,{totalExport:D,maxValue:15})}),Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(se,{ambientTemp:z,moduleTemp:W,humidity:$})}),Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(Ke,{windDirection:ae,windSpeed:le,rain:be})})]}),Object(ce.jsxs)(S.a,{elevation:6,style:{marginTop:"2.5rem",height:"500px",width:"100%"},children:[Object(ce.jsx)(V.a,{variant:"h6",color:"textSecondary",style:{marginLeft:"1.5rem",marginTop:"1rem",marginBottom:"1.5rem"},children:"Irradiance / Generation"}),Object(ce.jsx)(ue,{data:ge,interval:12,leftAxisY:[0,1500],rightAxisY:[0,50]})]}),Object(ce.jsx)(C.a,{container:!0,style:{marginTop:"3rem"},children:Object(ce.jsxs)(C.a,{item:!0,xs:12,children:[Object(ce.jsxs)(C.a,{container:!0,spacing:2,alignItems:"center",style:{marginBottom:".5rem"},children:[Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(V.a,{variant:"h6",color:"textSecondary",children:"Inverter Values"})}),Object(ce.jsx)(C.a,{item:!0,className:c.grow}),Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsxs)(V.a,{style:{marginLeft:".25rem"},children:["Selected Block:"," "]})}),Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(v.a,{className:c.formControl,children:Object(ce.jsxs)(Z.a,{value:fe,onChange:function(e){ve(e.target.value);var t=new Date;t.setDate((new Date).getDate()-1),t.setHours(23,50,0,0);var a=new Date(d);a.setHours(5,0,0,0);var n=a.getTime();tt(e.target.value,t.getTime(),d,n)},children:[Object(ce.jsx)(B.a,{value:1,children:"B01"}),Object(ce.jsx)(B.a,{value:2,children:"B02"})]})})})]}),Object(ce.jsx)(Sc,{values:Te})]})}),Object(ce.jsx)(J.a,{open:Ee,anchorOrigin:{vertical:"bottom",horizontal:"left"},autoHideDuration:4e3,onClose:et,children:Object(ce.jsx)(pc,{onClose:et,severity:"success",children:"Time is reset!"})}),Object(ce.jsx)("div",{style:{marginBottom:"2rem"}})]})}var Cc=Object(Oe.a)((function(e){return{head:{backgroundColor:"#ffffbf",color:e.palette.common.black,fontSize:16},body:{fontSize:16}}}))(Se.a),yc=Object(Oe.a)((function(e){return{root:{"&:nth-of-type(odd)":{backgroundColor:e.palette.action.hover}}}}))(ve.a),Tc=Object(D.a)({tableContainer:{maxHeight:"80vh"}}),Ic=function(e){var t=e.value,a=null;return Object(ce.jsxs)(yc,{children:[Object(ce.jsx)(Cc,{component:"th",scope:"row",style:{paddingTop:".6rem",paddingBottom:".6rem",backgroundColor:a},children:Object(ce.jsx)("strong",{style:{paddingLeft:"2.5rem"},children:t.heading})}),Object(ce.jsx)(Cc,{align:"center",style:{backgroundColor:a},children:Object(ce.jsx)("span",{children:isNaN(Number(t.inv1))?"-":-111===Number(t.inv1)?"X":Number(t.inv1).toFixed(2)})}),Object(ce.jsx)(Cc,{align:"center",style:{backgroundColor:a},children:Object(ce.jsx)("span",{children:isNaN(Number(t.inv2))?"-":-111===Number(t.inv2)?"X":Number(t.inv2).toFixed(2)})}),Object(ce.jsx)(Cc,{align:"center",style:{backgroundColor:a},children:Object(ce.jsx)("span",{children:isNaN(Number(t.inv3))?"-":-111===Number(t.inv3)?"X":Number(t.inv3).toFixed(2)})}),Object(ce.jsx)(Cc,{align:"center",style:{backgroundColor:a},children:Object(ce.jsx)("span",{children:isNaN(Number(t.inv4))?"-":-111===Number(t.inv4)?"X":Number(t.inv4).toFixed(2)})})]})},kc=function(e){var t=e.value;return Object(ce.jsxs)(yc,{children:[Object(ce.jsx)(Cc,{component:"th",scope:"row",style:{paddingTop:".6rem",paddingBottom:".6rem"},children:Object(ce.jsx)("strong",{style:{paddingLeft:"1rem"},children:t.heading})}),Object(ce.jsx)(Cc,{align:"center",children:isNaN(Number(t.inv1))?"-":-111===Number(t.inv1)?"X":Number(t.inv1).toFixed(2)}),Object(ce.jsx)(Cc,{align:"center",children:isNaN(Number(t.inv2))?"-":-111===Number(t.inv2)?"X":Number(t.inv2).toFixed(2)}),Object(ce.jsx)(Cc,{align:"center",children:isNaN(Number(t.inv3))?"-":-111===Number(t.inv3)?"X":Number(t.inv3).toFixed(2)}),Object(ce.jsx)(Cc,{align:"center",children:isNaN(Number(t.inv4))?"-":-111===Number(t.inv4)?"X":Number(t.inv4).toFixed(2)})]})};function wc(e){var t=e.values,a=Tc(),c=Object(n.useState)([]),r=Object(u.a)(c,2),s=r[0],l=r[1],o=i.a.useState(!1),j=Object(u.a)(o,2),d=j[0],b=j[1],m=i.a.useState(!1),h=Object(u.a)(m,2),O=h[0],g=h[1],x=function(e){var t=e.title,a=e.tag,n=e.openRows;return Object(ce.jsx)(yc,{children:Object(ce.jsxs)(Cc,{component:"th",scope:"row",colSpan:6,style:{backgroundColor:"#EBF5FB"},children:[Object(ce.jsx)("strong",{style:{paddingLeft:"1rem",paddingRight:".5rem",color:"#000"},children:t}),Object(ce.jsx)(y.a,{"aria-label":"expand row",size:"small",onClick:function(){return function(e){"S"===e?b((function(e){return!e})):g((function(e){return!e}))}(a)},style:{color:"#000"},children:n?Object(ce.jsx)(Ie.a,{}):Object(ce.jsx)(ye.a,{})})]})})};return Object(n.useEffect)((function(){for(var e=[],a=[],n=[],i=null,c=null,r=0;r<t.length;r++)t[r].heading.match(/S[1-4] [^/]/i)?(i||(i=r,n.push(Object(ce.jsx)(x,{title:"Inverter Slots",tag:"S",openRows:d},r))),r,e.push(Object(ce.jsx)(Ic,{value:t[r]},t[r].heading))):t[r].heading.match(/[S]3[0-4]|2[0-9]|1[0-9]|[1-9] [/] S[1-4]CB/i)?(c||(c=r,n.push(Object(ce.jsx)(x,{title:"Inverter Strings",tag:"PV",openRows:O},r))),r,a.push(Object(ce.jsx)(Ic,{value:t[r]},t[r].heading))):n.push(Object(ce.jsx)(kc,{value:t[r]},r));var s,o=[].concat(n);if(d&&O)(s=o).splice.apply(s,[i+1,0].concat(e)),o=[].concat(Object(me.a)(o),[a]);else if(d&&!O){var j;(j=o).splice.apply(j,[i+1,0].concat(e))}else o=!d&&O?[].concat(Object(me.a)(o),[a]):[].concat(n);l(o)}),[t,d,O]),Object(ce.jsx)(pe.a,{component:he.a,elevation:6,className:a.tableContainer,children:Object(ce.jsxs)(ge.a,{stickyHeader:!0,"aria-label":"customized table",size:"small",children:[Object(ce.jsx)(fe.a,{children:Object(ce.jsxs)(ve.a,{children:[Object(ce.jsx)(Cc,{style:{paddingTop:".7rem",paddingLeft:"1.75rem",paddingBottom:".7rem"},children:Object(ce.jsx)("strong",{children:"Parameters"})}),Object(ce.jsx)(Cc,{align:"center",children:Object(ce.jsx)("strong",{children:"Inv 1"})}),Object(ce.jsx)(Cc,{align:"center",children:Object(ce.jsx)("strong",{children:"Inv 2"})}),Object(ce.jsx)(Cc,{align:"center",children:Object(ce.jsx)("strong",{children:"Inv 3"})}),Object(ce.jsx)(Cc,{align:"center",children:Object(ce.jsx)("strong",{children:"Inv 4"})})]})}),Object(ce.jsx)(xe.a,{children:s})]})})}function Nc(e){return Object(ce.jsx)($.a,Object(h.a)({elevation:6,variant:"filled"},e))}var Bc=Object(D.a)((function(e){return{grow:{flexGrow:1},gaugeChartStyle:{marginTop:e.spacing(12)},formControl:{minWidth:120},modalCardStyle:{width:340,height:"fit-content"},gridBreakpoint:Object(m.a)({},e.breakpoints.up("md"),{})}}));function Lc(e){e.handleSessionExpire;var t=e.handleClickOpen,a=e.sitestatusBar,c=Bc(),r=$e().intervalTime,s=(localStorage.getItem("username","Admin"),localStorage.getItem("userToken")),l=(localStorage.getItem("userId"),K),o=Object(n.useState)((new Date).getTime()),j=Object(u.a)(o,2),d=j[0],b=j[1],m=Object(n.useState)(0),h=Object(u.a)(m,2),O=h[0],g=h[1],x=Object(n.useState)(void 0),p=Object(u.a)(x,2),f=p[0],y=p[1],T=Object(n.useState)({}),I=Object(u.a)(T,2),k=I[0],w=I[1],N=Object(n.useState)(0),L=Object(u.a)(N,2),D=L[0],P=L[1],F=Object(n.useState)(0),A=Object(u.a)(F,2),E=(A[0],A[1]),H=Object(n.useState)(0),_=Object(u.a)(H,2),z=_[0],M=_[1],R=Object(n.useState)(0),G=Object(u.a)(R,2),W=G[0],Y=G[1],q=Object(n.useState)(0),U=Object(u.a)(q,2),$=U[0],Q=U[1],ee=Object(n.useState)(0),te=Object(u.a)(ee,2),ae=te[0],ne=te[1],ie=Object(n.useState)(0),re=Object(u.a)(ie,2),le=re[0],oe=re[1],je=Object(n.useState)(0),de=Object(u.a)(je,2),be=de[0],me=de[1],he=Object(n.useState)([{time:"00:00",gti:"0.00",ghi:"0.00",pg:"0.00"}]),Oe=Object(u.a)(he,2),ge=Oe[0],xe=Oe[1],Se=i.a.useState(1),pe=Object(u.a)(Se,2),fe=pe[0],ve=pe[1],Ce=Object(n.useState)([]),ye=Object(u.a)(Ce,2),Te=ye[0],Ie=ye[1],ke=Object(n.useState)(0),we=Object(u.a)(ke,2),Ne=we[0],Be=we[1];Object(n.useEffect)((function(){0!==Ne&&at(d)}),[Ne]);var Le=function(){return 0!==Ne?"1":"0"},De=function(){return Ne>0?"1":"0"},Pe=null,Fe=Object(n.useState)(!1),Ve=Object(u.a)(Fe,2),Ee=Ve[0],He=Ve[1],ze=Object(n.useState)(new Date),Me=Object(u.a)(ze,2),Re=Me[0],Ge=Me[1],We=Object(n.useState)(!1),Xe=Object(u.a)(We,2),Ye=Xe[0],qe=Xe[1],Ue=Object(n.useState)(!0),Ze=Object(u.a)(Ue,2),Je=Ze[0],Qe=Ze[1],et=function(){He(!1)};Object(n.useEffect)((function(){b(Re.getTime())}),[Re]);var tt=function(e,t,a,n){X.a.get(l+"/mothkur/grid/B"+String(e).padStart(2,0),{headers:{jwtToken:s,startTime:t,endTime:a,beginTime:n,enablePacket:Le(),clientPacketTime:f,isNext:De()}}).then((function(e){!function(e){for(var t=[],a=Object.entries(e),n=["L1 I","L2 I","L3 I","L1 V","L2 V","L3 V","Frequency","DC I","DC V","Active Power","DC Power","Reactive Power","PF","Cab Temp","IGBT Temp","DC Energy","S1 L1 I","S1 L2 I","S1 L3 I","S1 L1 V","S1 L2 V","S1 L3 V","S1 DC I","S1 DC V","S1 Active Power","S1 DC Power","S1 PF","S1 IGBT Temp","S1 CAB Temp","S2 L1 I","S2 L2 I","S2 L3 I","S2 L1 V","S2 L2 V","S2 L3 V","S2 DC I","S2 DC V","S2 Active Power","S2 DC Power","S2 PF","S2 IGBT Temp","S2 CAB Temp","S3 L1 I","S3 L2 I","S3 L3 I","S3 L1 V","S3 L2 V","S3 L3 V","S3 DC I","S3 DC V","S3 Active Power","S3 DC Power","S3 PF","S3 IGBT Temp","S3 CAB Temp","S4 L1 I","S4 L2 I","S4 L3 I","S4 L1 V","S4 L2 V","S4 L3 V","S4 DC I","S4 DC V","S4 Active Power","S4 DC Power","S4 PF","S4 IGBT Temp","S4 CAB Temp","S1 + S2 Peak Active Power","S3 + S4 Peak Active Power","S1 / S1CB1 I","S2 / S1CB2 I","S3 / S1CB3 I","S4 / S1CB4 I","S5 / S1CB5 I","S6 / S1CB6 I","S7 / S1CB7 I","S8 / S1CB8 I","S9 / S2CB1 I","S10 / S2CB2 I","S11 / S2CB3 I","S12 / S2CB4 I","S13 / S2CB5 I","S14 / S2CB6 I","S15 / S2CB7 I","S16 / S2CB8 I","S17 / S3CB1 I","S18 / S3CB2 I","S19 / S3CB3 I","S20 / S3CB4 I","S21 / S3CB5 I","S22 / S3CB6 I","S23 / S3CB7 I","S24 / S3CB8 I","S25 / S4CB1 I","S26 / S4CB2 I","S27 / S4CB3 I","S28 / S4CB4 I","S29 / S4CB5 I","S30 / S4CB6 I","S31 / S4CB7 I","S32 / S4CB8 I"],i=0;i<n.length;i++){var c=NaN,r=NaN,s=NaN,l=NaN,o=NaN;try{a[i][1]&&(c=a[i][1]),a[n.length+i][1]&&(r=a[n.length+i][1]),a[2*n.length+i][1]&&(s=a[2*n.length+i][1]),a[3*n.length+i][1]&&(l=a[3*n.length+i][1]),a[4*n.length+i][1]&&(o=a[4*n.length+i][1])}catch(j){}t.push({heading:n[i],inv1:c,inv2:r,inv3:s,inv4:l,inv5:o})}Ie([].concat(t))}(e.data)})).catch((function(e){}))},at=function(e){var t=1623696973e3,a=e;a=Je?Date.now():e;var n=new Date(a);n.setHours(5,0,0,0);var i=n.getTime();!function(e,t,a){X.a.get(l+"/mothkur/site",{headers:{jwtToken:s,startTime:e,endTime:t,beginTime:a,enablePacket:Le(),clientPacketTime:f,isNext:De()}}).then((function(e){g(e.data.status),y(1e3*e.data.time)})).catch((function(e){}))}(t,a,i),function(e,t,a){X.a.get(l+"/mothkur/boxes",{headers:{jwtToken:s,startTime:e,endTime:t,beginTime:a,enablePacket:Le(),clientPacketTime:f,isNext:De()}}).then((function(e){w(e.data)})).catch((function(e){}))}(t,a,i),function(e,t,a){X.a.get(l+"/mothkur/gauge",{headers:{jwtToken:s,startTime:e,endTime:t,beginTime:a,enablePacket:Le(),clientPacketTime:f,isNext:De()}}).then((function(e){var t=e.data.value;P(Number(t).toFixed(2)),E(Number(t).toFixed(1)/50)})).catch((function(e){}))}(t,a,i),function(e,t,a){X.a.get(l+"/mothkur/temperature",{headers:{jwtToken:s,startTime:e,endTime:t,beginTime:a,enablePacket:Le(),clientPacketTime:f,isNext:De()}}).then((function(e){var t=e.data.ambientTemp,a=e.data.moduleTemp,n=e.data.humidity;M(Number(t).toFixed(1)),Y(Number(a).toFixed(1)),Q(Number(n).toFixed(1))})).catch((function(e){}))}(t,a,i),function(e,t,a){X.a.get(l+"/mothkur/wind",{headers:{jwtToken:s,startTime:e,endTime:t,beginTime:a,enablePacket:Le(),clientPacketTime:f,isNext:De()}}).then((function(e){var t=e.data.direction,a=e.data.speed;e.data.rain,ne(Number(t).toFixed(0)),oe(Number(a).toFixed(1)),me(Number(e.data.rain).toFixed(1))})).catch((function(e){}))}(t,a,i),function(e,t,a){X.a.get(l+"/mothkur/graph",{headers:{jwtToken:s,startTime:e,endTime:t,beginTime:a,enablePacket:Le(),clientPacketTime:f,isNext:De()}}).then((function(e){xe(e.data)})).catch((function(e){}))}(t,a,i),tt(fe,t,a,i)};Object(n.useEffect)((function(){(Pe=document.getElementById("timeSliderLabel2"))&&(Pe.innerText=(new Date).toLocaleString([],{hour:"2-digit",minute:"2-digit",hour12:!0}).toUpperCase()),at(d);var e=setInterval((function(){at(d)}),r);return function(){clearInterval(e)}}),[d]);var nt=Object(n.useState)("space-between"),it=Object(u.a)(nt,2),ct=(it[0],it[1]);return Object(n.useLayoutEffect)((function(){window.matchMedia("(min-width: 1280px)").matches?ct("space-between"):ct("flex-start")}),[]),Object(ce.jsxs)(i.a.Fragment,{children:[Object(ce.jsx)(C.a,{container:!0,justifyContent:"space-between",alignItems:"center",children:Object(ce.jsx)(rt,{sitestatusBar:a,status:O,timestamp:f,handleClickOpen:t,handleTimeReset:function(){Be(0);var e=new Date;Ge(e),b(e.getTime()),He(!0),Qe(!0)},setIsNextCount:Be,setOpenDateTimePicker:qe,getMinDateForPicker:function(){return new Date(16306704e5)},selectedDate:Re,getFormattedDateAndTimeString:function(e){var t=new Date(e);return Object(ce.jsxs)("span",{children:[String(t.getDate()).padStart(2,"0"),"/",String(t.getMonth()+1).padStart(2,"0"),"/",t.getFullYear(),Object(ce.jsx)("span",{children:"\u2003"}),t.toLocaleString([],{hour:"2-digit",minute:"2-digit",hour12:!0}).toUpperCase()]})},openDateTimePicker:Ye,handleDateChange:function(e){try{Qe(!1)}finally{Ge(e),qe(!1)}}})}),Object(ce.jsx)("div",{style:{marginTop:"2rem"}}),Object(ce.jsx)(Ae,{day_generation:k.day_generation,revenue:1e3*k.day_generation*4.67,peak_power:k.peak_power,ghi:k.ghi,gti:k.gti,plant_pr:k.plant_pr,grid_availability:k.grid_availability,plant_availability:k.plant_availability}),Object(ce.jsxs)(C.a,{container:!0,spacing:6,style:{marginTop:"1rem"},children:[Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(_e,{totalExport:D,maxValue:15})}),Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(se,{ambientTemp:z,moduleTemp:W,humidity:$})}),Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(Ke,{windDirection:ae,windSpeed:le,rain:be})})]}),Object(ce.jsxs)(S.a,{elevation:6,style:{marginTop:"2.5rem",height:"500px",width:"100%"},children:[Object(ce.jsx)(V.a,{variant:"h6",color:"textSecondary",style:{marginLeft:"1.5rem",marginTop:"1rem",marginBottom:"1.5rem"},children:"Irradiance / Generation"}),Object(ce.jsx)(ue,{data:ge,interval:12,leftAxisY:[0,1500],rightAxisY:[0,50]})]}),Object(ce.jsx)(C.a,{container:!0,style:{marginTop:"3rem"},children:Object(ce.jsxs)(C.a,{item:!0,xs:12,children:[Object(ce.jsxs)(C.a,{container:!0,spacing:2,alignItems:"center",style:{marginBottom:".5rem"},children:[Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(V.a,{variant:"h6",color:"textSecondary",children:"Inverter Values"})}),Object(ce.jsx)(C.a,{item:!0,className:c.grow}),Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsxs)(V.a,{style:{marginLeft:".25rem"},children:["Selected Block:"," "]})}),Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(v.a,{className:c.formControl,children:Object(ce.jsxs)(Z.a,{value:fe,onChange:function(e){ve(e.target.value);var t=new Date;t.setDate((new Date).getDate()-1),t.setHours(23,50,0,0);var a=new Date(d);a.setHours(5,0,0,0);var n=a.getTime();tt(e.target.value,t.getTime(),d,n)},children:[Object(ce.jsx)(B.a,{value:1,children:"B01"}),Object(ce.jsx)(B.a,{value:2,children:"B02"})]})})})]}),Object(ce.jsx)(wc,{values:Te})]})}),Object(ce.jsx)(J.a,{open:Ee,anchorOrigin:{vertical:"bottom",horizontal:"left"},autoHideDuration:4e3,onClose:et,children:Object(ce.jsx)(Nc,{onClose:et,severity:"success",children:"Time is reset!"})}),Object(ce.jsx)("div",{style:{marginBottom:"2rem"}})]})}var Dc=Object(Oe.a)((function(e){return{head:{backgroundColor:"#ffffbf",color:e.palette.common.black,fontSize:16},body:{fontSize:16}}}))(Se.a),Pc=Object(Oe.a)((function(e){return{root:{"&:nth-of-type(odd)":{backgroundColor:e.palette.action.hover}}}}))(ve.a),Fc=Object(D.a)({tableContainer:{maxHeight:"80vh"}}),Vc=function(e){var t=e.value,a=null;return Object(ce.jsxs)(Pc,{children:[Object(ce.jsx)(Dc,{component:"th",scope:"row",style:{paddingTop:".6rem",paddingBottom:".6rem",backgroundColor:a},children:Object(ce.jsx)("strong",{style:{paddingLeft:"2.5rem"},children:t.heading})}),Object(ce.jsx)(Dc,{align:"center",style:{backgroundColor:a},children:Object(ce.jsx)("span",{children:isNaN(Number(t.inv1))?"-":-111===Number(t.inv1)?"X":Number(t.inv1).toFixed(2)})}),Object(ce.jsx)(Dc,{align:"center",style:{backgroundColor:a},children:Object(ce.jsx)("span",{children:isNaN(Number(t.inv2))?"-":-111===Number(t.inv2)?"X":Number(t.inv2).toFixed(2)})})]})},Ac=function(e){var t=e.value;return Object(ce.jsxs)(Pc,{children:[Object(ce.jsx)(Dc,{component:"th",scope:"row",style:{paddingTop:".6rem",paddingBottom:".6rem"},children:Object(ce.jsx)("strong",{style:{paddingLeft:"1rem"},children:t.heading})}),Object(ce.jsx)(Dc,{align:"center",children:isNaN(Number(t.inv1))?"-":-111===Number(t.inv1)?"X":Number(t.inv1).toFixed(2)}),Object(ce.jsx)(Dc,{align:"center",children:isNaN(Number(t.inv2))?"-":-111===Number(t.inv2)?"X":Number(t.inv2).toFixed(2)})]})};function Ec(e){var t=e.values,a=Fc(),c=Object(n.useState)([]),r=Object(u.a)(c,2),s=r[0],l=r[1],o=i.a.useState(!1),j=Object(u.a)(o,2),d=j[0],b=j[1],m=i.a.useState(!1),h=Object(u.a)(m,2),O=h[0],g=h[1],x=function(e){var t=e.title,a=e.tag,n=e.openRows;return Object(ce.jsx)(Pc,{children:Object(ce.jsxs)(Dc,{component:"th",scope:"row",colSpan:6,style:{backgroundColor:"#EBF5FB"},children:[Object(ce.jsx)("strong",{style:{paddingLeft:"1rem",paddingRight:".5rem",color:"#000"},children:t}),Object(ce.jsx)(y.a,{"aria-label":"expand row",size:"small",onClick:function(){return function(e){"S"===e?b((function(e){return!e})):g((function(e){return!e}))}(a)},style:{color:"#000"},children:n?Object(ce.jsx)(Ie.a,{}):Object(ce.jsx)(ye.a,{})})]})})};return Object(n.useEffect)((function(){for(var e=[],a=[],n=[],i=null,c=null,r=0;r<t.length;r++)t[r].heading.match(/S[1-4] [^/]/i)?(i||(i=r,n.push(Object(ce.jsx)(x,{title:"Inverter Slots",tag:"S",openRows:d},r))),r,e.push(Object(ce.jsx)(Vc,{value:t[r]},t[r].heading))):t[r].heading.match(/[S]3[0-4]|2[0-9]|1[0-9]|[1-9] [/] S[1-4]CB/i)?(c||(c=r,n.push(Object(ce.jsx)(x,{title:"Inverter Strings",tag:"PV",openRows:O},r))),r,a.push(Object(ce.jsx)(Vc,{value:t[r]},t[r].heading))):n.push(Object(ce.jsx)(Ac,{value:t[r]},r));var s,o=[].concat(n);if(d&&O)(s=o).splice.apply(s,[i+1,0].concat(e)),o=[].concat(Object(me.a)(o),[a]);else if(d&&!O){var j;(j=o).splice.apply(j,[i+1,0].concat(e))}else o=!d&&O?[].concat(Object(me.a)(o),[a]):[].concat(n);l(o)}),[t,d,O]),Object(ce.jsx)(pe.a,{component:he.a,elevation:6,className:a.tableContainer,children:Object(ce.jsxs)(ge.a,{stickyHeader:!0,"aria-label":"customized table",size:"small",children:[Object(ce.jsx)(fe.a,{children:Object(ce.jsxs)(ve.a,{children:[Object(ce.jsx)(Dc,{style:{paddingTop:".7rem",paddingLeft:"1.75rem",paddingBottom:".7rem"},children:Object(ce.jsx)("strong",{children:"Parameters"})}),Object(ce.jsx)(Dc,{align:"center",children:Object(ce.jsx)("strong",{children:"Inv 1"})}),Object(ce.jsx)(Dc,{align:"center",children:Object(ce.jsx)("strong",{children:"Inv 2"})})]})}),Object(ce.jsx)(xe.a,{children:s})]})})}function Hc(e){return Object(ce.jsx)($.a,Object(h.a)({elevation:6,variant:"filled"},e))}var _c=Object(D.a)((function(e){return{grow:{flexGrow:1},gaugeChartStyle:{marginTop:e.spacing(12)},formControl:{minWidth:120},modalCardStyle:{width:340,height:"fit-content"},gridBreakpoint:Object(m.a)({},e.breakpoints.up("md"),{})}}));function zc(e){e.handleSessionExpire;var t=e.handleClickOpen,a=e.sitestatusBar,c=_c(),r=$e().intervalTime,s=(localStorage.getItem("username","Admin"),localStorage.getItem("userToken")),l=(localStorage.getItem("userId"),K),o=Object(n.useState)((new Date).getTime()),j=Object(u.a)(o,2),d=j[0],b=j[1],m=Object(n.useState)(0),h=Object(u.a)(m,2),O=h[0],g=h[1],x=Object(n.useState)(void 0),p=Object(u.a)(x,2),f=p[0],y=p[1],T=Object(n.useState)({}),I=Object(u.a)(T,2),k=I[0],w=I[1],N=Object(n.useState)(0),L=Object(u.a)(N,2),D=L[0],P=L[1],F=Object(n.useState)(0),A=Object(u.a)(F,2),E=(A[0],A[1]),H=Object(n.useState)(0),_=Object(u.a)(H,2),z=_[0],M=_[1],R=Object(n.useState)(0),G=Object(u.a)(R,2),W=G[0],Y=G[1],q=Object(n.useState)(0),U=Object(u.a)(q,2),$=U[0],Q=U[1],ee=Object(n.useState)(0),te=Object(u.a)(ee,2),ae=te[0],ne=te[1],ie=Object(n.useState)(0),re=Object(u.a)(ie,2),le=re[0],oe=re[1],je=Object(n.useState)(0),de=Object(u.a)(je,2),be=de[0],me=de[1],he=Object(n.useState)([{time:"00:00",gti:"0.00",ghi:"0.00",pg:"0.00"}]),Oe=Object(u.a)(he,2),ge=Oe[0],xe=Oe[1],Se=i.a.useState(1),pe=Object(u.a)(Se,2),fe=pe[0],ve=pe[1],Ce=Object(n.useState)([]),ye=Object(u.a)(Ce,2),Te=ye[0],Ie=ye[1],ke=Object(n.useState)(0),we=Object(u.a)(ke,2),Ne=we[0],Be=we[1];Object(n.useEffect)((function(){0!==Ne&&at(d)}),[Ne]);var Le=function(){return 0!==Ne?"1":"0"},De=function(){return Ne>0?"1":"0"},Pe=null,Fe=Object(n.useState)(!1),Ve=Object(u.a)(Fe,2),Ee=Ve[0],He=Ve[1],ze=Object(n.useState)(new Date),Me=Object(u.a)(ze,2),Re=Me[0],Ge=Me[1],We=Object(n.useState)(!1),Xe=Object(u.a)(We,2),Ye=Xe[0],qe=Xe[1],Ue=Object(n.useState)(!0),Ze=Object(u.a)(Ue,2),Je=Ze[0],Qe=Ze[1],et=function(){He(!1)};Object(n.useEffect)((function(){b(Re.getTime())}),[Re]);var tt=function(e,t,a,n){X.a.get(l+"/sadashivpet/grid/B"+String(e).padStart(2,0),{headers:{jwtToken:s,startTime:t,endTime:a,beginTime:n,enablePacket:Le(),clientPacketTime:f,isNext:De()}}).then((function(e){!function(e){for(var t=[],a=Object.entries(e),n=["L1 I","L2 I","L3 I","L1 V","L2 V","L3 V","Frequency","DC I","DC V","Active Power","DC Power","Reactive Power","PF","Cab Temp","IGBT Temp","DC Energy","S1 L1 I","S1 L2 I","S1 L3 I","S1 L1 V","S1 L2 V","S1 L3 V","S1 DC I","S1 DC V","S1 Active Power","S1 DC Power","S1 PF","S1 IGBT Temp","S1 CAB Temp","S2 L1 I","S2 L2 I","S2 L3 I","S2 L1 V","S2 L2 V","S2 L3 V","S2 DC I","S2 DC V","S2 Active Power","S2 DC Power","S2 PF","S2 IGBT Temp","S2 CAB Temp","S3 L1 I","S3 L2 I","S3 L3 I","S3 L1 V","S3 L2 V","S3 L3 V","S3 DC I","S3 DC V","S3 Active Power","S3 DC Power","S3 PF","S3 IGBT Temp","S3 CAB Temp","S4 L1 I","S4 L2 I","S4 L3 I","S4 L1 V","S4 L2 V","S4 L3 V","S4 DC I","S4 DC V","S4 Active Power","S4 DC Power","S4 PF","S4 IGBT Temp","S4 CAB Temp","S1 + S2 Peak Active Power","S3 + S4 Peak Active Power","S1 / S1CB1 I","S2 / S1CB2 I","S3 / S1CB3 I","S4 / S1CB4 I","S5 / S1CB5 I","S6 / S1CB6 I","S7 / S1CB7 I","S8 / S1CB8 I","S9 / S2CB1 I","S10 / S2CB2 I","S11 / S2CB3 I","S12 / S2CB4 I","S13 / S2CB5 I","S14 / S2CB6 I","S15 / S2CB7 I","S16 / S2CB8 I","S17 / S3CB1 I","S18 / S3CB2 I","S19 / S3CB3 I","S20 / S3CB4 I","S21 / S3CB5 I","S22 / S3CB6 I","S23 / S3CB7 I","S24 / S3CB8 I","S25 / S4CB1 I","S26 / S4CB2 I","S27 / S4CB3 I","S28 / S4CB4 I","S29 / S4CB5 I","S30 / S4CB6 I","S31 / S4CB7 I","S32 / S4CB8 I"],i=0;i<n.length;i++){var c=NaN,r=NaN,s=NaN,l=NaN,o=NaN;try{a[i][1]&&(c=a[i][1]),a[n.length+i][1]&&(r=a[n.length+i][1]),a[2*n.length+i][1]&&(s=a[2*n.length+i][1]),a[3*n.length+i][1]&&(l=a[3*n.length+i][1]),a[4*n.length+i][1]&&(o=a[4*n.length+i][1])}catch(j){}t.push({heading:n[i],inv1:c,inv2:r,inv3:s,inv4:l,inv5:o})}Ie([].concat(t))}(e.data)})).catch((function(e){}))},at=function(e){var t=1623696973e3,a=e;a=Je?Date.now():e;var n=new Date(a);n.setHours(5,0,0,0);var i=n.getTime();!function(e,t,a){X.a.get(l+"/sadashivpet/site",{headers:{jwtToken:s,startTime:e,endTime:t,beginTime:a,enablePacket:Le(),clientPacketTime:f,isNext:De()}}).then((function(e){g(e.data.status),y(1e3*e.data.time)})).catch((function(e){}))}(t,a,i),function(e,t,a){X.a.get(l+"/sadashivpet/boxes",{headers:{jwtToken:s,startTime:e,endTime:t,beginTime:a,enablePacket:Le(),clientPacketTime:f,isNext:De()}}).then((function(e){w(e.data)})).catch((function(e){}))}(t,a,i),function(e,t,a){X.a.get(l+"/sadashivpet/gauge",{headers:{jwtToken:s,startTime:e,endTime:t,beginTime:a,enablePacket:Le(),clientPacketTime:f,isNext:De()}}).then((function(e){var t=e.data.value;P(Number(t).toFixed(2)),E(Number(t).toFixed(1)/50)})).catch((function(e){}))}(t,a,i),function(e,t,a){X.a.get(l+"/sadashivpet/temperature",{headers:{jwtToken:s,startTime:e,endTime:t,beginTime:a,enablePacket:Le(),clientPacketTime:f,isNext:De()}}).then((function(e){var t=e.data.ambientTemp,a=e.data.moduleTemp,n=e.data.humidity;M(Number(t).toFixed(1)),Y(Number(a).toFixed(1)),Q(Number(n).toFixed(1))})).catch((function(e){}))}(t,a,i),function(e,t,a){X.a.get(l+"/sadashivpet/wind",{headers:{jwtToken:s,startTime:e,endTime:t,beginTime:a,enablePacket:Le(),clientPacketTime:f,isNext:De()}}).then((function(e){var t=e.data.direction,a=e.data.speed;e.data.rain,ne(Number(t).toFixed(0)),oe(Number(a).toFixed(1)),me(Number(e.data.rain).toFixed(1))})).catch((function(e){}))}(t,a,i),function(e,t,a){X.a.get(l+"/sadashivpet/graph",{headers:{jwtToken:s,startTime:e,endTime:t,beginTime:a,enablePacket:Le(),clientPacketTime:f,isNext:De()}}).then((function(e){xe(e.data)})).catch((function(e){}))}(t,a,i),tt(fe,t,a,i)};Object(n.useEffect)((function(){(Pe=document.getElementById("timeSliderLabel2"))&&(Pe.innerText=(new Date).toLocaleString([],{hour:"2-digit",minute:"2-digit",hour12:!0}).toUpperCase()),at(d);var e=setInterval((function(){at(d)}),r);return function(){clearInterval(e)}}),[d]);var nt=Object(n.useState)("space-between"),it=Object(u.a)(nt,2),ct=(it[0],it[1]);return Object(n.useLayoutEffect)((function(){window.matchMedia("(min-width: 1280px)").matches?ct("space-between"):ct("flex-start")}),[]),Object(ce.jsxs)(i.a.Fragment,{children:[Object(ce.jsx)(C.a,{container:!0,justifyContent:"space-between",alignItems:"center",children:Object(ce.jsx)(rt,{sitestatusBar:a,status:O,timestamp:f,handleClickOpen:t,handleTimeReset:function(){Be(0);var e=new Date;Ge(e),b(e.getTime()),He(!0),Qe(!0)},setIsNextCount:Be,setOpenDateTimePicker:qe,getMinDateForPicker:function(){return new Date(16305156e5)},selectedDate:Re,getFormattedDateAndTimeString:function(e){var t=new Date(e);return Object(ce.jsxs)("span",{children:[String(t.getDate()).padStart(2,"0"),"/",String(t.getMonth()+1).padStart(2,"0"),"/",t.getFullYear(),Object(ce.jsx)("span",{children:"\u2003"}),t.toLocaleString([],{hour:"2-digit",minute:"2-digit",hour12:!0}).toUpperCase()]})},openDateTimePicker:Ye,handleDateChange:function(e){try{Qe(!1)}finally{Ge(e),qe(!1)}}})}),Object(ce.jsx)("div",{style:{marginTop:"2rem"}}),Object(ce.jsx)(Ae,{day_generation:k.day_generation,revenue:1e3*k.day_generation*5.59,peak_power:k.peak_power,ghi:k.ghi,gti:k.gti,plant_pr:k.plant_pr,grid_availability:k.grid_availability,plant_availability:k.plant_availability}),Object(ce.jsxs)(C.a,{container:!0,spacing:6,style:{marginTop:"1rem"},children:[Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(_e,{totalExport:D,maxValue:75})}),Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(se,{ambientTemp:z,moduleTemp:W,humidity:$})}),Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(Ke,{windDirection:ae,windSpeed:le,rain:be})})]}),Object(ce.jsxs)(S.a,{elevation:6,style:{marginTop:"2.5rem",height:"500px",width:"100%"},children:[Object(ce.jsx)(V.a,{variant:"h6",color:"textSecondary",style:{marginLeft:"1.5rem",marginTop:"1rem",marginBottom:"1.5rem"},children:"Irradiance / Generation"}),Object(ce.jsx)(ue,{data:ge,interval:12,leftAxisY:[0,1500],rightAxisY:[0,50]})]}),Object(ce.jsx)(C.a,{container:!0,style:{marginTop:"3rem"},children:Object(ce.jsxs)(C.a,{item:!0,xs:12,children:[Object(ce.jsxs)(C.a,{container:!0,spacing:2,alignItems:"center",style:{marginBottom:".5rem"},children:[Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(V.a,{variant:"h6",color:"textSecondary",children:"Inverter Values"})}),Object(ce.jsx)(C.a,{item:!0,className:c.grow}),Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsxs)(V.a,{style:{marginLeft:".25rem"},children:["Selected Block:"," "]})}),Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(v.a,{className:c.formControl,children:Object(ce.jsxs)(Z.a,{value:fe,onChange:function(e){ve(e.target.value);var t=new Date;t.setDate((new Date).getDate()-1),t.setHours(23,50,0,0);var a=new Date(d);a.setHours(5,0,0,0);var n=a.getTime();tt(e.target.value,t.getTime(),d,n)},children:[Object(ce.jsx)(B.a,{value:1,children:"B01"}),Object(ce.jsx)(B.a,{value:2,children:"B02"}),Object(ce.jsx)(B.a,{value:3,children:"B03"}),Object(ce.jsx)(B.a,{value:4,children:"B04"}),Object(ce.jsx)(B.a,{value:5,children:"B05"}),Object(ce.jsx)(B.a,{value:6,children:"B06"}),Object(ce.jsx)(B.a,{value:7,children:"B07"}),Object(ce.jsx)(B.a,{value:8,children:"B08"}),Object(ce.jsx)(B.a,{value:9,children:"B09"}),Object(ce.jsx)(B.a,{value:10,children:"B10"})]})})})]}),Object(ce.jsx)(Ec,{values:Te})]})}),Object(ce.jsx)(J.a,{open:Ee,anchorOrigin:{vertical:"bottom",horizontal:"left"},autoHideDuration:4e3,onClose:et,children:Object(ce.jsx)(Hc,{onClose:et,severity:"success",children:"Time is reset!"})}),Object(ce.jsx)("div",{style:{marginBottom:"2rem"}})]})}var Mc=Object(Oe.a)((function(e){return{head:{backgroundColor:"#ffffbf",color:e.palette.common.black,fontSize:16},body:{fontSize:16}}}))(Se.a),Rc=Object(Oe.a)((function(e){return{root:{"&:nth-of-type(odd)":{backgroundColor:e.palette.action.hover}}}}))(ve.a),Gc=Object(D.a)({tableContainer:{maxHeight:"80vh"}}),Wc=function(e){var t=e.value,a=null;return Object(ce.jsxs)(Rc,{children:[Object(ce.jsx)(Mc,{component:"th",scope:"row",style:{paddingTop:".6rem",paddingBottom:".6rem",backgroundColor:a},children:Object(ce.jsx)("strong",{style:{paddingLeft:"2.5rem"},children:t.heading})}),Object(ce.jsx)(Mc,{align:"center",style:{backgroundColor:a},children:Object(ce.jsx)("span",{children:isNaN(Number(t.inv1))?"-":-111===Number(t.inv1)?"X":Number(t.inv1).toFixed(2)})}),Object(ce.jsx)(Mc,{align:"center",style:{backgroundColor:a},children:Object(ce.jsx)("span",{children:isNaN(Number(t.inv2))?"-":-111===Number(t.inv2)?"X":Number(t.inv2).toFixed(2)})}),Object(ce.jsx)(Mc,{align:"center",style:{backgroundColor:a},children:Object(ce.jsx)("span",{children:isNaN(Number(t.inv3))?"-":-111===Number(t.inv3)?"X":Number(t.inv3).toFixed(2)})}),Object(ce.jsx)(Mc,{align:"center",style:{backgroundColor:a},children:Object(ce.jsx)("span",{children:isNaN(Number(t.inv4))?"-":-111===Number(t.inv4)?"X":Number(t.inv4).toFixed(2)})})]})},Xc=function(e){var t=e.value;return Object(ce.jsxs)(Rc,{children:[Object(ce.jsx)(Mc,{component:"th",scope:"row",style:{paddingTop:".6rem",paddingBottom:".6rem"},children:Object(ce.jsx)("strong",{style:{paddingLeft:"1rem"},children:t.heading})}),Object(ce.jsx)(Mc,{align:"center",children:isNaN(Number(t.inv1))?"-":-111===Number(t.inv1)?"X":Number(t.inv1).toFixed(2)}),Object(ce.jsx)(Mc,{align:"center",children:isNaN(Number(t.inv2))?"-":-111===Number(t.inv2)?"X":Number(t.inv2).toFixed(2)}),Object(ce.jsx)(Mc,{align:"center",children:isNaN(Number(t.inv3))?"-":-111===Number(t.inv3)?"X":Number(t.inv3).toFixed(2)}),Object(ce.jsx)(Mc,{align:"center",children:isNaN(Number(t.inv4))?"-":-111===Number(t.inv4)?"X":Number(t.inv4).toFixed(2)})]})};function Yc(e){var t=e.values,a=Gc(),c=Object(n.useState)([]),r=Object(u.a)(c,2),s=r[0],l=r[1],o=i.a.useState(!1),j=Object(u.a)(o,2),d=j[0],b=j[1],m=i.a.useState(!1),h=Object(u.a)(m,2),O=h[0],g=h[1],x=function(e){var t=e.title,a=e.tag,n=e.openRows;return Object(ce.jsx)(Rc,{children:Object(ce.jsxs)(Mc,{component:"th",scope:"row",colSpan:6,style:{backgroundColor:"#EBF5FB"},children:[Object(ce.jsx)("strong",{style:{paddingLeft:"1rem",paddingRight:".5rem",color:"#000"},children:t}),Object(ce.jsx)(y.a,{"aria-label":"expand row",size:"small",onClick:function(){return function(e){"S"===e?b((function(e){return!e})):g((function(e){return!e}))}(a)},style:{color:"#000"},children:n?Object(ce.jsx)(Ie.a,{}):Object(ce.jsx)(ye.a,{})})]})})};return Object(n.useEffect)((function(){for(var e=[],a=[],n=[],i=null,c=null,r=0;r<t.length;r++)t[r].heading.match(/S[1-4] [^/]/i)?(i||(i=r,n.push(Object(ce.jsx)(x,{title:"Inverter Slots",tag:"S",openRows:d},r))),r,e.push(Object(ce.jsx)(Wc,{value:t[r]},t[r].heading))):t[r].heading.match(/[S]3[0-4]|2[0-9]|1[0-9]|[1-9] [/] S[1-4]CB/i)?(c||(c=r,n.push(Object(ce.jsx)(x,{title:"Inverter Strings",tag:"PV",openRows:O},r))),r,a.push(Object(ce.jsx)(Wc,{value:t[r]},t[r].heading))):n.push(Object(ce.jsx)(Xc,{value:t[r]},r));var s,o=[].concat(n);if(d&&O)(s=o).splice.apply(s,[i+1,0].concat(e)),o=[].concat(Object(me.a)(o),[a]);else if(d&&!O){var j;(j=o).splice.apply(j,[i+1,0].concat(e))}else o=!d&&O?[].concat(Object(me.a)(o),[a]):[].concat(n);l(o)}),[t,d,O]),Object(ce.jsx)(pe.a,{component:he.a,elevation:6,className:a.tableContainer,children:Object(ce.jsxs)(ge.a,{stickyHeader:!0,"aria-label":"customized table",size:"small",children:[Object(ce.jsx)(fe.a,{children:Object(ce.jsxs)(ve.a,{children:[Object(ce.jsx)(Mc,{style:{paddingTop:".7rem",paddingLeft:"1.75rem",paddingBottom:".7rem"},children:Object(ce.jsx)("strong",{children:"Parameters"})}),Object(ce.jsx)(Mc,{align:"center",children:Object(ce.jsx)("strong",{children:"Inv 1"})}),Object(ce.jsx)(Mc,{align:"center",children:Object(ce.jsx)("strong",{children:"Inv 2"})}),Object(ce.jsx)(Mc,{align:"center",children:Object(ce.jsx)("strong",{children:"Inv 3"})}),Object(ce.jsx)(Mc,{align:"center",children:Object(ce.jsx)("strong",{children:"Inv 4"})})]})}),Object(ce.jsx)(xe.a,{children:s})]})})}function qc(e){return Object(ce.jsx)($.a,Object(h.a)({elevation:6,variant:"filled"},e))}var Uc=Object(D.a)((function(e){return{grow:{flexGrow:1},gaugeChartStyle:{marginTop:e.spacing(12)},formControl:{minWidth:120},modalCardStyle:{width:340,height:"fit-content"},gridBreakpoint:Object(m.a)({},e.breakpoints.up("md"),{})}}));function Kc(e){e.handleSessionExpire;var t=e.handleClickOpen,a=e.sitestatusBar,c=Uc(),r=$e().intervalTime,s=(localStorage.getItem("username","Admin"),localStorage.getItem("userToken")),l=(localStorage.getItem("userId"),K),o=Object(n.useState)((new Date).getTime()),j=Object(u.a)(o,2),d=j[0],b=j[1],m=Object(n.useState)(0),h=Object(u.a)(m,2),O=h[0],g=h[1],x=Object(n.useState)(void 0),p=Object(u.a)(x,2),f=p[0],y=p[1],T=Object(n.useState)({}),I=Object(u.a)(T,2),k=I[0],w=I[1],N=Object(n.useState)(0),L=Object(u.a)(N,2),D=L[0],P=L[1],F=Object(n.useState)(0),A=Object(u.a)(F,2),E=(A[0],A[1]),H=Object(n.useState)(0),_=Object(u.a)(H,2),z=_[0],M=_[1],R=Object(n.useState)(0),G=Object(u.a)(R,2),W=G[0],Y=G[1],q=Object(n.useState)(0),U=Object(u.a)(q,2),$=U[0],Q=U[1],ee=Object(n.useState)(0),te=Object(u.a)(ee,2),ae=te[0],ne=te[1],ie=Object(n.useState)(0),re=Object(u.a)(ie,2),le=re[0],oe=re[1],je=Object(n.useState)(0),de=Object(u.a)(je,2),be=de[0],me=de[1],he=Object(n.useState)([{time:"00:00",gti:"0.00",ghi:"0.00",pg:"0.00"}]),Oe=Object(u.a)(he,2),ge=Oe[0],xe=Oe[1],Se=i.a.useState(1),pe=Object(u.a)(Se,2),fe=pe[0],ve=pe[1],Ce=Object(n.useState)([]),ye=Object(u.a)(Ce,2),Te=ye[0],Ie=ye[1],ke=Object(n.useState)(0),we=Object(u.a)(ke,2),Ne=we[0],Be=we[1];Object(n.useEffect)((function(){0!==Ne&&at(d)}),[Ne]);var Le=function(){return 0!==Ne?"1":"0"},De=function(){return Ne>0?"1":"0"},Pe=null,Fe=Object(n.useState)(!1),Ve=Object(u.a)(Fe,2),Ee=Ve[0],He=Ve[1],ze=Object(n.useState)(new Date),Me=Object(u.a)(ze,2),Re=Me[0],Ge=Me[1],We=Object(n.useState)(!1),Xe=Object(u.a)(We,2),Ye=Xe[0],qe=Xe[1],Ue=Object(n.useState)(!0),Ze=Object(u.a)(Ue,2),Je=Ze[0],Qe=Ze[1],et=function(){He(!1)};Object(n.useEffect)((function(){b(Re.getTime())}),[Re]);var tt=function(e,t,a,n){X.a.get(l+"/pattikonda/grid/B"+String(e).padStart(2,0),{headers:{jwtToken:s,startTime:t,endTime:a,beginTime:n,enablePacket:Le(),clientPacketTime:f,isNext:De()}}).then((function(e){!function(e){for(var t=[],a=Object.entries(e),n=["L1 I","L2 I","L3 I","L1 V","L2 V","L3 V","Frequency","DC I","DC V","Active Power","DC Power","Reactive Power","PF","Cab Temp","IGBT Temp","DC Energy","S1 L1 I","S1 L2 I","S1 L3 I","S1 L1 V","S1 L2 V","S1 L3 V","S1 DC I","S1 DC V","S1 Active Power","S1 DC Power","S1 PF","S1 IGBT Temp","S2 L1 I","S2 L2 I","S2 L3 I","S2 L1 V","S2 L2 V","S2 L3 V","S2 DC I","S2 DC V","S2 Active Power","S2 DC Power","S2 PF","S2 IGBT Temp","S3 L1 I","S3 L2 I","S3 L3 I","S3 L1 V","S3 L2 V","S3 L3 V","S3 DC I","S3 DC V","S3 Active Power","S3 DC Power","S3 PF","S3 IGBT Temp","S4 L1 I","S4 L2 I","S4 L3 I","S4 L1 V","S4 L2 V","S4 L3 V","S4 DC I","S4 DC V","S4 Active Power","S4 DC Power","S4 PF","S4 IGBT Temp","S1 + S2 Peak Active Power","S3 + S4 Peak Active Power","S1 / S1CB1 I","S2 / S1CB2 I","S3 / S1CB3 I","S4 / S1CB4 I","S5 / S1CB5 I","S6 / S1CB6 I","S7 / S1CB7 I","S8 / S1CB8 I","S9 / S2CB1 I","S10 / S2CB2 I","S11 / S2CB3 I","S12 / S2CB4 I","S13 / S2CB5 I","S14 / S2CB6 I","S15 / S2CB7 I","S16 / S2CB8 I","S17 / S3CB1 I","S18 / S3CB2 I","S19 / S3CB3 I","S20 / S3CB4 I","S21 / S3CB5 I","S22 / S3CB6 I","S23 / S3CB7 I","S24 / S3CB8 I","S25 / S4CB1 I","S26 / S4CB2 I","S27 / S4CB3 I","S28 / S4CB4 I","S29 / S4CB5 I","S30 / S4CB6 I","S31 / S4CB7 I","S32 / S4CB8 I"],i=0;i<n.length;i++){var c=NaN,r=NaN,s=NaN,l=NaN,o=NaN;try{a[i][1]&&(c=a[i][1]),a[n.length+i][1]&&(r=a[n.length+i][1]),a[2*n.length+i][1]&&(s=a[2*n.length+i][1]),a[3*n.length+i][1]&&(l=a[3*n.length+i][1]),a[4*n.length+i][1]&&(o=a[4*n.length+i][1])}catch(j){}t.push({heading:n[i],inv1:c,inv2:r,inv3:s,inv4:l,inv5:o})}Ie([].concat(t))}(e.data)})).catch((function(e){}))},at=function(e){var t=1623696973e3,a=e;a=Je?Date.now():e;var n=new Date(a);n.setHours(5,0,0,0);var i=n.getTime();!function(e,t,a){X.a.get(l+"/pattikonda/site",{headers:{jwtToken:s,startTime:e,endTime:t,beginTime:a,enablePacket:Le(),clientPacketTime:f,isNext:De()}}).then((function(e){g(e.data.status),y(1e3*e.data.time)})).catch((function(e){}))}(t,a,i),function(e,t,a){X.a.get(l+"/pattikonda/boxes",{headers:{jwtToken:s,startTime:e,endTime:t,beginTime:a,enablePacket:Le(),clientPacketTime:f,isNext:De()}}).then((function(e){w(e.data)})).catch((function(e){}))}(t,a,i),function(e,t,a){X.a.get(l+"/pattikonda/gauge",{headers:{jwtToken:s,startTime:e,endTime:t,beginTime:a,enablePacket:Le(),clientPacketTime:f,isNext:De()}}).then((function(e){var t=e.data.value;P(Number(t).toFixed(2)),E(Number(t).toFixed(1)/50)})).catch((function(e){}))}(t,a,i),function(e,t,a){X.a.get(l+"/pattikonda/temperature",{headers:{jwtToken:s,startTime:e,endTime:t,beginTime:a,enablePacket:Le(),clientPacketTime:f,isNext:De()}}).then((function(e){var t=e.data.ambientTemp,a=e.data.moduleTemp,n=e.data.humidity;M(Number(t).toFixed(1)),Y(Number(a).toFixed(1)),Q(Number(n).toFixed(1))})).catch((function(e){}))}(t,a,i),function(e,t,a){X.a.get(l+"/pattikonda/wind",{headers:{jwtToken:s,startTime:e,endTime:t,beginTime:a,enablePacket:Le(),clientPacketTime:f,isNext:De()}}).then((function(e){var t=e.data.direction,a=e.data.speed;e.data.rain,ne(Number(t).toFixed(0)),oe(Number(a).toFixed(1)),me(Number(e.data.rain).toFixed(1))})).catch((function(e){}))}(t,a,i),function(e,t,a){X.a.get(l+"/pattikonda/graph",{headers:{jwtToken:s,startTime:e,endTime:t,beginTime:a,enablePacket:Le(),clientPacketTime:f,isNext:De()}}).then((function(e){xe(e.data)})).catch((function(e){}))}(t,a,i),tt(fe,t,a,i)};Object(n.useEffect)((function(){(Pe=document.getElementById("timeSliderLabel2"))&&(Pe.innerText=(new Date).toLocaleString([],{hour:"2-digit",minute:"2-digit",hour12:!0}).toUpperCase()),at(d);var e=setInterval((function(){at(d)}),r);return function(){clearInterval(e)}}),[d]);var nt=Object(n.useState)("space-between"),it=Object(u.a)(nt,2),ct=(it[0],it[1]);return Object(n.useLayoutEffect)((function(){window.matchMedia("(min-width: 1280px)").matches?ct("space-between"):ct("flex-start")}),[]),Object(ce.jsxs)(i.a.Fragment,{children:[Object(ce.jsx)(C.a,{container:!0,justifyContent:"space-between",alignItems:"center",children:Object(ce.jsx)(rt,{sitestatusBar:a,status:O,timestamp:f,handleClickOpen:t,handleTimeReset:function(){Be(0);var e=new Date;Ge(e),b(e.getTime()),He(!0),Qe(!0)},setIsNextCount:Be,setOpenDateTimePicker:qe,getMinDateForPicker:function(){return new Date(1631016e6)},selectedDate:Re,getFormattedDateAndTimeString:function(e){var t=new Date(e);return Object(ce.jsxs)("span",{children:[String(t.getDate()).padStart(2,"0"),"/",String(t.getMonth()+1).padStart(2,"0"),"/",t.getFullYear(),Object(ce.jsx)("span",{children:"\u2003"}),t.toLocaleString([],{hour:"2-digit",minute:"2-digit",hour12:!0}).toUpperCase()]})},openDateTimePicker:Ye,handleDateChange:function(e){try{Qe(!1)}finally{Ge(e),qe(!1)}}})}),Object(ce.jsx)("div",{style:{marginTop:"2rem"}}),Object(ce.jsx)(Ae,{day_generation:k.day_generation,revenue:1e3*k.day_generation*6.619,peak_power:k.peak_power,ghi:k.ghi,gti:k.gti,plant_pr:k.plant_pr,grid_availability:k.grid_availability,plant_availability:k.plant_availability}),Object(ce.jsxs)(C.a,{container:!0,spacing:6,style:{marginTop:"1rem"},children:[Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(_e,{totalExport:D,maxValue:30})}),Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(se,{ambientTemp:z,moduleTemp:W,humidity:$})}),Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(Ke,{windDirection:ae,windSpeed:le,rain:be})})]}),Object(ce.jsxs)(S.a,{elevation:6,style:{marginTop:"2.5rem",height:"500px",width:"100%"},children:[Object(ce.jsx)(V.a,{variant:"h6",color:"textSecondary",style:{marginLeft:"1.5rem",marginTop:"1rem",marginBottom:"1.5rem"},children:"Irradiance / Generation"}),Object(ce.jsx)(ue,{data:ge,interval:12,leftAxisY:[0,1500],rightAxisY:[0,50]})]}),Object(ce.jsx)(C.a,{container:!0,style:{marginTop:"3rem"},children:Object(ce.jsxs)(C.a,{item:!0,xs:12,children:[Object(ce.jsxs)(C.a,{container:!0,spacing:2,alignItems:"center",style:{marginBottom:".5rem"},children:[Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(V.a,{variant:"h6",color:"textSecondary",children:"Inverter Values"})}),Object(ce.jsx)(C.a,{item:!0,className:c.grow}),Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsxs)(V.a,{style:{marginLeft:".25rem"},children:["Selected Block:"," "]})}),Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(v.a,{className:c.formControl,children:Object(ce.jsxs)(Z.a,{value:fe,onChange:function(e){ve(e.target.value);var t=new Date;t.setDate((new Date).getDate()-1),t.setHours(23,50,0,0);var a=new Date(d);a.setHours(5,0,0,0);var n=a.getTime();tt(e.target.value,t.getTime(),d,n)},children:[Object(ce.jsx)(B.a,{value:1,children:"B01"}),Object(ce.jsx)(B.a,{value:2,children:"B02"}),Object(ce.jsx)(B.a,{value:3,children:"B03"}),Object(ce.jsx)(B.a,{value:4,children:"B04"}),Object(ce.jsx)(B.a,{value:5,children:"B05"})]})})})]}),Object(ce.jsx)(Yc,{values:Te})]})}),Object(ce.jsx)(J.a,{open:Ee,anchorOrigin:{vertical:"bottom",horizontal:"left"},autoHideDuration:4e3,onClose:et,children:Object(ce.jsx)(qc,{onClose:et,severity:"success",children:"Time is reset!"})}),Object(ce.jsx)("div",{style:{marginBottom:"2rem"}})]})}var Zc=Object(Oe.a)((function(e){return{head:{backgroundColor:"#ffffbf",color:e.palette.common.black,fontSize:16},body:{fontSize:16}}}))(Se.a),Jc=Object(Oe.a)((function(e){return{root:{"&:nth-of-type(odd)":{backgroundColor:e.palette.action.hover}}}}))(ve.a),$c=Object(D.a)({tableContainer:{maxHeight:"80vh"}}),Qc=function(e){var t=e.value,a=null;return Object(ce.jsxs)(Jc,{children:[Object(ce.jsx)(Zc,{component:"th",scope:"row",style:{paddingTop:".6rem",paddingBottom:".6rem",backgroundColor:a},children:Object(ce.jsx)("strong",{style:{paddingLeft:"2.5rem"},children:t.heading})}),Object(ce.jsx)(Zc,{align:"center",style:{backgroundColor:a},children:Object(ce.jsx)("span",{children:isNaN(Number(t.inv1))?"-":-111===Number(t.inv1)?"X":Number(t.inv1).toFixed(2)})}),Object(ce.jsx)(Zc,{align:"center",style:{backgroundColor:a},children:Object(ce.jsx)("span",{children:isNaN(Number(t.inv2))?"-":-111===Number(t.inv2)?"X":Number(t.inv2).toFixed(2)})}),Object(ce.jsx)(Zc,{align:"center",style:{backgroundColor:a},children:Object(ce.jsx)("span",{children:isNaN(Number(t.inv3))?"-":-111===Number(t.inv3)?"X":Number(t.inv3).toFixed(2)})}),Object(ce.jsx)(Zc,{align:"center",style:{backgroundColor:a},children:Object(ce.jsx)("span",{children:isNaN(Number(t.inv4))?"-":-111===Number(t.inv4)?"X":Number(t.inv4).toFixed(2)})})]})},er=function(e){var t=e.value;return Object(ce.jsxs)(Jc,{children:[Object(ce.jsx)(Zc,{component:"th",scope:"row",style:{paddingTop:".6rem",paddingBottom:".6rem"},children:Object(ce.jsx)("strong",{style:{paddingLeft:"1rem"},children:t.heading})}),Object(ce.jsx)(Zc,{align:"center",children:isNaN(Number(t.inv1))?"-":-111===Number(t.inv1)?"X":Number(t.inv1).toFixed(2)}),Object(ce.jsx)(Zc,{align:"center",children:isNaN(Number(t.inv2))?"-":-111===Number(t.inv2)?"X":Number(t.inv2).toFixed(2)}),Object(ce.jsx)(Zc,{align:"center",children:isNaN(Number(t.inv3))?"-":-111===Number(t.inv3)?"X":Number(t.inv3).toFixed(2)}),Object(ce.jsx)(Zc,{align:"center",children:isNaN(Number(t.inv4))?"-":-111===Number(t.inv4)?"X":Number(t.inv4).toFixed(2)})]})};function tr(e){var t=e.values,a=$c(),c=Object(n.useState)([]),r=Object(u.a)(c,2),s=r[0],l=r[1],o=i.a.useState(!1),j=Object(u.a)(o,2),d=j[0],b=j[1],m=i.a.useState(!1),h=Object(u.a)(m,2),O=h[0],g=h[1],x=function(e){var t=e.title,a=e.tag,n=e.openRows;return Object(ce.jsx)(Jc,{children:Object(ce.jsxs)(Zc,{component:"th",scope:"row",colSpan:6,style:{backgroundColor:"#EBF5FB"},children:[Object(ce.jsx)("strong",{style:{paddingLeft:"1rem",paddingRight:".5rem",color:"#000"},children:t}),Object(ce.jsx)(y.a,{"aria-label":"expand row",size:"small",onClick:function(){return function(e){"S"===e?b((function(e){return!e})):g((function(e){return!e}))}(a)},style:{color:"#000"},children:n?Object(ce.jsx)(Ie.a,{}):Object(ce.jsx)(ye.a,{})})]})})};return Object(n.useEffect)((function(){for(var e=[],a=[],n=[],i=null,c=null,r=0;r<t.length;r++)t[r].heading.match(/S[1-4] [^/]/i)?(i||(i=r,n.push(Object(ce.jsx)(x,{title:"Inverter Slots",tag:"S",openRows:d},r))),r,e.push(Object(ce.jsx)(Qc,{value:t[r]},t[r].heading))):t[r].heading.match(/[S]3[0-4]|2[0-9]|1[0-9]|[1-9] [/] S[1-4]CB/i)?(c||(c=r,n.push(Object(ce.jsx)(x,{title:"Inverter Strings",tag:"PV",openRows:O},r))),r,a.push(Object(ce.jsx)(Qc,{value:t[r]},t[r].heading))):n.push(Object(ce.jsx)(er,{value:t[r]},r));var s,o=[].concat(n);if(d&&O)(s=o).splice.apply(s,[i+1,0].concat(e)),o=[].concat(Object(me.a)(o),[a]);else if(d&&!O){var j;(j=o).splice.apply(j,[i+1,0].concat(e))}else o=!d&&O?[].concat(Object(me.a)(o),[a]):[].concat(n);l(o)}),[t,d,O]),Object(ce.jsx)(pe.a,{component:he.a,elevation:6,className:a.tableContainer,children:Object(ce.jsxs)(ge.a,{stickyHeader:!0,"aria-label":"customized table",size:"small",children:[Object(ce.jsx)(fe.a,{children:Object(ce.jsxs)(ve.a,{children:[Object(ce.jsx)(Zc,{style:{paddingTop:".7rem",paddingLeft:"1.75rem",paddingBottom:".7rem"},children:Object(ce.jsx)("strong",{children:"Parameters"})}),Object(ce.jsx)(Zc,{align:"center",children:Object(ce.jsx)("strong",{children:"Inv 1"})}),Object(ce.jsx)(Zc,{align:"center",children:Object(ce.jsx)("strong",{children:"Inv 2"})}),Object(ce.jsx)(Zc,{align:"center",children:Object(ce.jsx)("strong",{children:"Inv 3"})}),Object(ce.jsx)(Zc,{align:"center",children:Object(ce.jsx)("strong",{children:"Inv 4"})})]})}),Object(ce.jsx)(xe.a,{children:s})]})})}function ar(e){return Object(ce.jsx)($.a,Object(h.a)({elevation:6,variant:"filled"},e))}var nr=Object(D.a)((function(e){return{grow:{flexGrow:1},gaugeChartStyle:{marginTop:e.spacing(12)},formControl:{minWidth:120},modalCardStyle:{width:340,height:"fit-content"},gridBreakpoint:Object(m.a)({},e.breakpoints.up("md"),{})}}));function ir(e){e.handleSessionExpire;var t=e.handleClickOpen,a=e.sitestatusBar,c=nr(),r=$e().intervalTime,s=(localStorage.getItem("username","Admin"),localStorage.getItem("userToken")),l=(localStorage.getItem("userId"),K),o=Object(n.useState)((new Date).getTime()),j=Object(u.a)(o,2),d=j[0],b=j[1],m=Object(n.useState)(0),h=Object(u.a)(m,2),O=h[0],g=h[1],x=Object(n.useState)(void 0),p=Object(u.a)(x,2),f=p[0],y=p[1],T=Object(n.useState)({}),I=Object(u.a)(T,2),k=I[0],w=I[1],N=Object(n.useState)(0),L=Object(u.a)(N,2),D=L[0],P=L[1],F=Object(n.useState)(0),A=Object(u.a)(F,2),E=(A[0],A[1]),H=Object(n.useState)(0),_=Object(u.a)(H,2),z=_[0],M=_[1],R=Object(n.useState)(0),G=Object(u.a)(R,2),W=G[0],Y=G[1],q=Object(n.useState)(0),U=Object(u.a)(q,2),$=U[0],Q=U[1],ee=Object(n.useState)(0),te=Object(u.a)(ee,2),ae=te[0],ne=te[1],ie=Object(n.useState)(0),re=Object(u.a)(ie,2),le=re[0],oe=re[1],je=Object(n.useState)(0),de=Object(u.a)(je,2),be=de[0],me=de[1],he=Object(n.useState)([{time:"00:00",gti:"0.00",ghi:"0.00",pg:"0.00"}]),Oe=Object(u.a)(he,2),ge=Oe[0],xe=Oe[1],Se=i.a.useState(1),pe=Object(u.a)(Se,2),fe=pe[0],ve=pe[1],Ce=Object(n.useState)([]),ye=Object(u.a)(Ce,2),Te=ye[0],Ie=ye[1],ke=Object(n.useState)(0),we=Object(u.a)(ke,2),Ne=we[0],Be=we[1];Object(n.useEffect)((function(){0!==Ne&&at(d)}),[Ne]);var Le=function(){return 0!==Ne?"1":"0"},De=function(){return Ne>0?"1":"0"},Pe=null,Fe=Object(n.useState)(!1),Ve=Object(u.a)(Fe,2),Ee=Ve[0],He=Ve[1],ze=Object(n.useState)(new Date),Me=Object(u.a)(ze,2),Re=Me[0],Ge=Me[1],We=Object(n.useState)(!1),Xe=Object(u.a)(We,2),Ye=Xe[0],qe=Xe[1],Ue=Object(n.useState)(!0),Ze=Object(u.a)(Ue,2),Je=Ze[0],Qe=Ze[1],et=function(){He(!1)};Object(n.useEffect)((function(){b(Re.getTime())}),[Re]);var tt=function(e,t,a,n){X.a.get(l+"/rayachoti/grid/B"+String(e).padStart(2,0),{headers:{jwtToken:s,startTime:t,endTime:a,beginTime:n,enablePacket:Le(),clientPacketTime:f,isNext:De()}}).then((function(e){!function(e){for(var t=[],a=Object.entries(e),n=["L1 I","L2 I","L3 I","L1 V","L2 V","L3 V","Frequency","DC I","DC V","Active Power","DC Power","Reactive Power","PF","Cab Temp","IGBT Temp","DC Energy","S1 L1 I","S1 L2 I","S1 L3 I","S1 L1 V","S1 L2 V","S1 L3 V","S1 DC I","S1 DC V","S1 Active Power","S1 DC Power","S1 PF","S1 IGBT Temp","S2 L1 I","S2 L2 I","S2 L3 I","S2 L1 V","S2 L2 V","S2 L3 V","S2 DC I","S2 DC V","S2 Active Power","S2 DC Power","S2 PF","S2 IGBT Temp","S3 L1 I","S3 L2 I","S3 L3 I","S3 L1 V","S3 L2 V","S3 L3 V","S3 DC I","S3 DC V","S3 Active Power","S3 DC Power","S3 PF","S3 IGBT Temp","S4 L1 I","S4 L2 I","S4 L3 I","S4 L1 V","S4 L2 V","S4 L3 V","S4 DC I","S4 DC V","S4 Active Power","S4 DC Power","S4 PF","S4 IGBT Temp","S1 + S2 Peak Active Power","S3 + S4 Peak Active Power","S1 / S1CB1 I","S2 / S1CB2 I","S3 / S1CB3 I","S4 / S1CB4 I","S5 / S1CB5 I","S6 / S1CB6 I","S7 / S1CB7 I","S8 / S1CB8 I","S9 / S2CB1 I","S10 / S2CB2 I","S11 / S2CB3 I","S12 / S2CB4 I","S13 / S2CB5 I","S14 / S2CB6 I","S15 / S2CB7 I","S16 / S2CB8 I","S17 / S3CB1 I","S18 / S3CB2 I","S19 / S3CB3 I","S20 / S3CB4 I","S21 / S3CB5 I","S22 / S3CB6 I","S23 / S3CB7 I","S24 / S3CB8 I","S25 / S4CB1 I","S26 / S4CB2 I","S27 / S4CB3 I","S28 / S4CB4 I","S29 / S4CB5 I","S30 / S4CB6 I","S31 / S4CB7 I","S32 / S4CB8 I"],i=0;i<n.length;i++){var c=NaN,r=NaN,s=NaN,l=NaN,o=NaN;try{a[i][1]&&(c=a[i][1]),a[n.length+i][1]&&(r=a[n.length+i][1]),a[2*n.length+i][1]&&(s=a[2*n.length+i][1]),a[3*n.length+i][1]&&(l=a[3*n.length+i][1]),a[4*n.length+i][1]&&(o=a[4*n.length+i][1])}catch(j){}t.push({heading:n[i],inv1:c,inv2:r,inv3:s,inv4:l,inv5:o})}Ie([].concat(t))}(e.data)})).catch((function(e){}))},at=function(e){var t=1623696973e3,a=e;a=Je?Date.now():e;var n=new Date(a);n.setHours(5,0,0,0);var i=n.getTime();!function(e,t,a){X.a.get(l+"/rayachoti/site",{headers:{jwtToken:s,startTime:e,endTime:t,beginTime:a,enablePacket:Le(),clientPacketTime:f,isNext:De()}}).then((function(e){g(e.data.status),y(1e3*e.data.time)})).catch((function(e){}))}(t,a,i),function(e,t,a){X.a.get(l+"/rayachoti/boxes",{headers:{jwtToken:s,startTime:e,endTime:t,beginTime:a,enablePacket:Le(),clientPacketTime:f,isNext:De()}}).then((function(e){w(e.data)})).catch((function(e){}))}(t,a,i),function(e,t,a){X.a.get(l+"/rayachoti/gauge",{headers:{jwtToken:s,startTime:e,endTime:t,beginTime:a,enablePacket:Le(),clientPacketTime:f,isNext:De()}}).then((function(e){var t=e.data.value;P(Number(t).toFixed(2)),E(Number(t).toFixed(1)/50)})).catch((function(e){}))}(t,a,i),function(e,t,a){X.a.get(l+"/rayachoti/temperature",{headers:{jwtToken:s,startTime:e,endTime:t,beginTime:a,enablePacket:Le(),clientPacketTime:f,isNext:De()}}).then((function(e){var t=e.data.ambientTemp,a=e.data.moduleTemp,n=e.data.humidity;M(Number(t).toFixed(1)),Y(Number(a).toFixed(1)),Q(Number(n).toFixed(1))})).catch((function(e){}))}(t,a,i),function(e,t,a){X.a.get(l+"/rayachoti/wind",{headers:{jwtToken:s,startTime:e,endTime:t,beginTime:a,enablePacket:Le(),clientPacketTime:f,isNext:De()}}).then((function(e){var t=e.data.direction,a=e.data.speed;e.data.rain,ne(Number(t).toFixed(0)),oe(Number(a).toFixed(1)),me(Number(e.data.rain).toFixed(1))})).catch((function(e){}))}(t,a,i),function(e,t,a){X.a.get(l+"/rayachoti/graph",{headers:{jwtToken:s,startTime:e,endTime:t,beginTime:a,enablePacket:Le(),clientPacketTime:f,isNext:De()}}).then((function(e){xe(e.data)})).catch((function(e){}))}(t,a,i),tt(fe,t,a,i)};Object(n.useEffect)((function(){(Pe=document.getElementById("timeSliderLabel2"))&&(Pe.innerText=(new Date).toLocaleString([],{hour:"2-digit",minute:"2-digit",hour12:!0}).toUpperCase()),at(d);var e=setInterval((function(){at(d)}),r);return function(){clearInterval(e)}}),[d]);var nt=Object(n.useState)("space-between"),it=Object(u.a)(nt,2),ct=(it[0],it[1]);return Object(n.useLayoutEffect)((function(){window.matchMedia("(min-width: 1280px)").matches?ct("space-between"):ct("flex-start")}),[]),Object(ce.jsxs)(i.a.Fragment,{children:[Object(ce.jsx)(C.a,{container:!0,justifyContent:"space-between",alignItems:"center",children:Object(ce.jsx)(rt,{sitestatusBar:a,status:O,timestamp:f,handleClickOpen:t,handleTimeReset:function(){Be(0);var e=new Date;Ge(e),b(e.getTime()),He(!0),Qe(!0)},setIsNextCount:Be,setOpenDateTimePicker:qe,getMinDateForPicker:function(){return new Date(16311888e5)},selectedDate:Re,getFormattedDateAndTimeString:function(e){var t=new Date(e);return Object(ce.jsxs)("span",{children:[String(t.getDate()).padStart(2,"0"),"/",String(t.getMonth()+1).padStart(2,"0"),"/",t.getFullYear(),Object(ce.jsx)("span",{children:"\u2003"}),t.toLocaleString([],{hour:"2-digit",minute:"2-digit",hour12:!0}).toUpperCase()]})},openDateTimePicker:Ye,handleDateChange:function(e){try{Qe(!1)}finally{Ge(e),qe(!1)}}})}),Object(ce.jsx)("div",{style:{marginTop:"2rem"}}),Object(ce.jsx)(Ae,{day_generation:k.day_generation,revenue:1e3*k.day_generation*6.619,peak_power:k.peak_power,ghi:k.ghi,gti:k.gti,plant_pr:k.plant_pr,grid_availability:k.grid_availability,plant_availability:k.plant_availability}),Object(ce.jsxs)(C.a,{container:!0,spacing:6,style:{marginTop:"1rem"},children:[Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(_e,{totalExport:D,maxValue:30})}),Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(se,{ambientTemp:z,moduleTemp:W,humidity:$})}),Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(Ke,{windDirection:ae,windSpeed:le,rain:be})})]}),Object(ce.jsxs)(S.a,{elevation:6,style:{marginTop:"2.5rem",height:"500px",width:"100%"},children:[Object(ce.jsx)(V.a,{variant:"h6",color:"textSecondary",style:{marginLeft:"1.5rem",marginTop:"1rem",marginBottom:"1.5rem"},children:"Irradiance / Generation"}),Object(ce.jsx)(ue,{data:ge,interval:12,leftAxisY:[0,1500],rightAxisY:[0,50]})]}),Object(ce.jsx)(C.a,{container:!0,style:{marginTop:"3rem"},children:Object(ce.jsxs)(C.a,{item:!0,xs:12,children:[Object(ce.jsxs)(C.a,{container:!0,spacing:2,alignItems:"center",style:{marginBottom:".5rem"},children:[Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(V.a,{variant:"h6",color:"textSecondary",children:"Inverter Values"})}),Object(ce.jsx)(C.a,{item:!0,className:c.grow}),Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsxs)(V.a,{style:{marginLeft:".25rem"},children:["Selected Block:"," "]})}),Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(v.a,{className:c.formControl,children:Object(ce.jsxs)(Z.a,{value:fe,onChange:function(e){ve(e.target.value);var t=new Date;t.setDate((new Date).getDate()-1),t.setHours(23,50,0,0);var a=new Date(d);a.setHours(5,0,0,0);var n=a.getTime();tt(e.target.value,t.getTime(),d,n)},children:[Object(ce.jsx)(B.a,{value:1,children:"B01"}),Object(ce.jsx)(B.a,{value:2,children:"B02"}),Object(ce.jsx)(B.a,{value:3,children:"B03"}),Object(ce.jsx)(B.a,{value:4,children:"B04"}),Object(ce.jsx)(B.a,{value:5,children:"B05"})]})})})]}),Object(ce.jsx)(tr,{values:Te})]})}),Object(ce.jsx)(J.a,{open:Ee,anchorOrigin:{vertical:"bottom",horizontal:"left"},autoHideDuration:4e3,onClose:et,children:Object(ce.jsx)(ar,{onClose:et,severity:"success",children:"Time is reset!"})}),Object(ce.jsx)("div",{style:{marginBottom:"2rem"}})]})}var cr=Object(Oe.a)((function(e){return{head:{backgroundColor:"#ffffbf",color:e.palette.common.black,fontSize:16},body:{fontSize:16}}}))(Se.a),rr=Object(Oe.a)((function(e){return{root:{"&:nth-of-type(odd)":{backgroundColor:e.palette.action.hover}}}}))(ve.a),sr=Object(D.a)({tableContainer:{maxHeight:"80vh"}}),lr=function(e){var t=e.value;return Object(ce.jsxs)(rr,{children:[Object(ce.jsx)(cr,{component:"th",scope:"row",style:{paddingTop:".6rem",paddingBottom:".6rem",backgroundColor:null},children:Object(ce.jsx)("strong",{style:{paddingLeft:"2.5rem"},children:t.heading})}),Object(ce.jsx)(cr,{align:"center",style:{backgroundColor:null},children:Object(ce.jsx)("span",{children:isNaN(Number(t.inv1))?"-":-111===Number(t.inv1)?"X":Number(t.inv1).toFixed(2)})})]})},or=function(e){var t=e.value;return Object(ce.jsxs)(rr,{children:[Object(ce.jsx)(cr,{component:"th",scope:"row",style:{paddingTop:".6rem",paddingBottom:".6rem"},children:Object(ce.jsx)("strong",{style:{paddingLeft:"1rem"},children:t.heading})}),Object(ce.jsx)(cr,{align:"center",children:isNaN(Number(t.inv1))?"-":-111===Number(t.inv1)?"X":Number(t.inv1).toFixed(2)})]})};function jr(e){var t=e.values,a=sr(),c=Object(n.useState)([]),r=Object(u.a)(c,2),s=r[0],l=r[1],o=i.a.useState(!1),j=Object(u.a)(o,2),d=j[0],b=j[1],m=i.a.useState(!1),h=Object(u.a)(m,2),O=h[0],g=h[1],x=function(e){var t=e.title,a=e.tag,n=e.openRows;return Object(ce.jsx)(rr,{children:Object(ce.jsxs)(cr,{component:"th",scope:"row",colSpan:6,style:{backgroundColor:"#EBF5FB"},children:[Object(ce.jsx)("strong",{style:{paddingLeft:"1rem",paddingRight:".5rem",color:"#000"},children:t}),Object(ce.jsx)(y.a,{"aria-label":"expand row",size:"small",onClick:function(){return function(e){"S"===e?b((function(e){return!e})):g((function(e){return!e}))}(a)},style:{color:"#000"},children:n?Object(ce.jsx)(Ie.a,{}):Object(ce.jsx)(ye.a,{})})]})})};return Object(n.useEffect)((function(){for(var e=[],a=[],n=[],i=null,c=null,r=0;r<t.length;r++)t[r].heading.match(/S[1-4] [^/]/i)?(i||(i=r,n.push(Object(ce.jsx)(x,{title:"Inverter Slots",tag:"S",openRows:d},r))),r,e.push(Object(ce.jsx)(lr,{value:t[r]},t[r].heading))):t[r].heading.match(/[S]3[0-4]|2[0-9]|1[0-9]|[1-9] [/] S[1-4]CB/i)?(c||(c=r,n.push(Object(ce.jsx)(x,{title:"Inverter Strings",tag:"PV",openRows:O},r))),r,a.push(Object(ce.jsx)(lr,{value:t[r]},t[r].heading))):n.push(Object(ce.jsx)(or,{value:t[r]},r));var s,o=[].concat(n);if(d&&O)(s=o).splice.apply(s,[i+1,0].concat(e)),o=[].concat(Object(me.a)(o),[a]);else if(d&&!O){var j;(j=o).splice.apply(j,[i+1,0].concat(e))}else o=!d&&O?[].concat(Object(me.a)(o),[a]):[].concat(n);l(o)}),[t,d,O]),Object(ce.jsx)(pe.a,{component:he.a,elevation:6,className:a.tableContainer,children:Object(ce.jsxs)(ge.a,{stickyHeader:!0,"aria-label":"customized table",size:"small",children:[Object(ce.jsx)(fe.a,{children:Object(ce.jsxs)(ve.a,{children:[Object(ce.jsx)(cr,{style:{paddingTop:".7rem",paddingLeft:"1.75rem",paddingBottom:".7rem"},children:Object(ce.jsx)("strong",{children:"Parameters"})}),Object(ce.jsx)(cr,{align:"center",children:Object(ce.jsx)("strong",{children:"Inv 1"})})]})}),Object(ce.jsx)(xe.a,{children:s})]})})}function dr(e){return Object(ce.jsx)($.a,Object(h.a)({elevation:6,variant:"filled"},e))}var br=Object(D.a)((function(e){return{grow:{flexGrow:1},gaugeChartStyle:{marginTop:e.spacing(12)},formControl:{minWidth:120},modalCardStyle:{width:340,height:"fit-content"},gridBreakpoint:Object(m.a)({},e.breakpoints.up("md"),{})}}));function ur(e){var t=e.handleSessionExpire,a=e.handleClickOpen,c=e.sitestatusBar,r=br(),s=$e().intervalTime,l=(localStorage.getItem("username","Admin"),localStorage.getItem("userToken")),o=(localStorage.getItem("userId"),K),j=Object(n.useState)((new Date).getTime()),d=Object(u.a)(j,2),b=d[0],m=d[1],h=Object(n.useState)(0),O=Object(u.a)(h,2),g=O[0],x=O[1],p=Object(n.useState)(void 0),f=Object(u.a)(p,2),y=f[0],T=f[1],I=Object(n.useState)({}),k=Object(u.a)(I,2),w=k[0],N=k[1],L=Object(n.useState)(0),D=Object(u.a)(L,2),P=D[0],F=D[1],A=Object(n.useState)(0),E=Object(u.a)(A,2),H=(E[0],E[1]),_=Object(n.useState)(0),z=Object(u.a)(_,2),M=z[0],R=z[1],G=Object(n.useState)(0),W=Object(u.a)(G,2),Y=W[0],q=W[1],U=Object(n.useState)(0),$=Object(u.a)(U,2),Q=$[0],ee=$[1],te=Object(n.useState)(0),ae=Object(u.a)(te,2),ne=ae[0],ie=ae[1],re=Object(n.useState)(0),le=Object(u.a)(re,2),oe=le[0],je=le[1],de=Object(n.useState)(0),be=Object(u.a)(de,2),me=be[0],he=be[1],Oe=Object(n.useState)([{time:"00:00",gti:"0.00",ghi:"0.00",pg:"0.00"}]),ge=Object(u.a)(Oe,2),xe=ge[0],Se=ge[1],pe=i.a.useState(1),fe=Object(u.a)(pe,2),ve=fe[0],Ce=fe[1],ye=Object(n.useState)([]),Te=Object(u.a)(ye,2),Ie=Te[0],ke=Te[1],we=Object(n.useState)(0),Ne=Object(u.a)(we,2),Be=Ne[0],Le=Ne[1];Object(n.useEffect)((function(){0!==Be&&nt(b)}),[Be]);var De=function(){return 0!==Be?"1":"0"},Pe=function(){return Be>0?"1":"0"},Fe=null,Ve=Object(n.useState)(!1),Ee=Object(u.a)(Ve,2),He=Ee[0],ze=Ee[1],Me=Object(n.useState)(new Date),Re=Object(u.a)(Me,2),Ge=Re[0],We=Re[1],Xe=Object(n.useState)(!1),Ye=Object(u.a)(Xe,2),qe=Ye[0],Ue=Ye[1],Ze=Object(n.useState)(!0),Je=Object(u.a)(Ze,2),Qe=Je[0],et=Je[1],tt=function(){ze(!1)};Object(n.useEffect)((function(){m(Ge.getTime())}),[Ge]);var at=function(e,t,a,n){X.a.get(o+"/bikaner/grid/B"+String(e).padStart(2,0),{headers:{jwtToken:l,startTime:t,endTime:a,beginTime:n,enablePacket:De(),clientPacketTime:y,isNext:Pe()}}).then((function(e){!function(e){for(var t=[],a=Object.entries(e),n=["L1 I","L2 I","L3 I","L1 V","L2 V","L3 V","Frequency","DC I","DC V","Active Power","DC Power","Reactive Power","PF","Cab Temp","IGBT Temp","DC Energy","S1 L1 I","S1 L2 I","S1 L3 I","S1 L1 V","S1 L2 V","S1 L3 V","S1 DC I","S1 DC V","S1 Active Power","S1 DC Power","S1 PF","S1 IGBT Temp","S2 L1 I","S2 L2 I","S2 L3 I","S2 L1 V","S2 L2 V","S2 L3 V","S2 DC I","S2 DC V","S2 Active Power","S2 DC Power","S2 PF","S2 IGBT Temp","S3 L1 I","S3 L2 I","S3 L3 I","S3 L1 V","S3 L2 V","S3 L3 V","S3 DC I","S3 DC V","S3 Active Power","S3 DC Power","S3 PF","S3 IGBT Temp","S4 L1 I","S4 L2 I","S4 L3 I","S4 L1 V","S4 L2 V","S4 L3 V","S4 DC I","S4 DC V","S4 Active Power","S4 DC Power","S4 PF","S4 IGBT Temp","S1 + S2 Peak Active Power","S3 + S4 Peak Active Power","S1 / S1CB1 I","S2 / S1CB2 I","S3 / S1CB3 I","S4 / S1CB4 I","S5 / S1CB5 I","S6 / S1CB6 I","S7 / S1CB7 I","S8 / S1CB8 I","S9 / S2CB1 I","S10 / S2CB2 I","S11 / S2CB3 I","S12 / S2CB4 I","S13 / S2CB5 I","S14 / S2CB6 I","S15 / S2CB7 I","S16 / S2CB8 I","S17 / S3CB1 I","S18 / S3CB2 I","S19 / S3CB3 I","S20 / S3CB4 I","S21 / S3CB5 I","S22 / S3CB6 I","S23 / S3CB7 I","S24 / S3CB8 I","S25 / S4CB1 I","S26 / S4CB2 I","S27 / S4CB3 I","S28 / S4CB4 I","S29 / S4CB5 I","S30 / S4CB6 I","S31 / S4CB7 I","S32 / S4CB8 I"],i=0;i<n.length;i++){var c=NaN,r=NaN,s=NaN,l=NaN,o=NaN;try{a[i][1]&&(c=a[i][1]),a[n.length+i][1]&&(r=a[n.length+i][1]),a[2*n.length+i][1]&&(s=a[2*n.length+i][1]),a[3*n.length+i][1]&&(l=a[3*n.length+i][1]),a[4*n.length+i][1]&&(o=a[4*n.length+i][1])}catch(j){}t.push({heading:n[i],inv1:c,inv2:r,inv3:s,inv4:l,inv5:o})}ke([].concat(t))}(e.data)})).catch((function(e){}))},nt=function(e){var a=1623696973e3,n=e;n=Qe?Date.now():e;var i=new Date(n);i.setHours(5,0,0,0);var c=i.getTime();!function(e,a,n){X.a.get(o+"/bikaner/site",{headers:{jwtToken:l,startTime:e,endTime:a,beginTime:n,enablePacket:De(),clientPacketTime:y,isNext:Pe()}}).then((function(e){x(e.data.status),T(1e3*e.data.time)})).catch((function(e){var a;401===(null===e||void 0===e||null===(a=e.response)||void 0===a?void 0:a.status)&&t()}))}(a,n,c),function(e,t,a){X.a.get(o+"/bikaner/boxes",{headers:{jwtToken:l,startTime:e,endTime:t,beginTime:a,enablePacket:De(),clientPacketTime:y,isNext:Pe()}}).then((function(e){N(e.data)})).catch((function(e){}))}(a,n,c),function(e,t,a){X.a.get(o+"/bikaner/gauge",{headers:{jwtToken:l,startTime:e,endTime:t,beginTime:a,enablePacket:De(),clientPacketTime:y,isNext:Pe()}}).then((function(e){var t=e.data.value;F(Number(t).toFixed(2)),H(Number(t).toFixed(1)/50)})).catch((function(e){}))}(a,n,c),function(e,t,a){X.a.get(o+"/bikaner/temperature",{headers:{jwtToken:l,startTime:e,endTime:t,beginTime:a,enablePacket:De(),clientPacketTime:y,isNext:Pe()}}).then((function(e){var t=e.data.ambientTemp,a=e.data.moduleTemp,n=e.data.humidity;R(Number(t).toFixed(1)),q(Number(a).toFixed(1)),ee(Number(n).toFixed(1))})).catch((function(e){}))}(a,n,c),function(e,t,a){X.a.get(o+"/bikaner/wind",{headers:{jwtToken:l,startTime:e,endTime:t,beginTime:a,enablePacket:De(),clientPacketTime:y,isNext:Pe()}}).then((function(e){var t=e.data.direction,a=e.data.speed;e.data.rain,ie(Number(t).toFixed(0)),je(Number(a).toFixed(1)),he(Number(e.data.rain).toFixed(1))})).catch((function(e){}))}(a,n,c),function(e,t,a){X.a.get(o+"/bikaner/graph",{headers:{jwtToken:l,startTime:e,endTime:t,beginTime:a,enablePacket:De(),clientPacketTime:y,isNext:Pe()}}).then((function(e){Se(e.data)})).catch((function(e){}))}(a,n,c),at(ve,a,n,c)};Object(n.useEffect)((function(){(Fe=document.getElementById("timeSliderLabel2"))&&(Fe.innerText=(new Date).toLocaleString([],{hour:"2-digit",minute:"2-digit",hour12:!0}).toUpperCase()),nt(b);var e=setInterval((function(){nt(b)}),s);return function(){clearInterval(e)}}),[b]);var it=Object(n.useState)("space-between"),ct=Object(u.a)(it,2),st=(ct[0],ct[1]);return Object(n.useLayoutEffect)((function(){window.matchMedia("(min-width: 1280px)").matches?st("space-between"):st("flex-start")}),[]),Object(ce.jsxs)(i.a.Fragment,{children:[Object(ce.jsx)(C.a,{container:!0,justifyContent:"space-between",alignItems:"center",children:Object(ce.jsx)(rt,{sitestatusBar:c,status:g,timestamp:y,handleClickOpen:a,handleTimeReset:function(){Le(0);var e=new Date;We(e),m(e.getTime()),ze(!0),et(!0)},setIsNextCount:Le,setOpenDateTimePicker:Ue,getMinDateForPicker:function(){return new Date(16312752e5)},selectedDate:Ge,getFormattedDateAndTimeString:function(e){var t=new Date(e);return Object(ce.jsxs)("span",{children:[String(t.getDate()).padStart(2,"0"),"/",String(t.getMonth()+1).padStart(2,"0"),"/",t.getFullYear(),Object(ce.jsx)("span",{children:"\u2003"}),t.toLocaleString([],{hour:"2-digit",minute:"2-digit",hour12:!0}).toUpperCase()]})},openDateTimePicker:qe,handleDateChange:function(e){try{et(!1)}finally{We(e),Ue(!1)}}})}),Object(ce.jsx)("div",{style:{marginTop:"2rem"}}),Object(ce.jsx)(Ae,{day_generation:w.day_generation,revenue:1e3*w.day_generation*6.619,peak_power:w.peak_power,ghi:w.ghi,gti:w.gti,plant_pr:w.plant_pr,grid_availability:w.grid_availability,plant_availability:w.plant_availability}),Object(ce.jsxs)(C.a,{container:!0,spacing:6,style:{marginTop:"1rem"},children:[Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(_e,{totalExport:P,maxValue:5})}),Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(se,{ambientTemp:M,moduleTemp:Y,humidity:Q})}),Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(Ke,{windDirection:ne,windSpeed:oe,rain:me})})]}),Object(ce.jsxs)(S.a,{elevation:6,style:{marginTop:"2.5rem",height:"500px",width:"100%"},children:[Object(ce.jsx)(V.a,{variant:"h6",color:"textSecondary",style:{marginLeft:"1.5rem",marginTop:"1rem",marginBottom:"1.5rem"},children:"Irradiance / Generation"}),Object(ce.jsx)(ue,{data:xe,interval:12,leftAxisY:[0,1e3],rightAxisY:[0,8]})]}),Object(ce.jsx)(C.a,{container:!0,style:{marginTop:"3rem"},children:Object(ce.jsxs)(C.a,{item:!0,xs:12,children:[Object(ce.jsxs)(C.a,{container:!0,spacing:2,alignItems:"center",style:{marginBottom:".5rem"},children:[Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(V.a,{variant:"h6",color:"textSecondary",children:"Inverter Values"})}),Object(ce.jsx)(C.a,{item:!0,className:r.grow}),Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsxs)(V.a,{style:{marginLeft:".25rem"},children:["Selected Block:"," "]})}),Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(v.a,{className:r.formControl,children:Object(ce.jsx)(Z.a,{value:ve,onChange:function(e){Ce(e.target.value);var t=new Date;t.setDate((new Date).getDate()-1),t.setHours(23,50,0,0);var a=new Date(b);a.setHours(5,0,0,0);var n=a.getTime();at(e.target.value,t.getTime(),b,n)},children:Object(ce.jsx)(B.a,{value:1,children:"B01"})})})})]}),Object(ce.jsx)(jr,{values:Ie})]})}),Object(ce.jsx)(J.a,{open:He,anchorOrigin:{vertical:"bottom",horizontal:"left"},autoHideDuration:4e3,onClose:tt,children:Object(ce.jsx)(dr,{onClose:tt,severity:"success",children:"Time is reset!"})}),Object(ce.jsx)("div",{style:{marginBottom:"2rem"}})]})}var mr=Object(Oe.a)((function(e){return{head:{backgroundColor:"#ffffbf",color:e.palette.common.black,fontSize:16},body:{fontSize:16}}}))(Se.a),hr=Object(Oe.a)((function(e){return{root:{"&:nth-of-type(odd)":{backgroundColor:e.palette.action.hover}}}}))(ve.a),Or=Object(D.a)({tableContainer:{maxHeight:"80vh"}}),gr=function(e){var t=e.value,a=(e.block,null);return Object(ce.jsxs)(hr,{children:[Object(ce.jsx)(mr,{component:"th",scope:"row",style:{paddingTop:".6rem",paddingBottom:".6rem",backgroundColor:a},children:Object(ce.jsx)("strong",{style:{paddingLeft:"2.5rem"},children:t.heading})}),Object(ce.jsx)(mr,{align:"center",style:{backgroundColor:a},children:Object(ce.jsx)("span",{children:isNaN(Number(t.inv1))?"-":-111===Number(t.inv1)?"X":Number(t.inv1).toFixed(2)})}),Object(ce.jsx)(mr,{align:"center",style:{backgroundColor:a},children:Object(ce.jsx)("span",{children:isNaN(Number(t.inv2))?"-":-111===Number(t.inv2)?"X":Number(t.inv2).toFixed(2)})}),Object(ce.jsx)(mr,{align:"center",style:{backgroundColor:a},children:Object(ce.jsx)("span",{children:isNaN(Number(t.inv3))?"-":-111===Number(t.inv3)?"X":Number(t.inv3).toFixed(2)})}),Object(ce.jsx)(mr,{align:"center",style:{backgroundColor:a},children:Object(ce.jsx)("span",{children:isNaN(Number(t.inv4))?"-":-111===Number(t.inv4)?"X":Number(t.inv4).toFixed(2)})})]})},xr=function(e){var t=e.value;e.block;return Object(ce.jsxs)(hr,{children:[Object(ce.jsx)(mr,{component:"th",scope:"row",style:{paddingTop:".6rem",paddingBottom:".6rem"},children:Object(ce.jsx)("strong",{style:{paddingLeft:"1rem"},children:t.heading})}),Object(ce.jsx)(mr,{align:"center",children:isNaN(Number(t.inv1))?"-":-111===Number(t.inv1)?"X":Number(t.inv1).toFixed(2)}),Object(ce.jsx)(mr,{align:"center",children:isNaN(Number(t.inv2))?"-":-111===Number(t.inv2)?"X":Number(t.inv2).toFixed(2)}),Object(ce.jsx)(mr,{align:"center",children:isNaN(Number(t.inv3))?"-":-111===Number(t.inv3)?"X":Number(t.inv3).toFixed(2)}),Object(ce.jsx)(mr,{align:"center",children:isNaN(Number(t.inv4))?"-":-111===Number(t.inv4)?"X":Number(t.inv4).toFixed(2)})]})};function Sr(e){var t=e.values,a=e.block,c=Or(),r=Object(n.useState)([]),s=Object(u.a)(r,2),l=s[0],o=s[1],j=i.a.useState(!1),d=Object(u.a)(j,2),b=d[0],m=d[1],h=i.a.useState(!1),O=Object(u.a)(h,2),g=O[0],x=O[1],S=function(e){var t=e.title,a=e.tag,n=e.openRows;return Object(ce.jsx)(hr,{children:Object(ce.jsxs)(mr,{component:"th",scope:"row",colSpan:6,style:{backgroundColor:"#EBF5FB"},children:[Object(ce.jsx)("strong",{style:{paddingLeft:"1rem",paddingRight:".5rem",color:"#000"},children:t}),Object(ce.jsx)(y.a,{"aria-label":"expand row",size:"small",onClick:function(){return function(e){"S"===e?m((function(e){return!e})):x((function(e){return!e}))}(a)},style:{color:"#000"},children:n?Object(ce.jsx)(Ie.a,{}):Object(ce.jsx)(ye.a,{})})]})})};return Object(n.useEffect)((function(){for(var e=[],n=[],i=[],c=null,r=null,s=0;s<t.length;s++)t[s].heading.match(/S[1-4] [^/]/i)?(c||(c=s,i.push(Object(ce.jsx)(S,{title:"Inverter Slots",tag:"S",openRows:b,block:a},s))),s,e.push(Object(ce.jsx)(gr,{value:t[s],block:a},t[s].heading))):t[s].heading.match(/[S]3[0-4]|2[0-9]|1[0-9]|[1-9] [/] S[1-4]CB/i)?(r||(r=s,i.push(Object(ce.jsx)(S,{title:"Inverter Strings",tag:"PV",openRows:g,block:a},s))),s,n.push(Object(ce.jsx)(gr,{value:t[s],block:a},t[s].heading))):i.push(Object(ce.jsx)(xr,{value:t[s],block:a},s));var l,j=[].concat(i);if(b&&g)(l=j).splice.apply(l,[c+1,0].concat(e)),j=[].concat(Object(me.a)(j),[n]);else if(b&&!g){var d;(d=j).splice.apply(d,[c+1,0].concat(e))}else j=!b&&g?[].concat(Object(me.a)(j),[n]):[].concat(i);o(j)}),[t,b,g]),Object(ce.jsx)(pe.a,{component:he.a,elevation:6,className:c.tableContainer,children:Object(ce.jsxs)(ge.a,{stickyHeader:!0,"aria-label":"customized table",size:"small",children:[Object(ce.jsx)(fe.a,{children:Object(ce.jsxs)(ve.a,{children:[Object(ce.jsx)(mr,{style:{paddingTop:".7rem",paddingLeft:"1.75rem",paddingBottom:".7rem"},children:Object(ce.jsx)("strong",{children:"Parameters"})}),Object(ce.jsx)(mr,{align:"center",children:Object(ce.jsx)("strong",{children:"Inv 1"})}),Object(ce.jsx)(mr,{align:"center",children:Object(ce.jsx)("strong",{children:"Inv 2"})}),Object(ce.jsx)(mr,{align:"center",children:Object(ce.jsx)("strong",{children:"Inv 3"})}),Object(ce.jsx)(mr,{align:"center",children:Object(ce.jsx)("strong",{children:"Inv 4"})})]})}),Object(ce.jsx)(xe.a,{children:l})]})})}function pr(e){return Object(ce.jsx)($.a,Object(h.a)({elevation:6,variant:"filled"},e))}var fr=Object(D.a)((function(e){return{grow:{flexGrow:1},gaugeChartStyle:{marginTop:e.spacing(12)},formControl:{minWidth:120},modalCardStyle:{width:340,height:"fit-content"},gridBreakpoint:Object(m.a)({},e.breakpoints.up("md"),{})}}));function vr(e){e.handleSessionExpire;var t=e.handleClickOpen,a=e.sitestatusBar,c=fr(),r=$e().intervalTime,s=(localStorage.getItem("username","Admin"),localStorage.getItem("userToken")),l=(localStorage.getItem("userId"),K),o=Object(n.useState)((new Date).getTime()),j=Object(u.a)(o,2),d=j[0],b=j[1],m=Object(n.useState)(0),h=Object(u.a)(m,2),O=h[0],g=h[1],x=Object(n.useState)(void 0),p=Object(u.a)(x,2),f=p[0],y=p[1],T=Object(n.useState)({}),I=Object(u.a)(T,2),k=I[0],w=I[1],N=Object(n.useState)(0),L=Object(u.a)(N,2),D=L[0],P=L[1],F=Object(n.useState)(0),A=Object(u.a)(F,2),E=(A[0],A[1]),H=Object(n.useState)(0),_=Object(u.a)(H,2),z=_[0],M=_[1],R=Object(n.useState)(0),G=Object(u.a)(R,2),W=G[0],Y=G[1],q=Object(n.useState)(0),U=Object(u.a)(q,2),$=U[0],Q=U[1],ee=Object(n.useState)(0),te=Object(u.a)(ee,2),ae=te[0],ne=te[1],ie=Object(n.useState)(0),re=Object(u.a)(ie,2),le=re[0],oe=re[1],je=Object(n.useState)(0),de=Object(u.a)(je,2),be=de[0],me=de[1],he=Object(n.useState)([{time:"00:00",gti:"0.00",ghi:"0.00",pg:"0.00"}]),Oe=Object(u.a)(he,2),ge=Oe[0],xe=Oe[1],Se=i.a.useState(1),pe=Object(u.a)(Se,2),fe=pe[0],ve=pe[1],Ce=Object(n.useState)([]),ye=Object(u.a)(Ce,2),Te=ye[0],Ie=ye[1],ke=Object(n.useState)(0),we=Object(u.a)(ke,2),Ne=we[0],Be=we[1];Object(n.useEffect)((function(){0!==Ne&&at(d)}),[Ne]);var Le=function(){return 0!==Ne?"1":"0"},De=function(){return Ne>0?"1":"0"},Pe=null,Fe=Object(n.useState)(!1),Ve=Object(u.a)(Fe,2),Ee=Ve[0],He=Ve[1],ze=Object(n.useState)(new Date),Me=Object(u.a)(ze,2),Re=Me[0],Ge=Me[1],We=Object(n.useState)(!1),Xe=Object(u.a)(We,2),Ye=Xe[0],qe=Xe[1],Ue=Object(n.useState)(!0),Ze=Object(u.a)(Ue,2),Je=Ze[0],Qe=Ze[1],et=function(){He(!1)};Object(n.useEffect)((function(){b(Re.getTime())}),[Re]);var tt=function(){var e=new Date;e.setDate((new Date).getDate()-1),e.setHours(23,50,0,0);var t=new Date(d);t.setHours(5,0,0,0);var a=t.getTime();X.a.get(l+"/santhipuram/grid/B"+String(fe).padStart(2,0),{headers:{jwtToken:s,startTime:e.getTime(),endTime:d,beginTime:a,enablePacket:Le(),clientPacketTime:f,isNext:De()}}).then((function(e){!function(e){for(var t=[],a=Object.entries(e),n=["L1 I","L2 I","L3 I","L1 V","L2 V","L3 V","Frequency","DC I","DC V","Active Power","DC Power","Reactive Power","PF","Cab Temp","IGBT Temp","DC Energy","S1 L1 I","S1 L2 I","S1 L3 I","S1 L1 V","S1 L2 V","S1 L3 V","S1 DC I","S1 DC V","S1 Active Power","S1 DC Power","S1 PF","S1 IGBT Temp","S2 L1 I","S2 L2 I","S2 L3 I","S2 L1 V","S2 L2 V","S2 L3 V","S2 DC I","S2 DC V","S2 Active Power","S2 DC Power","S2 PF","S2 IGBT Temp","S3 L1 I","S3 L2 I","S3 L3 I","S3 L1 V","S3 L2 V","S3 L3 V","S3 DC I","S3 DC V","S3 Active Power","S3 DC Power","S3 PF","S3 IGBT Temp","S4 L1 I","S4 L2 I","S4 L3 I","S4 L1 V","S4 L2 V","S4 L3 V","S4 DC I","S4 DC V","S4 Active Power","S4 DC Power","S4 PF","S4 IGBT Temp","S1 + S2 Peak Active Power","S3 + S4 Peak Active Power","S1 / S1CB1 I","S2 / S1CB2 I","S3 / S1CB3 I","S4 / S1CB4 I","S5 / S1CB5 I","S6 / S1CB6 I","S7 / S1CB7 I","S8 / S1CB8 I","S9 / S2CB1 I","S10 / S2CB2 I","S11 / S2CB3 I","S12 / S2CB4 I","S13 / S2CB5 I","S14 / S2CB6 I","S15 / S2CB7 I","S16 / S2CB8 I","S17 / S3CB1 I","S18 / S3CB2 I","S19 / S3CB3 I","S20 / S3CB4 I","S21 / S3CB5 I","S22 / S3CB6 I","S23 / S3CB7 I","S24 / S3CB8 I","S25 / S4CB1 I","S26 / S4CB2 I","S27 / S4CB3 I","S28 / S4CB4 I","S29 / S4CB5 I","S30 / S4CB6 I","S31 / S4CB7 I","S32 / S4CB8 I"],i=0;i<n.length;i++){var c=NaN,r=NaN,s=NaN,l=NaN,o=NaN;try{a[i][1]&&(c=a[i][1]),a[n.length+i][1]&&(r=a[n.length+i][1]),a[2*n.length+i][1]&&(s=a[2*n.length+i][1]),a[3*n.length+i][1]&&(l=a[3*n.length+i][1]),a[4*n.length+i][1]&&(o=a[4*n.length+i][1])}catch(j){}t.push({heading:n[i],inv1:c,inv2:r,inv3:s,inv4:l,inv5:o})}Ie([].concat(t))}(e.data)})).catch((function(e){}))};Object(n.useEffect)((function(){var e=setInterval(tt,6e4);return function(){clearInterval(e)}})),Object(n.useEffect)((function(){tt()}),[fe]);var at=function(e){var t=1623696973e3,a=e;a=Je?Date.now():e;var n=new Date(a);n.setHours(5,0,0,0);var i=n.getTime();!function(e,t,a){X.a.get(l+"/santhipuram/site",{headers:{jwtToken:s,startTime:e,endTime:t,beginTime:a,enablePacket:Le(),clientPacketTime:f,isNext:De()}}).then((function(e){g(e.data.status),y(1e3*e.data.time)})).catch((function(e){}))}(t,a,i),function(e,t,a){X.a.get(l+"/santhipuram/boxes",{headers:{jwtToken:s,startTime:e,endTime:t,beginTime:a,enablePacket:Le(),clientPacketTime:f,isNext:De()}}).then((function(e){w(e.data)})).catch((function(e){}))}(t,a,i),function(e,t,a){X.a.get(l+"/santhipuram/gauge",{headers:{jwtToken:s,startTime:e,endTime:t,beginTime:a,enablePacket:Le(),clientPacketTime:f,isNext:De()}}).then((function(e){var t=e.data.value;P(Number(t).toFixed(2)),E(Number(t).toFixed(1)/50)})).catch((function(e){}))}(t,a,i),function(e,t,a){X.a.get(l+"/santhipuram/temperature",{headers:{jwtToken:s,startTime:e,endTime:t,beginTime:a,enablePacket:Le(),clientPacketTime:f,isNext:De()}}).then((function(e){var t=e.data.ambientTemp,a=e.data.moduleTemp,n=e.data.humidity;M(Number(t).toFixed(1)),Y(Number(a).toFixed(1)),Q(Number(n).toFixed(1))})).catch((function(e){}))}(t,a,i),function(e,t,a){X.a.get(l+"/santhipuram/wind",{headers:{jwtToken:s,startTime:e,endTime:t,beginTime:a,enablePacket:Le(),clientPacketTime:f,isNext:De()}}).then((function(e){var t=e.data.direction,a=e.data.speed;e.data.rain,ne(Number(t).toFixed(0)),oe(Number(a).toFixed(1)),me(Number(e.data.rain).toFixed(1))})).catch((function(e){}))}(t,a,i),function(e,t,a){X.a.get(l+"/santhipuram/graph",{headers:{jwtToken:s,startTime:e,endTime:t,beginTime:a,enablePacket:Le(),clientPacketTime:f,isNext:De()}}).then((function(e){xe(e.data)})).catch((function(e){}))}(t,a,i)};Object(n.useEffect)((function(){(Pe=document.getElementById("timeSliderLabel2"))&&(Pe.innerText=(new Date).toLocaleString([],{hour:"2-digit",minute:"2-digit",hour12:!0}).toUpperCase()),at(d);var e=setInterval((function(){at(d)}),r);return function(){clearInterval(e)}}),[d]);var nt=Object(n.useState)("space-between"),it=Object(u.a)(nt,2),ct=(it[0],it[1]);return Object(n.useLayoutEffect)((function(){window.matchMedia("(min-width: 1280px)").matches?ct("space-between"):ct("flex-start")}),[]),Object(ce.jsxs)(i.a.Fragment,{children:[Object(ce.jsx)(C.a,{container:!0,justifyContent:"space-between",alignItems:"center",children:Object(ce.jsx)(rt,{sitestatusBar:a,status:O,timestamp:f,handleClickOpen:t,handleTimeReset:function(){Be(0);var e=new Date;Ge(e),b(e.getTime()),He(!0),Qe(!0)},setIsNextCount:Be,setOpenDateTimePicker:qe,getMinDateForPicker:function(){return new Date(16317072e5)},selectedDate:Re,getFormattedDateAndTimeString:function(e){var t=new Date(e);return Object(ce.jsxs)("span",{children:[String(t.getDate()).padStart(2,"0"),"/",String(t.getMonth()+1).padStart(2,"0"),"/",t.getFullYear(),Object(ce.jsx)("span",{children:"\u2003"}),t.toLocaleString([],{hour:"2-digit",minute:"2-digit",hour12:!0}).toUpperCase()]})},openDateTimePicker:Ye,handleDateChange:function(e){try{Qe(!1)}finally{Ge(e),qe(!1)}}})}),Object(ce.jsx)("div",{style:{marginTop:"2rem"}}),Object(ce.jsx)(Ae,{day_generation:k.day_generation,revenue:1e3*k.day_generation*5.59,peak_power:k.peak_power,ghi:k.ghi,gti:k.gti,plant_pr:k.plant_pr,grid_availability:k.grid_availability,plant_availability:k.plant_availability}),Object(ce.jsxs)(C.a,{container:!0,spacing:6,style:{marginTop:"1rem"},children:[Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(_e,{totalExport:D,maxValue:60})}),Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(se,{ambientTemp:z,moduleTemp:W,humidity:$})}),Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(Ke,{windDirection:ae,windSpeed:le,rain:be})})]}),Object(ce.jsxs)(S.a,{elevation:6,style:{marginTop:"2.5rem",height:"500px",width:"100%"},children:[Object(ce.jsx)(V.a,{variant:"h6",color:"textSecondary",style:{marginLeft:"1.5rem",marginTop:"1rem",marginBottom:"1.5rem"},children:"Irradiance / Generation"}),Object(ce.jsx)(ue,{data:ge,interval:12,leftAxisY:[0,1500],rightAxisY:[0,50]})]}),Object(ce.jsx)(C.a,{container:!0,style:{marginTop:"3rem"},children:Object(ce.jsxs)(C.a,{item:!0,xs:12,children:[Object(ce.jsxs)(C.a,{container:!0,spacing:2,alignItems:"center",style:{marginBottom:".5rem"},children:[Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(V.a,{variant:"h6",color:"textSecondary",children:"Inverter Values"})}),Object(ce.jsx)(C.a,{item:!0,className:c.grow}),Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsxs)(V.a,{style:{marginLeft:".25rem"},children:["Selected Block:"," "]})}),Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(v.a,{className:c.formControl,children:Object(ce.jsxs)(Z.a,{defaultValue:1,value:fe,onChange:function(e){ve((function(t){return Number(e.target.value)}))},children:[Object(ce.jsx)(B.a,{value:1,children:"B01"}),Object(ce.jsx)(B.a,{value:2,children:"B02"}),Object(ce.jsx)(B.a,{value:3,children:"B03"}),Object(ce.jsx)(B.a,{value:4,children:"B04"}),Object(ce.jsx)(B.a,{value:5,children:"B05"}),Object(ce.jsx)(B.a,{value:6,children:"B06"}),Object(ce.jsx)(B.a,{value:7,children:"B07"}),Object(ce.jsx)(B.a,{value:8,children:"B08"}),Object(ce.jsx)(B.a,{value:9,children:"B09"}),Object(ce.jsx)(B.a,{value:10,children:"B10"})]})})})]}),Object(ce.jsx)(Sr,{values:Te,block:fe})]})}),Object(ce.jsx)(J.a,{open:Ee,anchorOrigin:{vertical:"bottom",horizontal:"left"},autoHideDuration:4e3,onClose:et,children:Object(ce.jsx)(pr,{onClose:et,severity:"success",children:"Time is reset!"})}),Object(ce.jsx)("div",{style:{marginBottom:"2rem"}})]})}var Cr=function(e){var t=e.x,a=e.y,n=e.fill,i=e.value,c=e.index;return Object(ce.jsxs)("text",{x:t,y:a,dx:"10",dy:"-10",fontSize:"10",fontFamily:"sans-serif",fill:n,textAnchor:"middle",children:[i,2===c?"%":"\xb0C"]})};function yr(e){var t=e.ambientTemp,a=e.moduleTemp,n=e.humidity,i=e.ambientTemp2,c=e.moduleTemp2,r=e.humidity2,s=[{name:"Amb 1",value:Number(t)&&-111!==Number(t)?Number(t):0},{name:"Amb 2",value:Number(i)&&-111!==Number(i)?Number(i):0},{name:"Mod 1",value:Number(a)&&-111!==Number(a)?Number(a):0},{name:"Mod 2",value:Number(c)&&-111!==Number(c)?Number(c):0},{name:"Hum 1",value:Number(n)&&-111!==Number(n)?Number(n):0},{name:"Hum 2",value:Number(r)&&-111!==Number(r)?Number(r):0}];return Object(ce.jsxs)(S.a,{elevation:6,style:{paddingTop:".5rem",paddingBottom:".5rem",paddingLeft:"0rem",paddingRight:"0rem",height:255,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"space-between"},children:[Object(ce.jsxs)(V.a,{children:["Temperatures "," and "," Humidity"]}),Object(ce.jsxs)(Q.a,{width:370,height:200,data:s,margin:{right:50,bottom:15},barSize:20,children:[Object(ce.jsx)(ee.a,{dataKey:"name",scale:"point",padding:{left:20},angle:315,tickMargin:15}),Object(ce.jsx)(te.a,{domain:[0,100]}),Object(ce.jsx)(ae.a,{strokeDasharray:"3 3"}),Object(ce.jsx)(ne.a,{isAnimationActive:!1,dataKey:"value",fill:"#8884d8",background:{fill:"#eee"},label:Object(ce.jsx)(Cr,{}),children:s.map((function(e,t){return Object(ce.jsx)(ie.a,{cursor:"pointer",fill:0===t||1===t?"#42a5f5":2===t||3==t?"#82ca9d":"#8884d8"},"cell-".concat(t))}))})]})]})}function Tr(e){var t=e.data,a=e.interval,i=(e.width,e.height,e.leftAxisY),c=e.rightAxisY,r=Object(n.useState)({ghi:1,ghi2:1,gti:1,gti2:1,pg:1}),s=Object(u.a)(r,2),l=s[0],o=s[1];return Object(ce.jsx)(le.a,{width:"100%",height:"83%",children:Object(ce.jsxs)(oe.a,{data:t,children:[Object(ce.jsx)(ae.a,{strokeDasharray:"3 3"}),Object(ce.jsx)(ee.a,{dataKey:"time",interval:a}),Object(ce.jsx)(te.a,{yAxisId:"left",domain:i}),Object(ce.jsx)(te.a,{yAxisId:"right",domain:c,orientation:"right"}),Object(ce.jsx)(je.a,{}),Object(ce.jsx)(de.a,{content:function(e){var t=e.payload;return Object(ce.jsx)("div",{style:{display:"flex",justifyContent:"center",gap:"20px"},children:t.map((function(e,t){return Object(ce.jsx)("strong",{style:{fontSize:"1rem",color:e.color,cursor:"pointer",opacity:0===l[e.dataKey]?.5:1},onClick:function(){return t=e.dataKey,void o((function(e){return Object(h.a)(Object(h.a)({},e),{},Object(m.a)({},t,0===e[t]?1:0))}));var t},children:String(e.value).toUpperCase()},e.value)}))})}}),Object(ce.jsx)(be.a,{yAxisId:"left",type:"monotone",dataKey:"ghi",stroke:"#5499C7",strokeWidth:2,strokeOpacity:l.ghi,activeDot:{r:6},dot:!1,name:"GHI 1"}),Object(ce.jsx)(be.a,{name:"GHI 2",yAxisId:"left",type:"monotone",dataKey:"ghi2",stroke:"#AF7AC5",strokeWidth:2,strokeOpacity:l.ghi2,activeDot:{r:6},dot:!1}),Object(ce.jsx)(be.a,{name:"GTI 1",yAxisId:"left",type:"monotone",dataKey:"gti",stroke:"#F5B041",strokeWidth:2,strokeOpacity:l.gti,activeDot:{r:6},dot:!1}),Object(ce.jsx)(be.a,{name:"GTI 2",yAxisId:"left",type:"monotone",dataKey:"gti2",stroke:"#E67E22",strokeWidth:2,strokeOpacity:l.gti2,activeDot:{r:6},dot:!1}),Object(ce.jsx)(be.a,{name:"PG",yAxisId:"right",type:"monotone",dataKey:"pg",stroke:"#82ca9d",strokeWidth:2,strokeOpacity:l.pg,activeDot:{r:6},dot:!1})]})})}var Ir=Object(Oe.a)((function(e){return{head:{backgroundColor:"#ffffbf",color:e.palette.common.black,fontSize:16},body:{fontSize:16}}}))(Se.a),kr=Object(Oe.a)((function(e){return{root:{"&:nth-of-type(odd)":{backgroundColor:e.palette.action.hover}}}}))(ve.a),wr=Object(D.a)({tableContainer:{maxHeight:"80vh",maxWidth:"90vw"}}),Nr=function(e){var t=e.value,a=e.inverters;return Object(ce.jsxs)(kr,{children:[Object(ce.jsx)(Ir,{component:"th",scope:"row",style:{paddingTop:".6rem",paddingBottom:".6rem",backgroundColor:null},children:Object(ce.jsx)("strong",{style:{paddingLeft:"2.5rem"},children:t.heading})}),Array.from(Array(a).keys()).map((function(e,a){return Object(ce.jsx)(Ir,{align:"center",style:{backgroundColor:null},children:Object(ce.jsx)("span",{children:isNaN(Number(t["inv"+Number(a+1)]))?"-":-111===Number(t["inv"+Number(a+1)])?"X":Number(t["inv"+Number(a+1)]).toFixed(2)})})}))]})},Br=function(e){var t=e.value,a=e.inverters;return Object(ce.jsxs)(kr,{children:[Object(ce.jsx)(Ir,{component:"th",scope:"row",style:{paddingTop:".6rem",paddingBottom:".6rem",position:"sticky",left:0,backgroundColor:"white",minWidth:"300px"},children:Object(ce.jsx)("strong",{style:{paddingLeft:"1rem"},children:t.heading})}),Array.from(Array(a).keys()).map((function(e,a){return Object(ce.jsx)(Ir,{align:"center",children:isNaN(Number(t["inv"+Number(a+1)]))?"-":-111===Number(t["inv"+Number(a+1)])?"X":Number(t["inv"+Number(a+1)]).toFixed(2)})}))]})};function Lr(e){var t=e.values,a=e.block,c=wr(),r=Object(n.useState)([]),s=Object(u.a)(r,2),l=s[0],o=s[1],j=i.a.useState(!1),d=Object(u.a)(j,2),b=d[0],m=d[1],h=i.a.useState(!1),O=Object(u.a)(h,2),g=O[0],x=O[1],S=Object(n.useState)(1),p=Object(u.a)(S,2),f=p[0],v=p[1];Object(n.useEffect)((function(){v((function(){return a<=2?1:a>=3&&a<=22?2:a>=23&&a<=26?36:a>=27&&a<=34?2:void 0}))}),[a]);var C=function(e){var t=e.title,a=e.tag,n=e.openRows;return Object(ce.jsx)(kr,{children:Object(ce.jsxs)(Ir,{component:"th",scope:"row",colSpan:37,style:{backgroundColor:"#EBF5FB"},children:[Object(ce.jsx)("strong",{style:{paddingLeft:"1rem",paddingRight:".5rem",color:"#000"},children:t}),Object(ce.jsx)(y.a,{"aria-label":"expand row",size:"small",onClick:function(){return function(e){"S"===e?m((function(e){return!e})):x((function(e){return!e}))}(a)},style:{color:"#000"},children:n?Object(ce.jsx)(Ie.a,{}):Object(ce.jsx)(ye.a,{})})]})})};return Object(n.useEffect)((function(){for(var e=[],a=[],n=[],i=null,c=null,r=0;r<t.length;r++)t[r].heading.match(/S[1-4] [^/]/i)?(i||(i=r,n.push(Object(ce.jsx)(C,{title:"Inverter Slots",tag:"S",openRows:b},r))),r,e.push(Object(ce.jsx)(Nr,{value:t[r],inverters:f},t[r].heading))):t[r].heading.match(/[S]3[0-4]|2[0-9]|1[0-9]|[1-9] [/] S[1-4]CB/i)?(c||(c=r,n.push(Object(ce.jsx)(C,{title:"Inverter Strings",tag:"PV",openRows:g},r))),r,a.push(Object(ce.jsx)(Nr,{value:t[r],inverters:f},t[r].heading))):n.push(Object(ce.jsx)(Br,{value:t[r],inverters:f},r));var s,l=[].concat(n);if(b&&g)(s=l).splice.apply(s,[i+1,0].concat(e)),l=[].concat(Object(me.a)(l),[a]);else if(b&&!g){var j;(j=l).splice.apply(j,[i+1,0].concat(e))}else l=!b&&g?[].concat(Object(me.a)(l),[a]):[].concat(n);o(l)}),[t,b,g]),Object(ce.jsx)(pe.a,{component:he.a,elevation:6,className:c.tableContainer,children:Object(ce.jsxs)(ge.a,{stickyHeader:!0,"aria-label":"customized table",size:"small",children:[Object(ce.jsx)(fe.a,{children:Object(ce.jsxs)(ve.a,{children:[Object(ce.jsx)(Ir,{style:{paddingTop:".7rem",paddingLeft:"1.75rem",paddingBottom:".7rem",zIndex:101},children:Object(ce.jsx)("strong",{children:"Parameters"})}),Array.from(Array(f).keys()).map((function(e,t){return Object(ce.jsx)(Ir,{align:"center",style:{minWidth:"100px"},children:Object(ce.jsxs)("strong",{children:["Inv ",t+1]})})}))]})}),Object(ce.jsx)(xe.a,{children:l})]})})}function Dr(e){var t=e.firstTitle,a=e.secondTitle,n=e.firstValue,i=e.secondValue,c=e.imagePath,r=e.imageHeight;return Object(ce.jsx)(S.a,{elevation:4,style:{height:"80px"},children:Object(ce.jsxs)(C.a,{container:!0,alignItems:"center",style:{padding:"1rem 2rem 1rem 1rem"},children:[Object(ce.jsx)("img",{src:c,alt:c,style:{height:r,marginRight:"1rem"}}),Object(ce.jsxs)(C.a,{item:!0,children:[Object(ce.jsxs)(C.a,{container:!0,children:[Object(ce.jsx)(C.a,{item:!0,xs:5,children:Object(ce.jsx)(V.a,{children:t})}),Object(ce.jsx)(C.a,{item:!0,xs:2}),Object(ce.jsx)(C.a,{item:!0,xs:5,style:{paddingLeft:".25rem"},children:Object(ce.jsx)(V.a,{children:a})})]}),Object(ce.jsxs)(C.a,{container:!0,children:[Object(ce.jsx)(C.a,{item:!0,xs:5,children:Object(ce.jsx)(V.a,{color:"primary",children:n})}),Object(ce.jsx)(C.a,{item:!0,xs:2}),Object(ce.jsx)(C.a,{item:!0,xs:5,style:{paddingLeft:".25rem"},children:Object(ce.jsx)(V.a,{color:"primary",children:i})})]})]})]})})}function Pr(e){var t=e.firstTitle,a=e.secondTitle,n=e.firstValue,i=e.ghi2,c=e.gti2,r=e.secondValue,s=e.imagePath,l=e.imageHeight;return Object(ce.jsx)(S.a,{elevation:4,style:{height:"80px"},children:Object(ce.jsxs)(C.a,{container:!0,alignItems:"center",style:{padding:".5rem 2rem 0rem 1rem"},children:[Object(ce.jsx)("img",{src:s,alt:s,style:{height:l,marginRight:"1rem"}}),Object(ce.jsxs)(C.a,{item:!0,children:[Object(ce.jsxs)(C.a,{container:!0,children:[Object(ce.jsx)(C.a,{item:!0,xs:5,children:Object(ce.jsx)(V.a,{children:t})}),Object(ce.jsx)(C.a,{item:!0,xs:2}),Object(ce.jsx)(C.a,{item:!0,xs:5,style:{paddingLeft:".25rem"},children:Object(ce.jsx)(V.a,{children:a})})]}),Object(ce.jsxs)(C.a,{container:!0,children:[Object(ce.jsx)(C.a,{item:!0,xs:5,children:Object(ce.jsx)(V.a,{color:"primary",variant:"body2",children:n})}),Object(ce.jsx)(C.a,{item:!0,xs:2}),Object(ce.jsx)(C.a,{item:!0,xs:5,style:{paddingLeft:".25rem"},children:Object(ce.jsx)(V.a,{color:"primary",variant:"body2",children:r})})]}),Object(ce.jsxs)(C.a,{container:!0,children:[Object(ce.jsx)(C.a,{item:!0,xs:5,children:Object(ce.jsx)(V.a,{color:"primary",variant:"body2",children:i})}),Object(ce.jsx)(C.a,{item:!0,xs:2}),Object(ce.jsx)(C.a,{item:!0,xs:5,style:{paddingLeft:".25rem"},children:Object(ce.jsx)(V.a,{color:"primary",variant:"body2",children:c})})]})]})]})})}var Fr=Object(D.a)((function(e){return{}}));function Vr(e){var t=e.day_generation,a=void 0===t?0:t,n=e.revenue,c=void 0===n?0:n,r=e.peak_power,s=void 0===r?0:r,l=e.ghi,o=void 0===l?0:l,j=e.gti,d=void 0===j?0:j,b=e.ghi2,u=void 0===b?0:b,m=e.gti2,h=void 0===m?0:m,O=e.plant_pr,g=void 0===O?0:O,x=e.grid_availability,S=void 0===x?0:x,p=e.plant_availability,f=void 0===p?0:p;Fr();return Object(ce.jsx)(i.a.Fragment,{children:Object(ce.jsxs)(C.a,{container:!0,justify:"space-between",children:[Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(Pe,{imagePath:"/static/images/powerGeneration.png",imageHeight:48,title:"Generation",value:-111===Number(a)?"x":Object(ce.jsxs)("span",{children:[Number(a).toFixed(2),"\xa0",Object(ce.jsx)("small",{children:"MWH"})]})})}),Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(Pe,{imagePath:"/static/images/revenue.png",imageHeight:42,title:"Revenue",value:Object(ce.jsx)("span",{children:function(e){if(isNaN(e))return"x";var t=Number(e).toFixed(0);if(t<0)return"0";var a=t,n=a.substring(a.length-3),i=a.substring(0,a.length-3);return""!==i&&(n=","+n),i.replace(/\B(?=(\d{2})+(?!\d))/g,",")+n}(c)})})}),Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(Pe,{imagePath:"/static/images/peakPower.png",imageHeight:45,title:"Peak Power",value:-111===Number(s)||isNaN(Number(s))?"x":Object(ce.jsxs)("span",{children:[Number(s).toFixed(2),"\xa0",Object(ce.jsx)("small",{children:"MW"})]})})}),Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(Pr,{imagePath:"/static/images/ray.png",imageHeight:50,firstTitle:"GHI",secondTitle:"GTI",firstValue:-111===Number(o)?"x":Number(o).toFixed(2),secondValue:-111===Number(d)?"x":Number(d).toFixed(2),ghi2:-111===Number(u)?"x":Number(u).toFixed(2),gti2:-111===Number(h)?"x":Number(h).toFixed(2)})}),Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(Pe,{imagePath:"/static/images/plantPR.png",imageHeight:45,title:"Plant PR",value:-111===Number(g)?"x":Object(ce.jsxs)("span",{children:[Number(g).toFixed(0),"%"]})})}),Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(Dr,{imagePath:"/static/images/gridAvailability.png",imageHeight:50,firstTitle:"GA",secondTitle:"PA",firstValue:Object(ce.jsxs)("span",{children:[-111===Number(S)?"x":Number(S).toFixed(1).replace(/[.,]00$/,""),-111!==Number(S)&&"%"]}),secondValue:Object(ce.jsxs)("span",{children:[-111===Number(f)?"x":Number(f).toFixed(1).replace(/[.,]00$/,""),-111!==Number(f)&&"%"]})})})]})})}function Ar(e){var t=e.totalExport,a=e.maxValue,i=Object(n.useState)(0),c=Object(u.a)(i,2),r=c[0],s=c[1];return Object(n.useEffect)((function(){var e=Number(t)&&-111!==Number(t)?Number(t):0;e!==t&&s(e)}),[t]),Object(ce.jsxs)(S.a,{elevation:6,style:{height:255,width:320},children:[Object(ce.jsx)(V.a,{style:{marginLeft:"1rem",marginTop:".5rem"},variant:"h6",children:"Power Generation"}),Object(ce.jsx)(C.a,{container:!0,justify:"center",children:Object(ce.jsx)(C.a,{item:!0,style:{height:"parent"},children:Object(ce.jsx)(He.a,{data:{columns:[["Current Export",r]],type:"gauge"},gauge:{label:{format:function(e){return e+" MW"},show:!0},min:0,max:a,width:45},color:{pattern:["#4caf50"]},size:{height:200}})})})]})}function Er(e){var t=e.size,a=e.rotate;return Object(n.useEffect)((function(){var e=document.getElementById("needle"),t=Number(a)&&-111!==Number(a)?Number(a):0;e.style.transformOrigin="center",e.style.transform="rotate(".concat(t,"deg)")}),[a]),Object(ce.jsxs)("svg",{width:String(t),height:String(t),viewBox:"0 0 316 316",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[Object(ce.jsxs)("g",{id:"body",children:[Object(ce.jsx)("circle",{id:"Ellipse",cx:"158",cy:"158",r:"154",fill:"white",stroke:"#616161",strokeWidth:"8"}),Object(ce.jsx)("path",{id:"N",d:"M164.094 53H161.832L153.242 39.8516V53H150.98V35.9375H153.242L161.855 49.1445V35.9375H164.094V53Z",fill:"black"}),Object(ce.jsx)("path",{id:"NW",d:"M65.8047 80H64.4854L59.4746 72.3301V80H58.1553V70.0469H59.4746L64.499 77.751V70.0469H65.8047V80ZM70.2822 76.8623L70.4736 78.1748L70.7539 76.9922L72.7227 70.0469H73.8301L75.751 76.9922L76.0244 78.1953L76.2363 76.8555L77.7812 70.0469H79.1006L76.6875 80H75.4912L73.4404 72.7471L73.2832 71.9883L73.126 72.7471L71 80H69.8037L67.3975 70.0469H68.71L70.2822 76.8623Z",fill:"black"}),Object(ce.jsx)("path",{id:"SW",d:"M61.0879 241.563C59.9622 241.24 59.1419 240.843 58.627 240.374C58.1165 239.9 57.8613 239.317 57.8613 238.624C57.8613 237.84 58.1735 237.193 58.7979 236.683C59.4268 236.168 60.2425 235.91 61.2451 235.91C61.9287 235.91 62.5371 236.042 63.0703 236.307C63.6081 236.571 64.0228 236.936 64.3145 237.4C64.6107 237.865 64.7588 238.373 64.7588 238.925H63.4395C63.4395 238.323 63.248 237.852 62.8652 237.51C62.4824 237.163 61.9424 236.99 61.2451 236.99C60.598 236.99 60.0921 237.134 59.7275 237.421C59.3675 237.703 59.1875 238.098 59.1875 238.604C59.1875 239.009 59.3584 239.353 59.7002 239.636C60.0465 239.914 60.6322 240.169 61.457 240.401C62.2865 240.634 62.9336 240.891 63.3984 241.174C63.8678 241.452 64.2142 241.778 64.4375 242.151C64.6654 242.525 64.7793 242.965 64.7793 243.471C64.7793 244.277 64.4648 244.924 63.8359 245.412C63.207 245.895 62.3662 246.137 61.3135 246.137C60.6299 246.137 59.9919 246.007 59.3994 245.747C58.807 245.483 58.349 245.123 58.0254 244.667C57.7064 244.211 57.5469 243.694 57.5469 243.115H58.8662C58.8662 243.717 59.0872 244.193 59.5293 244.544C59.9759 244.89 60.5706 245.063 61.3135 245.063C62.0062 245.063 62.5371 244.922 62.9062 244.64C63.2754 244.357 63.46 243.972 63.46 243.484C63.46 242.997 63.2891 242.621 62.9473 242.356C62.6055 242.088 61.9857 241.823 61.0879 241.563ZM68.6143 242.862L68.8057 244.175L69.0859 242.992L71.0547 236.047H72.1621L74.083 242.992L74.3564 244.195L74.5684 242.855L76.1133 236.047H77.4326L75.0195 246H73.8232L71.7725 238.747L71.6152 237.988L71.458 238.747L69.332 246H68.1357L65.7295 236.047H67.042L68.6143 242.862Z",fill:"black"}),Object(ce.jsx)("path",{id:"SE",d:"M246.088 241.563C244.962 241.24 244.142 240.843 243.627 240.374C243.117 239.9 242.861 239.317 242.861 238.624C242.861 237.84 243.174 237.193 243.798 236.683C244.427 236.168 245.243 235.91 246.245 235.91C246.929 235.91 247.537 236.042 248.07 236.307C248.608 236.571 249.023 236.936 249.314 237.4C249.611 237.865 249.759 238.373 249.759 238.925H248.439C248.439 238.323 248.248 237.852 247.865 237.51C247.482 237.163 246.942 236.99 246.245 236.99C245.598 236.99 245.092 237.134 244.728 237.421C244.368 237.703 244.188 238.098 244.188 238.604C244.188 239.009 244.358 239.353 244.7 239.636C245.047 239.914 245.632 240.169 246.457 240.401C247.286 240.634 247.934 240.891 248.398 241.174C248.868 241.452 249.214 241.778 249.438 242.151C249.665 242.525 249.779 242.965 249.779 243.471C249.779 244.277 249.465 244.924 248.836 245.412C248.207 245.895 247.366 246.137 246.313 246.137C245.63 246.137 244.992 246.007 244.399 245.747C243.807 245.483 243.349 245.123 243.025 244.667C242.706 244.211 242.547 243.694 242.547 243.115H243.866C243.866 243.717 244.087 244.193 244.529 244.544C244.976 244.89 245.571 245.063 246.313 245.063C247.006 245.063 247.537 244.922 247.906 244.64C248.275 244.357 248.46 243.972 248.46 243.484C248.46 242.997 248.289 242.621 247.947 242.356C247.605 242.088 246.986 241.823 246.088 241.563ZM257.094 241.399H252.78V244.927H257.791V246H251.468V236.047H257.723V237.127H252.78V240.326H257.094V241.399Z",fill:"black"}),Object(ce.jsx)("path",{id:"NE",d:"M249.805 80H248.485L243.475 72.3301V80H242.155V70.0469H243.475L248.499 77.751V70.0469H249.805V80ZM257.762 75.3994H253.448V78.9268H258.459V80H252.136V70.0469H258.391V71.127H253.448V74.3262H257.762V75.3994Z",fill:"black"}),Object(ce.jsx)("path",{id:"W",d:"M34.6602 160.621L34.9883 162.871L35.4688 160.844L38.8438 148.938H40.7422L44.0352 160.844L44.5039 162.906L44.8672 160.609L47.5156 148.938H49.7773L45.6406 166H43.5898L40.0742 153.566L39.8047 152.266L39.5352 153.566L35.8906 166H33.8398L29.7148 148.938H31.9648L34.6602 160.621Z",fill:"black"}),Object(ce.jsx)("path",{id:"E",d:"M285.625 158.113H278.23V164.16H286.82V166H275.98V148.938H286.703V150.789H278.23V156.273H285.625V158.113Z",fill:"black"}),Object(ce.jsx)("path",{id:"S",d:"M157.008 271.395C155.078 270.84 153.672 270.16 152.789 269.355C151.914 268.543 151.477 267.543 151.477 266.355C151.477 265.012 152.012 263.902 153.082 263.027C154.16 262.145 155.559 261.703 157.277 261.703C158.449 261.703 159.492 261.93 160.406 262.383C161.328 262.836 162.039 263.461 162.539 264.258C163.047 265.055 163.301 265.926 163.301 266.871H161.039C161.039 265.84 160.711 265.031 160.055 264.445C159.398 263.852 158.473 263.555 157.277 263.555C156.168 263.555 155.301 263.801 154.676 264.293C154.059 264.777 153.75 265.453 153.75 266.32C153.75 267.016 154.043 267.605 154.629 268.09C155.223 268.566 156.227 269.004 157.641 269.402C159.062 269.801 160.172 270.242 160.969 270.727C161.773 271.203 162.367 271.762 162.75 272.402C163.141 273.043 163.336 273.797 163.336 274.664C163.336 276.047 162.797 277.156 161.719 277.992C160.641 278.82 159.199 279.234 157.395 279.234C156.223 279.234 155.129 279.012 154.113 278.566C153.098 278.113 152.312 277.496 151.758 276.715C151.211 275.934 150.938 275.047 150.938 274.055H153.199C153.199 275.086 153.578 275.902 154.336 276.504C155.102 277.098 156.121 277.395 157.395 277.395C158.582 277.395 159.492 277.152 160.125 276.668C160.758 276.184 161.074 275.523 161.074 274.688C161.074 273.852 160.781 273.207 160.195 272.754C159.609 272.293 158.547 271.84 157.008 271.395Z",fill:"black"}),Object(ce.jsx)("line",{id:"Line 1",x1:"159",y1:"8",x2:"159",y2:"23",stroke:"#616161",strokeWidth:"4"}),Object(ce.jsx)("line",{id:"Line 3",x1:"23",y1:"160",x2:"8",y2:"160",stroke:"#616161",strokeWidth:"4"}),Object(ce.jsx)("line",{id:"Line 5",x1:"57.8995",y1:"65.3137",x2:"47.2929",y2:"54.7071",stroke:"#616161",strokeWidth:"4"}),Object(ce.jsx)("line",{id:"Line 7",x1:"47.2929",y1:"261.899",x2:"57.8995",y2:"251.293",stroke:"#616161",strokeWidth:"4"}),Object(ce.jsx)("line",{id:"Line 8",x1:"258.293",y1:"63.8995",x2:"268.9",y2:"53.2929",stroke:"#616161",strokeWidth:"4"}),Object(ce.jsx)("line",{id:"Line 6",x1:"269.899",y1:"260.314",x2:"259.293",y2:"249.707",stroke:"#616161",strokeWidth:"4"}),Object(ce.jsx)("line",{id:"Line 4",x1:"308",y1:"157",x2:"293",y2:"157",stroke:"#616161",strokeWidth:"4"}),Object(ce.jsx)("line",{id:"Line 2",x1:"159",y1:"293",x2:"159",y2:"308",stroke:"#616161",strokeWidth:"4"})]}),Object(ce.jsxs)("g",{id:"needle",children:[Object(ce.jsx)("path",{id:"Polygon 1",d:"M158 68L168 158H157H148L158 68Z",fill:"#4caf50"}),Object(ce.jsx)("path",{id:"Polygon 2",d:"M158 248L148 158H159H168L158 248Z",fill:"#bdbdbd"})]})]})}Er.defaultProps={size:"300",rotate:0};var Hr=Er;function _r(e){var t=e.windDirection,a=e.windSpeed,n=e.rain;return Object(ce.jsxs)(S.a,{elevation:6,style:{padding:".5rem 1rem",height:255,display:"flex",flexDirection:"column",justifyContent:"space-between"},children:[Object(ce.jsxs)(V.a,{align:"center",children:["Wind ",Object(ce.jsx)("span",{style:{color:"#4caf50"},children:"Direction"})," & ",Object(ce.jsx)("span",{style:{color:"#2196f3"},children:"Speed"})]}),Object(ce.jsx)("div",{style:{textAlign:"center",padding:".5rem"},children:Object(ce.jsx)(Hr,{size:!0===Number.isNaN(n)?140:120,rotate:t})}),Object(ce.jsxs)("div",{children:[Object(ce.jsxs)(V.a,{align:"center",children:[Object(ce.jsx)("span",{style:{color:"#4caf50"},children:-111===Number(t)?"x":Object(ce.jsxs)("span",{children:[t," \xb0"]})}),Object(ce.jsx)("span",{style:{marginLeft:"1rem",color:"#2196f3"},children:-111===Number(a)?"x":Object(ce.jsxs)("span",{children:[a," m/s"]})})]}),!Number.isNaN(n)&&Object(ce.jsxs)(V.a,{color:"textSecondary",align:"center",style:{marginTop:".25rem",marginBottom:".25rem"},children:["Rain: ",-111===Number(n)?"x":Object(ce.jsxs)("span",{children:[n," mm"]})]})]})]})}function zr(e){var t=e.size,a=e.rotate;return Object(n.useEffect)((function(){var e=document.getElementById("needle2"),t=Number(a)&&-111!==Number(a)?Number(a):0;e.style.transformOrigin="center",e.style.transform="rotate(".concat(t,"deg)")}),[a]),Object(ce.jsxs)("svg",{width:String(t),height:String(t),viewBox:"0 0 316 316",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[Object(ce.jsxs)("g",{id:"body",children:[Object(ce.jsx)("circle",{id:"Ellipse",cx:"158",cy:"158",r:"154",fill:"white",stroke:"#616161",strokeWidth:"8"}),Object(ce.jsx)("path",{id:"N",d:"M164.094 53H161.832L153.242 39.8516V53H150.98V35.9375H153.242L161.855 49.1445V35.9375H164.094V53Z",fill:"black"}),Object(ce.jsx)("path",{id:"NW",d:"M65.8047 80H64.4854L59.4746 72.3301V80H58.1553V70.0469H59.4746L64.499 77.751V70.0469H65.8047V80ZM70.2822 76.8623L70.4736 78.1748L70.7539 76.9922L72.7227 70.0469H73.8301L75.751 76.9922L76.0244 78.1953L76.2363 76.8555L77.7812 70.0469H79.1006L76.6875 80H75.4912L73.4404 72.7471L73.2832 71.9883L73.126 72.7471L71 80H69.8037L67.3975 70.0469H68.71L70.2822 76.8623Z",fill:"black"}),Object(ce.jsx)("path",{id:"SW",d:"M61.0879 241.563C59.9622 241.24 59.1419 240.843 58.627 240.374C58.1165 239.9 57.8613 239.317 57.8613 238.624C57.8613 237.84 58.1735 237.193 58.7979 236.683C59.4268 236.168 60.2425 235.91 61.2451 235.91C61.9287 235.91 62.5371 236.042 63.0703 236.307C63.6081 236.571 64.0228 236.936 64.3145 237.4C64.6107 237.865 64.7588 238.373 64.7588 238.925H63.4395C63.4395 238.323 63.248 237.852 62.8652 237.51C62.4824 237.163 61.9424 236.99 61.2451 236.99C60.598 236.99 60.0921 237.134 59.7275 237.421C59.3675 237.703 59.1875 238.098 59.1875 238.604C59.1875 239.009 59.3584 239.353 59.7002 239.636C60.0465 239.914 60.6322 240.169 61.457 240.401C62.2865 240.634 62.9336 240.891 63.3984 241.174C63.8678 241.452 64.2142 241.778 64.4375 242.151C64.6654 242.525 64.7793 242.965 64.7793 243.471C64.7793 244.277 64.4648 244.924 63.8359 245.412C63.207 245.895 62.3662 246.137 61.3135 246.137C60.6299 246.137 59.9919 246.007 59.3994 245.747C58.807 245.483 58.349 245.123 58.0254 244.667C57.7064 244.211 57.5469 243.694 57.5469 243.115H58.8662C58.8662 243.717 59.0872 244.193 59.5293 244.544C59.9759 244.89 60.5706 245.063 61.3135 245.063C62.0062 245.063 62.5371 244.922 62.9062 244.64C63.2754 244.357 63.46 243.972 63.46 243.484C63.46 242.997 63.2891 242.621 62.9473 242.356C62.6055 242.088 61.9857 241.823 61.0879 241.563ZM68.6143 242.862L68.8057 244.175L69.0859 242.992L71.0547 236.047H72.1621L74.083 242.992L74.3564 244.195L74.5684 242.855L76.1133 236.047H77.4326L75.0195 246H73.8232L71.7725 238.747L71.6152 237.988L71.458 238.747L69.332 246H68.1357L65.7295 236.047H67.042L68.6143 242.862Z",fill:"black"}),Object(ce.jsx)("path",{id:"SE",d:"M246.088 241.563C244.962 241.24 244.142 240.843 243.627 240.374C243.117 239.9 242.861 239.317 242.861 238.624C242.861 237.84 243.174 237.193 243.798 236.683C244.427 236.168 245.243 235.91 246.245 235.91C246.929 235.91 247.537 236.042 248.07 236.307C248.608 236.571 249.023 236.936 249.314 237.4C249.611 237.865 249.759 238.373 249.759 238.925H248.439C248.439 238.323 248.248 237.852 247.865 237.51C247.482 237.163 246.942 236.99 246.245 236.99C245.598 236.99 245.092 237.134 244.728 237.421C244.368 237.703 244.188 238.098 244.188 238.604C244.188 239.009 244.358 239.353 244.7 239.636C245.047 239.914 245.632 240.169 246.457 240.401C247.286 240.634 247.934 240.891 248.398 241.174C248.868 241.452 249.214 241.778 249.438 242.151C249.665 242.525 249.779 242.965 249.779 243.471C249.779 244.277 249.465 244.924 248.836 245.412C248.207 245.895 247.366 246.137 246.313 246.137C245.63 246.137 244.992 246.007 244.399 245.747C243.807 245.483 243.349 245.123 243.025 244.667C242.706 244.211 242.547 243.694 242.547 243.115H243.866C243.866 243.717 244.087 244.193 244.529 244.544C244.976 244.89 245.571 245.063 246.313 245.063C247.006 245.063 247.537 244.922 247.906 244.64C248.275 244.357 248.46 243.972 248.46 243.484C248.46 242.997 248.289 242.621 247.947 242.356C247.605 242.088 246.986 241.823 246.088 241.563ZM257.094 241.399H252.78V244.927H257.791V246H251.468V236.047H257.723V237.127H252.78V240.326H257.094V241.399Z",fill:"black"}),Object(ce.jsx)("path",{id:"NE",d:"M249.805 80H248.485L243.475 72.3301V80H242.155V70.0469H243.475L248.499 77.751V70.0469H249.805V80ZM257.762 75.3994H253.448V78.9268H258.459V80H252.136V70.0469H258.391V71.127H253.448V74.3262H257.762V75.3994Z",fill:"black"}),Object(ce.jsx)("path",{id:"W",d:"M34.6602 160.621L34.9883 162.871L35.4688 160.844L38.8438 148.938H40.7422L44.0352 160.844L44.5039 162.906L44.8672 160.609L47.5156 148.938H49.7773L45.6406 166H43.5898L40.0742 153.566L39.8047 152.266L39.5352 153.566L35.8906 166H33.8398L29.7148 148.938H31.9648L34.6602 160.621Z",fill:"black"}),Object(ce.jsx)("path",{id:"E",d:"M285.625 158.113H278.23V164.16H286.82V166H275.98V148.938H286.703V150.789H278.23V156.273H285.625V158.113Z",fill:"black"}),Object(ce.jsx)("path",{id:"S",d:"M157.008 271.395C155.078 270.84 153.672 270.16 152.789 269.355C151.914 268.543 151.477 267.543 151.477 266.355C151.477 265.012 152.012 263.902 153.082 263.027C154.16 262.145 155.559 261.703 157.277 261.703C158.449 261.703 159.492 261.93 160.406 262.383C161.328 262.836 162.039 263.461 162.539 264.258C163.047 265.055 163.301 265.926 163.301 266.871H161.039C161.039 265.84 160.711 265.031 160.055 264.445C159.398 263.852 158.473 263.555 157.277 263.555C156.168 263.555 155.301 263.801 154.676 264.293C154.059 264.777 153.75 265.453 153.75 266.32C153.75 267.016 154.043 267.605 154.629 268.09C155.223 268.566 156.227 269.004 157.641 269.402C159.062 269.801 160.172 270.242 160.969 270.727C161.773 271.203 162.367 271.762 162.75 272.402C163.141 273.043 163.336 273.797 163.336 274.664C163.336 276.047 162.797 277.156 161.719 277.992C160.641 278.82 159.199 279.234 157.395 279.234C156.223 279.234 155.129 279.012 154.113 278.566C153.098 278.113 152.312 277.496 151.758 276.715C151.211 275.934 150.938 275.047 150.938 274.055H153.199C153.199 275.086 153.578 275.902 154.336 276.504C155.102 277.098 156.121 277.395 157.395 277.395C158.582 277.395 159.492 277.152 160.125 276.668C160.758 276.184 161.074 275.523 161.074 274.688C161.074 273.852 160.781 273.207 160.195 272.754C159.609 272.293 158.547 271.84 157.008 271.395Z",fill:"black"}),Object(ce.jsx)("line",{id:"Line 1",x1:"159",y1:"8",x2:"159",y2:"23",stroke:"#616161",strokeWidth:"4"}),Object(ce.jsx)("line",{id:"Line 3",x1:"23",y1:"160",x2:"8",y2:"160",stroke:"#616161",strokeWidth:"4"}),Object(ce.jsx)("line",{id:"Line 5",x1:"57.8995",y1:"65.3137",x2:"47.2929",y2:"54.7071",stroke:"#616161",strokeWidth:"4"}),Object(ce.jsx)("line",{id:"Line 7",x1:"47.2929",y1:"261.899",x2:"57.8995",y2:"251.293",stroke:"#616161",strokeWidth:"4"}),Object(ce.jsx)("line",{id:"Line 8",x1:"258.293",y1:"63.8995",x2:"268.9",y2:"53.2929",stroke:"#616161",strokeWidth:"4"}),Object(ce.jsx)("line",{id:"Line 6",x1:"269.899",y1:"260.314",x2:"259.293",y2:"249.707",stroke:"#616161",strokeWidth:"4"}),Object(ce.jsx)("line",{id:"Line 4",x1:"308",y1:"157",x2:"293",y2:"157",stroke:"#616161",strokeWidth:"4"}),Object(ce.jsx)("line",{id:"Line 2",x1:"159",y1:"293",x2:"159",y2:"308",stroke:"#616161",strokeWidth:"4"})]}),Object(ce.jsxs)("g",{id:"needle2",children:[Object(ce.jsx)("path",{id:"Polygon 1",d:"M158 68L168 158H157H148L158 68Z",fill:"#4caf50"}),Object(ce.jsx)("path",{id:"Polygon 2",d:"M158 248L148 158H159H168L158 248Z",fill:"#bdbdbd"})]})]})}zr.defaultProps={size:"300",rotate:0};var Mr=zr;function Rr(e){var t=e.windDirection,a=e.windSpeed,n=e.rain;return Object(ce.jsxs)(S.a,{elevation:6,style:{padding:".5rem 1rem",height:255,display:"flex",flexDirection:"column",justifyContent:"space-between"},children:[Object(ce.jsxs)(V.a,{align:"center",children:["Wind ",Object(ce.jsx)("span",{style:{color:"#4caf50"},children:"Direction"})," & ",Object(ce.jsx)("span",{style:{color:"#2196f3"},children:"Speed"})]}),Object(ce.jsx)("div",{style:{textAlign:"center",padding:".5rem"},children:Object(ce.jsx)(Mr,{size:!0===Number.isNaN(n)?140:120,rotate:t})}),Object(ce.jsxs)("div",{children:[Object(ce.jsxs)(V.a,{align:"center",children:[Object(ce.jsx)("span",{style:{color:"#4caf50"},children:-111===Number(t)?"x":Object(ce.jsxs)("span",{children:[t," \xb0"]})}),Object(ce.jsx)("span",{style:{marginLeft:"1rem",color:"#2196f3"},children:-111===Number(a)?"x":Object(ce.jsxs)("span",{children:[a," m/s"]})})]}),!Number.isNaN(n)&&Object(ce.jsxs)(V.a,{color:"textSecondary",align:"center",style:{marginTop:".25rem",marginBottom:".25rem"},children:["Rain: ",-111===Number(n)?"x":Object(ce.jsxs)("span",{children:[n," mm"]})]})]})]})}function Gr(e){return Object(ce.jsx)($.a,Object(h.a)({elevation:6,variant:"filled"},e))}var Wr=Object(D.a)((function(e){return{grow:{flexGrow:1},gaugeChartStyle:{marginTop:e.spacing(12)},formControl:{minWidth:120},modalCardStyle:{width:340,height:"fit-content"},gridBreakpoint:Object(m.a)({},e.breakpoints.up("md"),{})}}));function Xr(e){var t=e.handleSessionExpire,a=e.handleClickOpen,c=e.sitestatusBar,r=Wr(),s=$e().intervalTime,l=(localStorage.getItem("username","Admin"),localStorage.getItem("userToken")),o=(localStorage.getItem("userId"),K),j=Object(n.useState)((new Date).getTime()),d=Object(u.a)(j,2),b=d[0],O=d[1],g=Object(n.useState)(0),x=Object(u.a)(g,2),p=x[0],f=x[1],y=Object(n.useState)(void 0),T=Object(u.a)(y,2),I=T[0],k=T[1],w=Object(n.useState)({}),N=Object(u.a)(w,2),L=N[0],D=N[1],P=Object(n.useState)(0),F=Object(u.a)(P,2),A=F[0],E=F[1],H=Object(n.useState)(0),_=Object(u.a)(H,2),z=(_[0],_[1]),M=Object(n.useState)(0),R=Object(u.a)(M,2),G=R[0],W=R[1],Y=Object(n.useState)(0),q=Object(u.a)(Y,2),U=q[0],$=q[1],Q=Object(n.useState)(0),ee=Object(u.a)(Q,2),te=ee[0],ae=ee[1],ne=Object(n.useState)(0),ie=Object(u.a)(ne,2),re=ie[0],se=ie[1],le=Object(n.useState)(0),oe=Object(u.a)(le,2),je=oe[0],de=oe[1],be=Object(n.useState)(0),ue=Object(u.a)(be,2),me=ue[0],he=ue[1],Oe=Object(n.useState)(0),ge=Object(u.a)(Oe,2),xe=ge[0],Se=ge[1],pe=Object(n.useState)(0),fe=Object(u.a)(pe,2),ve=fe[0],Ce=fe[1],ye=Object(n.useState)(0),Te=Object(u.a)(ye,2),Ie=Te[0],ke=Te[1],we=Object(n.useState)(0),Ne=Object(u.a)(we,2),Be=Ne[0],Le=Ne[1],De=Object(n.useState)(0),Pe=Object(u.a)(De,2),Fe=Pe[0],Ve=Pe[1],Ae=Object(n.useState)(0),Ee=Object(u.a)(Ae,2),He=Ee[0],_e=Ee[1],ze=Object(n.useState)([{time:"00:00",gti:"0.00",gti2:"0,00",ghi:"0.00",ghi2:"0.00",pg:"0.00"}]),Me=Object(u.a)(ze,2),Re=Me[0],Ge=Me[1],We=i.a.useState(1),Xe=Object(u.a)(We,2),Ye=Xe[0],qe=Xe[1],Ue=Object(n.useState)([]),Ke=Object(u.a)(Ue,2),Ze=Ke[0],Je=Ke[1],Qe=Object(n.useState)(0),et=Object(u.a)(Qe,2),tt=et[0],at=et[1];Object(n.useEffect)((function(){0!==tt&&Tt(b)}),[tt]);var nt=function(){return 0!==tt?"1":"0"},it=function(){return tt>0?"1":"0"},ct=null,st=Object(n.useState)(!1),lt=Object(u.a)(st,2),ot=lt[0],jt=lt[1],dt=Object(n.useState)(new Date),bt=Object(u.a)(dt,2),ut=bt[0],mt=bt[1],ht=Object(n.useState)(!1),Ot=Object(u.a)(ht,2),gt=Ot[0],xt=Ot[1],St=Object(n.useState)(!0),pt=Object(u.a)(St,2),ft=pt[0],vt=pt[1],Ct=function(){jt(!1)};Object(n.useEffect)((function(){O(ut.getTime())}),[ut]);var yt=function(e,t,a,n){X.a.get(o+"/chittorgarh/grid/B"+String(e).padStart(2,0),{headers:{jwtToken:l,startTime:new Date(16322256e5).getTime(),endTime:a,beginTime:n,enablePacket:nt(),clientPacketTime:I,isNext:it()}}).then((function(t){!function(e,t){var a=[],n=Object.entries(e),i=["L1 I","L2 I","L3 I","L1 V","L2 V","L3 V","Frequency","DC I","DC V","Active Power","DC Power","Reactive Power","PF","Cab Temp","IGBT Temp","DC Energy","S1 L1 I","S1 L2 I","S1 L3 I","S1 L1 V","S1 L2 V","S1 L3 V","S1 DC I","S1 DC V","S1 Active Power","S1 DC Power","S1 PF","S1 IGBT Temp","S1 CAB Temp","S2 L1 I","S2 L2 I","S2 L3 I","S2 L1 V","S2 L2 V","S2 L3 V","S2 DC I","S2 DC V","S2 Active Power","S2 DC Power","S2 PF","S2 IGBT Temp","S2 CAB Temp","S3 L1 I","S3 L2 I","S3 L3 I","S3 L1 V","S3 L2 V","S3 L3 V","S3 DC I","S3 DC V","S3 Active Power","S3 DC Power","S3 PF","S3 IGBT Temp","S3 CAB Temp","S4 L1 I","S4 L2 I","S4 L3 I","S4 L1 V","S4 L2 V","S4 L3 V","S4 DC I","S4 DC V","S4 Active Power","S4 DC Power","S4 PF","S4 IGBT Temp","S4 CAB Temp","S1 + S2 Peak Active Power","S3 + S4 Peak Active Power","S1 / S1CB1 I","S2 / S1CB2 I","S3 / S1CB3 I","S4 / S1CB4 I","S5 / S1CB5 I","S6 / S1CB6 I","S7 / S1CB7 I","S8 / S1CB8 I","S9 / S2CB1 I","S10 / S2CB2 I","S11 / S2CB3 I","S12 / S2CB4 I","S13 / S2CB5 I","S14 / S2CB6 I","S15 / S2CB7 I","S16 / S2CB8 I","S17 / S3CB1 I","S18 / S3CB2 I","S19 / S3CB3 I","S20 / S3CB4 I","S21 / S3CB5 I","S22 / S3CB6 I","S23 / S3CB7 I","S24 / S3CB8 I","S25 / S4CB1 I","S26 / S4CB2 I","S27 / S4CB3 I","S28 / S4CB4 I","S29 / S4CB5 I","S30 / S4CB6 I","S31 / S4CB7 I","S32 / S4CB8 I"];23!==t&&24!==t&&25!==t&&26!==t||i.push.apply(i,["S1 / S1CB1 V","S2 / S1CB2 V","S3 / S1CB3 V","S4 / S1CB4 V","S5 / S1CB5 V","S6 / S1CB6 V","S7 / S1CB7 V","S8 / S1CB8 V","S9 / S2CB1 V","S10 / S2CB2 V","S11 / S2CB3 V","S12 / S2CB4 V","S13 / S2CB5 V","S14 / S2CB6 V","S15 / S2CB7 V","S16 / S2CB8 V","S17 / S3CB1 V","S18 / S3CB2 V","S19 / S3CB3 V","S20 / S3CB4 V","S21 / S3CB5 V","S22 / S3CB6 V","S23 / S3CB7 V","S24 / S3CB8 V","S25 / S4CB1 V","S26 / S4CB2 V","S27 / S4CB3 V","S28 / S4CB4 V","S29 / S4CB5 V","S30 / S4CB6 V","S31 / S4CB7 V","S32 / S4CB8 V"]);for(var c=function(e){var t=[];Array.from(Array(36).keys()).map((function(e,a){t.push(Object(m.a)({},"inv"+Number(a+1),NaN))}));try{n[e][1]&&(t[0].inv1=n[e][1]);for(var c=1;c<36;c++)n[i.length*c+e][1]&&(t[c]["inv"+Number(c+1)]=n[i.length*c+e][1])}catch(s){}var r={};t.forEach((function(e,t){r["inv"+Number(t+1)]=e["inv"+Number(t+1)]})),a.push(Object(h.a)({heading:i[e]},r))},r=0;r<i.length;r++)c(r);Je([].concat(a))}(t.data,e)})).catch((function(e){}))},Tt=function(e){var a=1623696973e3,n=e;n=ft?Date.now():e;var i=new Date(n);i.setHours(5,0,0,0);var c=i.getTime();!function(e,a,n){X.a.get(o+"/chittorgarh/site",{headers:{jwtToken:l,startTime:e,endTime:a,beginTime:n,enablePacket:nt(),clientPacketTime:I,isNext:it()}}).then((function(e){f(e.data.status),k(1e3*e.data.time)})).catch((function(e){var a;401===(null===e||void 0===e||null===(a=e.response)||void 0===a?void 0:a.status)&&t()}))}(a,n,c),function(e,t,a){X.a.get(o+"/chittorgarh/boxes",{headers:{jwtToken:l,startTime:e,endTime:t,beginTime:a,enablePacket:nt(),clientPacketTime:I,isNext:it()}}).then((function(e){console.log(e.data),D(e.data)})).catch((function(e){}))}(a,n,c),function(e,t,a){X.a.get(o+"/chittorgarh/gauge",{headers:{jwtToken:l,startTime:e,endTime:t,beginTime:a,enablePacket:nt(),clientPacketTime:I,isNext:it()}}).then((function(e){var t=e.data.value;E(Number(t).toFixed(2)),z(Number(t).toFixed(1)/50)})).catch((function(e){}))}(a,n,c),function(e,t,a){X.a.get(o+"/chittorgarh/temperature",{headers:{jwtToken:l,startTime:e,endTime:t,beginTime:a,enablePacket:nt(),clientPacketTime:I,isNext:it()}}).then((function(e){var t=e.data.ambientTemp,a=e.data.moduleTemp,n=e.data.humidity,i=e.data.ambientTemp2,c=e.data.moduleTemp2,r=e.data.humidity2;W(Number(t).toFixed(1)),$(Number(a).toFixed(1)),ae(Number(n).toFixed(1)),se(Number(i).toFixed(1)),de(Number(c).toFixed(1)),he(Number(r).toFixed(1))})).catch((function(e){}))}(a,n,c),function(e,t,a){X.a.get(o+"/chittorgarh/wind",{headers:{jwtToken:l,startTime:e,endTime:t,beginTime:a,enablePacket:nt(),clientPacketTime:I,isNext:it()}}).then((function(e){var t=e.data.direction,a=e.data.speed,n=(e.data.rain,e.data.direction2),i=e.data.speed2,c=e.data.rain2;Se(Number(t).toFixed(0)),Ce(Number(a).toFixed(1)),ke(Number(e.data.rain).toFixed(1)),Le(Number(n).toFixed(0)),Ve(Number(i).toFixed(1)),_e(Number(c).toFixed(1))})).catch((function(e){}))}(a,n,c),function(e,t,a){X.a.get(o+"/chittorgarh/graph",{headers:{jwtToken:l,startTime:e,endTime:t,beginTime:a,enablePacket:nt(),clientPacketTime:I,isNext:it()}}).then((function(e){Ge(e.data)})).catch((function(e){}))}(a,n,c),yt(Ye,0,n,c)};Object(n.useEffect)((function(){(ct=document.getElementById("timeSliderLabel2"))&&(ct.innerText=(new Date).toLocaleString([],{hour:"2-digit",minute:"2-digit",hour12:!0}).toUpperCase()),Tt(b);var e=setInterval((function(){Tt(b)}),s);return function(){clearInterval(e)}}),[b]);var It=Object(n.useState)("space-between"),kt=Object(u.a)(It,2),wt=(kt[0],kt[1]);return Object(n.useLayoutEffect)((function(){window.matchMedia("(min-width: 1280px)").matches?wt("space-between"):wt("flex-start")}),[]),Object(ce.jsxs)(i.a.Fragment,{children:[Object(ce.jsx)(C.a,{container:!0,justifyContent:"space-between",alignItems:"center",children:Object(ce.jsx)(rt,{sitestatusBar:c,status:p,timestamp:I,handleClickOpen:a,handleTimeReset:function(){at(0);var e=new Date;mt(e),O(e.getTime()),jt(!0),vt(!0)},setIsNextCount:at,setOpenDateTimePicker:xt,getMinDateForPicker:function(){return new Date(16312752e5)},selectedDate:ut,getFormattedDateAndTimeString:function(e){var t=new Date(e);return Object(ce.jsxs)("span",{children:[String(t.getDate()).padStart(2,"0"),"/",String(t.getMonth()+1).padStart(2,"0"),"/",t.getFullYear(),Object(ce.jsx)("span",{children:"\u2003"}),t.toLocaleString([],{hour:"2-digit",minute:"2-digit",hour12:!0}).toUpperCase()]})},openDateTimePicker:gt,handleDateChange:function(e){try{vt(!1)}finally{mt(e),xt(!1)}}})}),Object(ce.jsx)("div",{style:{marginTop:"2rem"}}),Object(ce.jsx)(Vr,{day_generation:L.day_generation,revenue:1e3*L.day_generation*6.619,peak_power:L.peak_power,ghi:L.ghi,gti:L.gti,ghi2:L.ghi2,gti2:L.gti2,plant_pr:L.plant_pr,grid_availability:L.grid_availability,plant_availability:L.plant_availability}),Object(ce.jsxs)(C.a,{container:!0,justify:"space-between",style:{marginTop:"2rem"},children:[Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(Ar,{totalExport:A,maxValue:375})}),Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(yr,{ambientTemp:G,moduleTemp:U,humidity:te,ambientTemp2:re,moduleTemp2:je,humidity2:me})}),Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(_r,{windDirection:xe,windSpeed:ve,rain:Ie})}),Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(Rr,{windDirection:Be,windSpeed:Fe,rain:He})})]}),Object(ce.jsxs)(S.a,{elevation:6,style:{marginTop:"2.5rem",height:"500px",width:"100%"},children:[Object(ce.jsx)(V.a,{variant:"h6",color:"textSecondary",style:{marginLeft:"1.5rem",marginTop:"1rem",marginBottom:"1.5rem"},children:"Irradiance / Generation"}),Object(ce.jsx)(Tr,{data:Re,interval:12,leftAxisY:[0,1500],rightAxisY:[0,300]})]}),Object(ce.jsx)(C.a,{container:!0,style:{marginTop:"3rem"},children:Object(ce.jsxs)(C.a,{item:!0,xs:12,children:[Object(ce.jsxs)(C.a,{container:!0,spacing:2,alignItems:"center",style:{marginBottom:".5rem"},children:[Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(V.a,{variant:"h6",color:"textSecondary",children:"Inverter Values"})}),Object(ce.jsx)(C.a,{item:!0,className:r.grow}),Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsxs)(V.a,{style:{marginLeft:".25rem"},children:["Selected Block:"," "]})}),Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(v.a,{className:r.formControl,children:Object(ce.jsx)(Z.a,{value:Ye,onChange:function(e){qe(e.target.value);var t=new Date;t.setDate((new Date).getDate()-1),t.setHours(23,50,0,0);var a=new Date(b);a.setHours(5,0,0,0);var n=a.getTime();yt(e.target.value,t.getTime(),b,n)},children:Array.from(Array(34).keys()).map((function(e,t){return Object(ce.jsxs)(B.a,{value:t+1,children:["B",String(t+1).padStart(2,0)]})}))})})})]}),Object(ce.jsx)(Lr,{values:Ze,block:Ye})]})}),Object(ce.jsx)(J.a,{open:ot,anchorOrigin:{vertical:"bottom",horizontal:"left"},autoHideDuration:4e3,onClose:Ct,children:Object(ce.jsx)(Gr,{onClose:Ct,severity:"success",children:"Time is reset!"})}),Object(ce.jsx)("div",{style:{marginBottom:"2rem"}})]})}var Yr=Object(Oe.a)((function(e){return{head:{backgroundColor:"#ffffbf",color:e.palette.common.black,fontSize:16},body:{fontSize:16}}}))(Se.a),qr=Object(Oe.a)((function(e){return{root:{"&:nth-of-type(odd)":{backgroundColor:e.palette.action.hover}}}}))(ve.a),Ur=Object(D.a)({tableContainer:{maxHeight:"80vh"}}),Kr=function(e){var t=e.value,a=(e.block,null);return Object(ce.jsxs)(qr,{children:[Object(ce.jsx)(Yr,{component:"th",scope:"row",style:{paddingTop:".6rem",paddingBottom:".6rem",backgroundColor:a},children:Object(ce.jsx)("strong",{style:{paddingLeft:"2.5rem"},children:t.heading})}),Object(ce.jsx)(Yr,{align:"center",style:{backgroundColor:a},children:Object(ce.jsx)("span",{children:isNaN(Number(t.inv1))?"-":-111===Number(t.inv1)?"X":Number(t.inv1).toFixed(2)})}),Object(ce.jsx)(Yr,{align:"center",style:{backgroundColor:a},children:Object(ce.jsx)("span",{children:isNaN(Number(t.inv2))?"-":-111===Number(t.inv2)?"X":Number(t.inv2).toFixed(2)})}),Object(ce.jsx)(Yr,{align:"center",style:{backgroundColor:a},children:Object(ce.jsx)("span",{children:isNaN(Number(t.inv3))?"-":-111===Number(t.inv3)?"X":Number(t.inv3).toFixed(2)})}),Object(ce.jsx)(Yr,{align:"center",style:{backgroundColor:a},children:Object(ce.jsx)("span",{children:isNaN(Number(t.inv4))?"-":-111===Number(t.inv4)?"X":Number(t.inv4).toFixed(2)})})]})},Zr=function(e){var t=e.value;e.block;return Object(ce.jsxs)(qr,{children:[Object(ce.jsx)(Yr,{component:"th",scope:"row",style:{paddingTop:".6rem",paddingBottom:".6rem"},children:Object(ce.jsx)("strong",{style:{paddingLeft:"1rem"},children:t.heading})}),Object(ce.jsx)(Yr,{align:"center",children:isNaN(Number(t.inv1))?"-":-111===Number(t.inv1)?"X":Number(t.inv1).toFixed(2)}),Object(ce.jsx)(Yr,{align:"center",children:isNaN(Number(t.inv2))?"-":-111===Number(t.inv2)?"X":Number(t.inv2).toFixed(2)}),Object(ce.jsx)(Yr,{align:"center",children:isNaN(Number(t.inv3))?"-":-111===Number(t.inv3)?"X":Number(t.inv3).toFixed(2)}),Object(ce.jsx)(Yr,{align:"center",children:isNaN(Number(t.inv4))?"-":-111===Number(t.inv4)?"X":Number(t.inv4).toFixed(2)})]})};function Jr(e){var t=e.values,a=e.block,c=Ur(),r=Object(n.useState)([]),s=Object(u.a)(r,2),l=s[0],o=s[1],j=i.a.useState(!1),d=Object(u.a)(j,2),b=d[0],m=d[1],h=i.a.useState(!1),O=Object(u.a)(h,2),g=O[0],x=O[1],S=function(e){var t=e.title,a=e.tag,n=e.openRows;return Object(ce.jsx)(qr,{children:Object(ce.jsxs)(Yr,{component:"th",scope:"row",colSpan:6,style:{backgroundColor:"#EBF5FB"},children:[Object(ce.jsx)("strong",{style:{paddingLeft:"1rem",paddingRight:".5rem",color:"#000"},children:t}),Object(ce.jsx)(y.a,{"aria-label":"expand row",size:"small",onClick:function(){return function(e){"S"===e?m((function(e){return!e})):x((function(e){return!e}))}(a)},style:{color:"#000"},children:n?Object(ce.jsx)(Ie.a,{}):Object(ce.jsx)(ye.a,{})})]})})};return Object(n.useEffect)((function(){for(var e=[],n=[],i=[],c=null,r=null,s=0;s<t.length;s++)t[s].heading.match(/S[1-4] [^/]/i)?(c||(c=s,i.push(Object(ce.jsx)(S,{title:"Inverter Slots",tag:"S",openRows:b,block:a},s))),s,e.push(Object(ce.jsx)(Kr,{value:t[s],block:a},t[s].heading))):t[s].heading.match(/[S]3[0-4]|2[0-9]|1[0-9]|[1-9] [/] S[1-4]CB/i)?(r||(r=s,i.push(Object(ce.jsx)(S,{title:"Inverter Strings",tag:"PV",openRows:g,block:a},s))),s,n.push(Object(ce.jsx)(Kr,{value:t[s],block:a},t[s].heading))):i.push(Object(ce.jsx)(Zr,{value:t[s],block:a},s));var l,j=[].concat(i);if(b&&g)(l=j).splice.apply(l,[c+1,0].concat(e)),j=[].concat(Object(me.a)(j),[n]);else if(b&&!g){var d;(d=j).splice.apply(d,[c+1,0].concat(e))}else j=!b&&g?[].concat(Object(me.a)(j),[n]):[].concat(i);o(j)}),[t,b,g]),Object(ce.jsx)(pe.a,{component:he.a,elevation:6,className:c.tableContainer,children:Object(ce.jsxs)(ge.a,{stickyHeader:!0,"aria-label":"customized table",size:"small",children:[Object(ce.jsx)(fe.a,{children:Object(ce.jsxs)(ve.a,{children:[Object(ce.jsx)(Yr,{style:{paddingTop:".7rem",paddingLeft:"1.75rem",paddingBottom:".7rem"},children:Object(ce.jsx)("strong",{children:"Parameters"})}),Object(ce.jsx)(Yr,{align:"center",children:Object(ce.jsx)("strong",{children:"Inv 1"})}),Object(ce.jsx)(Yr,{align:"center",children:Object(ce.jsx)("strong",{children:"Inv 2"})}),Object(ce.jsx)(Yr,{align:"center",children:Object(ce.jsx)("strong",{children:"Inv 3"})}),Object(ce.jsx)(Yr,{align:"center",children:Object(ce.jsx)("strong",{children:"Inv 4"})})]})}),Object(ce.jsx)(xe.a,{children:l})]})})}function $r(e){return Object(ce.jsx)($.a,Object(h.a)({elevation:6,variant:"filled"},e))}var Qr=Object(D.a)((function(e){return{grow:{flexGrow:1},gaugeChartStyle:{marginTop:e.spacing(12)},formControl:{minWidth:120},modalCardStyle:{width:340,height:"fit-content"},gridBreakpoint:Object(m.a)({},e.breakpoints.up("md"),{})}}));function es(e){var t=e.handleSessionExpire,a=e.handleClickOpen,c=e.sitestatusBar,r=Qr(),s=$e().intervalTime,l=(localStorage.getItem("username","Admin"),localStorage.getItem("userToken")),o=(localStorage.getItem("userId"),K),j=Object(n.useState)((new Date).getTime()),d=Object(u.a)(j,2),b=d[0],m=d[1],h=Object(n.useState)(0),O=Object(u.a)(h,2),g=O[0],x=O[1],p=Object(n.useState)(void 0),f=Object(u.a)(p,2),y=f[0],T=f[1],I=Object(n.useState)({}),k=Object(u.a)(I,2),w=k[0],N=k[1],L=Object(n.useState)(0),D=Object(u.a)(L,2),P=D[0],F=D[1],A=Object(n.useState)(0),E=Object(u.a)(A,2),H=(E[0],E[1]),_=Object(n.useState)(0),z=Object(u.a)(_,2),M=z[0],R=z[1],G=Object(n.useState)(0),W=Object(u.a)(G,2),Y=W[0],q=W[1],U=Object(n.useState)(0),$=Object(u.a)(U,2),Q=$[0],ee=$[1],te=Object(n.useState)(0),ae=Object(u.a)(te,2),ne=ae[0],ie=ae[1],re=Object(n.useState)(0),le=Object(u.a)(re,2),oe=le[0],je=le[1],de=Object(n.useState)(0),be=Object(u.a)(de,2),me=be[0],he=be[1],Oe=Object(n.useState)([{time:"00:00",gti:"0.00",ghi:"0.00",pg:"0.00"}]),ge=Object(u.a)(Oe,2),xe=ge[0],Se=ge[1],pe=i.a.useState(1),fe=Object(u.a)(pe,2),ve=fe[0],Ce=fe[1],ye=Object(n.useState)([]),Te=Object(u.a)(ye,2),Ie=Te[0],ke=Te[1],we=Object(n.useState)(0),Ne=Object(u.a)(we,2),Be=Ne[0],Le=Ne[1];Object(n.useEffect)((function(){0!==Be&&nt(b)}),[Be]);var De=function(){return 0!==Be?"1":"0"},Pe=function(){return Be>0?"1":"0"},Fe=null,Ve=Object(n.useState)(!1),Ee=Object(u.a)(Ve,2),He=Ee[0],ze=Ee[1],Me=Object(n.useState)(new Date),Re=Object(u.a)(Me,2),Ge=Re[0],We=Re[1],Xe=Object(n.useState)(!1),Ye=Object(u.a)(Xe,2),qe=Ye[0],Ue=Ye[1],Ze=Object(n.useState)(!0),Je=Object(u.a)(Ze,2),Qe=Je[0],et=Je[1],tt=function(){ze(!1)};Object(n.useEffect)((function(){m(Ge.getTime())}),[Ge]);var at=function(e,t,a,n){X.a.get(o+"/chattisgarh/grid/B"+String(e).padStart(2,0),{headers:{jwtToken:l,startTime:t,endTime:a,beginTime:n,enablePacket:De(),clientPacketTime:y,isNext:Pe()}}).then((function(e){!function(e){for(var t=[],a=Object.entries(e),n=["L1 I","L2 I","L3 I","L1 V","L2 V","L3 V","Frequency","DC I","DC V","Active Power","DC Power","Reactive Power","PF","Cab Temp","IGBT Temp","DC Energy","S1 L1 I","S1 L2 I","S1 L3 I","S1 L1 V","S1 L2 V","S1 L3 V","S1 DC I","S1 DC V","S1 Active Power","S1 DC Power","S1 PF","S1 IGBT Temp","S2 L1 I","S2 L2 I","S2 L3 I","S2 L1 V","S2 L2 V","S2 L3 V","S2 DC I","S2 DC V","S2 Active Power","S2 DC Power","S2 PF","S2 IGBT Temp","S3 L1 I","S3 L2 I","S3 L3 I","S3 L1 V","S3 L2 V","S3 L3 V","S3 DC I","S3 DC V","S3 Active Power","S3 DC Power","S3 PF","S3 IGBT Temp","S4 L1 I","S4 L2 I","S4 L3 I","S4 L1 V","S4 L2 V","S4 L3 V","S4 DC I","S4 DC V","S4 Active Power","S4 DC Power","S4 PF","S4 IGBT Temp","S1 + S2 Peak Active Power","S3 + S4 Peak Active Power","S1 / S1CB1 I","S2 / S1CB2 I","S3 / S1CB3 I","S4 / S1CB4 I","S5 / S1CB5 I","S6 / S1CB6 I","S7 / S1CB7 I","S8 / S1CB8 I","S9 / S2CB1 I","S10 / S2CB2 I","S11 / S2CB3 I","S12 / S2CB4 I","S13 / S2CB5 I","S14 / S2CB6 I","S15 / S2CB7 I","S16 / S2CB8 I","S17 / S3CB1 I","S18 / S3CB2 I","S19 / S3CB3 I","S20 / S3CB4 I","S21 / S3CB5 I","S22 / S3CB6 I","S23 / S3CB7 I","S24 / S3CB8 I","S25 / S4CB1 I","S26 / S4CB2 I","S27 / S4CB3 I","S28 / S4CB4 I","S29 / S4CB5 I","S30 / S4CB6 I","S31 / S4CB7 I","S32 / S4CB8 I"],i=0;i<n.length;i++){var c=NaN,r=NaN,s=NaN,l=NaN,o=NaN;try{a[i][1]&&(c=a[i][1]),a[n.length+i][1]&&(r=a[n.length+i][1]),a[2*n.length+i][1]&&(s=a[2*n.length+i][1]),a[3*n.length+i][1]&&(l=a[3*n.length+i][1]),a[4*n.length+i][1]&&(o=a[4*n.length+i][1])}catch(j){}t.push({heading:n[i],inv1:c,inv2:r,inv3:s,inv4:l,inv5:o})}ke([].concat(t))}(e.data)})).catch((function(e){}))},nt=function(e){var a=1623696973e3,n=e;n=Qe?Date.now():e;var i=new Date(n);i.setHours(5,0,0,0);var c=i.getTime();!function(e,a,n){X.a.get(o+"/chattisgarh/site",{headers:{jwtToken:l,startTime:e,endTime:a,beginTime:n,enablePacket:De(),clientPacketTime:y,isNext:Pe()}}).then((function(e){x(e.data.status),T(1e3*e.data.time)})).catch((function(e){var a;401===(null===e||void 0===e||null===(a=e.response)||void 0===a?void 0:a.status)&&t()}))}(a,n,c),function(e,t,a){X.a.get(o+"/chattisgarh/boxes",{headers:{jwtToken:l,startTime:e,endTime:t,beginTime:a,enablePacket:De(),clientPacketTime:y,isNext:Pe()}}).then((function(e){N(e.data)})).catch((function(e){}))}(a,n,c),function(e,t,a){X.a.get(o+"/chattisgarh/gauge",{headers:{jwtToken:l,startTime:e,endTime:t,beginTime:a,enablePacket:De(),clientPacketTime:y,isNext:Pe()}}).then((function(e){var t=e.data.value;F(Number(t).toFixed(2)),H(Number(t).toFixed(1)/50)})).catch((function(e){}))}(a,n,c),function(e,t,a){X.a.get(o+"/chattisgarh/temperature",{headers:{jwtToken:l,startTime:e,endTime:t,beginTime:a,enablePacket:De(),clientPacketTime:y,isNext:Pe()}}).then((function(e){var t=e.data.ambientTemp,a=e.data.moduleTemp,n=e.data.humidity;R(Number(t).toFixed(1)),q(Number(a).toFixed(1)),ee(Number(n).toFixed(1))})).catch((function(e){}))}(a,n,c),function(e,t,a){X.a.get(o+"/chattisgarh/wind",{headers:{jwtToken:l,startTime:e,endTime:t,beginTime:a,enablePacket:De(),clientPacketTime:y,isNext:Pe()}}).then((function(e){var t=e.data.direction,a=e.data.speed;e.data.rain,ie(Number(t).toFixed(0)),je(Number(a).toFixed(1)),he(Number(e.data.rain).toFixed(1))})).catch((function(e){}))}(a,n,c),function(e,t,a){X.a.get(o+"/chattisgarh/graph",{headers:{jwtToken:l,startTime:e,endTime:t,beginTime:a,enablePacket:De(),clientPacketTime:y,isNext:Pe()}}).then((function(e){Se(e.data)})).catch((function(e){}))}(a,n,c),at(ve,a,n,c)};Object(n.useEffect)((function(){(Fe=document.getElementById("timeSliderLabel2"))&&(Fe.innerText=(new Date).toLocaleString([],{hour:"2-digit",minute:"2-digit",hour12:!0}).toUpperCase()),nt(b);var e=setInterval((function(){nt(b)}),s);return function(){clearInterval(e)}}),[b]);var it=Object(n.useState)("space-between"),ct=Object(u.a)(it,2),st=(ct[0],ct[1]);return Object(n.useLayoutEffect)((function(){window.matchMedia("(min-width: 1280px)").matches?st("space-between"):st("flex-start")}),[]),Object(ce.jsxs)(i.a.Fragment,{children:[Object(ce.jsx)(C.a,{container:!0,justifyContent:"space-between",alignItems:"center",children:Object(ce.jsx)(rt,{sitestatusBar:c,status:g,timestamp:y,handleClickOpen:a,handleTimeReset:function(){Le(0);var e=new Date;We(e),m(e.getTime()),ze(!0),et(!0)},setIsNextCount:Le,setOpenDateTimePicker:Ue,getMinDateForPicker:function(){return new Date(1632744e6)},selectedDate:Ge,getFormattedDateAndTimeString:function(e){var t=new Date(e);return Object(ce.jsxs)("span",{children:[String(t.getDate()).padStart(2,"0"),"/",String(t.getMonth()+1).padStart(2,"0"),"/",t.getFullYear(),Object(ce.jsx)("span",{children:"\u2003"}),t.toLocaleString([],{hour:"2-digit",minute:"2-digit",hour12:!0}).toUpperCase()]})},openDateTimePicker:qe,handleDateChange:function(e){try{et(!1)}finally{We(e),Ue(!1)}}})}),Object(ce.jsx)("div",{style:{marginTop:"2rem"}}),Object(ce.jsx)(Ae,{day_generation:w.day_generation,revenue:1e3*w.day_generation*5.59,peak_power:w.peak_power,ghi:w.ghi,gti:w.gti,plant_pr:w.plant_pr,grid_availability:w.grid_availability,plant_availability:w.plant_availability}),Object(ce.jsxs)(C.a,{container:!0,spacing:6,style:{marginTop:"1rem"},children:[Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(_e,{totalExport:P,maxValue:50})}),Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(se,{ambientTemp:M,moduleTemp:Y,humidity:Q})}),Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(Ke,{windDirection:ne,windSpeed:oe,rain:me})})]}),Object(ce.jsxs)(S.a,{elevation:6,style:{marginTop:"2.5rem",height:"500px",width:"100%"},children:[Object(ce.jsx)(V.a,{variant:"h6",color:"textSecondary",style:{marginLeft:"1.5rem",marginTop:"1rem",marginBottom:"1.5rem"},children:"Irradiance / Generation"}),Object(ce.jsx)(ue,{data:xe,interval:12,leftAxisY:[0,1500],rightAxisY:[0,35]})]}),Object(ce.jsx)(C.a,{container:!0,style:{marginTop:"3rem"},children:Object(ce.jsxs)(C.a,{item:!0,xs:12,children:[Object(ce.jsxs)(C.a,{container:!0,spacing:2,alignItems:"center",style:{marginBottom:".5rem"},children:[Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(V.a,{variant:"h6",color:"textSecondary",children:"Inverter Values"})}),Object(ce.jsx)(C.a,{item:!0,className:r.grow}),Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsxs)(V.a,{style:{marginLeft:".25rem"},children:["Selected Block:"," "]})}),Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(v.a,{className:r.formControl,children:Object(ce.jsxs)(Z.a,{value:ve,onChange:function(e){Ce(e.target.value);var t=new Date;t.setDate((new Date).getDate()-1),t.setHours(23,50,0,0);var a=new Date(b);a.setHours(5,0,0,0);var n=a.getTime();at(e.target.value,t.getTime(),b,n)},children:[Object(ce.jsx)(B.a,{value:1,children:"B01"}),Object(ce.jsx)(B.a,{value:2,children:"B02"}),Object(ce.jsx)(B.a,{value:3,children:"B03"}),Object(ce.jsx)(B.a,{value:4,children:"B04"}),Object(ce.jsx)(B.a,{value:5,children:"B05"}),Object(ce.jsx)(B.a,{value:6,children:"B06"}),Object(ce.jsx)(B.a,{value:7,children:"B07"})]})})})]}),Object(ce.jsx)(Jr,{values:Ie,block:ve})]})}),Object(ce.jsx)(J.a,{open:He,anchorOrigin:{vertical:"bottom",horizontal:"left"},autoHideDuration:4e3,onClose:tt,children:Object(ce.jsx)($r,{onClose:tt,severity:"success",children:"Time is reset!"})}),Object(ce.jsx)("div",{style:{marginBottom:"2rem"}})]})}var ts=Object(Oe.a)((function(e){return{head:{backgroundColor:"#ffffbf",color:e.palette.common.black,fontSize:16},body:{fontSize:16}}}))(Se.a),as=Object(Oe.a)((function(e){return{root:{"&:nth-of-type(odd)":{backgroundColor:e.palette.action.hover}}}}))(ve.a),ns=Object(D.a)({tableContainer:{maxHeight:"80vh"}}),is=function(e){var t=e.value,a=e.block,n=null;return Object(ce.jsxs)(as,{children:[Object(ce.jsx)(ts,{component:"th",scope:"row",style:{paddingTop:".6rem",paddingBottom:".6rem",backgroundColor:n},children:Object(ce.jsx)("strong",{style:{paddingLeft:"2.5rem"},children:t.heading})}),Object(ce.jsx)(ts,{align:"center",style:{backgroundColor:n},children:Object(ce.jsx)("span",{children:isNaN(Number(t.inv1))?"-":-111===Number(t.inv1)?"X":Number(t.inv1).toFixed(2)})}),Object(ce.jsx)(ts,{align:"center",style:{backgroundColor:n},children:Object(ce.jsx)("span",{children:isNaN(Number(t.inv2))?"-":-111===Number(t.inv2)?"X":Number(t.inv2).toFixed(2)})}),"mcr"!==a&&Object(ce.jsx)(ts,{align:"center",style:{backgroundColor:n},children:Object(ce.jsx)("span",{children:isNaN(Number(t.inv3))?"-":-111===Number(t.inv3)?"X":Number(t.inv3).toFixed(2)})}),"mcr"!==a&&Object(ce.jsx)(ts,{align:"center",style:{backgroundColor:n},children:Object(ce.jsx)("span",{children:isNaN(Number(t.inv4))?"-":-111===Number(t.inv4)?"X":Number(t.inv4).toFixed(2)})}),"mcr"!==a&&Object(ce.jsx)(ts,{align:"center",style:{backgroundColor:n},children:Object(ce.jsx)("span",{children:isNaN(Number(t.inv5))?"-":-111===Number(t.inv5)?"X":Number(t.inv5).toFixed(2)})}),"mcr"!==a&&Object(ce.jsx)(ts,{align:"center",style:{backgroundColor:n},children:Object(ce.jsx)("span",{children:isNaN(Number(t.inv6))?"-":-111===Number(t.inv6)?"X":Number(t.inv6).toFixed(2)})})]})},cs=function(e){var t=e.value,a=e.block;return Object(ce.jsxs)(as,{children:[Object(ce.jsx)(ts,{component:"th",scope:"row",style:{paddingTop:".6rem",paddingBottom:".6rem"},children:Object(ce.jsx)("strong",{style:{paddingLeft:"1rem"},children:t.heading})}),Object(ce.jsx)(ts,{align:"center",children:isNaN(Number(t.inv1))?"-":-111===Number(t.inv1)?"X":Number(t.inv1).toFixed(2)}),Object(ce.jsx)(ts,{align:"center",children:isNaN(Number(t.inv2))?"-":-111===Number(t.inv2)?"X":Number(t.inv2).toFixed(2)}),"mcr"!==a&&Object(ce.jsx)(ts,{align:"center",children:isNaN(Number(t.inv3))?"-":-111===Number(t.inv3)?"X":Number(t.inv3).toFixed(2)}),"mcr"!==a&&Object(ce.jsx)(ts,{align:"center",children:isNaN(Number(t.inv4))?"-":-111===Number(t.inv4)?"X":Number(t.inv4).toFixed(2)}),"mcr"!==a&&Object(ce.jsx)(ts,{align:"center",children:isNaN(Number(t.inv5))?"-":-111===Number(t.inv5)?"X":Number(t.inv5).toFixed(2)}),"mcr"!==a&&Object(ce.jsx)(ts,{align:"center",children:isNaN(Number(t.inv6))?"-":-111===Number(t.inv6)?"X":Number(t.inv6).toFixed(2)})]})};function rs(e){var t=e.values,a=e.block,c=ns(),r=Object(n.useState)([]),s=Object(u.a)(r,2),l=s[0],o=s[1],j=i.a.useState(!1),d=Object(u.a)(j,2),b=d[0],m=d[1],h=i.a.useState(!1),O=Object(u.a)(h,2),g=O[0],x=O[1],S=function(e){var t=e.title,a=e.tag,n=e.openRows;return Object(ce.jsx)(as,{children:Object(ce.jsxs)(ts,{component:"th",scope:"row",colSpan:7,style:{backgroundColor:"#EBF5FB"},children:[Object(ce.jsx)("strong",{style:{paddingLeft:"1rem",paddingRight:".5rem",color:"#000"},children:t}),Object(ce.jsx)(y.a,{"aria-label":"expand row",size:"small",onClick:function(){return function(e){"S"===e?m((function(e){return!e})):x((function(e){return!e}))}(a)},style:{color:"#000"},children:n?Object(ce.jsx)(Ie.a,{}):Object(ce.jsx)(ye.a,{})})]})})};return Object(n.useEffect)((function(){for(var e=[],n=[],i=[],c=null,r=null,s=0;s<t.length;s++)t[s].heading.match(/S[1-4] [^/]/i)?(c||(c=s,i.push(Object(ce.jsx)(S,{title:"Inverter Slots",tag:"S",openRows:b,block:a},s))),s,e.push(Object(ce.jsx)(is,{value:t[s],block:a},t[s].heading))):t[s].heading.match(/[S]3[0-4]|2[0-9]|1[0-9]|[1-9] [/] S[1-4]CB/i)?(r||(r=s,i.push(Object(ce.jsx)(S,{title:"Inverter Strings",tag:"PV",openRows:g,block:a},s))),s,n.push(Object(ce.jsx)(is,{value:t[s],block:a},t[s].heading))):i.push(Object(ce.jsx)(cs,{value:t[s],block:a},s));var l,j=[].concat(i);if(b&&g)(l=j).splice.apply(l,[c+1,0].concat(e)),j=[].concat(Object(me.a)(j),[n]);else if(b&&!g){var d;(d=j).splice.apply(d,[c+1,0].concat(e))}else j=!b&&g?[].concat(Object(me.a)(j),[n]):[].concat(i);o(j)}),[t,b,g]),Object(ce.jsx)(pe.a,{component:he.a,elevation:6,className:c.tableContainer,children:Object(ce.jsxs)(ge.a,{stickyHeader:!0,"aria-label":"customized table",size:"small",children:[Object(ce.jsx)(fe.a,{children:Object(ce.jsxs)(ve.a,{children:[Object(ce.jsx)(ts,{style:{paddingTop:".7rem",paddingLeft:"1.75rem",paddingBottom:".7rem"},children:Object(ce.jsx)("strong",{children:"Parameters"})}),Object(ce.jsx)(ts,{align:"center",children:Object(ce.jsx)("strong",{children:"Inv 1"})}),Object(ce.jsx)(ts,{align:"center",children:Object(ce.jsx)("strong",{children:"Inv 2"})}),"mcr"!==a&&Object(ce.jsx)(ts,{align:"center",children:Object(ce.jsx)("strong",{children:"Inv 3"})}),"mcr"!==a&&Object(ce.jsx)(ts,{align:"center",children:Object(ce.jsx)("strong",{children:"Inv 4"})}),"mcr"!==a&&Object(ce.jsx)(ts,{align:"center",children:Object(ce.jsx)("strong",{children:"Inv 5"})}),"mcr"!==a&&Object(ce.jsx)(ts,{align:"center",children:Object(ce.jsx)("strong",{children:"Inv 6"})})]})}),Object(ce.jsx)(xe.a,{children:l})]})})}function ss(e){return Object(ce.jsx)($.a,Object(h.a)({elevation:6,variant:"filled"},e))}var ls=Object(D.a)((function(e){return{grow:{flexGrow:1},gaugeChartStyle:{marginTop:e.spacing(12)},formControl:{minWidth:120},modalCardStyle:{width:340,height:"fit-content"},gridBreakpoint:Object(m.a)({},e.breakpoints.up("md"),{})}}));function os(e){var t=e.handleSessionExpire,a=e.handleClickOpen,c=e.sitestatusBar,r=ls(),s=$e().intervalTime,l=X.a.CancelToken.source(),o=(localStorage.getItem("username","Admin"),localStorage.getItem("userToken")),j=(localStorage.getItem("userId"),K),d=Object(n.useState)((new Date).getTime()),b=Object(u.a)(d,2),m=b[0],h=b[1],O=Object(n.useState)(0),g=Object(u.a)(O,2),x=g[0],p=g[1],f=Object(n.useState)(void 0),y=Object(u.a)(f,2),T=y[0],I=y[1],k=Object(n.useState)({}),w=Object(u.a)(k,2),N=w[0],L=w[1],D=Object(n.useState)(0),P=Object(u.a)(D,2),F=P[0],A=P[1],E=Object(n.useState)(0),H=Object(u.a)(E,2),_=(H[0],H[1]),z=Object(n.useState)(0),M=Object(u.a)(z,2),R=M[0],G=M[1],W=Object(n.useState)(0),Y=Object(u.a)(W,2),q=Y[0],U=Y[1],$=Object(n.useState)(0),Q=Object(u.a)($,2),ee=Q[0],te=Q[1],ae=Object(n.useState)(0),ne=Object(u.a)(ae,2),ie=ne[0],re=ne[1],le=Object(n.useState)(0),oe=Object(u.a)(le,2),je=oe[0],de=oe[1],be=Object(n.useState)(0),me=Object(u.a)(be,2),he=me[0],Oe=me[1],ge=Object(n.useState)([{time:"00:00",gti:"0.00",ghi:"0.00",pg:"0.00"}]),xe=Object(u.a)(ge,2),Se=xe[0],pe=xe[1],fe=i.a.useState(1),ve=Object(u.a)(fe,2),Ce=ve[0],ye=ve[1],Te=Object(n.useState)([]),Ie=Object(u.a)(Te,2),ke=Ie[0],we=Ie[1],Ne=Object(n.useState)(0),Be=Object(u.a)(Ne,2),Le=Be[0],De=Be[1];Object(n.useEffect)((function(){0!==Le&&it(m)}),[Le]);var Pe=function(){return 0!==Le?"1":"0"},Fe=function(){return Le>0?"1":"0"},Ve=null,Ee=Object(n.useState)(!1),He=Object(u.a)(Ee,2),ze=He[0],Me=He[1],Re=Object(n.useState)(new Date),Ge=Object(u.a)(Re,2),We=Ge[0],Xe=Ge[1],Ye=Object(n.useState)(!1),qe=Object(u.a)(Ye,2),Ue=qe[0],Ze=qe[1],Je=Object(n.useState)(!0),Qe=Object(u.a)(Je,2),et=Qe[0],tt=Qe[1],at=function(){Me(!1)};Object(n.useEffect)((function(){h(We.getTime())}),[We]);var nt=function(e,t,a,n){e||(localStorage.setItem("siteInverterTableBlock",1),e=localStorage.getItem("siteInverterTableBlock"));var i=j;i+="mcr"===e?"/balanagar/grid/mcr":"/balanagar/grid/B"+String(e).padStart(2,0),X.a.get(i,{cancelToken:l.token,headers:{jwtToken:o,startTime:t,endTime:a,beginTime:n,enablePacket:Pe(),clientPacketTime:T,isNext:Fe(),endpoint:"grid"}}).then((function(e){!function(e){for(var t=[],a=Object.entries(e),n=["L1 I","L2 I","L3 I","L1 V","L2 V","L3 V","Frequency","DC I","DC V","Active Power","DC Power","Reactive Power","PF","Cab Temp","IGBT Temp","DC Energy","S1 L1 I","S1 L2 I","S1 L3 I","S1 L1 V","S1 L2 V","S1 L3 V","S1 DC I","S1 DC V","S1 Active Power","S1 DC Power","S1 PF","S1 IGBT Temp","S2 L1 I","S2 L2 I","S2 L3 I","S2 L1 V","S2 L2 V","S2 L3 V","S2 DC I","S2 DC V","S2 Active Power","S2 DC Power","S2 PF","S2 IGBT Temp","S3 L1 I","S3 L2 I","S3 L3 I","S3 L1 V","S3 L2 V","S3 L3 V","S3 DC I","S3 DC V","S3 Active Power","S3 DC Power","S3 PF","S3 IGBT Temp","S4 L1 I","S4 L2 I","S4 L3 I","S4 L1 V","S4 L2 V","S4 L3 V","S4 DC I","S4 DC V","S4 Active Power","S4 DC Power","S4 PF","S4 IGBT Temp","S1 + S2 Peak Active Power","S3 + S4 Peak Active Power","S1 / S1CB1 I","S2 / S1CB2 I","S3 / S1CB3 I","S4 / S1CB4 I","S5 / S1CB5 I","S6 / S1CB6 I","S7 / S1CB7 I","S8 / S1CB8 I","S9 / S2CB1 I","S10 / S2CB2 I","S11 / S2CB3 I","S12 / S2CB4 I","S13 / S2CB5 I","S14 / S2CB6 I","S15 / S2CB7 I","S16 / S2CB8 I","S17 / S3CB1 I","S18 / S3CB2 I","S19 / S3CB3 I","S20 / S3CB4 I","S21 / S3CB5 I","S22 / S3CB6 I","S23 / S3CB7 I","S24 / S3CB8 I","S25 / S4CB1 I","S26 / S4CB2 I","S27 / S4CB3 I","S28 / S4CB4 I","S29 / S4CB5 I","S30 / S4CB6 I","S31 / S4CB7 I","S32 / S4CB8 I"],i=0;i<n.length;i++){var c=NaN,r=NaN,s=NaN,l=NaN,o=NaN,j=NaN;try{a[i][1]&&(c=a[i][1]),a[n.length+i][1]&&(r=a[n.length+i][1]),a[2*n.length+i][1]&&(s=a[2*n.length+i][1]),a[3*n.length+i][1]&&(l=a[3*n.length+i][1]),a[4*n.length+i][1]&&(o=a[4*n.length+i][1]),a[5*n.length+i][1]&&(j=a[5*n.length+i][1])}catch(d){}t.push({heading:n[i],inv1:c,inv2:r,inv3:s,inv4:l,inv5:o,inv6:j})}we([].concat(t))}(e.data)})).catch((function(e){}))};Object(n.useEffect)((function(){var e=new Date;e.setDate((new Date).getDate()-1),e.setHours(23,50,0,0);var t=new Date(m);t.setHours(5,0,0,0);var a=t.getTime();nt(Ce,e.getTime(),m,a)}),[Ce]);var it=function(e){var a=1623696973e3,n=e;n=et?Date.now():e;var i=new Date(n);i.setHours(5,0,0,0);var c=i.getTime();!function(e,a,n){X.a.get(j+"/balanagar/site",{cancelToken:l.token,headers:{jwtToken:o,startTime:e,endTime:a,beginTime:n,enablePacket:Pe(),clientPacketTime:T,isNext:Fe(),endpoint:"site"}}).then((function(e){p(e.data.status),I(1e3*e.data.time)})).catch((function(e){var a;401===(null===e||void 0===e||null===(a=e.response)||void 0===a?void 0:a.status)&&t()}))}(a,n,c),function(e,t,a){X.a.get(j+"/balanagar/boxes",{cancelToken:l.token,headers:{jwtToken:o,startTime:e,endTime:t,beginTime:a,enablePacket:Pe(),clientPacketTime:T,isNext:Fe(),endpoint:"boxes"}}).then((function(e){L(e.data)})).catch((function(e){}))}(a,n,c),function(e,t,a){X.a.get(j+"/balanagar/gauge",{cancelToken:l.token,headers:{jwtToken:o,startTime:e,endTime:t,beginTime:a,enablePacket:Pe(),clientPacketTime:T,isNext:Fe(),endpoint:"gauge"}}).then((function(e){var t=e.data.value;A(Number(t).toFixed(2)),_(Number(t).toFixed(1)/50)})).catch((function(e){}))}(a,n,c),function(e,t,a){X.a.get(j+"/balanagar/temperature",{cancelToken:l.token,headers:{jwtToken:o,startTime:e,endTime:t,beginTime:a,enablePacket:Pe(),clientPacketTime:T,isNext:Fe(),endpoint:"temperature"}}).then((function(e){var t=e.data.ambientTemp,a=e.data.moduleTemp,n=e.data.humidity;G(Number(t).toFixed(1)),U(Number(a).toFixed(1)),te(Number(n).toFixed(1))})).catch((function(e){}))}(a,n,c),function(e,t,a){X.a.get(j+"/balanagar/wind",{cancelToken:l.token,headers:{jwtToken:o,startTime:e,endTime:t,beginTime:a,enablePacket:Pe(),clientPacketTime:T,isNext:Fe(),endpoint:"wind"}}).then((function(e){var t=e.data.direction,a=e.data.speed;e.data.rain,re(Number(t).toFixed(0)),de(Number(a).toFixed(1)),Oe(Number(e.data.rain).toFixed(1))})).catch((function(e){}))}(a,n,c),function(e,t,a){X.a.get(j+"/balanagar/graph",{cancelToken:l.token,headers:{jwtToken:o,startTime:e,endTime:t,beginTime:a,enablePacket:Pe(),clientPacketTime:T,isNext:Fe(),endpoint:"graph"}}).then((function(e){pe(e.data)})).catch((function(e){}))}(a,n,c),nt(localStorage.getItem("siteInverterTableBlock"),a,n,c)};Object(n.useEffect)((function(){(Ve=document.getElementById("timeSliderLabel2"))&&(Ve.innerText=(new Date).toLocaleString([],{hour:"2-digit",minute:"2-digit",hour12:!0}).toUpperCase()),it(m);var e=setInterval((function(){it(m)}),s);return function(){clearInterval(e),localStorage.setItem("siteInverterTableBlock",1),l.cancel()}}),[m]);var ct=Object(n.useState)("space-between"),st=Object(u.a)(ct,2),lt=(st[0],st[1]);return Object(n.useLayoutEffect)((function(){window.matchMedia("(min-width: 1280px)").matches?lt("space-between"):lt("flex-start")}),[]),Object(ce.jsxs)(i.a.Fragment,{children:[Object(ce.jsx)(C.a,{container:!0,justifyContent:"space-between",alignItems:"center",children:Object(ce.jsx)(rt,{sitestatusBar:c,status:x,timestamp:T,handleClickOpen:a,handleTimeReset:function(){De(0);var e=new Date;Xe(e),h(e.getTime()),Me(!0),tt(!0)},setIsNextCount:De,setOpenDateTimePicker:Ze,getMinDateForPicker:function(){return new Date(16328304e5)},selectedDate:We,getFormattedDateAndTimeString:function(e){var t=new Date(e);return Object(ce.jsxs)("span",{children:[String(t.getDate()).padStart(2,"0"),"/",String(t.getMonth()+1).padStart(2,"0"),"/",t.getFullYear(),Object(ce.jsx)("span",{children:"\u2003"}),t.toLocaleString([],{hour:"2-digit",minute:"2-digit",hour12:!0}).toUpperCase()]})},openDateTimePicker:Ue,handleDateChange:function(e){try{tt(!1)}finally{Xe(e),Ze(!1),De(0)}}})}),Object(ce.jsx)("div",{style:{marginTop:"2rem"}}),Object(ce.jsx)(Ae,{day_generation:N.day_generation,revenue:1e3*N.day_generation*5.59,peak_power:N.peak_power,ghi:N.ghi,gti:N.gti,plant_pr:N.plant_pr,grid_availability:N.grid_availability,plant_availability:N.plant_availability}),Object(ce.jsxs)(C.a,{container:!0,spacing:6,style:{marginTop:"1rem"},children:[Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(_e,{totalExport:F,maxValue:75})}),Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(se,{ambientTemp:R,moduleTemp:q,humidity:ee})}),Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(Ke,{windDirection:ie,windSpeed:je,rain:he})})]}),Object(ce.jsxs)(S.a,{elevation:6,style:{marginTop:"2.5rem",height:"500px",width:"100%"},children:[Object(ce.jsx)(V.a,{variant:"h6",color:"textSecondary",style:{marginLeft:"1.5rem",marginTop:"1rem",marginBottom:"1.5rem"},children:"Irradiance / Generation"}),Object(ce.jsx)(ue,{data:Se,interval:24,leftAxisY:[0,1500],rightAxisY:[0,60]})]}),Object(ce.jsx)(C.a,{container:!0,style:{marginTop:"3rem"},children:Object(ce.jsxs)(C.a,{item:!0,xs:12,children:[Object(ce.jsxs)(C.a,{container:!0,spacing:2,alignItems:"center",style:{marginBottom:".5rem"},children:[Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(V.a,{variant:"h6",color:"textSecondary",children:"Inverter Values"})}),Object(ce.jsx)(C.a,{item:!0,className:r.grow}),Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsxs)(V.a,{style:{marginLeft:".25rem"},children:["Selected Block:"," "]})}),Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(v.a,{className:r.formControl,children:Object(ce.jsxs)(Z.a,{value:Ce,onChange:function(e){ye((function(t){return e.target.value})),localStorage.setItem("siteInverterTableBlock",e.target.value)},children:[Object(ce.jsx)(B.a,{value:1,children:"B01"}),Object(ce.jsx)(B.a,{value:2,children:"B02"}),Object(ce.jsx)(B.a,{value:3,children:"B03"}),Object(ce.jsx)(B.a,{value:4,children:"B04"}),Object(ce.jsx)(B.a,{value:5,children:"B05"}),Object(ce.jsx)(B.a,{value:6,children:"B06"}),Object(ce.jsx)(B.a,{value:7,children:"B07"}),Object(ce.jsx)(B.a,{value:8,children:"B08"}),Object(ce.jsx)(B.a,{value:"mcr",children:"MCR"})]})})})]}),Object(ce.jsx)(rs,{values:ke,block:Ce})]})}),Object(ce.jsx)(J.a,{open:ze,anchorOrigin:{vertical:"bottom",horizontal:"left"},autoHideDuration:4e3,onClose:at,children:Object(ce.jsx)(ss,{onClose:at,severity:"success",children:"Time is reset!"})}),Object(ce.jsx)("div",{style:{marginBottom:"2rem"}})]})}var js=Object(Oe.a)((function(e){return{head:{backgroundColor:"#ffffbf",color:e.palette.common.black,fontSize:16},body:{fontSize:16}}}))(Se.a),ds=Object(Oe.a)((function(e){return{root:{"&:nth-of-type(odd)":{backgroundColor:e.palette.action.hover}}}}))(ve.a),bs=Object(D.a)({tableContainer:{maxHeight:"80vh"}}),us=function(e){var t=e.value,a=(e.block,null);return Object(ce.jsxs)(ds,{children:[Object(ce.jsx)(js,{component:"th",scope:"row",style:{paddingTop:".6rem",paddingBottom:".6rem",backgroundColor:a},children:Object(ce.jsx)("strong",{style:{paddingLeft:"2.5rem"},children:t.heading})}),Object(ce.jsx)(js,{align:"center",style:{backgroundColor:a},children:Object(ce.jsx)("span",{children:isNaN(Number(t.inv1))?"-":-111===Number(t.inv1)?"X":Number(t.inv1).toFixed(2)})}),Object(ce.jsx)(js,{align:"center",style:{backgroundColor:a},children:Object(ce.jsx)("span",{children:isNaN(Number(t.inv2))?"-":-111===Number(t.inv2)?"X":Number(t.inv2).toFixed(2)})}),Object(ce.jsx)(js,{align:"center",style:{backgroundColor:a},children:Object(ce.jsx)("span",{children:isNaN(Number(t.inv3))?"-":-111===Number(t.inv3)?"X":Number(t.inv3).toFixed(2)})}),Object(ce.jsx)(js,{align:"center",style:{backgroundColor:a},children:Object(ce.jsx)("span",{children:isNaN(Number(t.inv4))?"-":-111===Number(t.inv4)?"X":Number(t.inv4).toFixed(2)})})]})},ms=function(e){var t=e.value;e.block;return Object(ce.jsxs)(ds,{children:[Object(ce.jsx)(js,{component:"th",scope:"row",style:{paddingTop:".6rem",paddingBottom:".6rem"},children:Object(ce.jsx)("strong",{style:{paddingLeft:"1rem"},children:t.heading})}),Object(ce.jsx)(js,{align:"center",children:isNaN(Number(t.inv1))?"-":-111===Number(t.inv1)?"X":Number(t.inv1).toFixed(2)}),Object(ce.jsx)(js,{align:"center",children:isNaN(Number(t.inv2))?"-":-111===Number(t.inv2)?"X":Number(t.inv2).toFixed(2)}),Object(ce.jsx)(js,{align:"center",children:isNaN(Number(t.inv3))?"-":-111===Number(t.inv3)?"X":Number(t.inv3).toFixed(2)}),Object(ce.jsx)(js,{align:"center",children:isNaN(Number(t.inv4))?"-":-111===Number(t.inv4)?"X":Number(t.inv4).toFixed(2)})]})};function hs(e){var t=e.values,a=e.block,c=bs(),r=Object(n.useState)([]),s=Object(u.a)(r,2),l=s[0],o=s[1],j=i.a.useState(!1),d=Object(u.a)(j,2),b=d[0],m=d[1],h=i.a.useState(!1),O=Object(u.a)(h,2),g=O[0],x=O[1],S=function(e){var t=e.title,a=e.tag,n=e.openRows;return Object(ce.jsx)(ds,{children:Object(ce.jsxs)(js,{component:"th",scope:"row",colSpan:6,style:{backgroundColor:"#EBF5FB"},children:[Object(ce.jsx)("strong",{style:{paddingLeft:"1rem",paddingRight:".5rem",color:"#000"},children:t}),Object(ce.jsx)(y.a,{"aria-label":"expand row",size:"small",onClick:function(){return function(e){"S"===e?m((function(e){return!e})):x((function(e){return!e}))}(a)},style:{color:"#000"},children:n?Object(ce.jsx)(Ie.a,{}):Object(ce.jsx)(ye.a,{})})]})})};return Object(n.useEffect)((function(){for(var e=[],n=[],i=[],c=null,r=null,s=0;s<t.length;s++)t[s].heading.match(/S[1-4] [^/]/i)?(c||(c=s,i.push(Object(ce.jsx)(S,{title:"Inverter Slots",tag:"S",openRows:b,block:a},s))),s,e.push(Object(ce.jsx)(us,{value:t[s],block:a},t[s].heading))):t[s].heading.match(/[S]3[0-4]|2[0-9]|1[0-9]|[1-9] [/] S[1-4]CB/i)?(r||(r=s,i.push(Object(ce.jsx)(S,{title:"Inverter Strings",tag:"PV",openRows:g,block:a},s))),s,n.push(Object(ce.jsx)(us,{value:t[s],block:a},t[s].heading))):i.push(Object(ce.jsx)(ms,{value:t[s],block:a},s));var l,j=[].concat(i);if(b&&g)(l=j).splice.apply(l,[c+1,0].concat(e)),j=[].concat(Object(me.a)(j),[n]);else if(b&&!g){var d;(d=j).splice.apply(d,[c+1,0].concat(e))}else j=!b&&g?[].concat(Object(me.a)(j),[n]):[].concat(i);o(j)}),[t,b,g]),Object(ce.jsx)(pe.a,{component:he.a,elevation:6,className:c.tableContainer,children:Object(ce.jsxs)(ge.a,{stickyHeader:!0,"aria-label":"customized table",size:"small",children:[Object(ce.jsx)(fe.a,{children:Object(ce.jsxs)(ve.a,{children:[Object(ce.jsx)(js,{style:{paddingTop:".7rem",paddingLeft:"1.75rem",paddingBottom:".7rem"},children:Object(ce.jsx)("strong",{children:"Parameters"})}),Object(ce.jsx)(js,{align:"center",children:Object(ce.jsx)("strong",{children:"Inv 1"})}),Object(ce.jsx)(js,{align:"center",children:Object(ce.jsx)("strong",{children:"Inv 2"})}),Object(ce.jsx)(js,{align:"center",children:Object(ce.jsx)("strong",{children:"Inv 3"})}),Object(ce.jsx)(js,{align:"center",children:Object(ce.jsx)("strong",{children:"Inv 4"})})]})}),Object(ce.jsx)(xe.a,{children:l})]})})}function Os(e){return Object(ce.jsx)($.a,Object(h.a)({elevation:6,variant:"filled"},e))}var gs=Object(D.a)((function(e){return{grow:{flexGrow:1},gaugeChartStyle:{marginTop:e.spacing(12)},formControl:{minWidth:120},modalCardStyle:{width:340,height:"fit-content"},gridBreakpoint:Object(m.a)({},e.breakpoints.up("md"),{})}}));function xs(e){e.handleSessionExpire;var t=e.handleClickOpen,a=e.sitestatusBar,c=gs(),r=$e().intervalTime,s=(localStorage.getItem("username","Admin"),localStorage.getItem("userToken")),l=(localStorage.getItem("userId"),K),o=Object(n.useState)((new Date).getTime()),j=Object(u.a)(o,2),d=j[0],b=j[1],m=Object(n.useState)(0),h=Object(u.a)(m,2),O=h[0],g=h[1],x=Object(n.useState)(void 0),p=Object(u.a)(x,2),f=p[0],y=p[1],T=Object(n.useState)({}),I=Object(u.a)(T,2),k=I[0],w=I[1],N=Object(n.useState)(0),L=Object(u.a)(N,2),D=L[0],P=L[1],F=Object(n.useState)(0),A=Object(u.a)(F,2),E=(A[0],A[1]),H=Object(n.useState)(0),_=Object(u.a)(H,2),z=_[0],M=_[1],R=Object(n.useState)(0),G=Object(u.a)(R,2),W=G[0],Y=G[1],q=Object(n.useState)(0),U=Object(u.a)(q,2),$=U[0],Q=U[1],ee=Object(n.useState)(0),te=Object(u.a)(ee,2),ae=te[0],ne=te[1],ie=Object(n.useState)(0),re=Object(u.a)(ie,2),le=re[0],oe=re[1],je=Object(n.useState)(0),de=Object(u.a)(je,2),be=de[0],me=de[1],he=Object(n.useState)([{time:"00:00",gti:"0.00",ghi:"0.00",pg:"0.00"}]),Oe=Object(u.a)(he,2),ge=Oe[0],xe=Oe[1],Se=i.a.useState(1),pe=Object(u.a)(Se,2),fe=pe[0],ve=pe[1],Ce=Object(n.useState)([]),ye=Object(u.a)(Ce,2),Te=ye[0],Ie=ye[1],ke=Object(n.useState)(0),we=Object(u.a)(ke,2),Ne=we[0],Be=we[1];Object(n.useEffect)((function(){0!==Ne&&at(d)}),[Ne]);var Le=function(){return 0!==Ne?"1":"0"},De=function(){return Ne>0?"1":"0"},Pe=null,Fe=Object(n.useState)(!1),Ve=Object(u.a)(Fe,2),Ee=Ve[0],He=Ve[1],ze=Object(n.useState)(new Date),Me=Object(u.a)(ze,2),Re=Me[0],Ge=Me[1],We=Object(n.useState)(!1),Xe=Object(u.a)(We,2),Ye=Xe[0],qe=Xe[1],Ue=Object(n.useState)(!0),Ze=Object(u.a)(Ue,2),Je=Ze[0],Qe=Ze[1],et=function(){He(!1)};Object(n.useEffect)((function(){b(Re.getTime())}),[Re]);var tt=function(e,t,a,n){X.a.get(l+"/kosigi/grid/B"+String(e).padStart(2,0),{headers:{jwtToken:s,startTime:t,endTime:a,beginTime:n,enablePacket:Le(),clientPacketTime:f,isNext:De()}}).then((function(e){!function(e){for(var t=[],a=Object.entries(e),n=["L1 I","L2 I","L3 I","L1 V","L2 V","L3 V","Frequency","DC I","DC V","Active Power","DC Power","Reactive Power","PF","Cab Temp","IGBT Temp","DC Energy","S1 L1 I","S1 L2 I","S1 L3 I","S1 L1 V","S1 L2 V","S1 L3 V","S1 DC I","S1 DC V","S1 Active Power","S1 DC Power","S1 PF","S1 IGBT Temp","S1 Cab Temp","S2 L1 I","S2 L2 I","S2 L3 I","S2 L1 V","S2 L2 V","S2 L3 V","S2 DC I","S2 DC V","S2 Active Power","S2 DC Power","S2 PF","S2 IGBT Temp","S2 Cab Temp","S3 L1 I","S3 L2 I","S3 L3 I","S3 L1 V","S3 L2 V","S3 L3 V","S3 DC I","S3 DC V","S3 Active Power","S3 DC Power","S3 PF","S3 IGBT Temp","S3 Cab Temp","S4 L1 I","S4 L2 I","S4 L3 I","S4 L1 V","S4 L2 V","S4 L3 V","S4 DC I","S4 DC V","S4 Active Power","S4 DC Power","S4 PF","S4 IGBT Temp","S4 Cab Temp","S1 + S2 Peak Active Power","S3 + S4 Peak Active Power","S1 / S1CB1 I","S2 / S1CB2 I","S3 / S1CB3 I","S4 / S1CB4 I","S5 / S1CB5 I","S6 / S1CB6 I","S7 / S1CB7 I","S8 / S1CB8 I","S9 / S2CB1 I","S10 / S2CB2 I","S11 / S2CB3 I","S12 / S2CB4 I","S13 / S2CB5 I","S14 / S2CB6 I","S15 / S2CB7 I","S16 / S2CB8 I","S17 / S3CB1 I","S18 / S3CB2 I","S19 / S3CB3 I","S20 / S3CB4 I","S21 / S3CB5 I","S22 / S3CB6 I","S23 / S3CB7 I","S24 / S3CB8 I","S25 / S4CB1 I","S26 / S4CB2 I","S27 / S4CB3 I","S28 / S4CB4 I","S29 / S4CB5 I","S30 / S4CB6 I","S31 / S4CB7 I","S32 / S4CB8 I"],i=0;i<n.length;i++){var c=NaN,r=NaN,s=NaN,l=NaN,o=NaN;try{a[i][1]&&(c=a[i][1]),a[n.length+i][1]&&(r=a[n.length+i][1]),a[2*n.length+i][1]&&(s=a[2*n.length+i][1]),a[3*n.length+i][1]&&(l=a[3*n.length+i][1]),a[4*n.length+i][1]&&(o=a[4*n.length+i][1])}catch(j){}t.push({heading:n[i],inv1:c,inv2:r,inv3:s,inv4:l,inv5:o})}Ie([].concat(t))}(e.data)})).catch((function(e){}))},at=function(e){var t=1623696973e3,a=e;a=Je?Date.now():e;var n=new Date(a);n.setHours(5,0,0,0);var i=n.getTime();!function(e,t,a){X.a.get(l+"/kosigi/site",{headers:{jwtToken:s,startTime:e,endTime:t,beginTime:a,enablePacket:Le(),clientPacketTime:f,isNext:De()}}).then((function(e){g(e.data.status),y(1e3*e.data.time)})).catch((function(e){}))}(t,a,i),function(e,t,a){X.a.get(l+"/kosigi/boxes",{headers:{jwtToken:s,startTime:e,endTime:t,beginTime:a,enablePacket:Le(),clientPacketTime:f,isNext:De()}}).then((function(e){w(e.data)})).catch((function(e){}))}(t,a,i),function(e,t,a){X.a.get(l+"/kosigi/gauge",{headers:{jwtToken:s,startTime:e,endTime:t,beginTime:a,enablePacket:Le(),clientPacketTime:f,isNext:De()}}).then((function(e){var t=e.data.value;P(Number(t).toFixed(2)),E(Number(t).toFixed(1)/50)})).catch((function(e){}))}(t,a,i),function(e,t,a){X.a.get(l+"/kosigi/temperature",{headers:{jwtToken:s,startTime:e,endTime:t,beginTime:a,enablePacket:Le(),clientPacketTime:f,isNext:De()}}).then((function(e){var t=e.data.ambientTemp,a=e.data.moduleTemp,n=e.data.humidity;M(Number(t).toFixed(1)),Y(Number(a).toFixed(1)),Q(Number(n).toFixed(1))})).catch((function(e){}))}(t,a,i),function(e,t,a){X.a.get(l+"/kosigi/wind",{headers:{jwtToken:s,startTime:e,endTime:t,beginTime:a,enablePacket:Le(),clientPacketTime:f,isNext:De()}}).then((function(e){var t=e.data.direction,a=e.data.speed;e.data.rain,ne(Number(t).toFixed(0)),oe(Number(a).toFixed(1)),me(Number(e.data.rain).toFixed(1))})).catch((function(e){}))}(t,a,i),function(e,t,a){X.a.get(l+"/kosigi/graph",{headers:{jwtToken:s,startTime:e,endTime:t,beginTime:a,enablePacket:Le(),clientPacketTime:f,isNext:De()}}).then((function(e){xe(e.data)})).catch((function(e){}))}(t,a,i),tt(fe,t,a,i)};Object(n.useEffect)((function(){(Pe=document.getElementById("timeSliderLabel2"))&&(Pe.innerText=(new Date).toLocaleString([],{hour:"2-digit",minute:"2-digit",hour12:!0}).toUpperCase()),at(d);var e=setInterval((function(){at(d)}),r);return function(){clearInterval(e)}}),[d]);var nt=Object(n.useState)("space-between"),it=Object(u.a)(nt,2),ct=(it[0],it[1]);return Object(n.useLayoutEffect)((function(){window.matchMedia("(min-width: 1280px)").matches?ct("space-between"):ct("flex-start")}),[]),Object(ce.jsxs)(i.a.Fragment,{children:[Object(ce.jsx)(C.a,{container:!0,justifyContent:"space-between",alignItems:"center",children:Object(ce.jsx)(rt,{sitestatusBar:a,status:O,timestamp:f,handleClickOpen:t,handleTimeReset:function(){Be(0);var e=new Date;Ge(e),b(e.getTime()),He(!0),Qe(!0)},setIsNextCount:Be,setOpenDateTimePicker:qe,getMinDateForPicker:function(){return new Date(16329168e5)},selectedDate:Re,getFormattedDateAndTimeString:function(e){var t=new Date(e);return Object(ce.jsxs)("span",{children:[String(t.getDate()).padStart(2,"0"),"/",String(t.getMonth()+1).padStart(2,"0"),"/",t.getFullYear(),Object(ce.jsx)("span",{children:"\u2003"}),t.toLocaleString([],{hour:"2-digit",minute:"2-digit",hour12:!0}).toUpperCase()]})},openDateTimePicker:Ye,handleDateChange:function(e){try{Qe(!1)}finally{Ge(e),qe(!1)}}})}),Object(ce.jsx)("div",{style:{marginTop:"2rem"}}),Object(ce.jsx)(Ae,{day_generation:k.day_generation,revenue:1e3*k.day_generation*5.59,peak_power:k.peak_power,ghi:k.ghi,gti:k.gti,plant_pr:k.plant_pr,grid_availability:k.grid_availability,plant_availability:k.plant_availability}),Object(ce.jsxs)(C.a,{container:!0,spacing:6,style:{marginTop:"1rem"},children:[Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(_e,{totalExport:D,maxValue:15})}),Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(se,{ambientTemp:z,moduleTemp:W,humidity:$})}),Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(Ke,{windDirection:ae,windSpeed:le,rain:be})})]}),Object(ce.jsxs)(S.a,{elevation:6,style:{marginTop:"2.5rem",height:"500px",width:"100%"},children:[Object(ce.jsx)(V.a,{variant:"h6",color:"textSecondary",style:{marginLeft:"1.5rem",marginTop:"1rem",marginBottom:"1.5rem"},children:"Irradiance / Generation"}),Object(ce.jsx)(ue,{data:ge,interval:12,leftAxisY:[0,1500],rightAxisY:[0,15]})]}),Object(ce.jsx)(C.a,{container:!0,style:{marginTop:"3rem"},children:Object(ce.jsxs)(C.a,{item:!0,xs:12,children:[Object(ce.jsxs)(C.a,{container:!0,spacing:2,alignItems:"center",style:{marginBottom:".5rem"},children:[Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(V.a,{variant:"h6",color:"textSecondary",children:"Inverter Values"})}),Object(ce.jsx)(C.a,{item:!0,className:c.grow}),Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsxs)(V.a,{style:{marginLeft:".25rem"},children:["Selected Block:"," "]})}),Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(v.a,{className:c.formControl,children:Object(ce.jsxs)(Z.a,{value:fe,onChange:function(e){ve(e.target.value);var t=new Date;t.setDate((new Date).getDate()-1),t.setHours(23,50,0,0);var a=new Date(d);a.setHours(5,0,0,0);var n=a.getTime();tt(e.target.value,t.getTime(),d,n)},children:[Object(ce.jsx)(B.a,{value:1,children:"B01"}),Object(ce.jsx)(B.a,{value:2,children:"B02"})]})})})]}),Object(ce.jsx)(hs,{values:Te,block:fe})]})}),Object(ce.jsx)(J.a,{open:Ee,anchorOrigin:{vertical:"bottom",horizontal:"left"},autoHideDuration:4e3,onClose:et,children:Object(ce.jsx)(Os,{onClose:et,severity:"success",children:"Time is reset!"})}),Object(ce.jsx)("div",{style:{marginBottom:"2rem"}})]})}var Ss=Object(Oe.a)((function(e){return{head:{backgroundColor:"#ffffbf",color:e.palette.common.black,fontSize:16},body:{fontSize:16}}}))(Se.a),ps=Object(Oe.a)((function(e){return{root:{"&:nth-of-type(odd)":{backgroundColor:e.palette.action.hover}}}}))(ve.a),fs=Object(D.a)({tableContainer:{maxHeight:"80vh"}}),vs=function(e){var t=e.value,a=e.block,n=null;return Object(ce.jsxs)(ps,{children:[Object(ce.jsx)(Ss,{component:"th",scope:"row",style:{paddingTop:".6rem",paddingBottom:".6rem",backgroundColor:n},children:Object(ce.jsx)("strong",{style:{paddingLeft:"2.5rem"},children:t.heading})}),Object(ce.jsx)(Ss,{align:"center",style:{backgroundColor:n},children:Object(ce.jsx)("span",{children:isNaN(Number(t.inv1))?"-":-111===Number(t.inv1)?"X":Number(t.inv1).toFixed(2)})}),3!==a&&Object(ce.jsx)(Ss,{align:"center",style:{backgroundColor:n},children:Object(ce.jsx)("span",{children:isNaN(Number(t.inv2))?"-":-111===Number(t.inv2)?"X":Number(t.inv2).toFixed(2)})})]})},Cs=function(e){var t=e.value,a=e.block;return Object(ce.jsxs)(ps,{children:[Object(ce.jsx)(Ss,{component:"th",scope:"row",style:{paddingTop:".6rem",paddingBottom:".6rem"},children:Object(ce.jsx)("strong",{style:{paddingLeft:"1rem"},children:t.heading})}),Object(ce.jsx)(Ss,{align:"center",children:isNaN(Number(t.inv1))?"-":-111===Number(t.inv1)?"X":Number(t.inv1).toFixed(2)}),3!==a&&Object(ce.jsx)(Ss,{align:"center",children:isNaN(Number(t.inv2))?"-":-111===Number(t.inv2)?"X":Number(t.inv2).toFixed(2)})]})};function ys(e){var t=e.values,a=e.block,c=fs(),r=Object(n.useState)([]),s=Object(u.a)(r,2),l=s[0],o=s[1],j=i.a.useState(!1),d=Object(u.a)(j,2),b=d[0],m=d[1],h=i.a.useState(!1),O=Object(u.a)(h,2),g=O[0],x=O[1],S=function(e){var t=e.title,a=e.tag,n=e.openRows;return Object(ce.jsx)(ps,{children:Object(ce.jsxs)(Ss,{component:"th",scope:"row",colSpan:6,style:{backgroundColor:"#EBF5FB"},children:[Object(ce.jsx)("strong",{style:{paddingLeft:"1rem",paddingRight:".5rem",color:"#000"},children:t}),Object(ce.jsx)(y.a,{"aria-label":"expand row",size:"small",onClick:function(){return function(e){"S"===e?m((function(e){return!e})):x((function(e){return!e}))}(a)},style:{color:"#000"},children:n?Object(ce.jsx)(Ie.a,{}):Object(ce.jsx)(ye.a,{})})]})})};return Object(n.useEffect)((function(){for(var e=[],n=[],i=[],c=null,r=null,s=0;s<t.length;s++)t[s].heading.match(/S[1-4] [^/]/i)?(c||(c=s,i.push(Object(ce.jsx)(S,{title:"Inverter Slots",tag:"S",openRows:b},s))),s,e.push(Object(ce.jsx)(vs,{value:t[s],block:a},t[s].heading))):t[s].heading.match(/[S]3[0-4]|2[0-9]|1[0-9]|[1-9] [/] S[1-4]CB/i)?(r||(r=s,i.push(Object(ce.jsx)(S,{title:"Inverter Strings",tag:"PV",openRows:g},s))),s,n.push(Object(ce.jsx)(vs,{value:t[s],block:a},t[s].heading))):i.push(Object(ce.jsx)(Cs,{value:t[s],block:a},s));var l,j=[].concat(i);if(b&&g)(l=j).splice.apply(l,[c+1,0].concat(e)),j=[].concat(Object(me.a)(j),[n]);else if(b&&!g){var d;(d=j).splice.apply(d,[c+1,0].concat(e))}else j=!b&&g?[].concat(Object(me.a)(j),[n]):[].concat(i);o(j)}),[t,b,g]),Object(ce.jsx)(pe.a,{component:he.a,elevation:6,className:c.tableContainer,children:Object(ce.jsxs)(ge.a,{stickyHeader:!0,"aria-label":"customized table",size:"small",children:[Object(ce.jsx)(fe.a,{children:Object(ce.jsxs)(ve.a,{children:[Object(ce.jsx)(Ss,{style:{paddingTop:".7rem",paddingLeft:"1.75rem",paddingBottom:".7rem"},children:Object(ce.jsx)("strong",{children:"Parameters"})}),Object(ce.jsx)(Ss,{align:"center",children:Object(ce.jsx)("strong",{children:"Inv 1"})}),3!==a&&Object(ce.jsx)(Ss,{align:"center",children:Object(ce.jsx)("strong",{children:"Inv 2"})})]})}),Object(ce.jsx)(xe.a,{children:l})]})})}function Ts(e){return Object(ce.jsx)($.a,Object(h.a)({elevation:6,variant:"filled"},e))}var Is=Object(D.a)((function(e){return{grow:{flexGrow:1},gaugeChartStyle:{marginTop:e.spacing(12)},formControl:{minWidth:120},modalCardStyle:{width:340,height:"fit-content"},gridBreakpoint:Object(m.a)({},e.breakpoints.up("md"),{})}}));function ks(e){e.handleSessionExpire;var t=e.handleClickOpen,a=e.sitestatusBar,c=Is(),r=$e().intervalTime,s=(localStorage.getItem("username","Admin"),localStorage.getItem("userToken")),l=(localStorage.getItem("userId"),K),o=Object(n.useState)((new Date).getTime()),j=Object(u.a)(o,2),d=j[0],b=j[1],m=Object(n.useState)(0),h=Object(u.a)(m,2),O=h[0],g=h[1],x=Object(n.useState)(void 0),p=Object(u.a)(x,2),f=p[0],y=p[1],T=Object(n.useState)({}),I=Object(u.a)(T,2),k=I[0],w=I[1],N=Object(n.useState)(0),L=Object(u.a)(N,2),D=L[0],P=L[1],F=Object(n.useState)(0),A=Object(u.a)(F,2),E=(A[0],A[1]),H=Object(n.useState)(0),_=Object(u.a)(H,2),z=_[0],M=_[1],R=Object(n.useState)(0),G=Object(u.a)(R,2),W=G[0],Y=G[1],q=Object(n.useState)(0),U=Object(u.a)(q,2),$=U[0],Q=U[1],ee=Object(n.useState)(0),te=Object(u.a)(ee,2),ae=te[0],ne=te[1],ie=Object(n.useState)(0),re=Object(u.a)(ie,2),le=re[0],oe=re[1],je=Object(n.useState)(0),de=Object(u.a)(je,2),be=de[0],me=de[1],he=Object(n.useState)([{time:"00:00",gti:"0.00",ghi:"0.00",pg:"0.00"}]),Oe=Object(u.a)(he,2),ge=Oe[0],xe=Oe[1],Se=i.a.useState(1),pe=Object(u.a)(Se,2),fe=pe[0],ve=pe[1],Ce=Object(n.useState)([]),ye=Object(u.a)(Ce,2),Te=ye[0],Ie=ye[1],ke=Object(n.useState)(0),we=Object(u.a)(ke,2),Ne=we[0],Be=we[1];Object(n.useEffect)((function(){0!==Ne&&at(d)}),[Ne]);var Le=function(){return 0!==Ne?"1":"0"},De=function(){return Ne>0?"1":"0"},Pe=null,Fe=Object(n.useState)(!1),Ve=Object(u.a)(Fe,2),Ee=Ve[0],He=Ve[1],ze=Object(n.useState)(new Date),Me=Object(u.a)(ze,2),Re=Me[0],Ge=Me[1],We=Object(n.useState)(!1),Xe=Object(u.a)(We,2),Ye=Xe[0],qe=Xe[1],Ue=Object(n.useState)(!0),Ze=Object(u.a)(Ue,2),Je=Ze[0],Qe=Ze[1],et=function(){He(!1)};Object(n.useEffect)((function(){b(Re.getTime())}),[Re]);var tt=function(e,t,a,n){X.a.get(l+"/sandur/grid/B"+String(e).padStart(2,0),{headers:{jwtToken:s,startTime:t,endTime:a,beginTime:n,enablePacket:Le(),clientPacketTime:f,isNext:De()}}).then((function(e){!function(e){for(var t=[],a=Object.entries(e),n=["L1 I","L2 I","L3 I","L1 V","L2 V","L3 V","Frequency","DC I","DC V","Active Power","DC Power","Reactive Power","PF","Cab Temp","IGBT Temp","DC Energy","S1 L1 I","S1 L2 I","S1 L3 I","S1 L1 V","S1 L2 V","S1 L3 V","S1 DC I","S1 DC V","S1 Active Power","S1 DC Power","S1 PF","S1 IGBT Temp","S2 L1 I","S2 L2 I","S2 L3 I","S2 L1 V","S2 L2 V","S2 L3 V","S2 DC I","S2 DC V","S2 Active Power","S2 DC Power","S2 PF","S2 IGBT Temp","S3 L1 I","S3 L2 I","S3 L3 I","S3 L1 V","S3 L2 V","S3 L3 V","S3 DC I","S3 DC V","S3 Active Power","S3 DC Power","S3 PF","S3 IGBT Temp","S4 L1 I","S4 L2 I","S4 L3 I","S4 L1 V","S4 L2 V","S4 L3 V","S4 DC I","S4 DC V","S4 Active Power","S4 DC Power","S4 PF","S4 IGBT Temp","S1 + S2 Peak Active Power","S3 + S4 Peak Active Power","S1 / S1CB1 I","S2 / S1CB2 I","S3 / S1CB3 I","S4 / S1CB4 I","S5 / S1CB5 I","S6 / S1CB6 I","S7 / S1CB7 I","S8 / S1CB8 I","S9 / S2CB1 I","S10 / S2CB2 I","S11 / S2CB3 I","S12 / S2CB4 I","S13 / S2CB5 I","S14 / S2CB6 I","S15 / S2CB7 I","S16 / S2CB8 I","S17 / S3CB1 I","S18 / S3CB2 I","S19 / S3CB3 I","S20 / S3CB4 I","S21 / S3CB5 I","S22 / S3CB6 I","S23 / S3CB7 I","S24 / S3CB8 I","S25 / S4CB1 I","S26 / S4CB2 I","S27 / S4CB3 I","S28 / S4CB4 I","S29 / S4CB5 I","S30 / S4CB6 I","S31 / S4CB7 I","S32 / S4CB8 I"],i=0;i<n.length;i++){var c=NaN,r=NaN,s=NaN,l=NaN,o=NaN;try{a[i][1]&&(c=a[i][1]),a[n.length+i][1]&&(r=a[n.length+i][1]),a[2*n.length+i][1]&&(s=a[2*n.length+i][1]),a[3*n.length+i][1]&&(l=a[3*n.length+i][1]),a[4*n.length+i][1]&&(o=a[4*n.length+i][1])}catch(j){}t.push({heading:n[i],inv1:c,inv2:r,inv3:s,inv4:l,inv5:o})}Ie([].concat(t))}(e.data)})).catch((function(e){}))},at=function(e){var t=1623696973e3,a=e;a=Je?Date.now():e;var n=new Date(a);n.setHours(5,0,0,0);var i=n.getTime();!function(e,t,a){X.a.get(l+"/sandur/site",{headers:{jwtToken:s,startTime:e,endTime:t,beginTime:a,enablePacket:Le(),clientPacketTime:f,isNext:De()}}).then((function(e){g(e.data.status),y(1e3*e.data.time)})).catch((function(e){}))}(t,a,i),function(e,t,a){X.a.get(l+"/sandur/boxes",{headers:{jwtToken:s,startTime:e,endTime:t,beginTime:a,enablePacket:Le(),clientPacketTime:f,isNext:De()}}).then((function(e){w(e.data)})).catch((function(e){}))}(t,a,i),function(e,t,a){X.a.get(l+"/sandur/gauge",{headers:{jwtToken:s,startTime:e,endTime:t,beginTime:a,enablePacket:Le(),clientPacketTime:f,isNext:De()}}).then((function(e){var t=e.data.value;P(Number(t).toFixed(2)),E(Number(t).toFixed(1)/50)})).catch((function(e){}))}(t,a,i),function(e,t,a){X.a.get(l+"/sandur/temperature",{headers:{jwtToken:s,startTime:e,endTime:t,beginTime:a,enablePacket:Le(),clientPacketTime:f,isNext:De()}}).then((function(e){var t=e.data.ambientTemp,a=e.data.moduleTemp,n=e.data.humidity;M(Number(t).toFixed(1)),Y(Number(a).toFixed(1)),Q(Number(n).toFixed(1))})).catch((function(e){}))}(t,a,i),function(e,t,a){X.a.get(l+"/sandur/wind",{headers:{jwtToken:s,startTime:e,endTime:t,beginTime:a,enablePacket:Le(),clientPacketTime:f,isNext:De()}}).then((function(e){var t=e.data.direction,a=e.data.speed;e.data.rain,ne(Number(t).toFixed(0)),oe(Number(a).toFixed(1)),me(Number(e.data.rain).toFixed(1))})).catch((function(e){}))}(t,a,i),function(e,t,a){X.a.get(l+"/sandur/graph",{headers:{jwtToken:s,startTime:e,endTime:t,beginTime:a,enablePacket:Le(),clientPacketTime:f,isNext:De()}}).then((function(e){xe(e.data)})).catch((function(e){}))}(t,a,i),tt(fe,t,a,i)};Object(n.useEffect)((function(){(Pe=document.getElementById("timeSliderLabel2"))&&(Pe.innerText=(new Date).toLocaleString([],{hour:"2-digit",minute:"2-digit",hour12:!0}).toUpperCase()),at(d);var e=setInterval((function(){at(d)}),r);return function(){clearInterval(e)}}),[d]);var nt=Object(n.useState)("space-between"),it=Object(u.a)(nt,2),ct=(it[0],it[1]);return Object(n.useLayoutEffect)((function(){window.matchMedia("(min-width: 1280px)").matches?ct("space-between"):ct("flex-start")}),[]),Object(ce.jsxs)(i.a.Fragment,{children:[Object(ce.jsx)(C.a,{container:!0,justifyContent:"space-between",alignItems:"center",children:Object(ce.jsx)(rt,{sitestatusBar:a,status:O,timestamp:f,handleClickOpen:t,handleTimeReset:function(){Be(0);var e=new Date;Ge(e),b(e.getTime()),He(!0),Qe(!0)},setIsNextCount:Be,setOpenDateTimePicker:qe,getMinDateForPicker:function(){return new Date(16330032e5)},selectedDate:Re,getFormattedDateAndTimeString:function(e){var t=new Date(e);return Object(ce.jsxs)("span",{children:[String(t.getDate()).padStart(2,"0"),"/",String(t.getMonth()+1).padStart(2,"0"),"/",t.getFullYear(),Object(ce.jsx)("span",{children:"\u2003"}),t.toLocaleString([],{hour:"2-digit",minute:"2-digit",hour12:!0}).toUpperCase()]})},openDateTimePicker:Ye,handleDateChange:function(e){try{Qe(!1)}finally{Ge(e),qe(!1)}}})}),Object(ce.jsx)("div",{style:{marginTop:"2rem"}}),Object(ce.jsx)(Ae,{day_generation:k.day_generation,revenue:1e3*k.day_generation*5.59,peak_power:k.peak_power,ghi:k.ghi,gti:k.gti,plant_pr:k.plant_pr,grid_availability:k.grid_availability,plant_availability:k.plant_availability}),Object(ce.jsxs)(C.a,{container:!0,spacing:6,style:{marginTop:"1rem"},children:[Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(_e,{totalExport:D,maxValue:30})}),Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(se,{ambientTemp:z,moduleTemp:W,humidity:$})}),Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(Ke,{windDirection:ae,windSpeed:le,rain:be})})]}),Object(ce.jsxs)(S.a,{elevation:6,style:{marginTop:"2.5rem",height:"500px",width:"100%"},children:[Object(ce.jsx)(V.a,{variant:"h6",color:"textSecondary",style:{marginLeft:"1.5rem",marginTop:"1rem",marginBottom:"1.5rem"},children:"Irradiance / Generation"}),Object(ce.jsx)(ue,{data:ge,interval:12,leftAxisY:[0,1500],rightAxisY:[0,30]})]}),Object(ce.jsx)(C.a,{container:!0,style:{marginTop:"3rem"},children:Object(ce.jsxs)(C.a,{item:!0,xs:12,children:[Object(ce.jsxs)(C.a,{container:!0,spacing:2,alignItems:"center",style:{marginBottom:".5rem"},children:[Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(V.a,{variant:"h6",color:"textSecondary",children:"Inverter Values"})}),Object(ce.jsx)(C.a,{item:!0,className:c.grow}),Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsxs)(V.a,{style:{marginLeft:".25rem"},children:["Selected Block:"," "]})}),Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(v.a,{className:c.formControl,children:Object(ce.jsxs)(Z.a,{value:fe,onChange:function(e){ve(e.target.value);var t=new Date;t.setDate((new Date).getDate()-1),t.setHours(23,50,0,0);var a=new Date(d);a.setHours(5,0,0,0);var n=a.getTime();tt(e.target.value,t.getTime(),d,n)},children:[Object(ce.jsx)(B.a,{value:1,children:"B01"}),Object(ce.jsx)(B.a,{value:2,children:"B02"}),Object(ce.jsx)(B.a,{value:3,children:"B03"})]})})})]}),Object(ce.jsx)(ys,{values:Te,block:fe})]})}),Object(ce.jsx)(J.a,{open:Ee,anchorOrigin:{vertical:"bottom",horizontal:"left"},autoHideDuration:4e3,onClose:et,children:Object(ce.jsx)(Ts,{onClose:et,severity:"success",children:"Time is reset!"})}),Object(ce.jsx)("div",{style:{marginBottom:"2rem"}})]})}var ws=Object(Oe.a)((function(e){return{head:{backgroundColor:"#ffffbf",color:e.palette.common.black,fontSize:16},body:{fontSize:16}}}))(Se.a),Ns=Object(Oe.a)((function(e){return{root:{"&:nth-of-type(odd)":{backgroundColor:e.palette.action.hover}}}}))(ve.a),Bs=Object(D.a)({tableContainer:{maxHeight:"80vh"}}),Ls=function(e){var t=e.value,a=e.block,n=null;return Object(ce.jsxs)(Ns,{children:[Object(ce.jsx)(ws,{component:"th",scope:"row",style:{paddingTop:".6rem",paddingBottom:".6rem",backgroundColor:n},children:Object(ce.jsx)("strong",{style:{paddingLeft:"2.5rem"},children:t.heading})}),Object(ce.jsx)(ws,{align:"center",style:{backgroundColor:n},children:Object(ce.jsx)("span",{children:isNaN(Number(t.inv1))?"-":-111===Number(t.inv1)?"X":Number(t.inv1).toFixed(2)})}),3!==a&&Object(ce.jsx)(ws,{align:"center",style:{backgroundColor:n},children:Object(ce.jsx)("span",{children:isNaN(Number(t.inv2))?"-":-111===Number(t.inv2)?"X":Number(t.inv2).toFixed(2)})})]})},Ds=function(e){var t=e.value,a=e.block;return Object(ce.jsxs)(Ns,{children:[Object(ce.jsx)(ws,{component:"th",scope:"row",style:{paddingTop:".6rem",paddingBottom:".6rem"},children:Object(ce.jsx)("strong",{style:{paddingLeft:"1rem"},children:t.heading})}),Object(ce.jsx)(ws,{align:"center",children:isNaN(Number(t.inv1))?"-":-111===Number(t.inv1)?"X":Number(t.inv1).toFixed(2)}),3!==a&&Object(ce.jsx)(ws,{align:"center",children:isNaN(Number(t.inv2))?"-":-111===Number(t.inv2)?"X":Number(t.inv2).toFixed(2)})]})};function Ps(e){var t=e.values,a=e.block,c=Bs(),r=Object(n.useState)([]),s=Object(u.a)(r,2),l=s[0],o=s[1],j=i.a.useState(!1),d=Object(u.a)(j,2),b=d[0],m=d[1],h=i.a.useState(!1),O=Object(u.a)(h,2),g=O[0],x=O[1],S=function(e){var t=e.title,a=e.tag,n=e.openRows;return Object(ce.jsx)(Ns,{children:Object(ce.jsxs)(ws,{component:"th",scope:"row",colSpan:6,style:{backgroundColor:"#EBF5FB"},children:[Object(ce.jsx)("strong",{style:{paddingLeft:"1rem",paddingRight:".5rem",color:"#000"},children:t}),Object(ce.jsx)(y.a,{"aria-label":"expand row",size:"small",onClick:function(){return function(e){"S"===e?m((function(e){return!e})):x((function(e){return!e}))}(a)},style:{color:"#000"},children:n?Object(ce.jsx)(Ie.a,{}):Object(ce.jsx)(ye.a,{})})]})})};return Object(n.useEffect)((function(){for(var e=[],n=[],i=[],c=null,r=null,s=0;s<t.length;s++)t[s].heading.match(/S[1-4] [^/]/i)?(c||(c=s,i.push(Object(ce.jsx)(S,{title:"Inverter Slots",tag:"S",openRows:b},s))),s,e.push(Object(ce.jsx)(Ls,{value:t[s],block:a},t[s].heading))):t[s].heading.match(/[S]3[0-4]|2[0-9]|1[0-9]|[1-9] [/] S[1-4]CB/i)?(r||(r=s,i.push(Object(ce.jsx)(S,{title:"Inverter Strings",tag:"PV",openRows:g},s))),s,n.push(Object(ce.jsx)(Ls,{value:t[s],block:a},t[s].heading))):i.push(Object(ce.jsx)(Ds,{value:t[s],block:a},s));var l,j=[].concat(i);if(b&&g)(l=j).splice.apply(l,[c+1,0].concat(e)),j=[].concat(Object(me.a)(j),[n]);else if(b&&!g){var d;(d=j).splice.apply(d,[c+1,0].concat(e))}else j=!b&&g?[].concat(Object(me.a)(j),[n]):[].concat(i);o(j)}),[t,b,g]),Object(ce.jsx)(pe.a,{component:he.a,elevation:6,className:c.tableContainer,children:Object(ce.jsxs)(ge.a,{stickyHeader:!0,"aria-label":"customized table",size:"small",children:[Object(ce.jsx)(fe.a,{children:Object(ce.jsxs)(ve.a,{children:[Object(ce.jsx)(ws,{style:{paddingTop:".7rem",paddingLeft:"1.75rem",paddingBottom:".7rem"},children:Object(ce.jsx)("strong",{children:"Parameters"})}),Object(ce.jsx)(ws,{align:"center",children:Object(ce.jsx)("strong",{children:"Inv 1"})}),3!==a&&Object(ce.jsx)(ws,{align:"center",children:Object(ce.jsx)("strong",{children:"Inv 2"})})]})}),Object(ce.jsx)(xe.a,{children:l})]})})}function Fs(e){return Object(ce.jsx)($.a,Object(h.a)({elevation:6,variant:"filled"},e))}var Vs=Object(D.a)((function(e){return{grow:{flexGrow:1},gaugeChartStyle:{marginTop:e.spacing(12)},formControl:{minWidth:120},modalCardStyle:{width:340,height:"fit-content"},gridBreakpoint:Object(m.a)({},e.breakpoints.up("md"),{})}}));function As(e){e.handleSessionExpire;var t=e.handleClickOpen,a=e.sitestatusBar,c=Vs(),r=$e().intervalTime,s=(localStorage.getItem("username","Admin"),localStorage.getItem("userToken")),l=(localStorage.getItem("userId"),K),o=Object(n.useState)((new Date).getTime()),j=Object(u.a)(o,2),d=j[0],b=j[1],m=Object(n.useState)(0),h=Object(u.a)(m,2),O=h[0],g=h[1],x=Object(n.useState)(void 0),p=Object(u.a)(x,2),f=p[0],y=p[1],T=Object(n.useState)({}),I=Object(u.a)(T,2),k=I[0],w=I[1],N=Object(n.useState)(0),L=Object(u.a)(N,2),D=L[0],P=L[1],F=Object(n.useState)(0),A=Object(u.a)(F,2),E=(A[0],A[1]),H=Object(n.useState)(0),_=Object(u.a)(H,2),z=_[0],M=_[1],R=Object(n.useState)(0),G=Object(u.a)(R,2),W=G[0],Y=G[1],q=Object(n.useState)(0),U=Object(u.a)(q,2),$=U[0],Q=U[1],ee=Object(n.useState)(0),te=Object(u.a)(ee,2),ae=te[0],ne=te[1],ie=Object(n.useState)(0),re=Object(u.a)(ie,2),le=re[0],oe=re[1],je=Object(n.useState)(0),de=Object(u.a)(je,2),be=de[0],me=de[1],he=Object(n.useState)([{time:"00:00",gti:"0.00",ghi:"0.00",pg:"0.00"}]),Oe=Object(u.a)(he,2),ge=Oe[0],xe=Oe[1],Se=i.a.useState(1),pe=Object(u.a)(Se,2),fe=pe[0],ve=pe[1],Ce=Object(n.useState)([]),ye=Object(u.a)(Ce,2),Te=ye[0],Ie=ye[1],ke=Object(n.useState)(0),we=Object(u.a)(ke,2),Ne=we[0],Be=we[1];Object(n.useEffect)((function(){0!==Ne&&at(d)}),[Ne]);var Le=function(){return 0!==Ne?"1":"0"},De=function(){return Ne>0?"1":"0"},Pe=null,Fe=Object(n.useState)(!1),Ve=Object(u.a)(Fe,2),Ee=Ve[0],He=Ve[1],ze=Object(n.useState)(new Date),Me=Object(u.a)(ze,2),Re=Me[0],Ge=Me[1],We=Object(n.useState)(!1),Xe=Object(u.a)(We,2),Ye=Xe[0],qe=Xe[1],Ue=Object(n.useState)(!0),Ze=Object(u.a)(Ue,2),Je=Ze[0],Qe=Ze[1],et=function(){He(!1)};Object(n.useEffect)((function(){b(Re.getTime())}),[Re]);var tt=function(e,t,a,n){X.a.get(l+"/kudligi/grid/B"+String(e).padStart(2,0),{headers:{jwtToken:s,startTime:t,endTime:a,beginTime:n,enablePacket:Le(),clientPacketTime:f,isNext:De()}}).then((function(e){!function(e){for(var t=[],a=Object.entries(e),n=["L1 I","L2 I","L3 I","L1 V","L2 V","L3 V","Frequency","DC I","DC V","Active Power","DC Power","Reactive Power","PF","Cab Temp","IGBT Temp","DC Energy","S1 L1 I","S1 L2 I","S1 L3 I","S1 L1 V","S1 L2 V","S1 L3 V","S1 DC I","S1 DC V","S1 Active Power","S1 DC Power","S1 PF","S1 IGBT Temp","S2 L1 I","S2 L2 I","S2 L3 I","S2 L1 V","S2 L2 V","S2 L3 V","S2 DC I","S2 DC V","S2 Active Power","S2 DC Power","S2 PF","S2 IGBT Temp","S3 L1 I","S3 L2 I","S3 L3 I","S3 L1 V","S3 L2 V","S3 L3 V","S3 DC I","S3 DC V","S3 Active Power","S3 DC Power","S3 PF","S3 IGBT Temp","S4 L1 I","S4 L2 I","S4 L3 I","S4 L1 V","S4 L2 V","S4 L3 V","S4 DC I","S4 DC V","S4 Active Power","S4 DC Power","S4 PF","S4 IGBT Temp","S1 + S2 Peak Active Power","S3 + S4 Peak Active Power","S1 / S1CB1 I","S2 / S1CB2 I","S3 / S1CB3 I","S4 / S1CB4 I","S5 / S1CB5 I","S6 / S1CB6 I","S7 / S1CB7 I","S8 / S1CB8 I","S9 / S2CB1 I","S10 / S2CB2 I","S11 / S2CB3 I","S12 / S2CB4 I","S13 / S2CB5 I","S14 / S2CB6 I","S15 / S2CB7 I","S16 / S2CB8 I","S17 / S3CB1 I","S18 / S3CB2 I","S19 / S3CB3 I","S20 / S3CB4 I","S21 / S3CB5 I","S22 / S3CB6 I","S23 / S3CB7 I","S24 / S3CB8 I","S25 / S4CB1 I","S26 / S4CB2 I","S27 / S4CB3 I","S28 / S4CB4 I","S29 / S4CB5 I","S30 / S4CB6 I","S31 / S4CB7 I","S32 / S4CB8 I"],i=0;i<n.length;i++){var c=NaN,r=NaN,s=NaN,l=NaN,o=NaN;try{a[i][1]&&(c=a[i][1]),a[n.length+i][1]&&(r=a[n.length+i][1]),a[2*n.length+i][1]&&(s=a[2*n.length+i][1]),a[3*n.length+i][1]&&(l=a[3*n.length+i][1]),a[4*n.length+i][1]&&(o=a[4*n.length+i][1])}catch(j){}t.push({heading:n[i],inv1:c,inv2:r,inv3:s,inv4:l,inv5:o})}Ie([].concat(t))}(e.data)})).catch((function(e){}))},at=function(e){var t=1623696973e3,a=e;a=Je?Date.now():e;var n=new Date(a);n.setHours(5,0,0,0);var i=n.getTime();!function(e,t,a){X.a.get(l+"/kudligi/site",{headers:{jwtToken:s,startTime:e,endTime:t,beginTime:a,enablePacket:Le(),clientPacketTime:f,isNext:De()}}).then((function(e){g(e.data.status),y(1e3*e.data.time)})).catch((function(e){}))}(t,a,i),function(e,t,a){X.a.get(l+"/kudligi/boxes",{headers:{jwtToken:s,startTime:e,endTime:t,beginTime:a,enablePacket:Le(),clientPacketTime:f,isNext:De()}}).then((function(e){w(e.data)})).catch((function(e){}))}(t,a,i),function(e,t,a){X.a.get(l+"/kudligi/gauge",{headers:{jwtToken:s,startTime:e,endTime:t,beginTime:a,enablePacket:Le(),clientPacketTime:f,isNext:De()}}).then((function(e){var t=e.data.value;P(Number(t).toFixed(2)),E(Number(t).toFixed(1)/50)})).catch((function(e){}))}(t,a,i),function(e,t,a){X.a.get(l+"/kudligi/temperature",{headers:{jwtToken:s,startTime:e,endTime:t,beginTime:a,enablePacket:Le(),clientPacketTime:f,isNext:De()}}).then((function(e){var t=e.data.ambientTemp,a=e.data.moduleTemp,n=e.data.humidity;M(Number(t).toFixed(1)),Y(Number(a).toFixed(1)),Q(Number(n).toFixed(1))})).catch((function(e){}))}(t,a,i),function(e,t,a){X.a.get(l+"/kudligi/wind",{headers:{jwtToken:s,startTime:e,endTime:t,beginTime:a,enablePacket:Le(),clientPacketTime:f,isNext:De()}}).then((function(e){var t=e.data.direction,a=e.data.speed;e.data.rain,ne(Number(t).toFixed(0)),oe(Number(a).toFixed(1)),me(Number(e.data.rain).toFixed(1))})).catch((function(e){}))}(t,a,i),function(e,t,a){X.a.get(l+"/kudligi/graph",{headers:{jwtToken:s,startTime:e,endTime:t,beginTime:a,enablePacket:Le(),clientPacketTime:f,isNext:De()}}).then((function(e){xe(e.data)})).catch((function(e){}))}(t,a,i),tt(fe,t,a,i)};Object(n.useEffect)((function(){(Pe=document.getElementById("timeSliderLabel2"))&&(Pe.innerText=(new Date).toLocaleString([],{hour:"2-digit",minute:"2-digit",hour12:!0}).toUpperCase()),at(d);var e=setInterval((function(){at(d)}),r);return function(){clearInterval(e)}}),[d]);var nt=Object(n.useState)("space-between"),it=Object(u.a)(nt,2),ct=(it[0],it[1]);return Object(n.useLayoutEffect)((function(){window.matchMedia("(min-width: 1280px)").matches?ct("space-between"):ct("flex-start")}),[]),Object(ce.jsxs)(i.a.Fragment,{children:[Object(ce.jsx)(C.a,{container:!0,justifyContent:"space-between",alignItems:"center",children:Object(ce.jsx)(rt,{sitestatusBar:a,status:O,timestamp:f,handleClickOpen:t,handleTimeReset:function(){Be(0);var e=new Date;Ge(e),b(e.getTime()),He(!0),Qe(!0)},setIsNextCount:Be,setOpenDateTimePicker:qe,getMinDateForPicker:function(){return new Date(16330032e5)},selectedDate:Re,getFormattedDateAndTimeString:function(e){var t=new Date(e);return Object(ce.jsxs)("span",{children:[String(t.getDate()).padStart(2,"0"),"/",String(t.getMonth()+1).padStart(2,"0"),"/",t.getFullYear(),Object(ce.jsx)("span",{children:"\u2003"}),t.toLocaleString([],{hour:"2-digit",minute:"2-digit",hour12:!0}).toUpperCase()]})},openDateTimePicker:Ye,handleDateChange:function(e){try{Qe(!1)}finally{Ge(e),qe(!1)}}})}),Object(ce.jsx)("div",{style:{marginTop:"2rem"}}),Object(ce.jsx)(Ae,{day_generation:k.day_generation,revenue:1e3*k.day_generation*5.59,peak_power:k.peak_power,ghi:k.ghi,gti:k.gti,plant_pr:k.plant_pr,grid_availability:k.grid_availability,plant_availability:k.plant_availability}),Object(ce.jsxs)(C.a,{container:!0,spacing:6,style:{marginTop:"1rem"},children:[Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(_e,{totalExport:D,maxValue:30})}),Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(se,{ambientTemp:z,moduleTemp:W,humidity:$})}),Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(Ke,{windDirection:ae,windSpeed:le,rain:be})})]}),Object(ce.jsxs)(S.a,{elevation:6,style:{marginTop:"2.5rem",height:"500px",width:"100%"},children:[Object(ce.jsx)(V.a,{variant:"h6",color:"textSecondary",style:{marginLeft:"1.5rem",marginTop:"1rem",marginBottom:"1.5rem"},children:"Irradiance / Generation"}),Object(ce.jsx)(ue,{data:ge,interval:12,leftAxisY:[0,1500],rightAxisY:[0,30]})]}),Object(ce.jsx)(C.a,{container:!0,style:{marginTop:"3rem"},children:Object(ce.jsxs)(C.a,{item:!0,xs:12,children:[Object(ce.jsxs)(C.a,{container:!0,spacing:2,alignItems:"center",style:{marginBottom:".5rem"},children:[Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(V.a,{variant:"h6",color:"textSecondary",children:"Inverter Values"})}),Object(ce.jsx)(C.a,{item:!0,className:c.grow}),Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsxs)(V.a,{style:{marginLeft:".25rem"},children:["Selected Block:"," "]})}),Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(v.a,{className:c.formControl,children:Object(ce.jsxs)(Z.a,{value:fe,onChange:function(e){ve(e.target.value);var t=new Date;t.setDate((new Date).getDate()-1),t.setHours(23,50,0,0);var a=new Date(d);a.setHours(5,0,0,0);var n=a.getTime();tt(e.target.value,t.getTime(),d,n)},children:[Object(ce.jsx)(B.a,{value:1,children:"B01"}),Object(ce.jsx)(B.a,{value:2,children:"B02"}),Object(ce.jsx)(B.a,{value:3,children:"B03"})]})})})]}),Object(ce.jsx)(Ps,{values:Te,block:fe})]})}),Object(ce.jsx)(J.a,{open:Ee,anchorOrigin:{vertical:"bottom",horizontal:"left"},autoHideDuration:4e3,onClose:et,children:Object(ce.jsx)(Fs,{onClose:et,severity:"success",children:"Time is reset!"})}),Object(ce.jsx)("div",{style:{marginBottom:"2rem"}})]})}var Es=Object(Oe.a)((function(e){return{head:{backgroundColor:"#ffffbf",color:e.palette.common.black,fontSize:16},body:{fontSize:16}}}))(Se.a),Hs=Object(Oe.a)((function(e){return{root:{"&:nth-of-type(odd)":{backgroundColor:e.palette.action.hover}}}}))(ve.a),_s=Object(D.a)({tableContainer:{maxHeight:"80vh"}}),zs=function(e){var t=e.value,a=e.block,n=null;return Object(ce.jsxs)(Hs,{children:[Object(ce.jsx)(Es,{component:"th",scope:"row",style:{paddingTop:".6rem",paddingBottom:".6rem",backgroundColor:n},children:Object(ce.jsx)("strong",{style:{paddingLeft:"2.5rem"},children:t.heading})}),Object(ce.jsx)(Es,{align:"center",style:{backgroundColor:n},children:Object(ce.jsx)("span",{children:isNaN(Number(t.inv1))?"-":-111===Number(t.inv1)?"X":Number(t.inv1).toFixed(2)})}),3!==a&&Object(ce.jsx)(Es,{align:"center",style:{backgroundColor:n},children:Object(ce.jsx)("span",{children:isNaN(Number(t.inv2))?"-":-111===Number(t.inv2)?"X":Number(t.inv2).toFixed(2)})})]})},Ms=function(e){var t=e.value,a=e.block;return Object(ce.jsxs)(Hs,{children:[Object(ce.jsx)(Es,{component:"th",scope:"row",style:{paddingTop:".6rem",paddingBottom:".6rem"},children:Object(ce.jsx)("strong",{style:{paddingLeft:"1rem"},children:t.heading})}),Object(ce.jsx)(Es,{align:"center",children:isNaN(Number(t.inv1))?"-":-111===Number(t.inv1)?"X":Number(t.inv1).toFixed(2)}),3!==a&&Object(ce.jsx)(Es,{align:"center",children:isNaN(Number(t.inv2))?"-":-111===Number(t.inv2)?"X":Number(t.inv2).toFixed(2)})]})};function Rs(e){var t=e.values,a=e.block,c=_s(),r=Object(n.useState)([]),s=Object(u.a)(r,2),l=s[0],o=s[1],j=i.a.useState(!1),d=Object(u.a)(j,2),b=d[0],m=d[1],h=i.a.useState(!1),O=Object(u.a)(h,2),g=O[0],x=O[1],S=function(e){var t=e.title,a=e.tag,n=e.openRows;return Object(ce.jsx)(Hs,{children:Object(ce.jsxs)(Es,{component:"th",scope:"row",colSpan:6,style:{backgroundColor:"#EBF5FB"},children:[Object(ce.jsx)("strong",{style:{paddingLeft:"1rem",paddingRight:".5rem",color:"#000"},children:t}),Object(ce.jsx)(y.a,{"aria-label":"expand row",size:"small",onClick:function(){return function(e){"S"===e?m((function(e){return!e})):x((function(e){return!e}))}(a)},style:{color:"#000"},children:n?Object(ce.jsx)(Ie.a,{}):Object(ce.jsx)(ye.a,{})})]})})};return Object(n.useEffect)((function(){for(var e=[],n=[],i=[],c=null,r=null,s=0;s<t.length;s++)t[s].heading.match(/S[1-4] [^/]/i)?(c||(c=s,i.push(Object(ce.jsx)(S,{title:"Inverter Slots",tag:"S",openRows:b},s))),s,e.push(Object(ce.jsx)(zs,{value:t[s],block:a},t[s].heading))):t[s].heading.match(/[S]3[0-4]|2[0-9]|1[0-9]|[1-9] [/] S[1-4]CB/i)?(r||(r=s,i.push(Object(ce.jsx)(S,{title:"Inverter Strings",tag:"PV",openRows:g},s))),s,n.push(Object(ce.jsx)(zs,{value:t[s],block:a},t[s].heading))):i.push(Object(ce.jsx)(Ms,{value:t[s],block:a},s));var l,j=[].concat(i);if(b&&g)(l=j).splice.apply(l,[c+1,0].concat(e)),j=[].concat(Object(me.a)(j),[n]);else if(b&&!g){var d;(d=j).splice.apply(d,[c+1,0].concat(e))}else j=!b&&g?[].concat(Object(me.a)(j),[n]):[].concat(i);o(j)}),[t,b,g]),Object(ce.jsx)(pe.a,{component:he.a,elevation:6,className:c.tableContainer,children:Object(ce.jsxs)(ge.a,{stickyHeader:!0,"aria-label":"customized table",size:"small",children:[Object(ce.jsx)(fe.a,{children:Object(ce.jsxs)(ve.a,{children:[Object(ce.jsx)(Es,{style:{paddingTop:".7rem",paddingLeft:"1.75rem",paddingBottom:".7rem"},children:Object(ce.jsx)("strong",{children:"Parameters"})}),Object(ce.jsx)(Es,{align:"center",children:Object(ce.jsx)("strong",{children:"Inv 1"})}),3!==a&&Object(ce.jsx)(Es,{align:"center",children:Object(ce.jsx)("strong",{children:"Inv 2"})})]})}),Object(ce.jsx)(xe.a,{children:l})]})})}function Gs(e){return Object(ce.jsx)($.a,Object(h.a)({elevation:6,variant:"filled"},e))}var Ws=Object(D.a)((function(e){return{grow:{flexGrow:1},gaugeChartStyle:{marginTop:e.spacing(12)},formControl:{minWidth:120},modalCardStyle:{width:340,height:"fit-content"},gridBreakpoint:Object(m.a)({},e.breakpoints.up("md"),{})}}));function Xs(e){e.handleSessionExpire;var t=e.handleClickOpen,a=e.sitestatusBar,c=Ws(),r=$e().intervalTime,s=(localStorage.getItem("username","Admin"),localStorage.getItem("userToken")),l=(localStorage.getItem("userId"),K),o=Object(n.useState)((new Date).getTime()),j=Object(u.a)(o,2),d=j[0],b=j[1],m=Object(n.useState)(0),h=Object(u.a)(m,2),O=h[0],g=h[1],x=Object(n.useState)(void 0),p=Object(u.a)(x,2),f=p[0],y=p[1],T=Object(n.useState)({}),I=Object(u.a)(T,2),k=I[0],w=I[1],N=Object(n.useState)(0),L=Object(u.a)(N,2),D=L[0],P=L[1],F=Object(n.useState)(0),A=Object(u.a)(F,2),E=(A[0],A[1]),H=Object(n.useState)(0),_=Object(u.a)(H,2),z=_[0],M=_[1],R=Object(n.useState)(0),G=Object(u.a)(R,2),W=G[0],Y=G[1],q=Object(n.useState)(0),U=Object(u.a)(q,2),$=U[0],Q=U[1],ee=Object(n.useState)(0),te=Object(u.a)(ee,2),ae=te[0],ne=te[1],ie=Object(n.useState)(0),re=Object(u.a)(ie,2),le=re[0],oe=re[1],je=Object(n.useState)(0),de=Object(u.a)(je,2),be=de[0],me=de[1],he=Object(n.useState)([{time:"00:00",gti:"0.00",ghi:"0.00",pg:"0.00"}]),Oe=Object(u.a)(he,2),ge=Oe[0],xe=Oe[1],Se=i.a.useState(1),pe=Object(u.a)(Se,2),fe=pe[0],ve=pe[1],Ce=Object(n.useState)([]),ye=Object(u.a)(Ce,2),Te=ye[0],Ie=ye[1],ke=Object(n.useState)(0),we=Object(u.a)(ke,2),Ne=we[0],Be=we[1];Object(n.useEffect)((function(){0!==Ne&&at(d)}),[Ne]);var Le=function(){return 0!==Ne?"1":"0"},De=function(){return Ne>0?"1":"0"},Pe=null,Fe=Object(n.useState)(!1),Ve=Object(u.a)(Fe,2),Ee=Ve[0],He=Ve[1],ze=Object(n.useState)(new Date),Me=Object(u.a)(ze,2),Re=Me[0],Ge=Me[1],We=Object(n.useState)(!1),Xe=Object(u.a)(We,2),Ye=Xe[0],qe=Xe[1],Ue=Object(n.useState)(!0),Ze=Object(u.a)(Ue,2),Je=Ze[0],Qe=Ze[1],et=function(){He(!1)};Object(n.useEffect)((function(){b(Re.getTime())}),[Re]);var tt=function(e,t,a,n){X.a.get(l+"/gulelgudda/grid/B"+String(e).padStart(2,0),{headers:{jwtToken:s,startTime:t,endTime:a,beginTime:n,enablePacket:Le(),clientPacketTime:f,isNext:De()}}).then((function(e){!function(e){for(var t=[],a=Object.entries(e),n=["L1 I","L2 I","L3 I","L1 V","L2 V","L3 V","Frequency","DC I","DC V","Active Power","DC Power","Reactive Power","PF","Cab Temp","IGBT Temp","DC Energy","S1 L1 I","S1 L2 I","S1 L3 I","S1 L1 V","S1 L2 V","S1 L3 V","S1 DC I","S1 DC V","S1 Active Power","S1 DC Power","S1 PF","S1 IGBT Temp","S2 L1 I","S2 L2 I","S2 L3 I","S2 L1 V","S2 L2 V","S2 L3 V","S2 DC I","S2 DC V","S2 Active Power","S2 DC Power","S2 PF","S2 IGBT Temp","S3 L1 I","S3 L2 I","S3 L3 I","S3 L1 V","S3 L2 V","S3 L3 V","S3 DC I","S3 DC V","S3 Active Power","S3 DC Power","S3 PF","S3 IGBT Temp","S4 L1 I","S4 L2 I","S4 L3 I","S4 L1 V","S4 L2 V","S4 L3 V","S4 DC I","S4 DC V","S4 Active Power","S4 DC Power","S4 PF","S4 IGBT Temp","S1 + S2 Peak Active Power","S3 + S4 Peak Active Power","S1 / S1CB1 I","S2 / S1CB2 I","S3 / S1CB3 I","S4 / S1CB4 I","S5 / S1CB5 I","S6 / S1CB6 I","S7 / S1CB7 I","S8 / S1CB8 I","S9 / S2CB1 I","S10 / S2CB2 I","S11 / S2CB3 I","S12 / S2CB4 I","S13 / S2CB5 I","S14 / S2CB6 I","S15 / S2CB7 I","S16 / S2CB8 I","S17 / S3CB1 I","S18 / S3CB2 I","S19 / S3CB3 I","S20 / S3CB4 I","S21 / S3CB5 I","S22 / S3CB6 I","S23 / S3CB7 I","S24 / S3CB8 I","S25 / S4CB1 I","S26 / S4CB2 I","S27 / S4CB3 I","S28 / S4CB4 I","S29 / S4CB5 I","S30 / S4CB6 I","S31 / S4CB7 I","S32 / S4CB8 I"],i=0;i<n.length;i++){var c=NaN,r=NaN,s=NaN,l=NaN,o=NaN;try{a[i][1]&&(c=a[i][1]),a[n.length+i][1]&&(r=a[n.length+i][1]),a[2*n.length+i][1]&&(s=a[2*n.length+i][1]),a[3*n.length+i][1]&&(l=a[3*n.length+i][1]),a[4*n.length+i][1]&&(o=a[4*n.length+i][1])}catch(j){}t.push({heading:n[i],inv1:c,inv2:r,inv3:s,inv4:l,inv5:o})}Ie([].concat(t))}(e.data)})).catch((function(e){}))},at=function(e){var t=1623696973e3,a=e;a=Je?Date.now():e;var n=new Date(a);n.setHours(5,0,0,0);var i=n.getTime();!function(e,t,a){X.a.get(l+"/gulelgudda/site",{headers:{jwtToken:s,startTime:e,endTime:t,beginTime:a,enablePacket:Le(),clientPacketTime:f,isNext:De()}}).then((function(e){g(e.data.status),y(1e3*e.data.time)})).catch((function(e){}))}(t,a,i),function(e,t,a){X.a.get(l+"/gulelgudda/boxes",{headers:{jwtToken:s,startTime:e,endTime:t,beginTime:a,enablePacket:Le(),clientPacketTime:f,isNext:De()}}).then((function(e){w(e.data)})).catch((function(e){}))}(t,a,i),function(e,t,a){X.a.get(l+"/gulelgudda/gauge",{headers:{jwtToken:s,startTime:e,endTime:t,beginTime:a,enablePacket:Le(),clientPacketTime:f,isNext:De()}}).then((function(e){var t=e.data.value;P(Number(t).toFixed(2)),E(Number(t).toFixed(1)/50)})).catch((function(e){}))}(t,a,i),function(e,t,a){X.a.get(l+"/gulelgudda/temperature",{headers:{jwtToken:s,startTime:e,endTime:t,beginTime:a,enablePacket:Le(),clientPacketTime:f,isNext:De()}}).then((function(e){var t=e.data.ambientTemp,a=e.data.moduleTemp,n=e.data.humidity;M(Number(t).toFixed(1)),Y(Number(a).toFixed(1)),Q(Number(n).toFixed(1))})).catch((function(e){}))}(t,a,i),function(e,t,a){X.a.get(l+"/gulelgudda/wind",{headers:{jwtToken:s,startTime:e,endTime:t,beginTime:a,enablePacket:Le(),clientPacketTime:f,isNext:De()}}).then((function(e){var t=e.data.direction,a=e.data.speed;e.data.rain,ne(Number(t).toFixed(0)),oe(Number(a).toFixed(1)),me(Number(e.data.rain).toFixed(1))})).catch((function(e){}))}(t,a,i),function(e,t,a){X.a.get(l+"/gulelgudda/graph",{headers:{jwtToken:s,startTime:e,endTime:t,beginTime:a,enablePacket:Le(),clientPacketTime:f,isNext:De()}}).then((function(e){xe(e.data)})).catch((function(e){}))}(t,a,i),tt(fe,t,a,i)};Object(n.useEffect)((function(){(Pe=document.getElementById("timeSliderLabel2"))&&(Pe.innerText=(new Date).toLocaleString([],{hour:"2-digit",minute:"2-digit",hour12:!0}).toUpperCase()),at(d);var e=setInterval((function(){at(d)}),r);return function(){clearInterval(e)}}),[d]);var nt=Object(n.useState)("space-between"),it=Object(u.a)(nt,2),ct=(it[0],it[1]);return Object(n.useLayoutEffect)((function(){window.matchMedia("(min-width: 1280px)").matches?ct("space-between"):ct("flex-start")}),[]),Object(ce.jsxs)(i.a.Fragment,{children:[Object(ce.jsx)(C.a,{container:!0,justifyContent:"space-between",alignItems:"center",children:Object(ce.jsx)(rt,{sitestatusBar:a,status:O,timestamp:f,handleClickOpen:t,handleTimeReset:function(){Be(0);var e=new Date;Ge(e),b(e.getTime()),He(!0),Qe(!0)},setIsNextCount:Be,setOpenDateTimePicker:qe,getMinDateForPicker:function(){return new Date(16331112e5)},selectedDate:Re,getFormattedDateAndTimeString:function(e){var t=new Date(e);return Object(ce.jsxs)("span",{children:[String(t.getDate()).padStart(2,"0"),"/",String(t.getMonth()+1).padStart(2,"0"),"/",t.getFullYear(),Object(ce.jsx)("span",{children:"\u2003"}),t.toLocaleString([],{hour:"2-digit",minute:"2-digit",hour12:!0}).toUpperCase()]})},openDateTimePicker:Ye,handleDateChange:function(e){try{Qe(!1)}finally{Ge(e),qe(!1)}}})}),Object(ce.jsx)("div",{style:{marginTop:"2rem"}}),Object(ce.jsx)(Ae,{day_generation:k.day_generation,revenue:1e3*k.day_generation*5.59,peak_power:k.peak_power,ghi:k.ghi,gti:k.gti,plant_pr:k.plant_pr,grid_availability:k.grid_availability,plant_availability:k.plant_availability}),Object(ce.jsxs)(C.a,{container:!0,spacing:6,style:{marginTop:"1rem"},children:[Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(_e,{totalExport:D,maxValue:25})}),Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(se,{ambientTemp:z,moduleTemp:W,humidity:$})}),Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(Ke,{windDirection:ae,windSpeed:le,rain:be})})]}),Object(ce.jsxs)(S.a,{elevation:6,style:{marginTop:"2.5rem",height:"500px",width:"100%"},children:[Object(ce.jsx)(V.a,{variant:"h6",color:"textSecondary",style:{marginLeft:"1.5rem",marginTop:"1rem",marginBottom:"1.5rem"},children:"Irradiance / Generation"}),Object(ce.jsx)(ue,{data:ge,interval:12,leftAxisY:[0,1500],rightAxisY:[0,30]})]}),Object(ce.jsx)(C.a,{container:!0,style:{marginTop:"3rem"},children:Object(ce.jsxs)(C.a,{item:!0,xs:12,children:[Object(ce.jsxs)(C.a,{container:!0,spacing:2,alignItems:"center",style:{marginBottom:".5rem"},children:[Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(V.a,{variant:"h6",color:"textSecondary",children:"Inverter Values"})}),Object(ce.jsx)(C.a,{item:!0,className:c.grow}),Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsxs)(V.a,{style:{marginLeft:".25rem"},children:["Selected Block:"," "]})}),Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(v.a,{className:c.formControl,children:Object(ce.jsxs)(Z.a,{value:fe,onChange:function(e){ve(e.target.value);var t=new Date;t.setDate((new Date).getDate()-1),t.setHours(23,50,0,0);var a=new Date(d);a.setHours(5,0,0,0);var n=a.getTime();tt(e.target.value,t.getTime(),d,n)},children:[Object(ce.jsx)(B.a,{value:1,children:"B01"}),Object(ce.jsx)(B.a,{value:2,children:"B02"})]})})})]}),Object(ce.jsx)(Rs,{values:Te,block:fe})]})}),Object(ce.jsx)(J.a,{open:Ee,anchorOrigin:{vertical:"bottom",horizontal:"left"},autoHideDuration:4e3,onClose:et,children:Object(ce.jsx)(Gs,{onClose:et,severity:"success",children:"Time is reset!"})}),Object(ce.jsx)("div",{style:{marginBottom:"2rem"}})]})}var Ys=Object(Oe.a)((function(e){return{head:{backgroundColor:"#ffffbf",color:e.palette.common.black,fontSize:16},body:{fontSize:16}}}))(Se.a),qs=Object(Oe.a)((function(e){return{root:{"&:nth-of-type(odd)":{backgroundColor:e.palette.action.hover}}}}))(ve.a),Us=Object(D.a)({tableContainer:{maxHeight:"80vh"}}),Ks=function(e){var t=e.value,a=e.block,n=null;return Object(ce.jsxs)(qs,{children:[Object(ce.jsx)(Ys,{component:"th",scope:"row",style:{paddingTop:".6rem",paddingBottom:".6rem",backgroundColor:n},children:Object(ce.jsx)("strong",{style:{paddingLeft:"2.5rem"},children:t.heading})}),Object(ce.jsx)(Ys,{align:"center",style:{backgroundColor:n},children:Object(ce.jsx)("span",{children:isNaN(Number(t.inv1))?"-":-111===Number(t.inv1)?"X":Number(t.inv1).toFixed(2)})}),3!==a&&Object(ce.jsx)(Ys,{align:"center",style:{backgroundColor:n},children:Object(ce.jsx)("span",{children:isNaN(Number(t.inv2))?"-":-111===Number(t.inv2)?"X":Number(t.inv2).toFixed(2)})})]})},Zs=function(e){var t=e.value,a=e.block;return Object(ce.jsxs)(qs,{children:[Object(ce.jsx)(Ys,{component:"th",scope:"row",style:{paddingTop:".6rem",paddingBottom:".6rem"},children:Object(ce.jsx)("strong",{style:{paddingLeft:"1rem"},children:t.heading})}),Object(ce.jsx)(Ys,{align:"center",children:isNaN(Number(t.inv1))?"-":-111===Number(t.inv1)?"X":Number(t.inv1).toFixed(2)}),3!==a&&Object(ce.jsx)(Ys,{align:"center",children:isNaN(Number(t.inv2))?"-":-111===Number(t.inv2)?"X":Number(t.inv2).toFixed(2)})]})};function Js(e){var t=e.values,a=e.block,c=Us(),r=Object(n.useState)([]),s=Object(u.a)(r,2),l=s[0],o=s[1],j=i.a.useState(!1),d=Object(u.a)(j,2),b=d[0],m=d[1],h=i.a.useState(!1),O=Object(u.a)(h,2),g=O[0],x=O[1],S=function(e){var t=e.title,a=e.tag,n=e.openRows;return Object(ce.jsx)(qs,{children:Object(ce.jsxs)(Ys,{component:"th",scope:"row",colSpan:6,style:{backgroundColor:"#EBF5FB"},children:[Object(ce.jsx)("strong",{style:{paddingLeft:"1rem",paddingRight:".5rem",color:"#000"},children:t}),Object(ce.jsx)(y.a,{"aria-label":"expand row",size:"small",onClick:function(){return function(e){"S"===e?m((function(e){return!e})):x((function(e){return!e}))}(a)},style:{color:"#000"},children:n?Object(ce.jsx)(Ie.a,{}):Object(ce.jsx)(ye.a,{})})]})})};return Object(n.useEffect)((function(){for(var e=[],n=[],i=[],c=null,r=null,s=0;s<t.length;s++)t[s].heading.match(/S[1-4] [^/]/i)?(c||(c=s,i.push(Object(ce.jsx)(S,{title:"Inverter Slots",tag:"S",openRows:b},s))),s,e.push(Object(ce.jsx)(Ks,{value:t[s],block:a},t[s].heading))):t[s].heading.match(/[S]3[0-4]|2[0-9]|1[0-9]|[1-9] [/] S[1-4]CB/i)?(r||(r=s,i.push(Object(ce.jsx)(S,{title:"Inverter Strings",tag:"PV",openRows:g},s))),s,n.push(Object(ce.jsx)(Ks,{value:t[s],block:a},t[s].heading))):i.push(Object(ce.jsx)(Zs,{value:t[s],block:a},s));var l,j=[].concat(i);if(b&&g)(l=j).splice.apply(l,[c+1,0].concat(e)),j=[].concat(Object(me.a)(j),[n]);else if(b&&!g){var d;(d=j).splice.apply(d,[c+1,0].concat(e))}else j=!b&&g?[].concat(Object(me.a)(j),[n]):[].concat(i);o(j)}),[t,b,g]),Object(ce.jsx)(pe.a,{component:he.a,elevation:6,className:c.tableContainer,children:Object(ce.jsxs)(ge.a,{stickyHeader:!0,"aria-label":"customized table",size:"small",children:[Object(ce.jsx)(fe.a,{children:Object(ce.jsxs)(ve.a,{children:[Object(ce.jsx)(Ys,{style:{paddingTop:".7rem",paddingLeft:"1.75rem",paddingBottom:".7rem"},children:Object(ce.jsx)("strong",{children:"Parameters"})}),Object(ce.jsx)(Ys,{align:"center",children:Object(ce.jsx)("strong",{children:"Inv 1"})}),3!==a&&Object(ce.jsx)(Ys,{align:"center",children:Object(ce.jsx)("strong",{children:"Inv 2"})})]})}),Object(ce.jsx)(xe.a,{children:l})]})})}function $s(e){return Object(ce.jsx)($.a,Object(h.a)({elevation:6,variant:"filled"},e))}var Qs=Object(D.a)((function(e){return{grow:{flexGrow:1},gaugeChartStyle:{marginTop:e.spacing(12)},formControl:{minWidth:120},modalCardStyle:{width:340,height:"fit-content"},gridBreakpoint:Object(m.a)({},e.breakpoints.up("md"),{})}}));function el(e){e.handleSessionExpire;var t=e.handleClickOpen,a=e.sitestatusBar,c=Qs(),r=$e().intervalTime,s=(localStorage.getItem("username","Admin"),localStorage.getItem("userToken")),l=(localStorage.getItem("userId"),K),o=Object(n.useState)((new Date).getTime()),j=Object(u.a)(o,2),d=j[0],b=j[1],m=Object(n.useState)(0),h=Object(u.a)(m,2),O=h[0],g=h[1],x=Object(n.useState)(void 0),p=Object(u.a)(x,2),f=p[0],y=p[1],T=Object(n.useState)({}),I=Object(u.a)(T,2),k=I[0],w=I[1],N=Object(n.useState)(0),L=Object(u.a)(N,2),D=L[0],P=L[1],F=Object(n.useState)(0),A=Object(u.a)(F,2),E=(A[0],A[1]),H=Object(n.useState)(0),_=Object(u.a)(H,2),z=_[0],M=_[1],R=Object(n.useState)(0),G=Object(u.a)(R,2),W=G[0],Y=G[1],q=Object(n.useState)(0),U=Object(u.a)(q,2),$=U[0],Q=U[1],ee=Object(n.useState)(0),te=Object(u.a)(ee,2),ae=te[0],ne=te[1],ie=Object(n.useState)(0),re=Object(u.a)(ie,2),le=re[0],oe=re[1],je=Object(n.useState)(0),de=Object(u.a)(je,2),be=de[0],me=de[1],he=Object(n.useState)([{time:"00:00",gti:"0.00",ghi:"0.00",pg:"0.00"}]),Oe=Object(u.a)(he,2),ge=Oe[0],xe=Oe[1],Se=i.a.useState(1),pe=Object(u.a)(Se,2),fe=pe[0],ve=pe[1],Ce=Object(n.useState)([]),ye=Object(u.a)(Ce,2),Te=ye[0],Ie=ye[1],ke=Object(n.useState)(0),we=Object(u.a)(ke,2),Ne=we[0],Be=we[1];Object(n.useEffect)((function(){0!==Ne&&at(d)}),[Ne]);var Le=function(){return 0!==Ne?"1":"0"},De=function(){return Ne>0?"1":"0"},Pe=null,Fe=Object(n.useState)(!1),Ve=Object(u.a)(Fe,2),Ee=Ve[0],He=Ve[1],ze=Object(n.useState)(new Date),Me=Object(u.a)(ze,2),Re=Me[0],Ge=Me[1],We=Object(n.useState)(!1),Xe=Object(u.a)(We,2),Ye=Xe[0],qe=Xe[1],Ue=Object(n.useState)(!0),Ze=Object(u.a)(Ue,2),Je=Ze[0],Qe=Ze[1],et=function(){He(!1)};Object(n.useEffect)((function(){b(Re.getTime())}),[Re]);var tt=function(e,t,a,n){X.a.get(l+"/hukkeri/grid/B"+String(e).padStart(2,0),{headers:{jwtToken:s,startTime:t,endTime:a,beginTime:n,enablePacket:Le(),clientPacketTime:f,isNext:De()}}).then((function(e){!function(e){for(var t=[],a=Object.entries(e),n=["L1 I","L2 I","L3 I","L1 V","L2 V","L3 V","Frequency","DC I","DC V","Active Power","DC Power","Reactive Power","PF","Cab Temp","IGBT Temp","DC Energy","S1 L1 I","S1 L2 I","S1 L3 I","S1 L1 V","S1 L2 V","S1 L3 V","S1 DC I","S1 DC V","S1 Active Power","S1 DC Power","S1 PF","S1 IGBT Temp","S2 L1 I","S2 L2 I","S2 L3 I","S2 L1 V","S2 L2 V","S2 L3 V","S2 DC I","S2 DC V","S2 Active Power","S2 DC Power","S2 PF","S2 IGBT Temp","S3 L1 I","S3 L2 I","S3 L3 I","S3 L1 V","S3 L2 V","S3 L3 V","S3 DC I","S3 DC V","S3 Active Power","S3 DC Power","S3 PF","S3 IGBT Temp","S4 L1 I","S4 L2 I","S4 L3 I","S4 L1 V","S4 L2 V","S4 L3 V","S4 DC I","S4 DC V","S4 Active Power","S4 DC Power","S4 PF","S4 IGBT Temp","S1 + S2 Peak Active Power","S3 + S4 Peak Active Power","S1 / S1CB1 I","S2 / S1CB2 I","S3 / S1CB3 I","S4 / S1CB4 I","S5 / S1CB5 I","S6 / S1CB6 I","S7 / S1CB7 I","S8 / S1CB8 I","S9 / S2CB1 I","S10 / S2CB2 I","S11 / S2CB3 I","S12 / S2CB4 I","S13 / S2CB5 I","S14 / S2CB6 I","S15 / S2CB7 I","S16 / S2CB8 I","S17 / S3CB1 I","S18 / S3CB2 I","S19 / S3CB3 I","S20 / S3CB4 I","S21 / S3CB5 I","S22 / S3CB6 I","S23 / S3CB7 I","S24 / S3CB8 I","S25 / S4CB1 I","S26 / S4CB2 I","S27 / S4CB3 I","S28 / S4CB4 I","S29 / S4CB5 I","S30 / S4CB6 I","S31 / S4CB7 I","S32 / S4CB8 I"],i=0;i<n.length;i++){var c=NaN,r=NaN,s=NaN,l=NaN,o=NaN;try{a[i][1]&&(c=a[i][1]),a[n.length+i][1]&&(r=a[n.length+i][1]),a[2*n.length+i][1]&&(s=a[2*n.length+i][1]),a[3*n.length+i][1]&&(l=a[3*n.length+i][1]),a[4*n.length+i][1]&&(o=a[4*n.length+i][1])}catch(j){}t.push({heading:n[i],inv1:c,inv2:r,inv3:s,inv4:l,inv5:o})}Ie([].concat(t))}(e.data)})).catch((function(e){}))},at=function(e){var t=1623696973e3,a=e;a=Je?Date.now():e;var n=new Date(a);n.setHours(5,0,0,0);var i=n.getTime();!function(e,t,a){X.a.get(l+"/hukkeri/site",{headers:{jwtToken:s,startTime:e,endTime:t,beginTime:a,enablePacket:Le(),clientPacketTime:f,isNext:De()}}).then((function(e){g(e.data.status),y(1e3*e.data.time)})).catch((function(e){}))}(t,a,i),function(e,t,a){X.a.get(l+"/hukkeri/boxes",{headers:{jwtToken:s,startTime:e,endTime:t,beginTime:a,enablePacket:Le(),clientPacketTime:f,isNext:De()}}).then((function(e){w(e.data)})).catch((function(e){}))}(t,a,i),function(e,t,a){X.a.get(l+"/hukkeri/gauge",{headers:{jwtToken:s,startTime:e,endTime:t,beginTime:a,enablePacket:Le(),clientPacketTime:f,isNext:De()}}).then((function(e){var t=e.data.value;P(Number(t).toFixed(2)),E(Number(t).toFixed(1)/50)})).catch((function(e){}))}(t,a,i),function(e,t,a){X.a.get(l+"/hukkeri/temperature",{headers:{jwtToken:s,startTime:e,endTime:t,beginTime:a,enablePacket:Le(),clientPacketTime:f,isNext:De()}}).then((function(e){var t=e.data.ambientTemp,a=e.data.moduleTemp,n=e.data.humidity;M(Number(t).toFixed(1)),Y(Number(a).toFixed(1)),Q(Number(n).toFixed(1))})).catch((function(e){}))}(t,a,i),function(e,t,a){X.a.get(l+"/hukkeri/wind",{headers:{jwtToken:s,startTime:e,endTime:t,beginTime:a,enablePacket:Le(),clientPacketTime:f,isNext:De()}}).then((function(e){var t=e.data.direction,a=e.data.speed;e.data.rain,ne(Number(t).toFixed(0)),oe(Number(a).toFixed(1)),me(Number(e.data.rain).toFixed(1))})).catch((function(e){}))}(t,a,i),function(e,t,a){X.a.get(l+"/hukkeri/graph",{headers:{jwtToken:s,startTime:e,endTime:t,beginTime:a,enablePacket:Le(),clientPacketTime:f,isNext:De()}}).then((function(e){xe(e.data)})).catch((function(e){}))}(t,a,i),tt(fe,t,a,i)};Object(n.useEffect)((function(){(Pe=document.getElementById("timeSliderLabel2"))&&(Pe.innerText=(new Date).toLocaleString([],{hour:"2-digit",minute:"2-digit",hour12:!0}).toUpperCase()),at(d);var e=setInterval((function(){at(d)}),r);return function(){clearInterval(e)}}),[d]);var nt=Object(n.useState)("space-between"),it=Object(u.a)(nt,2),ct=(it[0],it[1]);return Object(n.useLayoutEffect)((function(){window.matchMedia("(min-width: 1280px)").matches?ct("space-between"):ct("flex-start")}),[]),Object(ce.jsxs)(i.a.Fragment,{children:[Object(ce.jsx)(C.a,{container:!0,justifyContent:"space-between",alignItems:"center",children:Object(ce.jsx)(rt,{sitestatusBar:a,status:O,timestamp:f,handleClickOpen:t,handleTimeReset:function(){Be(0);var e=new Date;Ge(e),b(e.getTime()),He(!0),Qe(!0)},setIsNextCount:Be,setOpenDateTimePicker:qe,getMinDateForPicker:function(){return new Date(16331112e5)},selectedDate:Re,getFormattedDateAndTimeString:function(e){var t=new Date(e);return Object(ce.jsxs)("span",{children:[String(t.getDate()).padStart(2,"0"),"/",String(t.getMonth()+1).padStart(2,"0"),"/",t.getFullYear(),Object(ce.jsx)("span",{children:"\u2003"}),t.toLocaleString([],{hour:"2-digit",minute:"2-digit",hour12:!0}).toUpperCase()]})},openDateTimePicker:Ye,handleDateChange:function(e){try{Qe(!1)}finally{Ge(e),qe(!1)}}})}),Object(ce.jsx)("div",{style:{marginTop:"2rem"}}),Object(ce.jsx)(Ae,{day_generation:k.day_generation,revenue:1e3*k.day_generation*5.59,peak_power:k.peak_power,ghi:k.ghi,gti:k.gti,plant_pr:k.plant_pr,grid_availability:k.grid_availability,plant_availability:k.plant_availability}),Object(ce.jsxs)(C.a,{container:!0,spacing:6,style:{marginTop:"1rem"},children:[Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(_e,{totalExport:D,maxValue:25})}),Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(se,{ambientTemp:z,moduleTemp:W,humidity:$})}),Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(Ke,{windDirection:ae,windSpeed:le,rain:be})})]}),Object(ce.jsxs)(S.a,{elevation:6,style:{marginTop:"2.5rem",height:"500px",width:"100%"},children:[Object(ce.jsx)(V.a,{variant:"h6",color:"textSecondary",style:{marginLeft:"1.5rem",marginTop:"1rem",marginBottom:"1.5rem"},children:"Irradiance / Generation"}),Object(ce.jsx)(ue,{data:ge,interval:12,leftAxisY:[0,1500],rightAxisY:[0,30]})]}),Object(ce.jsx)(C.a,{container:!0,style:{marginTop:"3rem"},children:Object(ce.jsxs)(C.a,{item:!0,xs:12,children:[Object(ce.jsxs)(C.a,{container:!0,spacing:2,alignItems:"center",style:{marginBottom:".5rem"},children:[Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(V.a,{variant:"h6",color:"textSecondary",children:"Inverter Values"})}),Object(ce.jsx)(C.a,{item:!0,className:c.grow}),Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsxs)(V.a,{style:{marginLeft:".25rem"},children:["Selected Block:"," "]})}),Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(v.a,{className:c.formControl,children:Object(ce.jsxs)(Z.a,{value:fe,onChange:function(e){ve(e.target.value);var t=new Date;t.setDate((new Date).getDate()-1),t.setHours(23,50,0,0);var a=new Date(d);a.setHours(5,0,0,0);var n=a.getTime();tt(e.target.value,t.getTime(),d,n)},children:[Object(ce.jsx)(B.a,{value:1,children:"B01"}),Object(ce.jsx)(B.a,{value:2,children:"B02"})]})})})]}),Object(ce.jsx)(Js,{values:Te,block:fe})]})}),Object(ce.jsx)(J.a,{open:Ee,anchorOrigin:{vertical:"bottom",horizontal:"left"},autoHideDuration:4e3,onClose:et,children:Object(ce.jsx)($s,{onClose:et,severity:"success",children:"Time is reset!"})}),Object(ce.jsx)("div",{style:{marginBottom:"2rem"}})]})}var tl=Object(Oe.a)((function(e){return{head:{backgroundColor:"#ffffbf",color:e.palette.common.black,fontSize:16},body:{fontSize:16}}}))(Se.a),al=Object(Oe.a)((function(e){return{root:{"&:nth-of-type(odd)":{backgroundColor:e.palette.action.hover}}}}))(ve.a),nl=Object(D.a)({tableContainer:{maxHeight:"80vh"}}),il=function(e){var t=e.value,a=e.block,n=null;return Object(ce.jsxs)(al,{children:[Object(ce.jsx)(tl,{component:"th",scope:"row",style:{paddingTop:".6rem",paddingBottom:".6rem",backgroundColor:n},children:Object(ce.jsx)("strong",{style:{paddingLeft:"2.5rem"},children:t.heading})}),Object(ce.jsx)(tl,{align:"center",style:{backgroundColor:n},children:Object(ce.jsx)("span",{children:isNaN(Number(t.inv1))?"-":-111===Number(t.inv1)?"X":Number(t.inv1).toFixed(2)})}),3!==a&&Object(ce.jsx)(tl,{align:"center",style:{backgroundColor:n},children:Object(ce.jsx)("span",{children:isNaN(Number(t.inv2))?"-":-111===Number(t.inv2)?"X":Number(t.inv2).toFixed(2)})})]})},cl=function(e){var t=e.value,a=e.block;return Object(ce.jsxs)(al,{children:[Object(ce.jsx)(tl,{component:"th",scope:"row",style:{paddingTop:".6rem",paddingBottom:".6rem"},children:Object(ce.jsx)("strong",{style:{paddingLeft:"1rem"},children:t.heading})}),Object(ce.jsx)(tl,{align:"center",children:isNaN(Number(t.inv1))?"-":-111===Number(t.inv1)?"X":Number(t.inv1).toFixed(2)}),3!==a&&Object(ce.jsx)(tl,{align:"center",children:isNaN(Number(t.inv2))?"-":-111===Number(t.inv2)?"X":Number(t.inv2).toFixed(2)})]})};function rl(e){var t=e.values,a=e.block,c=nl(),r=Object(n.useState)([]),s=Object(u.a)(r,2),l=s[0],o=s[1],j=i.a.useState(!1),d=Object(u.a)(j,2),b=d[0],m=d[1],h=i.a.useState(!1),O=Object(u.a)(h,2),g=O[0],x=O[1],S=function(e){var t=e.title,a=e.tag,n=e.openRows;return Object(ce.jsx)(al,{children:Object(ce.jsxs)(tl,{component:"th",scope:"row",colSpan:6,style:{backgroundColor:"#EBF5FB"},children:[Object(ce.jsx)("strong",{style:{paddingLeft:"1rem",paddingRight:".5rem",color:"#000"},children:t}),Object(ce.jsx)(y.a,{"aria-label":"expand row",size:"small",onClick:function(){return function(e){"S"===e?m((function(e){return!e})):x((function(e){return!e}))}(a)},style:{color:"#000"},children:n?Object(ce.jsx)(Ie.a,{}):Object(ce.jsx)(ye.a,{})})]})})};return Object(n.useEffect)((function(){for(var e=[],n=[],i=[],c=null,r=null,s=0;s<t.length;s++)t[s].heading.match(/S[1-4] [^/]/i)?(c||(c=s,i.push(Object(ce.jsx)(S,{title:"Inverter Slots",tag:"S",openRows:b},s))),s,e.push(Object(ce.jsx)(il,{value:t[s],block:a},t[s].heading))):t[s].heading.match(/[S]3[0-4]|2[0-9]|1[0-9]|[1-9] [/] S[1-4]CB/i)?(r||(r=s,i.push(Object(ce.jsx)(S,{title:"Inverter Strings",tag:"PV",openRows:g},s))),s,n.push(Object(ce.jsx)(il,{value:t[s],block:a},t[s].heading))):i.push(Object(ce.jsx)(cl,{value:t[s],block:a},s));var l,j=[].concat(i);if(b&&g)(l=j).splice.apply(l,[c+1,0].concat(e)),j=[].concat(Object(me.a)(j),[n]);else if(b&&!g){var d;(d=j).splice.apply(d,[c+1,0].concat(e))}else j=!b&&g?[].concat(Object(me.a)(j),[n]):[].concat(i);o(j)}),[t,b,g]),Object(ce.jsx)(pe.a,{component:he.a,elevation:6,className:c.tableContainer,children:Object(ce.jsxs)(ge.a,{stickyHeader:!0,"aria-label":"customized table",size:"small",children:[Object(ce.jsx)(fe.a,{children:Object(ce.jsxs)(ve.a,{children:[Object(ce.jsx)(tl,{style:{paddingTop:".7rem",paddingLeft:"1.75rem",paddingBottom:".7rem"},children:Object(ce.jsx)("strong",{children:"Parameters"})}),Object(ce.jsx)(tl,{align:"center",children:Object(ce.jsx)("strong",{children:"Inv 1"})}),3!==a&&Object(ce.jsx)(tl,{align:"center",children:Object(ce.jsx)("strong",{children:"Inv 2"})})]})}),Object(ce.jsx)(xe.a,{children:l})]})})}function sl(e){return Object(ce.jsx)($.a,Object(h.a)({elevation:6,variant:"filled"},e))}var ll=Object(D.a)((function(e){return{grow:{flexGrow:1},gaugeChartStyle:{marginTop:e.spacing(12)},formControl:{minWidth:120},modalCardStyle:{width:340,height:"fit-content"},gridBreakpoint:Object(m.a)({},e.breakpoints.up("md"),{})}}));function ol(e){e.handleSessionExpire;var t=e.handleClickOpen,a=e.sitestatusBar,c=ll(),r=$e().intervalTime,s=(localStorage.getItem("username","Admin"),localStorage.getItem("userToken")),l=(localStorage.getItem("userId"),K),o=Object(n.useState)((new Date).getTime()),j=Object(u.a)(o,2),d=j[0],b=j[1],m=Object(n.useState)(0),h=Object(u.a)(m,2),O=h[0],g=h[1],x=Object(n.useState)(void 0),p=Object(u.a)(x,2),f=p[0],y=p[1],T=Object(n.useState)({}),I=Object(u.a)(T,2),k=I[0],w=I[1],N=Object(n.useState)(0),L=Object(u.a)(N,2),D=L[0],P=L[1],F=Object(n.useState)(0),A=Object(u.a)(F,2),E=(A[0],A[1]),H=Object(n.useState)(0),_=Object(u.a)(H,2),z=_[0],M=_[1],R=Object(n.useState)(0),G=Object(u.a)(R,2),W=G[0],Y=G[1],q=Object(n.useState)(0),U=Object(u.a)(q,2),$=U[0],Q=U[1],ee=Object(n.useState)(0),te=Object(u.a)(ee,2),ae=te[0],ne=te[1],ie=Object(n.useState)(0),re=Object(u.a)(ie,2),le=re[0],oe=re[1],je=Object(n.useState)(0),de=Object(u.a)(je,2),be=de[0],me=de[1],he=Object(n.useState)([{time:"00:00",gti:"0.00",ghi:"0.00",pg:"0.00"}]),Oe=Object(u.a)(he,2),ge=Oe[0],xe=Oe[1],Se=i.a.useState(1),pe=Object(u.a)(Se,2),fe=pe[0],ve=pe[1],Ce=Object(n.useState)([]),ye=Object(u.a)(Ce,2),Te=ye[0],Ie=ye[1],ke=Object(n.useState)(0),we=Object(u.a)(ke,2),Ne=we[0],Be=we[1];Object(n.useEffect)((function(){0!==Ne&&at(d)}),[Ne]);var Le=function(){return 0!==Ne?"1":"0"},De=function(){return Ne>0?"1":"0"},Pe=null,Fe=Object(n.useState)(!1),Ve=Object(u.a)(Fe,2),Ee=Ve[0],He=Ve[1],ze=Object(n.useState)(new Date),Me=Object(u.a)(ze,2),Re=Me[0],Ge=Me[1],We=Object(n.useState)(!1),Xe=Object(u.a)(We,2),Ye=Xe[0],qe=Xe[1],Ue=Object(n.useState)(!0),Ze=Object(u.a)(Ue,2),Je=Ze[0],Qe=Ze[1],et=function(){He(!1)};Object(n.useEffect)((function(){b(Re.getTime())}),[Re]);var tt=function(e,t,a,n){X.a.get(l+"/kittur/grid/B"+String(e).padStart(2,0),{headers:{jwtToken:s,startTime:t,endTime:a,beginTime:n,enablePacket:Le(),clientPacketTime:f,isNext:De()}}).then((function(e){!function(e){for(var t=[],a=Object.entries(e),n=["L1 I","L2 I","L3 I","L1 V","L2 V","L3 V","Frequency","DC I","DC V","Active Power","DC Power","Reactive Power","PF","Cab Temp","IGBT Temp","DC Energy","S1 L1 I","S1 L2 I","S1 L3 I","S1 L1 V","S1 L2 V","S1 L3 V","S1 DC I","S1 DC V","S1 Active Power","S1 DC Power","S1 PF","S1 IGBT Temp","S2 L1 I","S2 L2 I","S2 L3 I","S2 L1 V","S2 L2 V","S2 L3 V","S2 DC I","S2 DC V","S2 Active Power","S2 DC Power","S2 PF","S2 IGBT Temp","S3 L1 I","S3 L2 I","S3 L3 I","S3 L1 V","S3 L2 V","S3 L3 V","S3 DC I","S3 DC V","S3 Active Power","S3 DC Power","S3 PF","S3 IGBT Temp","S4 L1 I","S4 L2 I","S4 L3 I","S4 L1 V","S4 L2 V","S4 L3 V","S4 DC I","S4 DC V","S4 Active Power","S4 DC Power","S4 PF","S4 IGBT Temp","S1 + S2 Peak Active Power","S3 + S4 Peak Active Power","S1 / S1CB1 I","S2 / S1CB2 I","S3 / S1CB3 I","S4 / S1CB4 I","S5 / S1CB5 I","S6 / S1CB6 I","S7 / S1CB7 I","S8 / S1CB8 I","S9 / S2CB1 I","S10 / S2CB2 I","S11 / S2CB3 I","S12 / S2CB4 I","S13 / S2CB5 I","S14 / S2CB6 I","S15 / S2CB7 I","S16 / S2CB8 I","S17 / S3CB1 I","S18 / S3CB2 I","S19 / S3CB3 I","S20 / S3CB4 I","S21 / S3CB5 I","S22 / S3CB6 I","S23 / S3CB7 I","S24 / S3CB8 I","S25 / S4CB1 I","S26 / S4CB2 I","S27 / S4CB3 I","S28 / S4CB4 I","S29 / S4CB5 I","S30 / S4CB6 I","S31 / S4CB7 I","S32 / S4CB8 I"],i=0;i<n.length;i++){var c=NaN,r=NaN,s=NaN,l=NaN,o=NaN;try{a[i][1]&&(c=a[i][1]),a[n.length+i][1]&&(r=a[n.length+i][1]),a[2*n.length+i][1]&&(s=a[2*n.length+i][1]),a[3*n.length+i][1]&&(l=a[3*n.length+i][1]),a[4*n.length+i][1]&&(o=a[4*n.length+i][1])}catch(j){}t.push({heading:n[i],inv1:c,inv2:r,inv3:s,inv4:l,inv5:o})}Ie([].concat(t))}(e.data)})).catch((function(e){}))},at=function(e){var t=1623696973e3,a=e;a=Je?Date.now():e;var n=new Date(a);n.setHours(5,0,0,0);var i=n.getTime();!function(e,t,a){X.a.get(l+"/kittur/site",{headers:{jwtToken:s,startTime:e,endTime:t,beginTime:a,enablePacket:Le(),clientPacketTime:f,isNext:De()}}).then((function(e){g(e.data.status),y(1e3*e.data.time)})).catch((function(e){}))}(t,a,i),function(e,t,a){X.a.get(l+"/kittur/boxes",{headers:{jwtToken:s,startTime:e,endTime:t,beginTime:a,enablePacket:Le(),clientPacketTime:f,isNext:De()}}).then((function(e){w(e.data)})).catch((function(e){}))}(t,a,i),function(e,t,a){X.a.get(l+"/kittur/gauge",{headers:{jwtToken:s,startTime:e,endTime:t,beginTime:a,enablePacket:Le(),clientPacketTime:f,isNext:De()}}).then((function(e){var t=e.data.value;P(Number(t).toFixed(2)),E(Number(t).toFixed(1)/50)})).catch((function(e){}))}(t,a,i),function(e,t,a){X.a.get(l+"/kittur/temperature",{headers:{jwtToken:s,startTime:e,endTime:t,beginTime:a,enablePacket:Le(),clientPacketTime:f,isNext:De()}}).then((function(e){var t=e.data.ambientTemp,a=e.data.moduleTemp,n=e.data.humidity;M(Number(t).toFixed(1)),Y(Number(a).toFixed(1)),Q(Number(n).toFixed(1))})).catch((function(e){}))}(t,a,i),function(e,t,a){X.a.get(l+"/kittur/wind",{headers:{jwtToken:s,startTime:e,endTime:t,beginTime:a,enablePacket:Le(),clientPacketTime:f,isNext:De()}}).then((function(e){var t=e.data.direction,a=e.data.speed;e.data.rain,ne(Number(t).toFixed(0)),oe(Number(a).toFixed(1)),me(Number(e.data.rain).toFixed(1))})).catch((function(e){}))}(t,a,i),function(e,t,a){X.a.get(l+"/kittur/graph",{headers:{jwtToken:s,startTime:e,endTime:t,beginTime:a,enablePacket:Le(),clientPacketTime:f,isNext:De()}}).then((function(e){xe(e.data)})).catch((function(e){}))}(t,a,i),tt(fe,t,a,i)};Object(n.useEffect)((function(){(Pe=document.getElementById("timeSliderLabel2"))&&(Pe.innerText=(new Date).toLocaleString([],{hour:"2-digit",minute:"2-digit",hour12:!0}).toUpperCase()),at(d);var e=setInterval((function(){at(d)}),r);return function(){clearInterval(e)}}),[d]);var nt=Object(n.useState)("space-between"),it=Object(u.a)(nt,2),ct=(it[0],it[1]);return Object(n.useLayoutEffect)((function(){window.matchMedia("(min-width: 1280px)").matches?ct("space-between"):ct("flex-start")}),[]),Object(ce.jsxs)(i.a.Fragment,{children:[Object(ce.jsx)(C.a,{container:!0,justifyContent:"space-between",alignItems:"center",children:Object(ce.jsx)(rt,{sitestatusBar:a,status:O,timestamp:f,handleClickOpen:t,handleTimeReset:function(){Be(0);var e=new Date;Ge(e),b(e.getTime()),He(!0),Qe(!0)},setIsNextCount:Be,setOpenDateTimePicker:qe,getMinDateForPicker:function(){return new Date(16335648e5)},selectedDate:Re,getFormattedDateAndTimeString:function(e){var t=new Date(e);return Object(ce.jsxs)("span",{children:[String(t.getDate()).padStart(2,"0"),"/",String(t.getMonth()+1).padStart(2,"0"),"/",t.getFullYear(),Object(ce.jsx)("span",{children:"\u2003"}),t.toLocaleString([],{hour:"2-digit",minute:"2-digit",hour12:!0}).toUpperCase()]})},openDateTimePicker:Ye,handleDateChange:function(e){try{Qe(!1)}finally{Ge(e),qe(!1)}}})}),Object(ce.jsx)("div",{style:{marginTop:"2rem"}}),Object(ce.jsx)(Ae,{day_generation:k.day_generation,revenue:1e3*k.day_generation*5.59,peak_power:k.peak_power,ghi:k.ghi,gti:k.gti,plant_pr:k.plant_pr,grid_availability:k.grid_availability,plant_availability:k.plant_availability}),Object(ce.jsxs)(C.a,{container:!0,spacing:6,style:{marginTop:"1rem"},children:[Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(_e,{totalExport:D,maxValue:25})}),Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(se,{ambientTemp:z,moduleTemp:W,humidity:$})}),Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(Ke,{windDirection:ae,windSpeed:le,rain:be})})]}),Object(ce.jsxs)(S.a,{elevation:6,style:{marginTop:"2.5rem",height:"500px",width:"100%"},children:[Object(ce.jsx)(V.a,{variant:"h6",color:"textSecondary",style:{marginLeft:"1.5rem",marginTop:"1rem",marginBottom:"1.5rem"},children:"Irradiance / Generation"}),Object(ce.jsx)(ue,{data:ge,interval:12,leftAxisY:[0,1500],rightAxisY:[0,30]})]}),Object(ce.jsx)(C.a,{container:!0,style:{marginTop:"3rem"},children:Object(ce.jsxs)(C.a,{item:!0,xs:12,children:[Object(ce.jsxs)(C.a,{container:!0,spacing:2,alignItems:"center",style:{marginBottom:".5rem"},children:[Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(V.a,{variant:"h6",color:"textSecondary",children:"Inverter Values"})}),Object(ce.jsx)(C.a,{item:!0,className:c.grow}),Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsxs)(V.a,{style:{marginLeft:".25rem"},children:["Selected Block:"," "]})}),Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(v.a,{className:c.formControl,children:Object(ce.jsxs)(Z.a,{value:fe,onChange:function(e){ve(e.target.value);var t=new Date;t.setDate((new Date).getDate()-1),t.setHours(23,50,0,0);var a=new Date(d);a.setHours(5,0,0,0);var n=a.getTime();tt(e.target.value,t.getTime(),d,n)},children:[Object(ce.jsx)(B.a,{value:1,children:"B01"}),Object(ce.jsx)(B.a,{value:2,children:"B02"})]})})})]}),Object(ce.jsx)(rl,{values:Te,block:fe})]})}),Object(ce.jsx)(J.a,{open:Ee,anchorOrigin:{vertical:"bottom",horizontal:"left"},autoHideDuration:4e3,onClose:et,children:Object(ce.jsx)(sl,{onClose:et,severity:"success",children:"Time is reset!"})}),Object(ce.jsx)("div",{style:{marginBottom:"2rem"}})]})}var jl=Object(Oe.a)((function(e){return{head:{backgroundColor:"#ffffbf",color:e.palette.common.black,fontSize:16},body:{fontSize:16}}}))(Se.a),dl=Object(Oe.a)((function(e){return{root:{"&:nth-of-type(odd)":{backgroundColor:e.palette.action.hover}}}}))(ve.a),bl=Object(D.a)({tableContainer:{maxHeight:"80vh"}}),ul=function(e){var t=e.value,a=(e.block,null);return Object(ce.jsxs)(dl,{children:[Object(ce.jsx)(jl,{component:"th",scope:"row",style:{paddingTop:".6rem",paddingBottom:".6rem",backgroundColor:a},children:Object(ce.jsx)("strong",{style:{paddingLeft:"2.5rem"},children:t.heading})}),Object(ce.jsx)(jl,{align:"center",style:{backgroundColor:a},children:Object(ce.jsx)("span",{children:isNaN(Number(t.inv1))?"-":-111===Number(t.inv1)?"X":Number(t.inv1).toFixed(2)})}),Object(ce.jsx)(jl,{align:"center",style:{backgroundColor:a},children:Object(ce.jsx)("span",{children:isNaN(Number(t.inv2))?"-":-111===Number(t.inv2)?"X":Number(t.inv2).toFixed(2)})}),Object(ce.jsx)(jl,{align:"center",style:{backgroundColor:a},children:Object(ce.jsx)("span",{children:isNaN(Number(t.inv3))?"-":-111===Number(t.inv3)?"X":Number(t.inv3).toFixed(2)})}),Object(ce.jsx)(jl,{align:"center",style:{backgroundColor:a},children:Object(ce.jsx)("span",{children:isNaN(Number(t.inv4))?"-":-111===Number(t.inv4)?"X":Number(t.inv4).toFixed(2)})})]})},ml=function(e){var t=e.value;e.block;return Object(ce.jsxs)(dl,{children:[Object(ce.jsx)(jl,{component:"th",scope:"row",style:{paddingTop:".6rem",paddingBottom:".6rem"},children:Object(ce.jsx)("strong",{style:{paddingLeft:"1rem"},children:t.heading})}),Object(ce.jsx)(jl,{align:"center",children:isNaN(Number(t.inv1))?"-":-111===Number(t.inv1)?"X":Number(t.inv1).toFixed(2)}),Object(ce.jsx)(jl,{align:"center",children:isNaN(Number(t.inv2))?"-":-111===Number(t.inv2)?"X":Number(t.inv2).toFixed(2)}),Object(ce.jsx)(jl,{align:"center",children:isNaN(Number(t.inv3))?"-":-111===Number(t.inv3)?"X":Number(t.inv3).toFixed(2)}),Object(ce.jsx)(jl,{align:"center",children:isNaN(Number(t.inv4))?"-":-111===Number(t.inv4)?"X":Number(t.inv4).toFixed(2)})]})};function hl(e){var t=e.values,a=e.block,c=bl(),r=Object(n.useState)([]),s=Object(u.a)(r,2),l=s[0],o=s[1],j=i.a.useState(!1),d=Object(u.a)(j,2),b=d[0],m=d[1],h=i.a.useState(!1),O=Object(u.a)(h,2),g=O[0],x=O[1],S=function(e){var t=e.title,a=e.tag,n=e.openRows;return Object(ce.jsx)(dl,{children:Object(ce.jsxs)(jl,{component:"th",scope:"row",colSpan:6,style:{backgroundColor:"#EBF5FB"},children:[Object(ce.jsx)("strong",{style:{paddingLeft:"1rem",paddingRight:".5rem",color:"#000"},children:t}),Object(ce.jsx)(y.a,{"aria-label":"expand row",size:"small",onClick:function(){return function(e){"S"===e?m((function(e){return!e})):x((function(e){return!e}))}(a)},style:{color:"#000"},children:n?Object(ce.jsx)(Ie.a,{}):Object(ce.jsx)(ye.a,{})})]})})};return Object(n.useEffect)((function(){for(var e=[],n=[],i=[],c=null,r=null,s=0;s<t.length;s++)t[s].heading.match(/S[1-4] [^/]/i)?(c||(c=s,i.push(Object(ce.jsx)(S,{title:"Inverter Slots",tag:"S",openRows:b,block:a},s))),s,e.push(Object(ce.jsx)(ul,{value:t[s],block:a},t[s].heading))):t[s].heading.match(/[S]3[0-4]|2[0-9]|1[0-9]|[1-9] [/] S[1-4]CB/i)?(r||(r=s,i.push(Object(ce.jsx)(S,{title:"Inverter Strings",tag:"PV",openRows:g,block:a},s))),s,n.push(Object(ce.jsx)(ul,{value:t[s],block:a},t[s].heading))):i.push(Object(ce.jsx)(ml,{value:t[s],block:a},s));var l,j=[].concat(i);if(b&&g)(l=j).splice.apply(l,[c+1,0].concat(e)),j=[].concat(Object(me.a)(j),[n]);else if(b&&!g){var d;(d=j).splice.apply(d,[c+1,0].concat(e))}else j=!b&&g?[].concat(Object(me.a)(j),[n]):[].concat(i);o(j)}),[t,b,g]),Object(ce.jsx)(pe.a,{component:he.a,elevation:6,className:c.tableContainer,children:Object(ce.jsxs)(ge.a,{stickyHeader:!0,"aria-label":"customized table",size:"small",children:[Object(ce.jsx)(fe.a,{children:Object(ce.jsxs)(ve.a,{children:[Object(ce.jsx)(jl,{style:{paddingTop:".7rem",paddingLeft:"1.75rem",paddingBottom:".7rem"},children:Object(ce.jsx)("strong",{children:"Parameters"})}),Object(ce.jsx)(jl,{align:"center",children:Object(ce.jsx)("strong",{children:"Inv 1"})}),Object(ce.jsx)(jl,{align:"center",children:Object(ce.jsx)("strong",{children:"Inv 2"})}),Object(ce.jsx)(jl,{align:"center",children:Object(ce.jsx)("strong",{children:"Inv 3"})}),Object(ce.jsx)(jl,{align:"center",children:Object(ce.jsx)("strong",{children:"Inv 4"})})]})}),Object(ce.jsx)(xe.a,{children:l})]})})}function Ol(e){return Object(ce.jsx)($.a,Object(h.a)({elevation:6,variant:"filled"},e))}var gl=Object(D.a)((function(e){return{grow:{flexGrow:1},gaugeChartStyle:{marginTop:e.spacing(12)},formControl:{minWidth:120},modalCardStyle:{width:340,height:"fit-content"},gridBreakpoint:Object(m.a)({},e.breakpoints.up("md"),{})}}));function xl(e){var t=e.handleSessionExpire,a=e.handleClickOpen,c=e.sitestatusBar,r=gl(),s=$e().intervalTime,l=(localStorage.getItem("username","Admin"),localStorage.getItem("userToken")),o=(localStorage.getItem("userId"),K),j=Object(n.useState)((new Date).getTime()),d=Object(u.a)(j,2),b=d[0],m=d[1],h=Object(n.useState)(0),O=Object(u.a)(h,2),g=O[0],x=O[1],p=Object(n.useState)(void 0),f=Object(u.a)(p,2),y=f[0],T=f[1],I=Object(n.useState)({}),k=Object(u.a)(I,2),w=k[0],N=k[1],L=Object(n.useState)(0),D=Object(u.a)(L,2),P=D[0],F=D[1],A=Object(n.useState)(0),E=Object(u.a)(A,2),H=(E[0],E[1]),_=Object(n.useState)(0),z=Object(u.a)(_,2),M=z[0],R=z[1],G=Object(n.useState)(0),W=Object(u.a)(G,2),Y=W[0],q=W[1],U=Object(n.useState)(0),$=Object(u.a)(U,2),Q=$[0],ee=$[1],te=Object(n.useState)(0),ae=Object(u.a)(te,2),ne=ae[0],ie=ae[1],re=Object(n.useState)(0),le=Object(u.a)(re,2),oe=le[0],je=le[1],de=Object(n.useState)(0),be=Object(u.a)(de,2),me=be[0],he=be[1],Oe=Object(n.useState)([{time:"00:00",gti:"0.00",ghi:"0.00",pg:"0.00"}]),ge=Object(u.a)(Oe,2),xe=ge[0],Se=ge[1],pe=i.a.useState(1),fe=Object(u.a)(pe,2),ve=fe[0],Ce=fe[1],ye=Object(n.useState)([]),Te=Object(u.a)(ye,2),Ie=Te[0],ke=Te[1],we=Object(n.useState)(0),Ne=Object(u.a)(we,2),Be=Ne[0],Le=Ne[1];Object(n.useEffect)((function(){0!==Be&&nt(b)}),[Be]);var De=function(){return 0!==Be?"1":"0"},Pe=function(){return Be>0?"1":"0"},Fe=null,Ve=Object(n.useState)(!1),Ee=Object(u.a)(Ve,2),He=Ee[0],ze=Ee[1],Me=Object(n.useState)(new Date),Re=Object(u.a)(Me,2),Ge=Re[0],We=Re[1],Xe=Object(n.useState)(!1),Ye=Object(u.a)(Xe,2),qe=Ye[0],Ue=Ye[1],Ze=Object(n.useState)(!0),Je=Object(u.a)(Ze,2),Qe=Je[0],et=Je[1],tt=function(){ze(!1)};Object(n.useEffect)((function(){m(Ge.getTime())}),[Ge]);var at=function(e){e||(localStorage.setItem("siteInverterTableBlock",1),e=localStorage.getItem("siteInverterTableBlock"));var t=new Date;t.setDate((new Date).getDate()-1),t.setHours(23,50,0,0);var a=new Date(b);a.setHours(5,0,0,0);var n=a.getTime();X.a.get(o+"/bazpur/grid/B"+String(e).padStart(2,0),{headers:{jwtToken:l,startTime:t.getTime(),endTime:b,beginTime:n,enablePacket:De(),clientPacketTime:y,isNext:Pe()}}).then((function(e){!function(e){for(var t=[],a=Object.entries(e),n=["L1 I","L2 I","L3 I","L1 V","L2 V","L3 V","Frequency","DC I","DC V","Active Power","DC Power","Reactive Power","PF","Cab Temp","IGBT Temp","DC Energy","S1 L1 I","S1 L2 I","S1 L3 I","S1 L1 V","S1 L2 V","S1 L3 V","S1 DC I","S1 DC V","S1 Active Power","S1 DC Power","S1 PF","S1 IGBT Temp","S1 CAB Temp","S2 L1 I","S2 L2 I","S2 L3 I","S2 L1 V","S2 L2 V","S2 L3 V","S2 DC I","S2 DC V","S2 Active Power","S2 DC Power","S2 PF","S2 IGBT Temp","S2 CAB Temp","S3 L1 I","S3 L2 I","S3 L3 I","S3 L1 V","S3 L2 V","S3 L3 V","S3 DC I","S3 DC V","S3 Active Power","S3 DC Power","S3 PF","S3 IGBT Temp","S3 CAB Temp","S4 L1 I","S4 L2 I","S4 L3 I","S4 L1 V","S4 L2 V","S4 L3 V","S4 DC I","S4 DC V","S4 Active Power","S4 DC Power","S4 PF","S4 IGBT Temp","S4 CAB Temp","S1 + S2 Peak Active Power","S3 + S4 Peak Active Power","S1 / S1CB1 I","S2 / S1CB2 I","S3 / S1CB3 I","S4 / S1CB4 I","S5 / S1CB5 I","S6 / S1CB6 I","S7 / S1CB7 I","S8 / S1CB8 I","S9 / S2CB1 I","S10 / S2CB2 I","S11 / S2CB3 I","S12 / S2CB4 I","S13 / S2CB5 I","S14 / S2CB6 I","S15 / S2CB7 I","S16 / S2CB8 I","S17 / S3CB1 I","S18 / S3CB2 I","S19 / S3CB3 I","S20 / S3CB4 I","S21 / S3CB5 I","S22 / S3CB6 I","S23 / S3CB7 I","S24 / S3CB8 I","S25 / S4CB1 I","S26 / S4CB2 I","S27 / S4CB3 I","S28 / S4CB4 I","S29 / S4CB5 I","S30 / S4CB6 I","S31 / S4CB7 I","S32 / S4CB8 I"],i=0;i<n.length;i++){var c=NaN,r=NaN,s=NaN,l=NaN,o=NaN;try{a[i][1]&&(c=a[i][1]),a[n.length+i][1]&&(r=a[n.length+i][1]),a[2*n.length+i][1]&&(s=a[2*n.length+i][1]),a[3*n.length+i][1]&&(l=a[3*n.length+i][1]),a[4*n.length+i][1]&&(o=a[4*n.length+i][1])}catch(j){}t.push({heading:n[i],inv1:c,inv2:r,inv3:s,inv4:l,inv5:o})}ke([].concat(t))}(e.data)})).catch((function(e){}))};Object(n.useEffect)((function(){var e=setInterval((function(){return at(localStorage.getItem("siteInverterTableBlock"))}),6e4);return function(){clearInterval(e)}})),Object(n.useEffect)((function(){at(ve)}),[ve]);var nt=function(e){var a=1623696973e3,n=e;n=Qe?Date.now():e;var i=new Date(n);i.setHours(5,0,0,0);var c=i.getTime();!function(e,a,n){X.a.get(o+"/bazpur/site",{headers:{jwtToken:l,startTime:e,endTime:a,beginTime:n,enablePacket:De(),clientPacketTime:y,isNext:Pe()}}).then((function(e){x(e.data.status),T(1e3*e.data.time)})).catch((function(e){var a;401===(null===e||void 0===e||null===(a=e.response)||void 0===a?void 0:a.status)&&t()}))}(a,n,c),function(e,t,a){X.a.get(o+"/bazpur/boxes",{headers:{jwtToken:l,startTime:e,endTime:t,beginTime:a,enablePacket:De(),clientPacketTime:y,isNext:Pe()}}).then((function(e){N(e.data)})).catch((function(e){}))}(a,n,c),function(e,t,a){X.a.get(o+"/bazpur/gauge",{headers:{jwtToken:l,startTime:e,endTime:t,beginTime:a,enablePacket:De(),clientPacketTime:y,isNext:Pe()}}).then((function(e){var t=e.data.value;F(Number(t).toFixed(2)),H(Number(t).toFixed(1)/50)})).catch((function(e){}))}(a,n,c),function(e,t,a){X.a.get(o+"/bazpur/temperature",{headers:{jwtToken:l,startTime:e,endTime:t,beginTime:a,enablePacket:De(),clientPacketTime:y,isNext:Pe()}}).then((function(e){var t=e.data.ambientTemp,a=e.data.moduleTemp,n=e.data.humidity;R(Number(t).toFixed(1)),q(Number(a).toFixed(1)),ee(Number(n).toFixed(1))})).catch((function(e){}))}(a,n,c),function(e,t,a){X.a.get(o+"/bazpur/wind",{headers:{jwtToken:l,startTime:e,endTime:t,beginTime:a,enablePacket:De(),clientPacketTime:y,isNext:Pe()}}).then((function(e){var t=e.data.direction,a=e.data.speed;e.data.rain,ie(Number(t).toFixed(0)),je(Number(a).toFixed(1)),he(Number(e.data.rain).toFixed(1))})).catch((function(e){}))}(a,n,c),function(e,t,a){X.a.get(o+"/bazpur/graph",{headers:{jwtToken:l,startTime:e,endTime:t,beginTime:a,enablePacket:De(),clientPacketTime:y,isNext:Pe()}}).then((function(e){Se(e.data)})).catch((function(e){}))}(localStorage.getItem("siteInverterTableBlock"),n,c)};Object(n.useEffect)((function(){(Fe=document.getElementById("timeSliderLabel2"))&&(Fe.innerText=(new Date).toLocaleString([],{hour:"2-digit",minute:"2-digit",hour12:!0}).toUpperCase()),nt(b);var e=setInterval((function(){nt(b)}),s);return function(){clearInterval(e),localStorage.setItem("siteInverterTableBlock",1)}}),[b]);var it=Object(n.useState)("space-between"),ct=Object(u.a)(it,2),st=(ct[0],ct[1]);return Object(n.useLayoutEffect)((function(){window.matchMedia("(min-width: 1280px)").matches?st("space-between"):st("flex-start")}),[]),Object(ce.jsxs)(i.a.Fragment,{children:[Object(ce.jsx)(C.a,{container:!0,justifyContent:"space-between",alignItems:"center",children:Object(ce.jsx)(rt,{sitestatusBar:c,status:g,timestamp:y,handleClickOpen:a,handleTimeReset:function(){Le(0);var e=new Date;We(e),m(e.getTime()),ze(!0),et(!0)},setIsNextCount:Le,setOpenDateTimePicker:Ue,getMinDateForPicker:function(){return new Date(16336944e5)},selectedDate:Ge,getFormattedDateAndTimeString:function(e){var t=new Date(e);return Object(ce.jsxs)("span",{children:[String(t.getDate()).padStart(2,"0"),"/",String(t.getMonth()+1).padStart(2,"0"),"/",t.getFullYear(),Object(ce.jsx)("span",{children:"\u2003"}),t.toLocaleString([],{hour:"2-digit",minute:"2-digit",hour12:!0}).toUpperCase()]})},openDateTimePicker:qe,handleDateChange:function(e){try{et(!1)}finally{We(e),Ue(!1)}}})}),Object(ce.jsx)("div",{style:{marginTop:"2rem"}}),Object(ce.jsx)(Ae,{day_generation:w.day_generation,revenue:1e3*w.day_generation*5.59,peak_power:w.peak_power,ghi:w.ghi,gti:w.gti,plant_pr:w.plant_pr,grid_availability:w.grid_availability,plant_availability:w.plant_availability}),Object(ce.jsxs)(C.a,{container:!0,spacing:6,style:{marginTop:"1rem"},children:[Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(_e,{totalExport:P,maxValue:40})}),Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(se,{ambientTemp:M,moduleTemp:Y,humidity:Q})}),Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(Ke,{windDirection:ne,windSpeed:oe,rain:me})})]}),Object(ce.jsxs)(S.a,{elevation:6,style:{marginTop:"2.5rem",height:"500px",width:"100%"},children:[Object(ce.jsx)(V.a,{variant:"h6",color:"textSecondary",style:{marginLeft:"1.5rem",marginTop:"1rem",marginBottom:"1.5rem"},children:"Irradiance / Generation"}),Object(ce.jsx)(ue,{data:xe,interval:12,leftAxisY:[0,1200],rightAxisY:[0,30]})]}),Object(ce.jsx)(C.a,{container:!0,style:{marginTop:"3rem"},children:Object(ce.jsxs)(C.a,{item:!0,xs:12,children:[Object(ce.jsxs)(C.a,{container:!0,spacing:2,alignItems:"center",style:{marginBottom:".5rem"},children:[Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(V.a,{variant:"h6",color:"textSecondary",children:"Inverter Values"})}),Object(ce.jsx)(C.a,{item:!0,className:r.grow}),Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsxs)(V.a,{style:{marginLeft:".25rem"},children:["Selected Block:"," "]})}),Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(v.a,{className:r.formControl,children:Object(ce.jsxs)(Z.a,{defaultValue:1,value:ve,onChange:function(e){localStorage.setItem("siteInverterTableBlock",e.target.value),Ce((function(t){return Number(e.target.value)}))},children:[Object(ce.jsx)(B.a,{value:1,children:"B01"}),Object(ce.jsx)(B.a,{value:2,children:"B02"}),Object(ce.jsx)(B.a,{value:3,children:"B03"}),Object(ce.jsx)(B.a,{value:4,children:"B04"}),Object(ce.jsx)(B.a,{value:5,children:"B05"}),Object(ce.jsx)(B.a,{value:6,children:"B06"})]})})})]}),Object(ce.jsx)(hl,{values:Ie,block:ve})]})}),Object(ce.jsx)(J.a,{open:He,anchorOrigin:{vertical:"bottom",horizontal:"left"},autoHideDuration:4e3,onClose:tt,children:Object(ce.jsx)(Ol,{onClose:tt,severity:"success",children:"Time is reset!"})}),Object(ce.jsx)("div",{style:{marginBottom:"2rem"}})]})}var Sl=Object(Oe.a)((function(e){return{head:{backgroundColor:"#ffffbf",color:e.palette.common.black,fontSize:16},body:{fontSize:16}}}))(Se.a),pl=Object(Oe.a)((function(e){return{root:{"&:nth-of-type(odd)":{backgroundColor:e.palette.action.hover}}}}))(ve.a),fl=Object(D.a)({tableContainer:{maxHeight:"80vh"}}),vl=function(e){var t=e.value,a=(e.block,null);return Object(ce.jsxs)(pl,{children:[Object(ce.jsx)(Sl,{component:"th",scope:"row",style:{paddingTop:".6rem",paddingBottom:".6rem",backgroundColor:a},children:Object(ce.jsx)("strong",{style:{paddingLeft:"2.5rem"},children:t.heading})}),Object(ce.jsx)(Sl,{align:"center",style:{backgroundColor:a},children:Object(ce.jsx)("span",{children:isNaN(Number(t.inv1))?"-":-111===Number(t.inv1)?"X":Number(t.inv1).toFixed(2)})}),Object(ce.jsx)(Sl,{align:"center",style:{backgroundColor:a},children:Object(ce.jsx)("span",{children:isNaN(Number(t.inv2))?"-":-111===Number(t.inv2)?"X":Number(t.inv2).toFixed(2)})}),Object(ce.jsx)(Sl,{align:"center",style:{backgroundColor:a},children:Object(ce.jsx)("span",{children:isNaN(Number(t.inv3))?"-":-111===Number(t.inv3)?"X":Number(t.inv3).toFixed(2)})}),Object(ce.jsx)(Sl,{align:"center",style:{backgroundColor:a},children:Object(ce.jsx)("span",{children:isNaN(Number(t.inv4))?"-":-111===Number(t.inv4)?"X":Number(t.inv4).toFixed(2)})})]})},Cl=function(e){var t=e.value;e.block;return Object(ce.jsxs)(pl,{children:[Object(ce.jsx)(Sl,{component:"th",scope:"row",style:{paddingTop:".6rem",paddingBottom:".6rem"},children:Object(ce.jsx)("strong",{style:{paddingLeft:"1rem"},children:t.heading})}),Object(ce.jsx)(Sl,{align:"center",children:isNaN(Number(t.inv1))?"-":-111===Number(t.inv1)?"X":Number(t.inv1).toFixed(2)}),Object(ce.jsx)(Sl,{align:"center",children:isNaN(Number(t.inv2))?"-":-111===Number(t.inv2)?"X":Number(t.inv2).toFixed(2)}),Object(ce.jsx)(Sl,{align:"center",children:isNaN(Number(t.inv3))?"-":-111===Number(t.inv3)?"X":Number(t.inv3).toFixed(2)}),Object(ce.jsx)(Sl,{align:"center",children:isNaN(Number(t.inv4))?"-":-111===Number(t.inv4)?"X":Number(t.inv4).toFixed(2)})]})};function yl(e){var t=e.values,a=e.block,c=fl(),r=Object(n.useState)([]),s=Object(u.a)(r,2),l=s[0],o=s[1],j=i.a.useState(!1),d=Object(u.a)(j,2),b=d[0],m=d[1],h=i.a.useState(!1),O=Object(u.a)(h,2),g=O[0],x=O[1],S=function(e){var t=e.title,a=e.tag,n=e.openRows;return Object(ce.jsx)(pl,{children:Object(ce.jsxs)(Sl,{component:"th",scope:"row",colSpan:6,style:{backgroundColor:"#EBF5FB"},children:[Object(ce.jsx)("strong",{style:{paddingLeft:"1rem",paddingRight:".5rem",color:"#000"},children:t}),Object(ce.jsx)(y.a,{"aria-label":"expand row",size:"small",onClick:function(){return function(e){"S"===e?m((function(e){return!e})):x((function(e){return!e}))}(a)},style:{color:"#000"},children:n?Object(ce.jsx)(Ie.a,{}):Object(ce.jsx)(ye.a,{})})]})})};return Object(n.useEffect)((function(){for(var e=[],n=[],i=[],c=null,r=null,s=0;s<t.length;s++)t[s].heading.match(/S[1-4] [^/]/i)?(c||(c=s,i.push(Object(ce.jsx)(S,{title:"Inverter Slots",tag:"S",openRows:b,block:a},s))),s,e.push(Object(ce.jsx)(vl,{value:t[s],block:a},t[s].heading))):t[s].heading.match(/[S]3[0-4]|2[0-9]|1[0-9]|[1-9] [/] S[1-4]CB/i)?(r||(r=s,i.push(Object(ce.jsx)(S,{title:"Inverter Strings",tag:"PV",openRows:g,block:a},s))),s,n.push(Object(ce.jsx)(vl,{value:t[s],block:a},t[s].heading))):i.push(Object(ce.jsx)(Cl,{value:t[s],block:a},s));var l,j=[].concat(i);if(b&&g)(l=j).splice.apply(l,[c+1,0].concat(e)),j=[].concat(Object(me.a)(j),[n]);else if(b&&!g){var d;(d=j).splice.apply(d,[c+1,0].concat(e))}else j=!b&&g?[].concat(Object(me.a)(j),[n]):[].concat(i);o(j)}),[t,b,g]),Object(ce.jsx)(pe.a,{component:he.a,elevation:6,className:c.tableContainer,children:Object(ce.jsxs)(ge.a,{stickyHeader:!0,"aria-label":"customized table",size:"small",children:[Object(ce.jsx)(fe.a,{children:Object(ce.jsxs)(ve.a,{children:[Object(ce.jsx)(Sl,{style:{paddingTop:".7rem",paddingLeft:"1.75rem",paddingBottom:".7rem"},children:Object(ce.jsx)("strong",{children:"Parameters"})}),Object(ce.jsx)(Sl,{align:"center",children:Object(ce.jsx)("strong",{children:"Inv 1"})}),Object(ce.jsx)(Sl,{align:"center",children:Object(ce.jsx)("strong",{children:"Inv 2"})}),Object(ce.jsx)(Sl,{align:"center",children:Object(ce.jsx)("strong",{children:"Inv 3"})}),Object(ce.jsx)(Sl,{align:"center",children:Object(ce.jsx)("strong",{children:"Inv 4"})})]})}),Object(ce.jsx)(xe.a,{children:l})]})})}function Tl(e){return Object(ce.jsx)($.a,Object(h.a)({elevation:6,variant:"filled"},e))}var Il=Object(D.a)((function(e){return{grow:{flexGrow:1},gaugeChartStyle:{marginTop:e.spacing(12)},formControl:{minWidth:120},modalCardStyle:{width:340,height:"fit-content"},gridBreakpoint:Object(m.a)({},e.breakpoints.up("md"),{})}}));function kl(e){var t=e.handleSessionExpire,a=e.handleClickOpen,c=e.sitestatusBar,r=Il(),s=$e().intervalTime,l=(localStorage.getItem("username","Admin"),localStorage.getItem("userToken")),o=(localStorage.getItem("userId"),K),j=Object(n.useState)((new Date).getTime()),d=Object(u.a)(j,2),b=d[0],m=d[1],h=Object(n.useState)(0),O=Object(u.a)(h,2),g=O[0],x=O[1],p=Object(n.useState)(void 0),f=Object(u.a)(p,2),y=f[0],T=f[1],I=Object(n.useState)({}),k=Object(u.a)(I,2),w=k[0],N=k[1],L=Object(n.useState)(0),D=Object(u.a)(L,2),P=D[0],F=D[1],A=Object(n.useState)(0),E=Object(u.a)(A,2),H=(E[0],E[1]),_=Object(n.useState)(0),z=Object(u.a)(_,2),M=z[0],R=z[1],G=Object(n.useState)(0),W=Object(u.a)(G,2),Y=W[0],q=W[1],U=Object(n.useState)(0),$=Object(u.a)(U,2),Q=$[0],ee=$[1],te=Object(n.useState)(0),ae=Object(u.a)(te,2),ne=ae[0],ie=ae[1],re=Object(n.useState)(0),le=Object(u.a)(re,2),oe=le[0],je=le[1],de=Object(n.useState)(0),be=Object(u.a)(de,2),me=be[0],he=be[1],Oe=Object(n.useState)([{time:"00:00",gti:"0.00",ghi:"0.00",pg:"0.00"}]),ge=Object(u.a)(Oe,2),xe=ge[0],Se=ge[1],pe=i.a.useState(1),fe=Object(u.a)(pe,2),ve=fe[0],Ce=fe[1],ye=Object(n.useState)([]),Te=Object(u.a)(ye,2),Ie=Te[0],ke=Te[1],we=Object(n.useState)(0),Ne=Object(u.a)(we,2),Be=Ne[0],Le=Ne[1];Object(n.useEffect)((function(){0!==Be&&nt(b)}),[Be]);var De=function(){return 0!==Be?"1":"0"},Pe=function(){return Be>0?"1":"0"},Fe=null,Ve=Object(n.useState)(!1),Ee=Object(u.a)(Ve,2),He=Ee[0],ze=Ee[1],Me=Object(n.useState)(new Date),Re=Object(u.a)(Me,2),Ge=Re[0],We=Re[1],Xe=Object(n.useState)(!1),Ye=Object(u.a)(Xe,2),qe=Ye[0],Ue=Ye[1],Ze=Object(n.useState)(!0),Je=Object(u.a)(Ze,2),Qe=Je[0],et=Je[1],tt=function(){ze(!1)};Object(n.useEffect)((function(){m(Ge.getTime())}),[Ge]);var at=function(){var e=new Date;e.setDate((new Date).getDate()-1),e.setHours(23,50,0,0);var t=new Date(b);t.setHours(5,0,0,0);var a=t.getTime();X.a.get(o+"/bidar/grid/B"+String(ve).padStart(2,0),{headers:{jwtToken:l,startTime:e.getTime(),endTime:b,beginTime:a,enablePacket:De(),clientPacketTime:y,isNext:Pe()}}).then((function(e){!function(e){for(var t=[],a=Object.entries(e),n=["L1 I","L2 I","L3 I","L1 V","L2 V","L3 V","Frequency","DC I","DC V","Active Power","DC Power","Reactive Power","PF","Cab Temp","IGBT Temp","DC Energy","S1 L1 I","S1 L2 I","S1 L3 I","S1 L1 V","S1 L2 V","S1 L3 V","S1 DC I","S1 DC V","S1 Active Power","S1 DC Power","S1 PF","S1 IGBT Temp","S1 CAB Temp","S2 L1 I","S2 L2 I","S2 L3 I","S2 L1 V","S2 L2 V","S2 L3 V","S2 DC I","S2 DC V","S2 Active Power","S2 DC Power","S2 PF","S2 IGBT Temp","S2 CAB Temp","S3 L1 I","S3 L2 I","S3 L3 I","S3 L1 V","S3 L2 V","S3 L3 V","S3 DC I","S3 DC V","S3 Active Power","S3 DC Power","S3 PF","S3 IGBT Temp","S3 CAB Temp","S4 L1 I","S4 L2 I","S4 L3 I","S4 L1 V","S4 L2 V","S4 L3 V","S4 DC I","S4 DC V","S4 Active Power","S4 DC Power","S4 PF","S4 IGBT Temp","S4 CAB Temp","S1 + S2 Peak Active Power","S3 + S4 Peak Active Power","S1 / S1CB1 I","S2 / S1CB2 I","S3 / S1CB3 I","S4 / S1CB4 I","S5 / S1CB5 I","S6 / S1CB6 I","S7 / S1CB7 I","S8 / S1CB8 I","S9 / S2CB1 I","S10 / S2CB2 I","S11 / S2CB3 I","S12 / S2CB4 I","S13 / S2CB5 I","S14 / S2CB6 I","S15 / S2CB7 I","S16 / S2CB8 I","S17 / S3CB1 I","S18 / S3CB2 I","S19 / S3CB3 I","S20 / S3CB4 I","S21 / S3CB5 I","S22 / S3CB6 I","S23 / S3CB7 I","S24 / S3CB8 I","S25 / S4CB1 I","S26 / S4CB2 I","S27 / S4CB3 I","S28 / S4CB4 I","S29 / S4CB5 I","S30 / S4CB6 I","S31 / S4CB7 I","S32 / S4CB8 I"],i=0;i<n.length;i++){var c=NaN,r=NaN,s=NaN,l=NaN,o=NaN;try{a[i][1]&&(c=a[i][1]),a[n.length+i][1]&&(r=a[n.length+i][1]),a[2*n.length+i][1]&&(s=a[2*n.length+i][1]),a[3*n.length+i][1]&&(l=a[3*n.length+i][1]),a[4*n.length+i][1]&&(o=a[4*n.length+i][1])}catch(j){}t.push({heading:n[i],inv1:c,inv2:r,inv3:s,inv4:l,inv5:o})}ke([].concat(t))}(e.data)})).catch((function(e){}))};Object(n.useEffect)((function(){var e=setInterval(at,6e4);return function(){clearInterval(e)}})),Object(n.useEffect)((function(){at()}),[ve]);var nt=function(e){var a=1623696973e3,n=e;n=Qe?Date.now():e;var i=new Date(n);i.setHours(5,0,0,0);var c=i.getTime();!function(e,a,n){X.a.get(o+"/bidar/site",{headers:{jwtToken:l,startTime:e,endTime:a,beginTime:n,enablePacket:De(),clientPacketTime:y,isNext:Pe()}}).then((function(e){x(e.data.status),T(1e3*e.data.time)})).catch((function(e){var a;401===(null===e||void 0===e||null===(a=e.response)||void 0===a?void 0:a.status)&&t()}))}(a,n,c),function(e,t,a){X.a.get(o+"/bidar/boxes",{headers:{jwtToken:l,startTime:e,endTime:t,beginTime:a,enablePacket:De(),clientPacketTime:y,isNext:Pe()}}).then((function(e){N(e.data)})).catch((function(e){}))}(a,n,c),function(e,t,a){X.a.get(o+"/bidar/gauge",{headers:{jwtToken:l,startTime:e,endTime:t,beginTime:a,enablePacket:De(),clientPacketTime:y,isNext:Pe()}}).then((function(e){var t=e.data.value;F(Number(t).toFixed(2)),H(Number(t).toFixed(1)/50)})).catch((function(e){}))}(a,n,c),function(e,t,a){X.a.get(o+"/bidar/temperature",{headers:{jwtToken:l,startTime:e,endTime:t,beginTime:a,enablePacket:De(),clientPacketTime:y,isNext:Pe()}}).then((function(e){var t=e.data.ambientTemp,a=e.data.moduleTemp,n=e.data.humidity;R(Number(t).toFixed(1)),q(Number(a).toFixed(1)),ee(Number(n).toFixed(1))})).catch((function(e){}))}(a,n,c),function(e,t,a){X.a.get(o+"/bidar/wind",{headers:{jwtToken:l,startTime:e,endTime:t,beginTime:a,enablePacket:De(),clientPacketTime:y,isNext:Pe()}}).then((function(e){var t=e.data.direction,a=e.data.speed;e.data.rain,ie(Number(t).toFixed(0)),je(Number(a).toFixed(1)),he(Number(e.data.rain).toFixed(1))})).catch((function(e){}))}(a,n,c),function(e,t,a){X.a.get(o+"/bidar/graph",{headers:{jwtToken:l,startTime:e,endTime:t,beginTime:a,enablePacket:De(),clientPacketTime:y,isNext:Pe()}}).then((function(e){Se(e.data)})).catch((function(e){}))}(a,n,c)};Object(n.useEffect)((function(){(Fe=document.getElementById("timeSliderLabel2"))&&(Fe.innerText=(new Date).toLocaleString([],{hour:"2-digit",minute:"2-digit",hour12:!0}).toUpperCase()),nt(b);var e=setInterval((function(){nt(b)}),s);return function(){clearInterval(e)}}),[b]);var it=Object(n.useState)("space-between"),ct=Object(u.a)(it,2),st=(ct[0],ct[1]);return Object(n.useLayoutEffect)((function(){window.matchMedia("(min-width: 1280px)").matches?st("space-between"):st("flex-start")}),[]),Object(ce.jsxs)(i.a.Fragment,{children:[Object(ce.jsx)(C.a,{container:!0,justifyContent:"space-between",alignItems:"center",children:Object(ce.jsx)(rt,{sitestatusBar:c,status:g,timestamp:y,handleClickOpen:a,handleTimeReset:function(){Le(0);var e=new Date;We(e),m(e.getTime()),ze(!0),et(!0)},setIsNextCount:Le,setOpenDateTimePicker:Ue,getMinDateForPicker:function(){return new Date(16347312e5)},selectedDate:Ge,getFormattedDateAndTimeString:function(e){var t=new Date(e);return Object(ce.jsxs)("span",{children:[String(t.getDate()).padStart(2,"0"),"/",String(t.getMonth()+1).padStart(2,"0"),"/",t.getFullYear(),Object(ce.jsx)("span",{children:"\u2003"}),t.toLocaleString([],{hour:"2-digit",minute:"2-digit",hour12:!0}).toUpperCase()]})},openDateTimePicker:qe,handleDateChange:function(e){try{et(!1)}finally{We(e),Ue(!1)}}})}),Object(ce.jsx)("div",{style:{marginTop:"2rem"}}),Object(ce.jsx)(Ae,{day_generation:w.day_generation,revenue:1e3*w.day_generation*5.59,peak_power:w.peak_power,ghi:w.ghi,gti:w.gti,plant_pr:w.plant_pr,grid_availability:w.grid_availability,plant_availability:w.plant_availability}),Object(ce.jsxs)(C.a,{container:!0,spacing:6,style:{marginTop:"1rem"},children:[Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(_e,{totalExport:P,maxValue:60})}),Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(se,{ambientTemp:M,moduleTemp:Y,humidity:Q})}),Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(Ke,{windDirection:ne,windSpeed:oe,rain:me})})]}),Object(ce.jsxs)(S.a,{elevation:6,style:{marginTop:"2.5rem",height:"500px",width:"100%"},children:[Object(ce.jsx)(V.a,{variant:"h6",color:"textSecondary",style:{marginLeft:"1.5rem",marginTop:"1rem",marginBottom:"1.5rem"},children:"Irradiance / Generation"}),Object(ce.jsx)(ue,{data:xe,interval:12,leftAxisY:[0,1500],rightAxisY:[0,50]})]}),Object(ce.jsx)(C.a,{container:!0,style:{marginTop:"3rem"},children:Object(ce.jsxs)(C.a,{item:!0,xs:12,children:[Object(ce.jsxs)(C.a,{container:!0,spacing:2,alignItems:"center",style:{marginBottom:".5rem"},children:[Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(V.a,{variant:"h6",color:"textSecondary",children:"Inverter Values"})}),Object(ce.jsx)(C.a,{item:!0,className:r.grow}),Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsxs)(V.a,{style:{marginLeft:".25rem"},children:["Selected Block:"," "]})}),Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(v.a,{className:r.formControl,children:Object(ce.jsxs)(Z.a,{defaultValue:1,value:ve,onChange:function(e){Ce((function(t){return Number(e.target.value)}))},children:[Object(ce.jsx)(B.a,{value:1,children:"B01"}),Object(ce.jsx)(B.a,{value:2,children:"B02"}),Object(ce.jsx)(B.a,{value:3,children:"B03"}),Object(ce.jsx)(B.a,{value:4,children:"B04"}),Object(ce.jsx)(B.a,{value:5,children:"B05"}),Object(ce.jsx)(B.a,{value:6,children:"B06"}),Object(ce.jsx)(B.a,{value:7,children:"B07"}),Object(ce.jsx)(B.a,{value:8,children:"B08"})]})})})]}),Object(ce.jsx)(yl,{values:Ie,block:ve})]})}),Object(ce.jsx)(J.a,{open:He,anchorOrigin:{vertical:"bottom",horizontal:"left"},autoHideDuration:4e3,onClose:tt,children:Object(ce.jsx)(Tl,{onClose:tt,severity:"success",children:"Time is reset!"})}),Object(ce.jsx)("div",{style:{marginBottom:"2rem"}})]})}var wl=Object(Oe.a)((function(e){return{head:{backgroundColor:"#ffffbf",color:e.palette.common.black,fontSize:16},body:{fontSize:16}}}))(Se.a),Nl=Object(Oe.a)((function(e){return{root:{"&:nth-of-type(odd)":{backgroundColor:e.palette.action.hover}}}}))(ve.a),Bl=Object(D.a)({tableContainer:{maxHeight:"80vh"}}),Ll=function(e){var t=e.value,a=e.block,n=null;return Object(ce.jsxs)(Nl,{children:[Object(ce.jsx)(wl,{component:"th",scope:"row",style:{paddingTop:".6rem",paddingBottom:".6rem",backgroundColor:n},children:Object(ce.jsx)("strong",{style:{paddingLeft:"2.5rem"},children:t.heading})}),Object(ce.jsx)(wl,{align:"center",style:{backgroundColor:n},children:Object(ce.jsx)("span",{children:isNaN(Number(t.inv1))?"-":-111===Number(t.inv1)?"X":Number(t.inv1).toFixed(2)})}),3!==a&&Object(ce.jsx)(wl,{align:"center",style:{backgroundColor:n},children:Object(ce.jsx)("span",{children:isNaN(Number(t.inv2))?"-":-111===Number(t.inv2)?"X":Number(t.inv2).toFixed(2)})})]})},Dl=function(e){var t=e.value,a=e.block;return Object(ce.jsxs)(Nl,{children:[Object(ce.jsx)(wl,{component:"th",scope:"row",style:{paddingTop:".6rem",paddingBottom:".6rem"},children:Object(ce.jsx)("strong",{style:{paddingLeft:"1rem"},children:t.heading})}),Object(ce.jsx)(wl,{align:"center",children:isNaN(Number(t.inv1))?"-":-111===Number(t.inv1)?"X":Number(t.inv1).toFixed(2)}),3!==a&&Object(ce.jsx)(wl,{align:"center",children:isNaN(Number(t.inv2))?"-":-111===Number(t.inv2)?"X":Number(t.inv2).toFixed(2)})]})};function Pl(e){var t=e.values,a=e.block,c=Bl(),r=Object(n.useState)([]),s=Object(u.a)(r,2),l=s[0],o=s[1],j=i.a.useState(!1),d=Object(u.a)(j,2),b=d[0],m=d[1],h=i.a.useState(!1),O=Object(u.a)(h,2),g=O[0],x=O[1],S=function(e){var t=e.title,a=e.tag,n=e.openRows;return Object(ce.jsx)(Nl,{children:Object(ce.jsxs)(wl,{component:"th",scope:"row",colSpan:6,style:{backgroundColor:"#EBF5FB"},children:[Object(ce.jsx)("strong",{style:{paddingLeft:"1rem",paddingRight:".5rem",color:"#000"},children:t}),Object(ce.jsx)(y.a,{"aria-label":"expand row",size:"small",onClick:function(){return function(e){"S"===e?m((function(e){return!e})):x((function(e){return!e}))}(a)},style:{color:"#000"},children:n?Object(ce.jsx)(Ie.a,{}):Object(ce.jsx)(ye.a,{})})]})})};return Object(n.useEffect)((function(){for(var e=[],n=[],i=[],c=null,r=null,s=0;s<t.length;s++)t[s].heading.match(/S[1-4] [^/]/i)?(c||(c=s,i.push(Object(ce.jsx)(S,{title:"Inverter Slots",tag:"S",openRows:b},s))),s,e.push(Object(ce.jsx)(Ll,{value:t[s],block:a},t[s].heading))):t[s].heading.match(/[S]3[0-4]|2[0-9]|1[0-9]|[1-9] [/] S[1-4]CB/i)?(r||(r=s,i.push(Object(ce.jsx)(S,{title:"Inverter Strings",tag:"PV",openRows:g},s))),s,n.push(Object(ce.jsx)(Ll,{value:t[s],block:a},t[s].heading))):i.push(Object(ce.jsx)(Dl,{value:t[s],block:a},s));var l,j=[].concat(i);if(b&&g)(l=j).splice.apply(l,[c+1,0].concat(e)),j=[].concat(Object(me.a)(j),[n]);else if(b&&!g){var d;(d=j).splice.apply(d,[c+1,0].concat(e))}else j=!b&&g?[].concat(Object(me.a)(j),[n]):[].concat(i);o(j)}),[t,b,g]),Object(ce.jsx)(pe.a,{component:he.a,elevation:6,className:c.tableContainer,children:Object(ce.jsxs)(ge.a,{stickyHeader:!0,"aria-label":"customized table",size:"small",children:[Object(ce.jsx)(fe.a,{children:Object(ce.jsxs)(ve.a,{children:[Object(ce.jsx)(wl,{style:{paddingTop:".7rem",paddingLeft:"1.75rem",paddingBottom:".7rem"},children:Object(ce.jsx)("strong",{children:"Parameters"})}),Object(ce.jsx)(wl,{align:"center",children:Object(ce.jsx)("strong",{children:"Inv 1"})}),3!==a&&Object(ce.jsx)(wl,{align:"center",children:Object(ce.jsx)("strong",{children:"Inv 2"})})]})}),Object(ce.jsx)(xe.a,{children:l})]})})}function Fl(e){return Object(ce.jsx)($.a,Object(h.a)({elevation:6,variant:"filled"},e))}var Vl=Object(D.a)((function(e){return{grow:{flexGrow:1},gaugeChartStyle:{marginTop:e.spacing(12)},formControl:{minWidth:120},modalCardStyle:{width:340,height:"fit-content"},gridBreakpoint:Object(m.a)({},e.breakpoints.up("md"),{})}}));function Al(e){e.handleSessionExpire;var t=e.handleClickOpen,a=e.sitestatusBar,c=Vl(),r=$e().intervalTime,s=(localStorage.getItem("username","Admin"),localStorage.getItem("userToken")),l=(localStorage.getItem("userId"),K),o=Object(n.useState)((new Date).getTime()),j=Object(u.a)(o,2),d=j[0],b=j[1],m=Object(n.useState)(0),h=Object(u.a)(m,2),O=h[0],g=h[1],x=Object(n.useState)(void 0),p=Object(u.a)(x,2),f=p[0],y=p[1],T=Object(n.useState)({}),I=Object(u.a)(T,2),k=I[0],w=I[1],N=Object(n.useState)(0),L=Object(u.a)(N,2),D=L[0],P=L[1],F=Object(n.useState)(0),A=Object(u.a)(F,2),E=(A[0],A[1]),H=Object(n.useState)(0),_=Object(u.a)(H,2),z=_[0],M=_[1],R=Object(n.useState)(0),G=Object(u.a)(R,2),W=G[0],Y=G[1],q=Object(n.useState)(0),U=Object(u.a)(q,2),$=U[0],Q=U[1],ee=Object(n.useState)(0),te=Object(u.a)(ee,2),ae=te[0],ne=te[1],ie=Object(n.useState)(0),re=Object(u.a)(ie,2),le=re[0],oe=re[1],je=Object(n.useState)(0),de=Object(u.a)(je,2),be=de[0],me=de[1],he=Object(n.useState)([{time:"00:00",gti:"0.00",ghi:"0.00",pg:"0.00"}]),Oe=Object(u.a)(he,2),ge=Oe[0],xe=Oe[1],Se=i.a.useState(1),pe=Object(u.a)(Se,2),fe=pe[0],ve=pe[1],Ce=Object(n.useState)([]),ye=Object(u.a)(Ce,2),Te=ye[0],Ie=ye[1],ke=Object(n.useState)(0),we=Object(u.a)(ke,2),Ne=we[0],Be=we[1];Object(n.useEffect)((function(){0!==Ne&&at(d)}),[Ne]);var Le=function(){return 0!==Ne?"1":"0"},De=function(){return Ne>0?"1":"0"},Pe=null,Fe=Object(n.useState)(!1),Ve=Object(u.a)(Fe,2),Ee=Ve[0],He=Ve[1],ze=Object(n.useState)(new Date),Me=Object(u.a)(ze,2),Re=Me[0],Ge=Me[1],We=Object(n.useState)(!1),Xe=Object(u.a)(We,2),Ye=Xe[0],qe=Xe[1],Ue=Object(n.useState)(!0),Ze=Object(u.a)(Ue,2),Je=Ze[0],Qe=Ze[1],et=function(){He(!1)};Object(n.useEffect)((function(){b(Re.getTime())}),[Re]);var tt=function(e,t,a,n){X.a.get(l+"/sidlaghatta/grid/B"+String(e).padStart(2,0),{headers:{jwtToken:s,startTime:t,endTime:a,beginTime:n,enablePacket:Le(),clientPacketTime:f,isNext:De()}}).then((function(e){!function(e){for(var t=[],a=Object.entries(e),n=["L1 I","L2 I","L3 I","L1 V","L2 V","L3 V","Frequency","DC I","DC V","Active Power","DC Power","Reactive Power","PF","Cab Temp","IGBT Temp","DC Energy","S1 L1 I","S1 L2 I","S1 L3 I","S1 L1 V","S1 L2 V","S1 L3 V","S1 DC I","S1 DC V","S1 Active Power","S1 DC Power","S1 PF","S1 IGBT Temp","S2 L1 I","S2 L2 I","S2 L3 I","S2 L1 V","S2 L2 V","S2 L3 V","S2 DC I","S2 DC V","S2 Active Power","S2 DC Power","S2 PF","S2 IGBT Temp","S3 L1 I","S3 L2 I","S3 L3 I","S3 L1 V","S3 L2 V","S3 L3 V","S3 DC I","S3 DC V","S3 Active Power","S3 DC Power","S3 PF","S3 IGBT Temp","S4 L1 I","S4 L2 I","S4 L3 I","S4 L1 V","S4 L2 V","S4 L3 V","S4 DC I","S4 DC V","S4 Active Power","S4 DC Power","S4 PF","S4 IGBT Temp","S1 + S2 Peak Active Power","S3 + S4 Peak Active Power","S1 / S1CB1 I","S2 / S1CB2 I","S3 / S1CB3 I","S4 / S1CB4 I","S5 / S1CB5 I","S6 / S1CB6 I","S7 / S1CB7 I","S8 / S1CB8 I","S9 / S2CB1 I","S10 / S2CB2 I","S11 / S2CB3 I","S12 / S2CB4 I","S13 / S2CB5 I","S14 / S2CB6 I","S15 / S2CB7 I","S16 / S2CB8 I","S17 / S3CB1 I","S18 / S3CB2 I","S19 / S3CB3 I","S20 / S3CB4 I","S21 / S3CB5 I","S22 / S3CB6 I","S23 / S3CB7 I","S24 / S3CB8 I","S25 / S4CB1 I","S26 / S4CB2 I","S27 / S4CB3 I","S28 / S4CB4 I","S29 / S4CB5 I","S30 / S4CB6 I","S31 / S4CB7 I","S32 / S4CB8 I"],i=0;i<n.length;i++){var c=NaN,r=NaN,s=NaN,l=NaN,o=NaN;try{a[i][1]&&(c=a[i][1]),a[n.length+i][1]&&(r=a[n.length+i][1]),a[2*n.length+i][1]&&(s=a[2*n.length+i][1]),a[3*n.length+i][1]&&(l=a[3*n.length+i][1]),a[4*n.length+i][1]&&(o=a[4*n.length+i][1])}catch(j){}t.push({heading:n[i],inv1:c,inv2:r,inv3:s,inv4:l,inv5:o})}Ie([].concat(t))}(e.data)})).catch((function(e){}))},at=function(e){var t=1623696973e3,a=e;a=Je?Date.now():e;var n=new Date(a);n.setHours(5,0,0,0);var i=n.getTime();!function(e,t,a){X.a.get(l+"/sidlaghatta/site",{headers:{jwtToken:s,startTime:e,endTime:t,beginTime:a,enablePacket:Le(),clientPacketTime:f,isNext:De()}}).then((function(e){g(e.data.status),y(1e3*e.data.time)})).catch((function(e){}))}(t,a,i),function(e,t,a){X.a.get(l+"/sidlaghatta/boxes",{headers:{jwtToken:s,startTime:e,endTime:t,beginTime:a,enablePacket:Le(),clientPacketTime:f,isNext:De()}}).then((function(e){w(e.data)})).catch((function(e){}))}(t,a,i),function(e,t,a){X.a.get(l+"/sidlaghatta/gauge",{headers:{jwtToken:s,startTime:e,endTime:t,beginTime:a,enablePacket:Le(),clientPacketTime:f,isNext:De()}}).then((function(e){var t=e.data.value;P(Number(t).toFixed(2)),E(Number(t).toFixed(1)/50)})).catch((function(e){}))}(t,a,i),function(e,t,a){X.a.get(l+"/sidlaghatta/temperature",{headers:{jwtToken:s,startTime:e,endTime:t,beginTime:a,enablePacket:Le(),clientPacketTime:f,isNext:De()}}).then((function(e){var t=e.data.ambientTemp,a=e.data.moduleTemp,n=e.data.humidity;M(Number(t).toFixed(1)),Y(Number(a).toFixed(1)),Q(Number(n).toFixed(1))})).catch((function(e){}))}(t,a,i),function(e,t,a){X.a.get(l+"/sidlaghatta/wind",{headers:{jwtToken:s,startTime:e,endTime:t,beginTime:a,enablePacket:Le(),clientPacketTime:f,isNext:De()}}).then((function(e){var t=e.data.direction,a=e.data.speed;e.data.rain,ne(Number(t).toFixed(0)),oe(Number(a).toFixed(1)),me(Number(e.data.rain).toFixed(1))})).catch((function(e){}))}(t,a,i),function(e,t,a){X.a.get(l+"/sidlaghatta/graph",{headers:{jwtToken:s,startTime:e,endTime:t,beginTime:a,enablePacket:Le(),clientPacketTime:f,isNext:De()}}).then((function(e){xe(e.data)})).catch((function(e){}))}(t,a,i),tt(fe,t,a,i)};Object(n.useEffect)((function(){(Pe=document.getElementById("timeSliderLabel2"))&&(Pe.innerText=(new Date).toLocaleString([],{hour:"2-digit",minute:"2-digit",hour12:!0}).toUpperCase()),at(d);var e=setInterval((function(){at(d)}),r);return function(){clearInterval(e)}}),[d]);var nt=Object(n.useState)("space-between"),it=Object(u.a)(nt,2),ct=(it[0],it[1]);return Object(n.useLayoutEffect)((function(){window.matchMedia("(min-width: 1280px)").matches?ct("space-between"):ct("flex-start")}),[]),Object(ce.jsxs)(i.a.Fragment,{children:[Object(ce.jsx)(C.a,{container:!0,justifyContent:"space-between",alignItems:"center",children:Object(ce.jsx)(rt,{sitestatusBar:a,status:O,timestamp:f,handleClickOpen:t,handleTimeReset:function(){Be(0);var e=new Date;Ge(e),b(e.getTime()),He(!0),Qe(!0)},setIsNextCount:Be,setOpenDateTimePicker:qe,getMinDateForPicker:function(){return new Date(16339536e5)},selectedDate:Re,getFormattedDateAndTimeString:function(e){var t=new Date(e);return Object(ce.jsxs)("span",{children:[String(t.getDate()).padStart(2,"0"),"/",String(t.getMonth()+1).padStart(2,"0"),"/",t.getFullYear(),Object(ce.jsx)("span",{children:"\u2003"}),t.toLocaleString([],{hour:"2-digit",minute:"2-digit",hour12:!0}).toUpperCase()]})},openDateTimePicker:Ye,handleDateChange:function(e){try{Qe(!1)}finally{Ge(e),qe(!1)}}})}),Object(ce.jsx)("div",{style:{marginTop:"2rem"}}),Object(ce.jsx)(Ae,{day_generation:k.day_generation,revenue:1e3*k.day_generation*5.59,peak_power:k.peak_power,ghi:k.ghi,gti:k.gti,plant_pr:k.plant_pr,grid_availability:k.grid_availability,plant_availability:k.plant_availability}),Object(ce.jsxs)(C.a,{container:!0,spacing:6,style:{marginTop:"1rem"},children:[Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(_e,{totalExport:D,maxValue:30})}),Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(se,{ambientTemp:z,moduleTemp:W,humidity:$})}),Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(Ke,{windDirection:ae,windSpeed:le,rain:be})})]}),Object(ce.jsxs)(S.a,{elevation:6,style:{marginTop:"2.5rem",height:"500px",width:"100%"},children:[Object(ce.jsx)(V.a,{variant:"h6",color:"textSecondary",style:{marginLeft:"1.5rem",marginTop:"1rem",marginBottom:"1.5rem"},children:"Irradiance / Generation"}),Object(ce.jsx)(ue,{data:ge,interval:12,leftAxisY:[0,1500],rightAxisY:[0,30]})]}),Object(ce.jsx)(C.a,{container:!0,style:{marginTop:"3rem"},children:Object(ce.jsxs)(C.a,{item:!0,xs:12,children:[Object(ce.jsxs)(C.a,{container:!0,spacing:2,alignItems:"center",style:{marginBottom:".5rem"},children:[Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(V.a,{variant:"h6",color:"textSecondary",children:"Inverter Values"})}),Object(ce.jsx)(C.a,{item:!0,className:c.grow}),Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsxs)(V.a,{style:{marginLeft:".25rem"},children:["Selected Block:"," "]})}),Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(v.a,{className:c.formControl,children:Object(ce.jsxs)(Z.a,{value:fe,onChange:function(e){ve(e.target.value);var t=new Date;t.setDate((new Date).getDate()-1),t.setHours(23,50,0,0);var a=new Date(d);a.setHours(5,0,0,0);var n=a.getTime();tt(e.target.value,t.getTime(),d,n)},children:[Object(ce.jsx)(B.a,{value:1,children:"B01"}),Object(ce.jsx)(B.a,{value:2,children:"B02"}),Object(ce.jsx)(B.a,{value:3,children:"B03"})]})})})]}),Object(ce.jsx)(Pl,{values:Te,block:fe})]})}),Object(ce.jsx)(J.a,{open:Ee,anchorOrigin:{vertical:"bottom",horizontal:"left"},autoHideDuration:4e3,onClose:et,children:Object(ce.jsx)(Fl,{onClose:et,severity:"success",children:"Time is reset!"})}),Object(ce.jsx)("div",{style:{marginBottom:"2rem"}})]})}var El=Object(Oe.a)((function(e){return{head:{backgroundColor:"#ffffbf",color:e.palette.common.black,fontSize:16},body:{fontSize:16}}}))(Se.a),Hl=Object(Oe.a)((function(e){return{root:{"&:nth-of-type(odd)":{backgroundColor:e.palette.action.hover}}}}))(ve.a),_l=Object(D.a)({tableContainer:{maxHeight:"80vh"}}),zl=function(e){var t=e.value,a=(e.block,null);return Object(ce.jsxs)(Hl,{children:[Object(ce.jsx)(El,{component:"th",scope:"row",style:{paddingTop:".6rem",paddingBottom:".6rem",backgroundColor:a},children:Object(ce.jsx)("strong",{style:{paddingLeft:"2.5rem"},children:t.heading})}),Object(ce.jsx)(El,{align:"center",style:{backgroundColor:a},children:Object(ce.jsx)("span",{children:isNaN(Number(t.inv1))?"-":-111===Number(t.inv1)?"X":Number(t.inv1).toFixed(2)})}),Object(ce.jsx)(El,{align:"center",style:{backgroundColor:a},children:Object(ce.jsx)("span",{children:isNaN(Number(t.inv2))?"-":-111===Number(t.inv2)?"X":Number(t.inv2).toFixed(2)})}),Object(ce.jsx)(El,{align:"center",style:{backgroundColor:a},children:Object(ce.jsx)("span",{children:isNaN(Number(t.inv3))?"-":-111===Number(t.inv3)?"X":Number(t.inv3).toFixed(2)})}),Object(ce.jsx)(El,{align:"center",style:{backgroundColor:a},children:Object(ce.jsx)("span",{children:isNaN(Number(t.inv4))?"-":-111===Number(t.inv4)?"X":Number(t.inv4).toFixed(2)})})]})},Ml=function(e){var t=e.value;e.block;return Object(ce.jsxs)(Hl,{children:[Object(ce.jsx)(El,{component:"th",scope:"row",style:{paddingTop:".6rem",paddingBottom:".6rem"},children:Object(ce.jsx)("strong",{style:{paddingLeft:"1rem"},children:t.heading})}),Object(ce.jsx)(El,{align:"center",children:isNaN(Number(t.inv1))?"-":-111===Number(t.inv1)?"X":Number(t.inv1).toFixed(2)}),Object(ce.jsx)(El,{align:"center",children:isNaN(Number(t.inv2))?"-":-111===Number(t.inv2)?"X":Number(t.inv2).toFixed(2)}),Object(ce.jsx)(El,{align:"center",children:isNaN(Number(t.inv3))?"-":-111===Number(t.inv3)?"X":Number(t.inv3).toFixed(2)}),Object(ce.jsx)(El,{align:"center",children:isNaN(Number(t.inv4))?"-":-111===Number(t.inv4)?"X":Number(t.inv4).toFixed(2)})]})};function Rl(e){var t=e.values,a=e.block,c=_l(),r=Object(n.useState)([]),s=Object(u.a)(r,2),l=s[0],o=s[1],j=i.a.useState(!1),d=Object(u.a)(j,2),b=d[0],m=d[1],h=i.a.useState(!1),O=Object(u.a)(h,2),g=O[0],x=O[1],S=function(e){var t=e.title,a=e.tag,n=e.openRows;return Object(ce.jsx)(Hl,{children:Object(ce.jsxs)(El,{component:"th",scope:"row",colSpan:6,style:{backgroundColor:"#EBF5FB"},children:[Object(ce.jsx)("strong",{style:{paddingLeft:"1rem",paddingRight:".5rem",color:"#000"},children:t}),Object(ce.jsx)(y.a,{"aria-label":"expand row",size:"small",onClick:function(){return function(e){"S"===e?m((function(e){return!e})):x((function(e){return!e}))}(a)},style:{color:"#000"},children:n?Object(ce.jsx)(Ie.a,{}):Object(ce.jsx)(ye.a,{})})]})})};return Object(n.useEffect)((function(){for(var e=[],n=[],i=[],c=null,r=null,s=0;s<t.length;s++)t[s].heading.match(/S[1-4] [^/]/i)?(c||(c=s,i.push(Object(ce.jsx)(S,{title:"Inverter Slots",tag:"S",openRows:b,block:a},s))),s,e.push(Object(ce.jsx)(zl,{value:t[s],block:a},t[s].heading))):t[s].heading.match(/[S]3[0-4]|2[0-9]|1[0-9]|[1-9] [/] S[1-4]CB/i)?(r||(r=s,i.push(Object(ce.jsx)(S,{title:"Inverter Strings",tag:"PV",openRows:g,block:a},s))),s,n.push(Object(ce.jsx)(zl,{value:t[s],block:a},t[s].heading))):i.push(Object(ce.jsx)(Ml,{value:t[s],block:a},s));var l,j=[].concat(i);if(b&&g)(l=j).splice.apply(l,[c+1,0].concat(e)),j=[].concat(Object(me.a)(j),[n]);else if(b&&!g){var d;(d=j).splice.apply(d,[c+1,0].concat(e))}else j=!b&&g?[].concat(Object(me.a)(j),[n]):[].concat(i);o(j)}),[t,b,g]),Object(ce.jsx)(pe.a,{component:he.a,elevation:6,className:c.tableContainer,children:Object(ce.jsxs)(ge.a,{stickyHeader:!0,"aria-label":"customized table",size:"small",children:[Object(ce.jsx)(fe.a,{children:Object(ce.jsxs)(ve.a,{children:[Object(ce.jsx)(El,{style:{paddingTop:".7rem",paddingLeft:"1.75rem",paddingBottom:".7rem"},children:Object(ce.jsx)("strong",{children:"Parameters"})}),Object(ce.jsx)(El,{align:"center",children:Object(ce.jsx)("strong",{children:"Inv 1"})}),Object(ce.jsx)(El,{align:"center",children:Object(ce.jsx)("strong",{children:"Inv 2"})}),Object(ce.jsx)(El,{align:"center",children:Object(ce.jsx)("strong",{children:"Inv 3"})}),Object(ce.jsx)(El,{align:"center",children:Object(ce.jsx)("strong",{children:"Inv 4"})})]})}),Object(ce.jsx)(xe.a,{children:l})]})})}function Gl(e){return Object(ce.jsx)($.a,Object(h.a)({elevation:6,variant:"filled"},e))}var Wl=Object(D.a)((function(e){return{grow:{flexGrow:1},gaugeChartStyle:{marginTop:e.spacing(12)},formControl:{minWidth:120},modalCardStyle:{width:340,height:"fit-content"},gridBreakpoint:Object(m.a)({},e.breakpoints.up("md"),{})}}));function Xl(e){e.handleSessionExpire;var t=e.handleClickOpen,a=e.sitestatusBar,c=Wl(),r=$e().intervalTime,s=(localStorage.getItem("username","Admin"),localStorage.getItem("userToken")),l=(localStorage.getItem("userId"),K),o=Object(n.useState)((new Date).getTime()),j=Object(u.a)(o,2),d=j[0],b=j[1],m=Object(n.useState)(0),h=Object(u.a)(m,2),O=h[0],g=h[1],x=Object(n.useState)(void 0),p=Object(u.a)(x,2),f=p[0],y=p[1],T=Object(n.useState)({}),I=Object(u.a)(T,2),k=I[0],w=I[1],N=Object(n.useState)(0),L=Object(u.a)(N,2),D=L[0],P=L[1],F=Object(n.useState)(0),A=Object(u.a)(F,2),E=(A[0],A[1]),H=Object(n.useState)(0),_=Object(u.a)(H,2),z=_[0],M=_[1],R=Object(n.useState)(0),G=Object(u.a)(R,2),W=G[0],Y=G[1],q=Object(n.useState)(0),U=Object(u.a)(q,2),$=U[0],Q=U[1],ee=Object(n.useState)(0),te=Object(u.a)(ee,2),ae=te[0],ne=te[1],ie=Object(n.useState)(0),re=Object(u.a)(ie,2),le=re[0],oe=re[1],je=Object(n.useState)(0),de=Object(u.a)(je,2),be=de[0],me=de[1],he=Object(n.useState)([{time:"00:00",gti:"0.00",ghi:"0.00",pg:"0.00"}]),Oe=Object(u.a)(he,2),ge=Oe[0],xe=Oe[1],Se=i.a.useState(1),pe=Object(u.a)(Se,2),fe=pe[0],ve=pe[1],Ce=Object(n.useState)([]),ye=Object(u.a)(Ce,2),Te=ye[0],Ie=ye[1],ke=Object(n.useState)(0),we=Object(u.a)(ke,2),Ne=we[0],Be=we[1];Object(n.useEffect)((function(){0!==Ne&&at(d)}),[Ne]);var Le=function(){return 0!==Ne?"1":"0"},De=function(){return Ne>0?"1":"0"},Pe=null,Fe=Object(n.useState)(!1),Ve=Object(u.a)(Fe,2),Ee=Ve[0],He=Ve[1],ze=Object(n.useState)(new Date),Me=Object(u.a)(ze,2),Re=Me[0],Ge=Me[1],We=Object(n.useState)(!1),Xe=Object(u.a)(We,2),Ye=Xe[0],qe=Xe[1],Ue=Object(n.useState)(!0),Ze=Object(u.a)(Ue,2),Je=Ze[0],Qe=Ze[1],et=function(){He(!1)};Object(n.useEffect)((function(){b(Re.getTime())}),[Re]);var tt=function(e,t,a,n){X.a.get(l+"/khilchipur/grid/B"+String(e).padStart(2,0),{headers:{jwtToken:s,startTime:t,endTime:a,beginTime:n,enablePacket:Le(),clientPacketTime:f,isNext:De()}}).then((function(e){!function(e){for(var t=[],a=Object.entries(e),n=["L1 I","L2 I","L3 I","L1 V","L2 V","L3 V","Frequency","DC I","DC V","Active Power","DC Power","Reactive Power","PF","Cab Temp","IGBT Temp","DC Energy","S1 L1 I","S1 L2 I","S1 L3 I","S1 L1 V","S1 L2 V","S1 L3 V","S1 DC I","S1 DC V","S1 Active Power","S1 DC Power","S1 PF","S1 IGBT Temp","S2 L1 I","S2 L2 I","S2 L3 I","S2 L1 V","S2 L2 V","S2 L3 V","S2 DC I","S2 DC V","S2 Active Power","S2 DC Power","S2 PF","S2 IGBT Temp","S3 L1 I","S3 L2 I","S3 L3 I","S3 L1 V","S3 L2 V","S3 L3 V","S3 DC I","S3 DC V","S3 Active Power","S3 DC Power","S3 PF","S3 IGBT Temp","S4 L1 I","S4 L2 I","S4 L3 I","S4 L1 V","S4 L2 V","S4 L3 V","S4 DC I","S4 DC V","S4 Active Power","S4 DC Power","S4 PF","S4 IGBT Temp","S1 + S2 Peak Active Power","S3 + S4 Peak Active Power","S1 / S1CB1 I","S2 / S1CB2 I","S3 / S1CB3 I","S4 / S1CB4 I","S5 / S1CB5 I","S6 / S1CB6 I","S7 / S1CB7 I","S8 / S1CB8 I","S9 / S2CB1 I","S10 / S2CB2 I","S11 / S2CB3 I","S12 / S2CB4 I","S13 / S2CB5 I","S14 / S2CB6 I","S15 / S2CB7 I","S16 / S2CB8 I","S17 / S3CB1 I","S18 / S3CB2 I","S19 / S3CB3 I","S20 / S3CB4 I","S21 / S3CB5 I","S22 / S3CB6 I","S23 / S3CB7 I","S24 / S3CB8 I","S25 / S4CB1 I","S26 / S4CB2 I","S27 / S4CB3 I","S28 / S4CB4 I","S29 / S4CB5 I","S30 / S4CB6 I","S31 / S4CB7 I","S32 / S4CB8 I"],i=0;i<n.length;i++){var c=NaN,r=NaN,s=NaN,l=NaN,o=NaN;try{a[i][1]&&(c=a[i][1]),a[n.length+i][1]&&(r=a[n.length+i][1]),a[2*n.length+i][1]&&(s=a[2*n.length+i][1]),a[3*n.length+i][1]&&(l=a[3*n.length+i][1]),a[4*n.length+i][1]&&(o=a[4*n.length+i][1])}catch(j){}t.push({heading:n[i],inv1:c,inv2:r,inv3:s,inv4:l,inv5:o})}Ie([].concat(t))}(e.data)})).catch((function(e){}))},at=function(e){var t=1623696973e3,a=e;a=Je?Date.now():e;var n=new Date(a);n.setHours(5,0,0,0);var i=n.getTime();!function(e,t,a){X.a.get(l+"/khilchipur/site",{headers:{jwtToken:s,startTime:e,endTime:t,beginTime:a,enablePacket:Le(),clientPacketTime:f,isNext:De()}}).then((function(e){g(e.data.status),y(1e3*e.data.time)})).catch((function(e){}))}(t,a,i),function(e,t,a){X.a.get(l+"/khilchipur/boxes",{headers:{jwtToken:s,startTime:e,endTime:t,beginTime:a,enablePacket:Le(),clientPacketTime:f,isNext:De()}}).then((function(e){w(e.data)})).catch((function(e){}))}(t,a,i),function(e,t,a){X.a.get(l+"/khilchipur/gauge",{headers:{jwtToken:s,startTime:e,endTime:t,beginTime:a,enablePacket:Le(),clientPacketTime:f,isNext:De()}}).then((function(e){var t=e.data.value;P(Number(t).toFixed(2)),E(Number(t).toFixed(1)/50)})).catch((function(e){}))}(t,a,i),function(e,t,a){X.a.get(l+"/khilchipur/temperature",{headers:{jwtToken:s,startTime:e,endTime:t,beginTime:a,enablePacket:Le(),clientPacketTime:f,isNext:De()}}).then((function(e){var t=e.data.ambientTemp,a=e.data.moduleTemp,n=e.data.humidity;M(Number(t).toFixed(1)),Y(Number(a).toFixed(1)),Q(Number(n).toFixed(1))})).catch((function(e){}))}(t,a,i),function(e,t,a){X.a.get(l+"/khilchipur/wind",{headers:{jwtToken:s,startTime:e,endTime:t,beginTime:a,enablePacket:Le(),clientPacketTime:f,isNext:De()}}).then((function(e){var t=e.data.direction,a=e.data.speed;e.data.rain,ne(Number(t).toFixed(0)),oe(Number(a).toFixed(1)),me(Number(e.data.rain).toFixed(1))})).catch((function(e){}))}(t,a,i),function(e,t,a){X.a.get(l+"/khilchipur/graph",{headers:{jwtToken:s,startTime:e,endTime:t,beginTime:a,enablePacket:Le(),clientPacketTime:f,isNext:De()}}).then((function(e){xe(e.data)})).catch((function(e){}))}(t,a,i),tt(fe,t,a,i)};Object(n.useEffect)((function(){(Pe=document.getElementById("timeSliderLabel2"))&&(Pe.innerText=(new Date).toLocaleString([],{hour:"2-digit",minute:"2-digit",hour12:!0}).toUpperCase()),at(d);var e=setInterval((function(){at(d)}),r);return function(){clearInterval(e)}}),[d]);var nt=Object(n.useState)("space-between"),it=Object(u.a)(nt,2),ct=(it[0],it[1]);return Object(n.useLayoutEffect)((function(){window.matchMedia("(min-width: 1280px)").matches?ct("space-between"):ct("flex-start")}),[]),Object(ce.jsxs)(i.a.Fragment,{children:[Object(ce.jsx)(C.a,{container:!0,justifyContent:"space-between",alignItems:"center",children:Object(ce.jsx)(rt,{sitestatusBar:a,status:O,timestamp:f,handleClickOpen:t,handleTimeReset:function(){Be(0);var e=new Date;Ge(e),b(e.getTime()),He(!0),Qe(!0)},setIsNextCount:Be,setOpenDateTimePicker:qe,getMinDateForPicker:function(){return new Date(163404e7)},selectedDate:Re,getFormattedDateAndTimeString:function(e){var t=new Date(e);return Object(ce.jsxs)("span",{children:[String(t.getDate()).padStart(2,"0"),"/",String(t.getMonth()+1).padStart(2,"0"),"/",t.getFullYear(),Object(ce.jsx)("span",{children:"\u2003"}),t.toLocaleString([],{hour:"2-digit",minute:"2-digit",hour12:!0}).toUpperCase()]})},openDateTimePicker:Ye,handleDateChange:function(e){try{Qe(!1)}finally{Ge(e),qe(!1)}}})}),Object(ce.jsx)("div",{style:{marginTop:"2rem"}}),Object(ce.jsx)(Ae,{day_generation:k.day_generation,revenue:1e3*k.day_generation*5.59,peak_power:k.peak_power,ghi:k.ghi,gti:k.gti,plant_pr:k.plant_pr,grid_availability:k.grid_availability,plant_availability:k.plant_availability}),Object(ce.jsxs)(C.a,{container:!0,spacing:6,style:{marginTop:"1rem"},children:[Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(_e,{totalExport:D,maxValue:40})}),Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(se,{ambientTemp:z,moduleTemp:W,humidity:$})}),Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(Ke,{windDirection:ae,windSpeed:le,rain:be})})]}),Object(ce.jsxs)(S.a,{elevation:6,style:{marginTop:"2.5rem",height:"500px",width:"100%"},children:[Object(ce.jsx)(V.a,{variant:"h6",color:"textSecondary",style:{marginLeft:"1.5rem",marginTop:"1rem",marginBottom:"1.5rem"},children:"Irradiance / Generation"}),Object(ce.jsx)(ue,{data:ge,interval:12,leftAxisY:[0,1500],rightAxisY:[0,50]})]}),Object(ce.jsx)(C.a,{container:!0,style:{marginTop:"3rem"},children:Object(ce.jsxs)(C.a,{item:!0,xs:12,children:[Object(ce.jsxs)(C.a,{container:!0,spacing:2,alignItems:"center",style:{marginBottom:".5rem"},children:[Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(V.a,{variant:"h6",color:"textSecondary",children:"Inverter Values"})}),Object(ce.jsx)(C.a,{item:!0,className:c.grow}),Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsxs)(V.a,{style:{marginLeft:".25rem"},children:["Selected Block:"," "]})}),Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(v.a,{className:c.formControl,children:Object(ce.jsxs)(Z.a,{value:fe,onChange:function(e){ve(e.target.value);var t=new Date;t.setDate((new Date).getDate()-1),t.setHours(23,50,0,0);var a=new Date(d);a.setHours(5,0,0,0);var n=a.getTime();tt(e.target.value,t.getTime(),d,n)},children:[Object(ce.jsx)(B.a,{value:1,children:"B01"}),Object(ce.jsx)(B.a,{value:2,children:"B02"}),Object(ce.jsx)(B.a,{value:3,children:"B03"}),Object(ce.jsx)(B.a,{value:4,children:"B04"}),Object(ce.jsx)(B.a,{value:5,children:"B05"}),Object(ce.jsx)(B.a,{value:6,children:"B06"}),Object(ce.jsx)(B.a,{value:7,children:"B07"}),Object(ce.jsx)(B.a,{value:8,children:"B08"}),Object(ce.jsx)(B.a,{value:9,children:"B09"}),Object(ce.jsx)(B.a,{value:10,children:"B10"})]})})})]}),Object(ce.jsx)(Rl,{values:Te})]})}),Object(ce.jsx)(J.a,{open:Ee,anchorOrigin:{vertical:"bottom",horizontal:"left"},autoHideDuration:4e3,onClose:et,children:Object(ce.jsx)(Gl,{onClose:et,severity:"success",children:"Time is reset!"})}),Object(ce.jsx)("div",{style:{marginBottom:"2rem"}})]})}var Yl=Object(Oe.a)((function(e){return{head:{backgroundColor:"#ffffbf",color:e.palette.common.black,fontSize:16},body:{fontSize:16}}}))(Se.a),ql=Object(Oe.a)((function(e){return{root:{"&:nth-of-type(odd)":{backgroundColor:e.palette.action.hover}}}}))(ve.a),Ul=Object(D.a)({tableContainer:{maxHeight:"80vh"}}),Kl=function(e){var t=e.value,a=(e.block,null);return Object(ce.jsxs)(ql,{children:[Object(ce.jsx)(Yl,{component:"th",scope:"row",style:{paddingTop:".6rem",paddingBottom:".6rem",backgroundColor:a},children:Object(ce.jsx)("strong",{style:{paddingLeft:"2.5rem"},children:t.heading})}),Object(ce.jsx)(Yl,{align:"center",style:{backgroundColor:a},children:Object(ce.jsx)("span",{children:isNaN(Number(t.inv1))?"-":-111===Number(t.inv1)?"X":Number(t.inv1).toFixed(2)})}),Object(ce.jsx)(Yl,{align:"center",style:{backgroundColor:a},children:Object(ce.jsx)("span",{children:isNaN(Number(t.inv2))?"-":-111===Number(t.inv2)?"X":Number(t.inv2).toFixed(2)})})]})},Zl=function(e){var t=e.value;e.block;return Object(ce.jsxs)(ql,{children:[Object(ce.jsx)(Yl,{component:"th",scope:"row",style:{paddingTop:".6rem",paddingBottom:".6rem"},children:Object(ce.jsx)("strong",{style:{paddingLeft:"1rem"},children:t.heading})}),Object(ce.jsx)(Yl,{align:"center",children:isNaN(Number(t.inv1))?"-":-111===Number(t.inv1)?"X":Number(t.inv1).toFixed(2)}),Object(ce.jsx)(Yl,{align:"center",children:isNaN(Number(t.inv2))?"-":-111===Number(t.inv2)?"X":Number(t.inv2).toFixed(2)})]})};function Jl(e){var t=e.values,a=e.block,c=Ul(),r=Object(n.useState)([]),s=Object(u.a)(r,2),l=s[0],o=s[1],j=i.a.useState(!1),d=Object(u.a)(j,2),b=d[0],m=d[1],h=i.a.useState(!1),O=Object(u.a)(h,2),g=O[0],x=O[1],S=function(e){var t=e.title,a=e.tag,n=e.openRows;return Object(ce.jsx)(ql,{children:Object(ce.jsxs)(Yl,{component:"th",scope:"row",colSpan:6,style:{backgroundColor:"#EBF5FB"},children:[Object(ce.jsx)("strong",{style:{paddingLeft:"1rem",paddingRight:".5rem",color:"#000"},children:t}),Object(ce.jsx)(y.a,{"aria-label":"expand row",size:"small",onClick:function(){return function(e){"S"===e?m((function(e){return!e})):x((function(e){return!e}))}(a)},style:{color:"#000"},children:n?Object(ce.jsx)(Ie.a,{}):Object(ce.jsx)(ye.a,{})})]})})};return Object(n.useEffect)((function(){for(var e=[],n=[],i=[],c=null,r=null,s=0;s<t.length;s++)t[s].heading.match(/S[1-4] [^/]/i)?(c||(c=s,i.push(Object(ce.jsx)(S,{title:"Inverter Slots",tag:"S",openRows:b,block:a},s))),s,e.push(Object(ce.jsx)(Kl,{value:t[s],block:a},t[s].heading))):t[s].heading.match(/[S]3[0-4]|2[0-9]|1[0-9]|[1-9] [/] S[1-4]CB/i)?(r||(r=s,i.push(Object(ce.jsx)(S,{title:"Inverter Strings",tag:"PV",openRows:g,block:a},s))),s,n.push(Object(ce.jsx)(Kl,{value:t[s],block:a},t[s].heading))):i.push(Object(ce.jsx)(Zl,{value:t[s],block:a},s));var l,j=[].concat(i);if(b&&g)(l=j).splice.apply(l,[c+1,0].concat(e)),j=[].concat(Object(me.a)(j),[n]);else if(b&&!g){var d;(d=j).splice.apply(d,[c+1,0].concat(e))}else j=!b&&g?[].concat(Object(me.a)(j),[n]):[].concat(i);o(j)}),[t,b,g]),Object(ce.jsx)(pe.a,{component:he.a,elevation:6,className:c.tableContainer,children:Object(ce.jsxs)(ge.a,{stickyHeader:!0,"aria-label":"customized table",size:"small",children:[Object(ce.jsx)(fe.a,{children:Object(ce.jsxs)(ve.a,{children:[Object(ce.jsx)(Yl,{style:{paddingTop:".7rem",paddingLeft:"1.75rem",paddingBottom:".7rem"},children:Object(ce.jsx)("strong",{children:"Parameters"})}),Object(ce.jsx)(Yl,{align:"center",children:Object(ce.jsx)("strong",{children:"Inv 1"})}),Object(ce.jsx)(Yl,{align:"center",children:Object(ce.jsx)("strong",{children:"Inv 2"})})]})}),Object(ce.jsx)(xe.a,{children:l})]})})}function $l(e){return Object(ce.jsx)($.a,Object(h.a)({elevation:6,variant:"filled"},e))}var Ql=Object(D.a)((function(e){return{grow:{flexGrow:1},gaugeChartStyle:{marginTop:e.spacing(12)},formControl:{minWidth:120},modalCardStyle:{width:340,height:"fit-content"},gridBreakpoint:Object(m.a)({},e.breakpoints.up("md"),{})}}));function eo(e){e.handleSessionExpire;var t=e.handleClickOpen,a=e.sitestatusBar,c=Ql(),r=$e().intervalTime,s=(localStorage.getItem("username","Admin"),localStorage.getItem("userToken")),l=(localStorage.getItem("userId"),K),o=Object(n.useState)((new Date).getTime()),j=Object(u.a)(o,2),d=j[0],b=j[1],m=Object(n.useState)(0),h=Object(u.a)(m,2),O=h[0],g=h[1],x=Object(n.useState)(void 0),p=Object(u.a)(x,2),f=p[0],y=p[1],T=Object(n.useState)({}),I=Object(u.a)(T,2),k=I[0],w=I[1],N=Object(n.useState)(0),L=Object(u.a)(N,2),D=L[0],P=L[1],F=Object(n.useState)(0),A=Object(u.a)(F,2),E=(A[0],A[1]),H=Object(n.useState)(0),_=Object(u.a)(H,2),z=_[0],M=_[1],R=Object(n.useState)(0),G=Object(u.a)(R,2),W=G[0],Y=G[1],q=Object(n.useState)(0),U=Object(u.a)(q,2),$=U[0],Q=U[1],ee=Object(n.useState)(0),te=Object(u.a)(ee,2),ae=te[0],ne=te[1],ie=Object(n.useState)(0),re=Object(u.a)(ie,2),le=re[0],oe=re[1],je=Object(n.useState)(0),de=Object(u.a)(je,2),be=de[0],me=de[1],he=Object(n.useState)([{time:"00:00",gti:"0.00",ghi:"0.00",pg:"0.00"}]),Oe=Object(u.a)(he,2),ge=Oe[0],xe=Oe[1],Se=i.a.useState(1),pe=Object(u.a)(Se,2),fe=pe[0],ve=pe[1],Ce=Object(n.useState)([]),ye=Object(u.a)(Ce,2),Te=ye[0],Ie=ye[1],ke=Object(n.useState)(0),we=Object(u.a)(ke,2),Ne=we[0],Be=we[1];Object(n.useEffect)((function(){0!==Ne&&at(d)}),[Ne]);var Le=function(){return 0!==Ne?"1":"0"},De=function(){return Ne>0?"1":"0"},Pe=null,Fe=Object(n.useState)(!1),Ve=Object(u.a)(Fe,2),Ee=Ve[0],He=Ve[1],ze=Object(n.useState)(new Date),Me=Object(u.a)(ze,2),Re=Me[0],Ge=Me[1],We=Object(n.useState)(!1),Xe=Object(u.a)(We,2),Ye=Xe[0],qe=Xe[1],Ue=Object(n.useState)(!0),Ze=Object(u.a)(Ue,2),Je=Ze[0],Qe=Ze[1],et=function(){He(!1)};Object(n.useEffect)((function(){b(Re.getTime())}),[Re]);var tt=function(e,t,a,n){X.a.get(l+"/khambhat/grid/B"+String(e).padStart(2,0),{headers:{jwtToken:s,startTime:t,endTime:a,beginTime:n,enablePacket:Le(),clientPacketTime:f,isNext:De()}}).then((function(e){!function(e){for(var t=[],a=Object.entries(e),n=["L1 I","L2 I","L3 I","L1 V","L2 V","L3 V","Frequency","DC I","DC V","Active Power","DC Power","Reactive Power","PF","Cab Temp","IGBT Temp","DC Energy","S1 L1 I","S1 L2 I","S1 L3 I","S1 L1 V","S1 L2 V","S1 L3 V","S1 DC I","S1 DC V","S1 Active Power","S1 DC Power","S1 PF","S1 IGBT Temp","S1 Cab Temp","S2 L1 I","S2 L2 I","S2 L3 I","S2 L1 V","S2 L2 V","S2 L3 V","S2 DC I","S2 DC V","S2 Active Power","S2 DC Power","S2 PF","S2 IGBT Temp","S2 Cab Temp","S3 L1 I","S3 L2 I","S3 L3 I","S3 L1 V","S3 L2 V","S3 L3 V","S3 DC I","S3 DC V","S3 Active Power","S3 DC Power","S3 PF","S3 IGBT Temp","S3 Cab Temp","S4 L1 I","S4 L2 I","S4 L3 I","S4 L1 V","S4 L2 V","S4 L3 V","S4 DC I","S4 DC V","S4 Active Power","S4 DC Power","S4 PF","S4 IGBT Temp","S4 Cab Temp","S1 + S2 Peak Active Power","S3 + S4 Peak Active Power","S1 / S1CB1 I","S2 / S1CB2 I","S3 / S1CB3 I","S4 / S1CB4 I","S5 / S1CB5 I","S6 / S1CB6 I","S7 / S1CB7 I","S8 / S1CB8 I","S9 / S2CB1 I","S10 / S2CB2 I","S11 / S2CB3 I","S12 / S2CB4 I","S13 / S2CB5 I","S14 / S2CB6 I","S15 / S2CB7 I","S16 / S2CB8 I","S17 / S3CB1 I","S18 / S3CB2 I","S19 / S3CB3 I","S20 / S3CB4 I","S21 / S3CB5 I","S22 / S3CB6 I","S23 / S3CB7 I","S24 / S3CB8 I","S25 / S4CB1 I","S26 / S4CB2 I","S27 / S4CB3 I","S28 / S4CB4 I","S29 / S4CB5 I","S30 / S4CB6 I","S31 / S4CB7 I","S32 / S4CB8 I"],i=0;i<n.length;i++){var c=NaN,r=NaN,s=NaN,l=NaN,o=NaN;try{a[i][1]&&(c=a[i][1]),a[n.length+i][1]&&(r=a[n.length+i][1]),a[2*n.length+i][1]&&(s=a[2*n.length+i][1]),a[3*n.length+i][1]&&(l=a[3*n.length+i][1]),a[4*n.length+i][1]&&(o=a[4*n.length+i][1])}catch(j){}t.push({heading:n[i],inv1:c,inv2:r,inv3:s,inv4:l,inv5:o})}Ie([].concat(t))}(e.data)})).catch((function(e){}))},at=function(e){var t=1623696973e3,a=e;a=Je?Date.now():e;var n=new Date(a);n.setHours(5,0,0,0);var i=n.getTime();!function(e,t,a){X.a.get(l+"/khambhat/site",{headers:{jwtToken:s,startTime:e,endTime:t,beginTime:a,enablePacket:Le(),clientPacketTime:f,isNext:De()}}).then((function(e){g(e.data.status),y(1e3*e.data.time)})).catch((function(e){}))}(t,a,i),function(e,t,a){X.a.get(l+"/khambhat/boxes",{headers:{jwtToken:s,startTime:e,endTime:t,beginTime:a,enablePacket:Le(),clientPacketTime:f,isNext:De()}}).then((function(e){w(e.data)})).catch((function(e){}))}(t,a,i),function(e,t,a){X.a.get(l+"/khambhat/gauge",{headers:{jwtToken:s,startTime:e,endTime:t,beginTime:a,enablePacket:Le(),clientPacketTime:f,isNext:De()}}).then((function(e){var t=e.data.value;P(Number(t).toFixed(2)),E(Number(t).toFixed(1)/50)})).catch((function(e){}))}(t,a,i),function(e,t,a){X.a.get(l+"/khambhat/temperature",{headers:{jwtToken:s,startTime:e,endTime:t,beginTime:a,enablePacket:Le(),clientPacketTime:f,isNext:De()}}).then((function(e){var t=e.data.ambientTemp,a=e.data.moduleTemp,n=e.data.humidity;M(Number(t).toFixed(1)),Y(Number(a).toFixed(1)),Q(Number(n).toFixed(1))})).catch((function(e){}))}(t,a,i),function(e,t,a){X.a.get(l+"/khambhat/wind",{headers:{jwtToken:s,startTime:e,endTime:t,beginTime:a,enablePacket:Le(),clientPacketTime:f,isNext:De()}}).then((function(e){var t=e.data.direction,a=e.data.speed;e.data.rain,ne(Number(t).toFixed(0)),oe(Number(a).toFixed(1)),me(Number(e.data.rain).toFixed(1))})).catch((function(e){}))}(t,a,i),function(e,t,a){X.a.get(l+"/khambhat/graph",{headers:{jwtToken:s,startTime:e,endTime:t,beginTime:a,enablePacket:Le(),clientPacketTime:f,isNext:De()}}).then((function(e){xe(e.data)})).catch((function(e){}))}(t,a,i),tt(fe,t,a,i)};Object(n.useEffect)((function(){(Pe=document.getElementById("timeSliderLabel2"))&&(Pe.innerText=(new Date).toLocaleString([],{hour:"2-digit",minute:"2-digit",hour12:!0}).toUpperCase()),at(d);var e=setInterval((function(){at(d)}),r);return function(){clearInterval(e)}}),[d]);var nt=Object(n.useState)("space-between"),it=Object(u.a)(nt,2),ct=(it[0],it[1]);return Object(n.useLayoutEffect)((function(){window.matchMedia("(min-width: 1280px)").matches?ct("space-between"):ct("flex-start")}),[]),Object(ce.jsxs)(i.a.Fragment,{children:[Object(ce.jsx)(C.a,{container:!0,justifyContent:"space-between",alignItems:"center",children:Object(ce.jsx)(rt,{sitestatusBar:a,status:O,timestamp:f,handleClickOpen:t,handleTimeReset:function(){Be(0);var e=new Date;Ge(e),b(e.getTime()),He(!0),Qe(!0)},setIsNextCount:Be,setOpenDateTimePicker:qe,getMinDateForPicker:function(){return new Date(16341264e5)},selectedDate:Re,getFormattedDateAndTimeString:function(e){var t=new Date(e);return Object(ce.jsxs)("span",{children:[String(t.getDate()).padStart(2,"0"),"/",String(t.getMonth()+1).padStart(2,"0"),"/",t.getFullYear(),Object(ce.jsx)("span",{children:"\u2003"}),t.toLocaleString([],{hour:"2-digit",minute:"2-digit",hour12:!0}).toUpperCase()]})},openDateTimePicker:Ye,handleDateChange:function(e){try{Qe(!1)}finally{Ge(e),qe(!1)}}})}),Object(ce.jsx)("div",{style:{marginTop:"2rem"}}),Object(ce.jsx)(Ae,{day_generation:k.day_generation,revenue:1e3*k.day_generation*5.59,peak_power:k.peak_power,ghi:k.ghi,gti:k.gti,plant_pr:k.plant_pr,grid_availability:k.grid_availability,plant_availability:k.plant_availability}),Object(ce.jsxs)(C.a,{container:!0,spacing:6,style:{marginTop:"1rem"},children:[Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(_e,{totalExport:D,maxValue:25})}),Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(se,{ambientTemp:z,moduleTemp:W,humidity:$})}),Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(Ke,{windDirection:ae,windSpeed:le,rain:be})})]}),Object(ce.jsxs)(S.a,{elevation:6,style:{marginTop:"2.5rem",height:"500px",width:"100%"},children:[Object(ce.jsx)(V.a,{variant:"h6",color:"textSecondary",style:{marginLeft:"1.5rem",marginTop:"1rem",marginBottom:"1.5rem"},children:"Irradiance / Generation"}),Object(ce.jsx)(ue,{data:ge,interval:12,leftAxisY:[0,1200],rightAxisY:[0,25]})]}),Object(ce.jsx)(C.a,{container:!0,style:{marginTop:"3rem"},children:Object(ce.jsxs)(C.a,{item:!0,xs:12,children:[Object(ce.jsxs)(C.a,{container:!0,spacing:2,alignItems:"center",style:{marginBottom:".5rem"},children:[Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(V.a,{variant:"h6",color:"textSecondary",children:"Inverter Values"})}),Object(ce.jsx)(C.a,{item:!0,className:c.grow}),Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsxs)(V.a,{style:{marginLeft:".25rem"},children:["Selected Block:"," "]})}),Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(v.a,{className:c.formControl,children:Object(ce.jsxs)(Z.a,{value:fe,onChange:function(e){ve(e.target.value);var t=new Date;t.setDate((new Date).getDate()-1),t.setHours(23,50,0,0);var a=new Date(d);a.setHours(5,0,0,0);var n=a.getTime();tt(e.target.value,t.getTime(),d,n)},children:[Object(ce.jsx)(B.a,{value:1,children:"B01"}),Object(ce.jsx)(B.a,{value:2,children:"B02"}),Object(ce.jsx)(B.a,{value:3,children:"B03"}),Object(ce.jsx)(B.a,{value:4,children:"B04"}),Object(ce.jsx)(B.a,{value:5,children:"B05"}),Object(ce.jsx)(B.a,{value:6,children:"B06"}),Object(ce.jsx)(B.a,{value:7,children:"B07"}),Object(ce.jsx)(B.a,{value:8,children:"B08"}),Object(ce.jsx)(B.a,{value:9,children:"B09"}),Object(ce.jsx)(B.a,{value:10,children:"B10"}),Object(ce.jsx)(B.a,{value:11,children:"B11"}),Object(ce.jsx)(B.a,{value:12,children:"B12"}),Object(ce.jsx)(B.a,{value:13,children:"B13"}),Object(ce.jsx)(B.a,{value:14,children:"B14"}),Object(ce.jsx)(B.a,{value:15,children:"B15"})]})})})]}),Object(ce.jsx)(Jl,{values:Te})]})}),Object(ce.jsx)(J.a,{open:Ee,anchorOrigin:{vertical:"bottom",horizontal:"left"},autoHideDuration:4e3,onClose:et,children:Object(ce.jsx)($l,{onClose:et,severity:"success",children:"Time is reset!"})}),Object(ce.jsx)("div",{style:{marginBottom:"2rem"}})]})}var to=a(79),ao=a(488),no=a(51),io=a.n(no),co=a(489),ro=a(1401),so=Object(Oe.a)((function(e){return{head:{backgroundColor:"#ffffbf",color:e.palette.common.black},body:{}}}))(Se.a),lo=Object(Oe.a)((function(e){return{root:{"&:nth-of-type(odd)":{backgroundColor:e.palette.action.hover}}}}))(ve.a),oo=Object(D.a)({tableContainer:{width:"100%"}});function jo(e){var t=e.data,a=(e.ticketForModal,e.handleNotificationClick),i=oo(),c=Object(n.useState)(0),r=Object(u.a)(c,2),s=r[0],l=r[1],o=Object(n.useState)(0),j=Object(u.a)(o,2),d=j[0],b=j[1],m=Object(n.useState)([]),h=Object(u.a)(m,2),O=h[0],g=h[1],x=function(e){var t=new Date(1e3*e);return String(t.getDate()).padStart(2,0)+"/"+String(t.getMonth()+1).padStart(2,0)+"/"+String(t.getFullYear()).slice(2)+", "+String(t.getHours()).padStart(2,0)+":"+String(t.getMinutes()).padStart(2,0)};Object(n.useEffect)((function(){t&&(l((function(){return t.length>0?1:0})),b((function(){return t.length>0?Math.ceil(t.length/13):0})),g((function(){return t.length>0?t.slice(0,13):[]})))}),[t]);return Object(ce.jsxs)("div",{children:[Object(ce.jsx)(pe.a,{component:he.a,className:i.tableContainer,children:Object(ce.jsxs)(ge.a,{"aria-label":"customized table",size:"small",children:[Object(ce.jsx)(fe.a,{children:Object(ce.jsxs)(ve.a,{children:[Object(ce.jsx)(so,{style:{},children:Object(ce.jsx)("strong",{children:"Ticket"})}),Object(ce.jsxs)(so,{align:"left",children:[" ",Object(ce.jsx)("strong",{children:"Status"})]}),Object(ce.jsxs)(so,{align:"left",children:[" ",Object(ce.jsx)("strong",{children:"Log Time"})]}),Object(ce.jsxs)(so,{align:"left",children:[" ",Object(ce.jsx)("strong",{children:"Update Time"})]}),Object(ce.jsxs)(so,{align:"left",children:[" ",Object(ce.jsx)("strong",{children:"Site"})]}),Object(ce.jsxs)(so,{align:"left",children:[" ",Object(ce.jsx)("strong",{children:"Issue"})]}),Object(ce.jsxs)(so,{align:"left",children:[" ",Object(ce.jsx)("strong",{children:"Category"})]})]})}),Object(ce.jsxs)(xe.a,{children:[O.map((function(e,t){return Object(ce.jsxs)(lo,{children:[Object(ce.jsx)(so,{component:"th",scope:"row",style:{cursor:Number(e.ticket)&&"pointer",color:"blue"},onClick:function(){localStorage.setItem("alertsTable","notification_close"),a(e)},children:e.ticket}),Object(ce.jsx)(so,{align:"left",style:{color:"Open"===e.status?"red":"Pending"===e.status?"orange":"green"},children:e.status}),Object(ce.jsx)(so,{align:"left",children:String(e.ticket).includes("No")?"-":x(e.timestamp)}),Object(ce.jsx)(so,{align:"left",children:String(e.ticket).includes("No")?"-":x(e.timestamp)}),Object(ce.jsx)(so,{align:"left",children:e.site}),Object(ce.jsx)(so,{align:"left",children:e.alarm}),Object(ce.jsxs)(so,{align:"left",children:[String(e.state).slice(0,1).toUpperCase(),String(e.state).slice(1)]})]},t)})),0===O.length&&Object(ce.jsx)(lo,{children:Object(ce.jsx)(so,{align:"left",children:"Loading..."})})]})]})}),Object(ce.jsx)("div",{style:{marginTop:".5rem",display:"flex",justifyContent:"flex-end"},children:Object(ce.jsx)(mi.a,{count:d,page:s,onChange:function(e,a){var n=t.slice(13*(a-1),13*a);g(n),l(a)},shape:"rounded"})})]})}var bo,uo=Object(D.a)((function(e){return{formControl:{margin:e.spacing(1)},selectEmpty:{marginTop:e.spacing(2)},inputlabel:{marginTop:"-0.4rem",backgroundColor:"transparent",color:"#21618C",padding:"4px"}}}));function mo(e){var t=e.label,a=e.items,n=void 0===a?[]:a,i=e.selectedItems,c=void 0===i?[]:i,r=e.handleChange,s=uo(),l=n.length>0&&c.length===n.length,o=function(e,t){var a=!1;return e.forEach((function(e){e===t&&(a=!0)})),a};return Object(ce.jsxs)(v.a,{variant:"outlined",className:s.formControl,style:{maxWidth:"100px",marginTop:"0.5rem"},size:"small",children:[Object(ce.jsx)(Aa.a,{id:"".concat(t,"-select-label"),className:s.inputlabel,children:t}),Object(ce.jsxs)(Z.a,{labelId:"".concat(t,"-select-label"),id:"".concat(t,"-select"),style:{fontSize:14,height:"4vh"},value:c,onChange:r,multiple:!0,renderValue:function(e){return e.join(", ")},MenuProps:{classes:{paper:s.menuPaper},getContentAnchorEl:function(){return null}},children:[Object(ce.jsxs)(B.a,{value:"all",classes:{root:l?s.selectedAll:""},style:{paddingBlock:0},children:[Object(ce.jsx)(k.a,{children:Object(ce.jsx)(Pa.a,{style:{paddingBlock:0},size:"small",color:"primary",classes:{indeterminate:s.indeterminateColor},checked:l||0===n.length,indeterminate:c.length>0&&c.length<n.length})}),Object(ce.jsx)(w.a,{classes:{primary:s.listItemText},primary:"Select All",style:{paddingTop:".05rem"}})]}),n.map((function(e,t){return Object(ce.jsxs)(B.a,{value:e,style:{paddingBlock:0},children:[Object(ce.jsx)(k.a,{children:Object(ce.jsx)(Pa.a,{style:{paddingBlock:0},checked:o(c,e),size:"small",color:"primary"})}),Object(ce.jsx)(w.a,{classes:{primary:s.listItemText},primary:e,style:{paddingTop:".05rem"}})]},t)}))]})]})}var ho=Object(co.a)(Ea.a)(bo||(bo=Object(ao.a)(["\n  label {\n    margin-top: -0.4rem;\n    background-color: transparent;\n    color: #21618c;\n\n    padding: 4px;\n\n    // font-size: 15px;\n  }\n  .MuiSvgIcon-root {\n    padding-left: 1px;\n    padding-right: 1px;\n    margin-left: -15px;\n    margin-right: -15px;\n  }\n"]))),Oo=Object(D.a)((function(e){return{formControl:{margin:e.spacing(1),minWidth:80,maxWidth:140},chips:{display:"flex",flexWrap:"wrap"},chip:{margin:2},noLabel:{marginTop:e.spacing(3)},inputlabel:{marginTop:"-0.4rem",backgroundColor:"transparent",color:"#21618C",padding:"4px"},date:{maxWidth:130}}})),go=["Open","Pending","Resolved"],xo=["Network","Service","INV SCB"];var So=function(e){var t=e.handleTicketModal,a=e.handleNotificationClick,c=e.handleSessionExpire,r=$e(),s=(r.enabledLinearProgress,r.setEnabledLinearProgress),l=r.setSnackbar,o=X.a.CancelToken.source(),j=Oo(),d=(Object(P.a)(),Object(n.useState)([])),b=Object(u.a)(d,2),m=b[0],g=b[1],S=JSON.parse(localStorage.getItem("siteNamesAndBlocks")),p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S;return e.map((function(e){return e.name}))},f=Object(n.useState)(localStorage.getItem("siteslocally")?localStorage.getItem("siteslocally").split(","):p()),y=Object(u.a)(f,2),T=y[0],I=y[1],k=Object(n.useState)(p()),w=Object(u.a)(k,2),N=w[0],L=(w[1],JSON.parse(localStorage.getItem("siteNamesCaps")).length>0&&(T.length,JSON.parse(localStorage.getItem("siteNamesCaps")).length),Object(n.useState)()),D=Object(u.a)(L,2),F=(D[0],D[1]),V=Object(n.useState)(),A=Object(u.a)(V,2),E=A[0],H=A[1],_=i.a.useState(["Open","Pending"]),z=Object(u.a)(_,2),M=z[0],R=z[1],G=i.a.useState(localStorage.getItem("issueStatus")?localStorage.getItem("issueStatus").split(","):["Network","Service","INV SCB"]),W=Object(u.a)(G,2),Y=W[0],q=W[1];Object(n.useEffect)((function(){F("%"),H("%")}),[]);var U=Object(n.useState)(!1),J=Object(u.a)(U,2),$=J[0],Q=J[1],ee=Object(n.useState)(!1),te=Object(u.a)(ee,2),ae=te[0],ne=te[1],ie=function(e){var t=new Date(e.getTime());return t.setHours(0,0,0,0),t},re=function(e){var t=new Date(e.getTime());return t.setHours(23,59,59,999),t},se=Object(n.useState)((function(){var e=new Date(162250566e4);return ie(e)})),le=Object(u.a)(se,2),oe=le[0],je=le[1],de=Object(n.useState)((function(){var e=new Date;return re(e)})),be=Object(u.a)(de,2),ue=be[0],he=be[1],Oe=function(){var e=localStorage.getItem("userToken");s(!0),g([]),X.a.post(K+"/notification/alerts",{selectedSite:localStorage.getItem("siteslocally")?localStorage.getItem("siteslocally").split(","):T,issue:localStorage.getItem("issueStatus")?localStorage.getItem("issueStatus").split(","):Y,category:E,status:M,fromDate:oe.getTime(),toDate:ue.getTime(),email:localStorage.getItem("userEmail")},{cancelToken:o.token,headers:{jwtToken:e}}).then((function(e){s(!1),String(e.data[0].ticket).includes("No")?g([{ticket:"No data found!",status:"-",site:"-",alarm:"-",state:"-",remarks:"No data found!"}]):g(Object(me.a)(e.data))})).catch((function(e){var t;s(!1),401===(null===e||void 0===e||null===(t=e.response)||void 0===t?void 0:t.status)&&c()}))},ge=function(){var e=Object(to.a)(io.a.mark((function e(){var t,a,n,i,c;return io.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=localStorage.getItem("userToken"),ne(!0),s(!0),e.prev=3,e.next=6,X.a.post(K+"/notification/alerts/csv",{selectedSite:localStorage.getItem("siteslocally")?localStorage.getItem("siteslocally").split(","):T,issue:localStorage.getItem("issueStatus")?localStorage.getItem("issueStatus").split(","):Y,category:E,status:M,fromDate:oe.getTime(),toDate:ue.getTime(),email:localStorage.getItem("userEmail")},{cancelToken:o.token,headers:{jwtToken:t}});case 6:a=e.sent,console.log(a.data),n=window.URL.createObjectURL(new Blob([a.data])),(i=document.createElement("a")).href=n,c="".concat(oe.getDate(),"_").concat(oe.getMonth()+1," to ").concat(ue.getDate(),"_").concat(ue.getMonth()+1,".csv"),i.setAttribute("download",c),document.body.appendChild(i),i.click(),i.remove(),s(!1),ne(!1),e.next=25;break;case 20:e.prev=20,e.t0=e.catch(3),l((function(e){return Object(h.a)(Object(h.a)({},e),{},{open:!0,severity:"error",message:"No data found."})})),s(!1),ne(!1);case 25:case"end":return e.stop()}}),e,null,[[3,20]])})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){Oe();var e=setInterval(Oe,1e5);return function(){clearInterval(e),o.cancel()}}),[]),Object(ce.jsxs)("div",{style:{marginTop:".25rem"},children:[Object(ce.jsxs)(C.a,{container:!0,direction:"row",justifyContent:"flex-start",alignItems:"flex-start",children:[Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(mo,{label:"Sites",items:N,selectedItems:T,handleChange:function(e){var t=e.target.value;localStorage.setItem("siteslocally","all"===t[t.length-1]?N:t),"all"!==t[t.length-1]?I(t):I(T.length===N.length?[]:N)}})}),Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(mo,{label:"Issue",items:xo,selectedItems:Y,handleChange:function(e,t){localStorage.setItem("issueStatus",e.target.value);var a=e.target.value;localStorage.setItem("issueStatus","all"===a[a.length-1]?["Network","Service","INV SCB"]:a),"all"!==a[a.length-1]?q(a):q(Y.length===xo.length?[]:xo)}})}),Object(ce.jsx)(C.a,{item:!0,style:{marginTop:""},children:E&&Object(ce.jsxs)(v.a,{className:j.formControl,variant:"outlined",size:"small",children:[Object(ce.jsx)(Aa.a,{id:"Category-select-label",className:j.inputlabel,children:"Category"}),Object(ce.jsxs)(Z.a,{id:"site-simple-select",value:E,style:{fontSize:14,height:"4vh"},onChange:function(e){return H(e.target.value)},children:[Object(ce.jsx)(B.a,{value:"%",children:"All\u2002"}),Object(ce.jsx)(B.a,{value:"critical",children:"Critical\u2002"})]})]})}),Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(mo,{label:"Alert",items:go,selectedItems:M,handleChange:function(e,t){localStorage.setItem("alertsStatus",e.target.value);var a=e.target.value;"all"!==a[a.length-1]?R(a):R(M.length===go.length?[]:go)}})}),Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(it.a,{utils:O.a,children:Object(ce.jsxs)(C.a,{container:!0,spacing:2,style:{marginTop:"0rem",marginLeft:"0rem"},children:[Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(ro.a,{children:Object(ce.jsx)(ho,{className:j.date,size:"small",views:["year","month","date"],inputVariant:"outlined",autoOk:!0,format:"MM/dd/yyyy",id:"from-date-picker-inline",label:"From",inputProps:{style:{fontSize:14,height:"0.4rem"}},value:oe,onChange:function(e){je(ie(e))},KeyboardButtonProps:{"aria-labelte":"from date"},style:{width:"140px"}})})}),Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(ro.a,{children:Object(ce.jsx)(ho,{className:j.date,size:"small",autoOk:!0,views:["year","month","date"],inputVariant:"outlined",format:"MM/dd/yyyy",id:"to-date-picker-inline",label:"To",value:ue,inputProps:{style:{fontSize:14,height:"0.4rem"}},onChange:function(e){he(re(e))},KeyboardButtonProps:{"aria-label":"to date"},style:{width:"150px"}})})})]})})}),Object(ce.jsx)(C.a,{item:!0,style:{marginLeft:"1rem",marginTop:"0.2rem"},children:Object(ce.jsx)(x.a,{variant:"outlined",size:"small",style:{fontSize:"14px",height:"2rem"},color:"primary",onClick:function(){!function(){s(!0),Q(!0);var e=localStorage.getItem("userToken");g([]),X.a.post(K+"/notification/alerts",{selectedSite:localStorage.getItem("siteslocally")?localStorage.getItem("siteslocally").split(","):T,issue:localStorage.getItem("issueStatus")?localStorage.getItem("issueStatus").split(","):Y,category:E,status:M,fromDate:oe.getTime(),toDate:ue.getTime(),email:localStorage.getItem("userEmail")},{cancelToken:o.token,headers:{jwtToken:e}}).then((function(e){s(!1),String(e.data[0].ticket).includes("No")?g([{ticket:"No data found!",status:"-",site:"-",alarm:"-",state:"-",remarks:"No data found!"}]):g(Object(me.a)(e.data)),Q(!1)})).catch((function(e){var t;s(!1),Q(!1),401===(null===e||void 0===e||null===(t=e.response)||void 0===t?void 0:t.status)&&c()}))}()},disabled:$,children:$?"Loading":"View"})}),Object(ce.jsx)(C.a,{item:!0,style:{marginLeft:"1rem",marginTop:"0.2rem"},children:Object(ce.jsx)(x.a,{variant:"outlined",color:"primary",size:"small",style:{fontSize:"14px",height:"2rem"},onClick:ge,disabled:ae,children:ae?"Downloading":"CSV"})})]}),Object(ce.jsx)(jo,{data:m,ticketForModal:function(e){t(e)},handleNotificationClick:a})]})};function po(e){return Object(ce.jsx)($.a,Object(h.a)({elevation:6,variant:"filled"},e))}var fo=Object(D.a)((function(e){return{grow:{flexGrow:1},textField:{width:140}}})),vo=function(e){var t=e.equipment,a=e.handleEquipmentChange,n=e.equipmentKey;return Object(ce.jsxs)(Z.a,{labelId:"equipment-select-label",id:"equipment-select",value:t,onChange:function(e){return a(e,n)},children:[Object(ce.jsx)(B.a,{value:"none",children:Object(ce.jsx)("span",{children:"Select\u2002"})}),Object(ce.jsx)(B.a,{value:"icogem",children:Object(ce.jsx)("span",{children:"ICOG EM\u2002"})}),Object(ce.jsx)(B.a,{value:"invTotal",children:Object(ce.jsx)("span",{children:"Inverter\u2002"})}),Object(ce.jsx)(B.a,{value:"invStringTotal",children:Object(ce.jsx)("span",{children:"Inverter String\u2002"})}),Object(ce.jsx)(B.a,{value:"mcrem",children:Object(ce.jsx)("span",{children:"MCR EM\u2002"})}),Object(ce.jsx)(B.a,{value:"scbTotal",children:Object(ce.jsx)("span",{children:"SCB\u2002"})}),Object(ce.jsx)(B.a,{value:"stringTotal",children:Object(ce.jsx)("span",{children:"String\u2002"})})]})},Co=function(e,t){var a="",n="";switch(e){case"icogem":a="ICOG EM";break;case"invTotal":a="Inverter";break;case"invStringTotal":a="Inverter String";break;case"mcrem":a="MCR EM";break;case"scbTotal":a="SCB";break;case"stringTotal":a="String";break;default:a=""}switch(t){case"icogem":n="ICOG EM";break;case"invTotal":n="Inverter";break;case"invStringTotal":n="Inverter String";break;case"mcrem":n="MCR EM";break;case"scbTotal":n="SCB";break;case"stringTotal":n="String";break;default:n=""}return"Difference between ".concat(a," and ").concat(n)};function yo(e){var t=e.handleSessionExpire,a=fo(),i=$e().setEnabledLinearProgress,c=localStorage.getItem("userToken"),r=Object(n.useState)("gadarpur"),s=Object(u.a)(r,2),l=s[0],o=s[1],j=Object(n.useState)(1),d=Object(u.a)(j,2),b=d[0],g=(d[1],Object(n.useState)(1)),x=Object(u.a)(g,2),S=x[0],p=x[1],f=Object(n.useState)({equipment1:"none",equipment2:"none",equipment3:"none",equipment4:"none",equipment5:"none"}),T=Object(u.a)(f,2),I=T[0],k=T[1],w=Object(n.useState)("a"),N=Object(u.a)(w,2),L=(N[0],N[1],Object(n.useState)()),D=Object(u.a)(L,2),P=D[0],F=D[1],A=function(e,a,n,c){i(!0),X.a.post(K+"/scbanalytics/logs",{site:n,location:"b"+String(c).padStart(2,0),fromDate:e,toDate:a},{headers:{jwtToken:localStorage.getItem("userToken")}}).then((function(e){F((function(t){return Object(h.a)(Object(h.a)({},e.data),{},{none:0})})),i(!1)})).catch((function(e){var a;401===(null===e||void 0===e||null===(a=e.response)||void 0===a?void 0:a.status)&&t(),i(!1)}))},E=function(e,t){k((function(a){return Object(h.a)(Object(h.a)({},a),{},Object(m.a)({},t,e.target.value))}))},H=Object(n.useState)((new Date).getTime()),_=Object(u.a)(H,2),z=_[0],M=_[1],R=Object(n.useState)(new Date),G=Object(u.a)(R,2),W=G[0],Y=G[1],q=Object(n.useState)(!1),U=Object(u.a)(q,2),$=U[0],Q=U[1],ee=Object(n.useState)(!1),te=Object(u.a)(ee,2),ae=te[0],ne=te[1],ie=Object(n.useState)(!0),re=Object(u.a)(ie,2),se=re[0],le=re[1],oe=function(){ne(!1)};Object(n.useEffect)((function(){M(W.getTime())}),[W]);var je=function(e){var t=new Date(e.getTime());return t.setHours(0,0,0,0),t},de=function(e){var t=new Date(e.getTime());return t.setHours(23,59,59,999),t},be=Object(n.useState)((function(){var e=new Date;return je(e)})),ue=Object(u.a)(be,2),me=ue[0],he=ue[1],Oe=Object(n.useState)((function(){var e=new Date;return de(e)})),ge=Object(u.a)(Oe,2),xe=ge[0],Se=ge[1],pe=Object(n.useState)(0),fe=Object(u.a)(pe,2),ve=fe[0],Ce=fe[1],ye=Object(n.useState)(void 0),Te=Object(u.a)(ye,2),Ie=Te[0],ke=Te[1],we=function(e,a){var n=e,r=new Date(n);r.setHours(5,0,0,0);var s=r.getTime();(function(e,a,n){i(!0),X.a.get(K+"/"+n+"/site",{headers:{jwtToken:c,startTime:e,endTime:a}}).then((function(e){Ce(e.data.status),ke(1e3*e.data.time),i(!1)})).catch((function(e){401===e.response.status&&t(),i(!1)}))})(s,n=se?Date.now():e,a),X.a.post(K+"/"+a+"/scb",{fromDate:s,endTime:n,block:"b0"+b},{headers:{jwtToken:c}}).then((function(e){})).catch((function(e){var a;401===(null===e||void 0===e||null===(a=e.response)||void 0===a?void 0:a.status)&&t()})),A(me.getTime(),xe.getTime(),a,S)};Object(n.useEffect)((function(){we(z,l)}),[z]);var Ne=function(e,t){var a=Number(e),n=Number(t)-a;return Math.abs(Number(n).toFixed(2).replace(/[.,]00$/,""))},Be=function(e){var t=e.value,a=e.equipmentKey,n=e.customId;if(!P)return Object(ce.jsx)("div",{style:{height:"250px"},children:Object(ce.jsx)("div",{style:{marginTop:"1.5rem",border:"1px solid lightblue",borderRadius:"5px",padding:".5rem",textAlign:"center"},id:n,children:Number(t).toFixed(2).replace(/[.,]00$/,"")})});var i=Object.entries(P.invEnergy);switch(a){case"none":case"icogem":case"mcrem":return Object(ce.jsx)("div",{style:{height:"250px"},children:Object(ce.jsx)("div",{style:{marginTop:"1.5rem",border:"1px solid lightblue",borderRadius:"5px",padding:".5rem",textAlign:"center"},id:n,children:t})});case"invTotal":return Object(ce.jsxs)("div",{style:{marginTop:"1.5rem",border:"1px solid lightblue",borderRadius:"5px",padding:".5rem",textAlign:"left",height:"250px",overflowY:"scroll"},id:n,children:[Object(ce.jsxs)("div",{children:["Total: ",Object(ce.jsx)("span",{style:{color:"blue"},children:t})]}),i.map((function(e){return Object(ce.jsxs)("div",{children:[e[0],":"," ",Object(ce.jsx)("span",{style:{color:"blue"},children:Number(e[1].invEnergy).toFixed(2).replace(/[.,]00$/,"")})]})}))]});case"invStringTotal":return Object(ce.jsxs)("div",{style:{marginTop:"1.5rem",border:"1px solid lightblue",borderRadius:"5px",padding:".5rem",textAlign:"left",height:"250px",overflowY:"scroll"},id:n,children:[Object(ce.jsxs)("div",{children:["Total: ",Object(ce.jsx)("span",{style:{color:"blue"},children:t})]}),i.map((function(e){return Object.entries(e[1].invString).map((function(t){return Object(ce.jsxs)("div",{children:[e[0],", ",t[0],":"," ",Object(ce.jsx)("span",{style:{color:"blue"},children:Number(t[1]).toFixed(2).replace(/[.,]00$/,"")})]})}))}))]});case"scbTotal":return Object(ce.jsxs)("div",{style:{marginTop:"1.5rem",border:"1px solid lightblue",borderRadius:"5px",padding:".5rem",textAlign:"left",height:"250px",overflowY:"scroll"},id:n,children:[Object(ce.jsxs)("div",{children:["Total: ",Object(ce.jsx)("span",{style:{color:"blue"},children:t})]}),i.map((function(e){return Object.entries(e[1].scbEnergy).map((function(t){return Object(ce.jsxs)("div",{children:[e[0],", ",t[0],":"," ",Object(ce.jsx)("span",{style:{color:"blue"},children:Number(t[1].scbEnergy)})]})}))}))]});case"stringTotal":return Object(ce.jsxs)("div",{style:{marginTop:"1.5rem",border:"1px solid lightblue",borderRadius:"5px",padding:".5rem",textAlign:"left",height:"250px",overflowY:"scroll"},id:n,children:[Object(ce.jsxs)("div",{children:["Total: ",Object(ce.jsx)("span",{style:{color:"blue"},children:t})]}),i.map((function(e){return Object.entries(e[1].scbEnergy).map((function(t){return Object.entries(t[1]).map((function(a,n){if(a[0].startsWith("e"))return Object(ce.jsxs)("div",{children:[e[0],", ",t[0],", string ",a[0].slice(1),":"," ",Object(ce.jsx)("span",{style:{color:"blue"},children:Number(a[1]).toFixed(2).replace(/[.,]00$/,"")})]})}))}))}))]});default:return Object(ce.jsx)("div",{style:{marginTop:"1.5rem",border:"1px solid lightblue",borderRadius:"5px",padding:".5rem",textAlign:"center",maxHeight:"250px"},id:n,children:Object(ce.jsx)("span",{style:{color:"blue"},children:t})})}};Object(n.useEffect)((function(){document.getElementById("equipment1")}),[]);var Le=function(e){var t=document.getElementById(e);if(t){var a=t.getBoundingClientRect();return Math.round(a.y-5)+"px"}return"0px"},De=function(e,t,a){var n=document.getElementById(e),i=document.getElementById(t),c=document.getElementById(a);if(n&&i&&c){var r=n.getBoundingClientRect(),s=i.getBoundingClientRect(),l=c.getBoundingClientRect(),o=r.x+r.width+(s.x-(r.x+r.width))/2-l.width/2;return Math.round(o)+"px"}return"0px"};return Object(ce.jsxs)("div",{style:{marginTop:".25rem",width:"90vw"},children:[Object(ce.jsxs)(C.a,{container:!0,alignItems:"center",justify:"space-between",children:[Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsxs)(C.a,{container:!0,alignItems:"flex-end",children:[Object(ce.jsx)(C.a,{item:!0,style:{marginRight:"1rem"},children:Object(ce.jsxs)(v.a,{className:a.siteFormControl,children:[Object(ce.jsx)(Aa.a,{id:"site-select-label",children:"Site"}),Object(ce.jsx)(Z.a,{labelId:"site-select-label",id:"site-select",value:l,onChange:function(e){o(e.target.value),A(me.getTime(),xe.getTime(),e.target.value,S)},children:Object(ce.jsx)(B.a,{value:"gadarpur",children:Object(ce.jsx)("span",{children:"Gadarpur\u2002"})})})]})}),Object(ce.jsx)(C.a,{item:!0,style:{marginRight:"1rem"},children:Object(ce.jsxs)(it.a,{utils:O.a,children:[Object(ce.jsx)(Ea.a,{autoOk:!0,disableToolbar:!0,variant:"inline",format:"MM/dd/yyyy",id:"from-date-picker-inline",label:"From",value:me,onChange:function(e){he(je(e)),A(e.getTime(),xe.getTime(),l,S)},KeyboardButtonProps:{"aria-labelte":"from date"},style:{marginRight:"1rem"},className:a.textField}),Object(ce.jsx)(Ea.a,{autoOk:!0,disableToolbar:!0,variant:"inline",format:"MM/dd/yyyy",id:"to-date-picker-inline",label:"To",value:xe,onChange:function(e){Se(de(e)),A(me.getTime(),e.getTime(),l,S)},KeyboardButtonProps:{"aria-label":"to date"},className:a.textField})]})}),Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsxs)(v.a,{className:a.siteFormControl,children:[Object(ce.jsx)(Aa.a,{id:"location-select-label",children:"Location"}),Object(ce.jsxs)(Z.a,{labelId:"location-select-label",id:"location-select",value:S,onChange:function(e){p(e.target.value),A(me.getTime(),xe.getTime(),l,e.target.value)},children:[Object(ce.jsx)(B.a,{value:1,children:Object(ce.jsx)("span",{children:"B01\u2002"})}),Object(ce.jsx)(B.a,{value:2,children:Object(ce.jsx)("span",{children:"B02\u2002"})}),Object(ce.jsx)(B.a,{value:3,children:Object(ce.jsx)("span",{children:"B03\u2002"})}),Object(ce.jsx)(B.a,{value:4,children:Object(ce.jsx)("span",{children:"B04\u2002"})}),Object(ce.jsx)(B.a,{value:5,children:Object(ce.jsx)("span",{children:"B05\u2002"})}),Object(ce.jsx)(B.a,{value:6,children:Object(ce.jsx)("span",{children:"B06\u2002"})})]})]})})]})}),Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsxs)(C.a,{container:!0,alignItems:"center",children:[Object(ce.jsx)(C.a,{item:!0,style:{marginRight:"2rem"},children:Object(ce.jsxs)(C.a,{container:!0,children:[Object(ce.jsx)(C.a,{item:!0,children:0===ve?Object(ce.jsx)(V.a,{variant:"h6",style:{color:"#f44336"},children:"Offline"}):Object(ce.jsx)(V.a,{variant:"h6",style:{color:"#4caf50"},children:"Online"})}),Object(ce.jsx)(C.a,{item:!0,style:{margin:"0 1rem"}}),Object(ce.jsx)(C.a,{item:!0,children:void 0===Ie?Object(ce.jsx)(tt.a,{size:"1.25rem"}):Object(ce.jsx)(V.a,{variant:"h6",children:function(e){var t=new Date(e);return Object(ce.jsxs)("span",{children:[String(t.getDate()).padStart(2,"0"),"/",String(t.getMonth()+1).padStart(2,"0"),"/",t.getFullYear(),Object(ce.jsx)("span",{children:"\u2003"}),t.toLocaleString([],{hour:"2-digit",minute:"2-digit",hour12:!0}).toUpperCase()]})}(Ie)})})]})}),Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(it.a,{utils:O.a,children:Object(ce.jsx)(ct.a,{style:{width:1,visibility:"hidden"},value:W,open:$,onClose:function(){return Q(!1)},onChange:function(e){try{le(!1)}finally{Y(e),Q(!1)}},format:"dd/MM/yyyy hh:mm a",minDate:function(){var e=new Date;return"gadarpur"===l&&e.setTime(1629396e6),e}()})})}),Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(y.a,{onClick:function(){return Q(!0)},children:Object(ce.jsx)(Me.a,{color:"action",fontSize:"large"})})}),Object(ce.jsx)(C.a,{item:!0,style:{paddingRight:"0rem",marginRight:"1rem"},children:Object(ce.jsx)(y.a,{onClick:function(){var e=new Date;Y(e),M(e.getTime()),ne(!0),le(!0)},children:Object(ce.jsx)(nt.a,{color:"primary",fontSize:"large"})})})]})})]}),Object(ce.jsxs)(C.a,{container:!0,style:{marginTop:".75rem"},justify:"space-between",alignItems:"center",children:[Object(ce.jsxs)(C.a,{item:!0,children:[Object(ce.jsx)("div",{children:Object(ce.jsx)("strong",{children:"Equipments :"})}),Object(ce.jsx)("div",{style:{marginTop:"1.5rem",height:"250px"},children:"Values : "})]}),Object(ce.jsxs)(C.a,{item:!0,style:{marginTop:"0rem"},children:[Object(ce.jsx)(v.a,{className:a.siteFormControl,children:Object(ce.jsx)(vo,{equipmentKey:"equipment1",equipment:I.equipment1,handleEquipmentChange:E})}),Object(ce.jsx)(Be,{customId:"equipment1",equipmentKey:I.equipment1,value:P?Number(P[I.equipment1]).toFixed(2).replace(/[.,]00$/,""):"Loading..."})]}),Object(ce.jsxs)(C.a,{item:!0,style:{marginTop:"0rem"},children:[Object(ce.jsx)(v.a,{className:a.siteFormControl,children:Object(ce.jsx)(vo,{equipmentKey:"equipment2",equipment:I.equipment2,handleEquipmentChange:E})}),Object(ce.jsx)(Be,{customId:"equipment2",equipmentKey:I.equipment2,value:P?Number(P[I.equipment2]).toFixed(2).replace(/[.,]00$/,""):"Loading..."})]}),Object(ce.jsxs)(C.a,{item:!0,style:{marginTop:"0rem"},children:[Object(ce.jsx)(v.a,{className:a.siteFormControl,children:Object(ce.jsx)(vo,{equipmentKey:"equipment3",equipment:I.equipment3,handleEquipmentChange:E})}),Object(ce.jsx)(Be,{customId:"equipment3",equipmentKey:I.equipment3,value:P?Number(P[I.equipment3]).toFixed(2).replace(/[.,]00$/,""):"Loading..."})]}),Object(ce.jsxs)(C.a,{item:!0,style:{marginTop:"0rem"},children:[Object(ce.jsx)(v.a,{className:a.siteFormControl,children:Object(ce.jsx)(vo,{equipmentKey:"equipment4",equipment:I.equipment4,handleEquipmentChange:E})}),Object(ce.jsx)(Be,{customId:"equipment4",equipmentKey:I.equipment4,value:P?Number(P[I.equipment4]).toFixed(2).replace(/[.,]00$/,""):"Loading..."})]}),Object(ce.jsxs)(C.a,{item:!0,style:{marginTop:"0rem",paddingRight:"2rem"},children:[Object(ce.jsx)(v.a,{className:a.siteFormControl,children:Object(ce.jsx)(vo,{equipmentKey:"equipment5",equipment:I.equipment5,handleEquipmentChange:E})}),Object(ce.jsx)(Be,{customId:"equipment5",equipmentKey:I.equipment5,value:P?Number(P[I.equipment5]).toFixed(2).replace(/[.,]00$/,""):"Loading..."})]})]}),Object(ce.jsxs)(C.a,{container:!0,style:{marginTop:"2rem"},justify:"space-between",alignItems:"center",children:[Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)("span",{id:"differencesLabel",children:"Differences : "})}),Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)("div",{id:"difference1",title:Co(I.equipment1,I.equipment2),style:{position:"absolute",left:De("equipment1","equipment2","difference1"),top:Le("differencesLabel"),minWidth:"100px",border:"1px solid orange",borderRadius:"5px",padding:".5rem",textAlign:"center"},children:P?Ne(P[I.equipment2],P[I.equipment1]):"Loading..."})}),Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)("div",{id:"difference2",title:Co(I.equipment2,I.equipment3),style:{position:"absolute",left:De("equipment2","equipment3","difference2"),top:Le("differencesLabel"),minWidth:"100px",border:"1px solid orange",borderRadius:"5px",padding:".5rem",textAlign:"center"},children:P?Ne(P[I.equipment3],P[I.equipment2]):"Loading..."})}),Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)("div",{id:"difference3",title:Co(I.equipment3,I.equipment4),style:{position:"absolute",left:De("equipment3","equipment4","difference3"),top:Le("differencesLabel"),minWidth:"100px",border:"1px solid orange",borderRadius:"5px",padding:".5rem",textAlign:"center"},children:P?Ne(P[I.equipment4],P[I.equipment3]):"Loading..."})}),Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)("div",{title:Co(I.equipment4,I.equipment5),id:"difference4",style:{position:"absolute",left:De("equipment4","equipment5","difference4"),top:Le("differencesLabel"),minWidth:"100px",border:"1px solid orange",borderRadius:"5px",padding:".5rem",textAlign:"center"},children:P?Ne(P[I.equipment5],P[I.equipment4]):"Loading..."})})]}),Object(ce.jsx)("div",{style:{marginBlock:"1.5rem"}}),Object(ce.jsx)(J.a,{open:ae,anchorOrigin:{vertical:"bottom",horizontal:"left"},autoHideDuration:4e3,onClose:oe,children:Object(ce.jsx)(po,{onClose:oe,severity:"success",children:"Time is reset!"})}),Object(ce.jsx)("div",{style:{marginBottom:"1.5rem"}})]})}var To=["children","value","index"],Io=Object(D.a)({tabs:{"& .MuiTabs-indicator":{backgroundColor:"#148F77"},"& .MuiTab-root.Mui-selected":{color:"#148F77"}}});function ko(e){var t=e.children,a=e.value,n=e.index,i=Object(ji.a)(e,To);return Object(ce.jsx)("div",Object(h.a)(Object(h.a)({role:"tabpanel",hidden:a!==n,id:"simple-tabpanel-".concat(n),"aria-labelledby":"simple-tab-".concat(n)},i),{},{children:a===n&&Object(ce.jsx)(ui.a,{children:Object(ce.jsx)(V.a,{children:t})})}))}function wo(e){return{id:"scb-tab-".concat(e),"aria-controls":"scb-tabpanel-".concat(e)}}function No(e){var t=e.handleSessionExpire,a=n.useState(0),i=Object(u.a)(a,2),c=i[0],r=i[1],s=Io();return Object(ce.jsxs)(ui.a,{children:[Object(ce.jsxs)(di.a,{style:{color:"#000000"},className:s.tabs,value:c,onChange:function(e,t){r(t)},"aria-label":"analytics tabs",children:[Object(ce.jsx)(bi.a,Object(h.a)({label:"Energy"},wo(0))),Object(ce.jsx)(bi.a,Object(h.a)({label:"Second"},wo(1))),Object(ce.jsx)(bi.a,Object(h.a)({label:"Third"},wo(1)))]}),Object(ce.jsx)(ko,{value:c,index:0,style:{paddingTop:"0.5rem"},children:Object(ce.jsx)(yo,{handleSessionExpire:t})}),Object(ce.jsx)(ko,{value:c,index:1,style:{paddingTop:"0.5rem"},children:"Second"}),Object(ce.jsx)(ko,{value:c,index:2,style:{paddingTop:"0.5rem"},children:"Third"})]})}var Bo=function(e){var t=e.payload;return Object(ce.jsx)("div",{style:{textAlign:"center",marginTop:"5px"},children:t.map((function(e,t){return"prBudget"===e.value?Object(ce.jsx)("span",{style:{color:"#5DADE2"},children:"\u25cf\xa0Budget\u2003"},"item-".concat(t)):Object(ce.jsxs)("span",{children:[Object(ce.jsx)("span",{style:{color:"#48C9B0"},children:"\u25cf"}),"\xa0",Object(ce.jsx)("span",{style:{color:"#EC7063"},children:"\u25cf"}),"\xa0Actual"]},"item-".concat(t))}))})};function Lo(e){var t=e.chartData,a=e.enableScroll,i=Object(n.useState)(0),c=Object(u.a)(i,2),r=(c[0],c[1]);return Object(n.useEffect)((function(){!1===a&&r(0)}),[a]),!0===a?Object(ce.jsx)(le.a,{style:{height:"100%"},children:Object(ce.jsxs)(Q.a,{data:t,margin:{top:5,right:30,bottom:5},children:[Object(ce.jsx)(ae.a,{strokeDasharray:"3 3"}),Object(ce.jsx)(ee.a,{dataKey:"site"}),Object(ce.jsx)(te.a,{domain:[0,function(e){return 110}]}),Object(ce.jsx)(St.a,{endIndex:11,onChange:function(e){return r(e.startIndex)},dataKey:"site",height:18,stroke:"#A6ACAF",tickFormatter:function(){return""}}),Object(ce.jsx)(de.a,{wrapperStyle:{paddingTop:"5px"},content:Bo}),Object(ce.jsx)(ne.a,{isAnimationActive:!1,dataKey:"prBudget",fill:"#5DADE2",children:Object(ce.jsx)(pt.a,{dataKey:"prBudget",position:"center",fill:"#fff",angle:"270"})}),Object(ce.jsxs)(ne.a,{isAnimationActive:!1,dataKey:"plantPr",children:[Object(ce.jsx)(pt.a,{dataKey:"plantPr",position:"center",fill:"#fff",angle:"270"}),t.map((function(e,t){return Number(e.plantPr)>=Number(e.prBudget)?Object(ce.jsx)(ie.a,{fill:"#48C9B0"},"cell-".concat(t)):Object(ce.jsx)(ie.a,{fill:"#EC7063"},"cell-".concat(t))}))]})]})}):Object(ce.jsx)(le.a,{children:Object(ce.jsxs)(Q.a,{data:t,margin:{top:5,right:30,left:0,bottom:5},barCategoryGap:1.25,barGap:1,children:[Object(ce.jsx)(ae.a,{strokeDasharray:"3 3"}),Object(ce.jsx)(ee.a,{dataKey:"site",angle:270,tickMargin:32,fontSize:10,interval:0}),Object(ce.jsx)(te.a,{domain:[0,function(e){return 110}]}),Object(ce.jsx)(de.a,{wrapperStyle:{paddingTop:"45px"},formatter:function(e,t,a){return"plantPr"===e?"Actual PR":"Budget"},content:Bo}),Object(ce.jsx)(ne.a,{isAnimationActive:!1,dataKey:"prBudget",fill:"#5DADE2",children:Object(ce.jsx)(pt.a,{dataKey:"prBudget",position:"center",fill:"#000",angle:"270",fontSize:8})}),Object(ce.jsxs)(ne.a,{isAnimationActive:!1,dataKey:"plantPr",children:[Object(ce.jsx)(pt.a,{dataKey:"plantPr",position:"center",fill:"#000",angle:"270",fontSize:8}),t.map((function(e,t){return Number(e.plantPr)>=Number(e.prBudget)?Object(ce.jsx)(ie.a,{fill:"#48C9B0"},"cell-".concat(t)):Object(ce.jsx)(ie.a,{fill:"#EC7063"},"cell-".concat(t))}))]})]})})}var Do=Object(D.a)((function(e){return{}}));function Po(e){var t=e.label,a=e.items,n=void 0===a?[]:a,i=e.selectedItems,c=void 0===i?[]:i,r=e.handleChange,s=Do(),l=n.length>0&&c.length===n.length,o=function(e,t){var a=!1;return e.forEach((function(e){e===t&&(a=!0)})),a};return Object(ce.jsxs)(v.a,{style:{maxWidth:"200px"},children:[Object(ce.jsx)(Aa.a,{id:"".concat(t,"-select-label"),children:t}),Object(ce.jsxs)(Z.a,{style:{fontSize:".8rem"},labelId:"".concat(t,"-select-label"),id:"".concat(t,"-select"),value:c,onChange:r,multiple:!0,renderValue:function(e){return e.join(", ")},MenuProps:{classes:{paper:s.menuPaper},getContentAnchorEl:function(){return null}},children:[Object(ce.jsxs)(B.a,{value:"all",classes:{root:l?s.selectedAll:""},style:{paddingBlock:0},children:[Object(ce.jsx)(k.a,{children:Object(ce.jsx)(Pa.a,{style:{paddingBlock:0},size:"small",color:"primary",classes:{indeterminate:s.indeterminateColor},checked:l||0===n.length,indeterminate:c.length>0&&c.length<n.length})}),Object(ce.jsx)(w.a,{classes:{primary:s.listItemText},primary:"Select All",style:{paddingTop:".05rem"}})]}),n.map((function(e,t){return Object(ce.jsxs)(B.a,{value:e,style:{paddingBlock:0},children:[Object(ce.jsx)(k.a,{children:Object(ce.jsx)(Pa.a,{style:{paddingBlock:0},checked:o(c,e),size:"small",color:"primary"})}),Object(ce.jsx)(w.a,{classes:{primary:s.listItemText},primary:e,style:{paddingTop:".05rem"}})]},t)}))]})]})}function Fo(e){return Object(ce.jsx)($.a,Object(h.a)({elevation:6,variant:"filled"},e))}var Vo=Object(D.a)((function(e){return{grow:{flexGrow:1},textField:{width:120},menuPaper:{maxHeight:400},formControlStyle:{},listItemText:{fontSize:".9rem"}}}));function Ao(e){var t=e.handleSessionExpire,a=Vo(),i=$e().setEnabledLinearProgress,c=Object(n.useState)(!1),r=Object(u.a)(c,2),s=r[0],l=r[1],o=(localStorage.getItem("userToken"),JSON.parse(localStorage.getItem("siteNamesAndBlocks"))),j=JSON.parse(localStorage.getItem("siteNamesAndBlocks")).map((function(e){return e.name})),d=Object(n.useState)([j[0]]),b=Object(u.a)(d,2),m=b[0],h=b[1],g=Object(n.useState)(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o;return e.map((function(e){return e.name}))}()),p=Object(u.a)(g,2),f=p[0],y=(p[1],JSON.parse(localStorage.getItem("siteNamesCaps")).length>0&&(m.length,JSON.parse(localStorage.getItem("siteNamesCaps")).length),Object(n.useState)("pr")),T=Object(u.a)(y,2),I=T[0],k=T[1],w=Object(n.useState)("desc"),N=Object(u.a)(w,2),L=N[0],D=N[1],P=Object(n.useState)("none"),F=Object(u.a)(P,2),V=F[0],A=F[1],E=Object(n.useState)(!0),H=Object(u.a)(E,2),_=H[0],z=H[1],M=Object(n.useState)([]),R=Object(u.a)(M,2),G=R[0],W=R[1],Y=Object(n.useState)([]),q=Object(u.a)(Y,2),U=q[0],$=q[1],Q=function(e,a){var n=new Date;n.setHours(0,0,0,0),i(!0),l(!0),X.a.post(K+"/performance/pr",{fromDate:e.getTime(),toDate:a.getTime(),today:n.getTime(),sites:m,parameter:I},{headers:{jwtToken:localStorage.getItem("userToken")}}).then((function(e){W(e.data),$("desc"===L?e.data.sort((function(e,t){return parseFloat(t.plantPr)-parseFloat(e.plantPr)})):e.data.sort((function(e,t){return parseFloat(e.plantPr)-parseFloat(t.plantPr)}))),i(!1),l(!1)})).catch((function(e){var a;401===(null===e||void 0===e||null===(a=e.response)||void 0===a?void 0:a.status)&&t(),i(!1),l(!1)}))},ee=function(e){switch(e){case"desc":default:$((function(e){return e.sort((function(e,t){return parseFloat(t.plantPr)-parseFloat(e.plantPr)}))}));break;case"asc":$((function(e){return e.sort((function(e,t){return parseFloat(e.plantPr)-parseFloat(t.plantPr)}))}))}},te=Object(n.useState)((new Date).getTime()),ae=Object(u.a)(te,2),ne=(ae[0],ae[1]),ie=Object(n.useState)(new Date),re=Object(u.a)(ie,2),se=re[0],le=(re[1],Object(n.useState)(!1)),oe=Object(u.a)(le,2),je=(oe[0],oe[1],Object(n.useState)(!1)),de=Object(u.a)(je,2),be=de[0],ue=de[1],me=Object(n.useState)(!0),he=Object(u.a)(me,2),Oe=(he[0],he[1],function(){ue(!1)});Object(n.useEffect)((function(){ne(se.getTime())}),[se]);var ge=function(e){var t=new Date(e.getTime());return t.setHours(0,0,0,0),t},xe=function(e){var t=new Date(e.getTime());return t.setHours(23,59,59,999),t},Se=Object(n.useState)((function(){var e=new Date;return ge(e)})),pe=Object(u.a)(Se,2),fe=pe[0],ve=pe[1],Ce=Object(n.useState)((function(){var e=new Date;return xe(e)})),ye=Object(u.a)(Ce,2),Te=ye[0],Ie=ye[1],ke=Object(n.useState)(0),we=Object(u.a)(ke,2),Ne=(we[0],we[1],Object(n.useState)(void 0)),Be=Object(u.a)(Ne,2);Be[0],Be[1];Object(n.useEffect)((function(){}),[]);return Object(ce.jsxs)("div",{style:{marginTop:"0rem",width:"90vw"},children:[Object(ce.jsx)(C.a,{container:!0,alignItems:"center",justify:"space-between",children:Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsxs)(C.a,{container:!0,alignItems:"flex-end",children:[Object(ce.jsx)(C.a,{item:!0,style:{marginRight:"1rem"},children:Object(ce.jsx)(Po,{label:"Sites",items:f,selectedItems:m,handleChange:function(e){var t=e.target.value;"all"!==t[t.length-1]?h(t):h(m.length===f.length?[]:f)}})}),Object(ce.jsx)(C.a,{item:!0,style:{marginRight:"1rem"},children:Object(ce.jsxs)(it.a,{utils:O.a,children:[Object(ce.jsx)(Ea.a,{autoOk:!0,disableToolbar:!0,variant:"inline",format:"MM/dd/yyyy",id:"from-date-picker-inline",label:"From",value:fe,onChange:function(e){ve(ge(e))},KeyboardButtonProps:{"aria-labelte":"from date"},style:{marginRight:"1rem"},className:a.textField,InputProps:{style:{fontSize:".8rem"}}}),Object(ce.jsx)(Ea.a,{autoOk:!0,disableToolbar:!0,variant:"inline",format:"MM/dd/yyyy",id:"to-date-picker-inline",label:"To",value:Te,onChange:function(e){Ie(xe(e))},KeyboardButtonProps:{"aria-label":"to date"},className:a.textField,InputProps:{style:{fontSize:".8rem"}}})]})}),Object(ce.jsx)(C.a,{item:!0,style:{marginRight:"1.25rem"},children:Object(ce.jsxs)(v.a,{className:a.formControlStyle,children:[Object(ce.jsx)(Aa.a,{id:"parameter-select-label",children:"Parameter"}),Object(ce.jsx)(Z.a,{labelId:"parameter-select-label",id:"parameter-select",value:I,onChange:function(e){k(e.target.value)},style:{fontSize:".8rem"},children:Object(ce.jsx)(B.a,{value:"pr",children:Object(ce.jsx)("span",{children:"PR\u2002"})})})]})}),Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(x.a,{size:"small",color:"primary",variant:"outlined",onClick:function(){Q(fe,Te)},disabled:s,children:s?"Loading":"View"})}),Object(ce.jsx)(C.a,{item:!0,style:{marginLeft:"1.75rem",marginRight:"1rem"},children:Object(ce.jsxs)(v.a,{className:a.formControlStyle,children:[Object(ce.jsx)(Aa.a,{id:"filter-select-label",children:"Filter"}),Object(ce.jsxs)(Z.a,{labelId:"filter-select-label",id:"filter-select",value:V,onChange:function(e){var t=e.target.value;switch(t){case"low":$((function(e){return G.filter((function(e){return Number(e.plantPr)<Number(e.prBudget)}))}));break;case"high":$((function(e){return G.filter((function(e){return Number(e.plantPr)>=Number(e.prBudget)}))}));break;default:Q(fe,Te)}ee(t),A(t)},style:{fontSize:".8rem"},children:[Object(ce.jsx)(B.a,{value:"none",children:Object(ce.jsx)("span",{children:"None\u2002"})}),Object(ce.jsx)(B.a,{value:"low",children:Object(ce.jsx)("span",{children:"Low\u2002"})}),Object(ce.jsx)(B.a,{value:"high",children:Object(ce.jsx)("span",{children:"High\u2002"})})]})]})}),Object(ce.jsx)(C.a,{item:!0,style:{marginRight:"0rem"},children:Object(ce.jsxs)(v.a,{className:a.formControlStyle,children:[Object(ce.jsx)(Aa.a,{id:"sort-select-label",children:"Sort"}),Object(ce.jsxs)(Z.a,{labelId:"sort-select-label",id:"sort-select",value:L,onChange:function(e){var t=e.target.value;ee(t),D(t)},style:{fontSize:".8rem"},children:[Object(ce.jsx)(B.a,{value:"desc",children:Object(ce.jsx)("span",{children:"Desc\u2002"})}),Object(ce.jsx)(B.a,{value:"asc",children:Object(ce.jsx)("span",{children:"Asc\u2002"})})]})]})})]})})}),Object(ce.jsx)(C.a,{container:!0,style:{marginTop:".25rem"},children:Object(ce.jsxs)(S.a,{elevation:6,style:{width:"100%",height:"410px",marginTop:"1rem",paddingTop:".5rem",paddingBottom:"3.5rem"},children:[Object(ce.jsx)(C.a,{container:!0,justify:"flex-end",alignItems:"center",style:{paddingInline:"2rem",marginBottom:".5rem"},children:Object(ce.jsxs)(C.a,{item:!0,children:[Object(ce.jsx)("span",{children:"Scroll:"}),Object(ce.jsx)(yt.a,{checked:_,onChange:function(){return z((function(e){return!e}))},color:"primary",name:"scrollSwitch"})]})}),Object(ce.jsx)(Lo,{chartData:U,enableScroll:_,siteName:m})]})}),Object(ce.jsx)("div",{style:{marginBlock:"1.5rem"}}),Object(ce.jsx)(J.a,{open:be,anchorOrigin:{vertical:"bottom",horizontal:"left"},autoHideDuration:4e3,onClose:Oe,children:Object(ce.jsx)(Fo,{onClose:Oe,severity:"success",children:"Time is reset!"})}),Object(ce.jsx)("div",{style:{marginBottom:"1.5rem"}})]})}var Eo=function(e){var t=e.payload;return Object(ce.jsx)("div",{style:{textAlign:"center",marginTop:"5px",paddingLeft:"70px"},children:t.map((function(e,t){return Object(ce.jsx)("span",{style:{color:"#48C9B0"},children:"\u25cf\u2002Rank"},"item-".concat(t))}))})},Ho=function(e){var t=new Date(1e3*e);return String(t.getHours()).padStart(2,0)+":"+String(t.getMinutes()).padStart(2,0)};function _o(e){var t=e.chartData,a=e.enableScroll,i=function(e){var t=e.active,a=e.payload;e.label;return t&&a?Object(ce.jsx)("div",{children:Object(ce.jsxs)("span",{children:["Rank: ".concat(a[0].payload.rank),"\u2002","-1"!==a[0].payload.timestamp?"Time: ".concat(Ho(a[0].payload.timestamp)):""]})}):null},c=Object(n.useState)(0),r=Object(u.a)(c,2),s=r[0],l=r[1];return Object(n.useEffect)((function(){!1===a&&l(0)}),[a]),!0===a?Object(ce.jsx)(le.a,{style:{height:"100%"},children:Object(ce.jsxs)(Q.a,{data:t,margin:{top:5,right:30,bottom:5},children:[Object(ce.jsx)(ae.a,{strokeDasharray:"3 3"}),Object(ce.jsx)(ee.a,{dataKey:"inverter",fontSize:10,interval:0,stroke:"black"}),Object(ce.jsx)(te.a,{domain:[0,function(e){return Math.ceil(e)}]}),Object(ce.jsx)(je.a,{content:Object(ce.jsx)(i,{})}),Object(ce.jsx)(St.a,{endIndex:13,onChange:function(e){return l(e.startIndex)},dataKey:"inverter",height:18,stroke:"#A6ACAF",tickFormatter:function(){return""}}),Object(ce.jsx)(de.a,{wrapperStyle:{paddingTop:"10px"},content:Eo,align:"left"}),Object(ce.jsxs)(ne.a,{isAnimationActive:!1,dataKey:"rank",children:[Object(ce.jsx)(pt.a,{dataKey:"rank",position:"center",fill:"#fff",angle:"270"}),function(){var e=[];if(t&&t.length>0)for(var a=t.length>13?13:t.length-1,n=s;n<=s+a;n++)e.push(Object(ce.jsx)(ie.a,{fill:t[n].color},"cell-".concat(n)));return e}()]})]})}):Object(ce.jsx)(le.a,{children:Object(ce.jsxs)(Q.a,{data:t,margin:{top:5,right:30,left:0,bottom:5},barCategoryGap:1.25,barGap:1,children:[Object(ce.jsx)(ae.a,{strokeDasharray:"3 3"}),Object(ce.jsx)(ee.a,{dataKey:"inverter",angle:270,tickMargin:32,fontSize:10,interval:0,stroke:"black"}),Object(ce.jsx)(te.a,{domain:[0,function(e){return Math.ceil(e)}]}),Object(ce.jsx)(je.a,{content:Object(ce.jsx)(i,{})}),Object(ce.jsx)(de.a,{wrapperStyle:{paddingTop:"45px"},content:Eo}),Object(ce.jsxs)(ne.a,{isAnimationActive:!1,dataKey:"rank",children:[Object(ce.jsx)(pt.a,{dataKey:"rank",position:"center",fill:"#000",angle:"270",fontSize:10}),t.map((function(e,t){return Object(ce.jsx)(ie.a,{fill:e.color},"cell-".concat(t))}))]})]})})}var zo=function(e){var t=e.payload;return Object(ce.jsx)("div",{style:{textAlign:"center",marginTop:"5px",paddingLeft:"70px"},children:t.map((function(e,t){return Object(ce.jsx)("span",{style:{color:"#48C9B0"},children:"\u25cf\u2002Rank"},"item-".concat(t))}))})},Mo=function(e){var t=new Date(1e3*e);return String(t.getHours()).padStart(2,0)+":"+String(t.getMinutes()).padStart(2,0)};function Ro(e){var t=e.chartData,a=e.enableScroll,i=function(e){var t=e.active,a=e.payload;e.label;return t&&a?Object(ce.jsx)("div",{children:Object(ce.jsxs)("span",{children:["Rank: ".concat(a[0].payload.rank),"\u2002","-1"!==a[0].payload.timestamp?"Time: ".concat(Mo(a[0].payload.timestamp)):""]})}):null},c=Object(n.useState)(0),r=Object(u.a)(c,2),s=r[0],l=r[1];return Object(n.useEffect)((function(){!1===a&&l(0)}),[a]),!0===a?Object(ce.jsx)(le.a,{style:{height:"100%"},children:Object(ce.jsxs)(Q.a,{data:t,margin:{top:5,right:30,bottom:5},children:[Object(ce.jsx)(ae.a,{strokeDasharray:"3 3"}),Object(ce.jsx)(ee.a,{dataKey:"inverter",fontSize:10,interval:0,stroke:"black"}),Object(ce.jsx)(te.a,{domain:[0,function(e){return Math.ceil(e)}]}),Object(ce.jsx)(je.a,{content:Object(ce.jsx)(i,{})}),Object(ce.jsx)(St.a,{endIndex:13,onChange:function(e){return l(e.startIndex)},dataKey:"inverter",height:18,stroke:"#A6ACAF",tickFormatter:function(){return""}}),Object(ce.jsx)(de.a,{wrapperStyle:{paddingTop:"10px"},content:zo,align:"left"}),Object(ce.jsxs)(ne.a,{isAnimationActive:!1,dataKey:"rank",children:[Object(ce.jsx)(pt.a,{dataKey:"rank",position:"center",fill:"#fff",angle:"270"}),function(){var e=[];if(t&&t.length>0)for(var a=t.length>13?13:t.length-1,n=s;n<=s+a;n++)e.push(Object(ce.jsx)(ie.a,{fill:t[n].color},"cell-".concat(n)));return e}()]})]})}):Object(ce.jsx)(le.a,{children:Object(ce.jsxs)(Q.a,{data:t,margin:{top:5,right:30,left:0,bottom:5},barCategoryGap:1.25,barGap:1,children:[Object(ce.jsx)(ae.a,{strokeDasharray:"3 3"}),Object(ce.jsx)(ee.a,{dataKey:"inverter",angle:270,tickMargin:32,fontSize:10,interval:0,stroke:"black"}),Object(ce.jsx)(te.a,{domain:[0,function(e){return Math.ceil(e)}]}),Object(ce.jsx)(je.a,{content:Object(ce.jsx)(i,{})}),Object(ce.jsx)(de.a,{wrapperStyle:{paddingTop:"45px"},content:zo}),Object(ce.jsxs)(ne.a,{isAnimationActive:!1,dataKey:"rank",children:[Object(ce.jsx)(pt.a,{dataKey:"rank",position:"center",fill:"#000",angle:"270",fontSize:10}),t.map((function(e,t){return Object(ce.jsx)(ie.a,{fill:e.color},"cell-".concat(t))}))]})]})})}var Go=Object(D.a)((function(e){return{grow:{flexGrow:1},textField:{width:120},menuPaper:{maxHeight:400},formControlStyle:{},listItemText:{fontSize:".9rem"}}}));function Wo(e){var t=e.barChartDataParent,a=e.siteName,i=e.isSingleDay,c=Go(),r=Object(n.useState)(),s=Object(u.a)(r,2),l=s[0],o=s[1];Object(n.useEffect)((function(){t&&o(function(e){var t=[],a=null;e.forEach((function(e,n){0===n&&(a=Number(e.rank)),Number(e.rank)<=a&&(a=Number(e.rank),t[n]=n)}));var n=[],i=null;return e.forEach((function(e,t){0===t&&(i=Number(e.rank)),Number(e.rank)>i&&(i=Number(e.rank))})),e.forEach((function(e,t){Number(e.rank)===i&&(n[t]=t)})),e.map((function(e,a){return a===t[a]?Object(h.a)(Object(h.a)({},e),{},{color:"#48C9B0"}):a===n[a]?Object(h.a)(Object(h.a)({},e),{},{color:"#E74C3C"}):Object(h.a)(Object(h.a)({},e),{},{color:"#5DADE2"})}))}(t))}),[t]);var j=Object(n.useState)(!0),d=Object(u.a)(j,2),b=d[0],m=d[1],O=Object(n.useState)("asc"),g=Object(u.a)(O,2),x=g[0],p=g[1],f=function(e){switch(e){case"desc":default:o((function(e){return e.sort((function(e,t){return parseFloat(t.rank)-parseFloat(e.rank)}))}));break;case"asc":o((function(e){return e.sort((function(e,t){return parseFloat(e.rank)-parseFloat(t.rank)}))}))}};return Object(ce.jsxs)(S.a,{elevation:4,style:{width:"100%",height:"410px",marginTop:"1rem",paddingTop:".5rem",paddingBottom:"3.5rem"},children:[Object(ce.jsxs)(C.a,{container:!0,justify:"space-between",alignItems:"center",style:{paddingInline:"2rem",marginBottom:".5rem"},children:[Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(V.a,{color:"textSecondary",variant:"h6",children:a})}),Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsxs)(C.a,{container:!0,alignItems:"center",children:[Object(ce.jsxs)(C.a,{item:!0,style:{marginRight:"1rem"},children:[Object(ce.jsx)("span",{children:"Scroll:"}),Object(ce.jsx)(yt.a,{checked:b,onChange:function(){return m((function(e){return!e}))},color:"primary",name:"scrollSwitch"})]}),Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsxs)(C.a,{container:!0,alignItems:"center",spacing:1,children:[Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)("span",{children:"Sort: "})}),Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(v.a,{className:c.formControlStyle,children:Object(ce.jsxs)(Z.a,{labelId:"sort-select-label",id:"sort-select",value:x,onChange:function(e){var t=e.target.value;f(t),p(t)},style:{fontSize:"1rem"},children:[Object(ce.jsx)(B.a,{value:"desc",children:Object(ce.jsx)("span",{children:"Desc\u2002"})}),Object(ce.jsx)(B.a,{value:"asc",children:Object(ce.jsx)("span",{children:"Asc\u2002"})})]})})})]})})]})})]}),l&&(i?Object(ce.jsx)(_o,{chartData:l,enableScroll:b,siteName:a}):Object(ce.jsx)(Ro,{chartData:l,enableScroll:b,siteName:a}))]})}function Xo(e){return Object(ce.jsx)($.a,Object(h.a)({elevation:6,variant:"filled"},e))}var Yo=Object(D.a)((function(e){return{grow:{flexGrow:1},textField:{width:120},menuPaper:{maxHeight:400},formControlStyle:{},listItemText:{fontSize:".9rem"}}}));function qo(e){e.handleSessionExpire;var t=Yo(),a=$e().setEnabledLinearProgress,i=Object(n.useState)(!1),c=Object(u.a)(i,2),r=c[0],s=c[1],l=Object(n.useState)(!1),o=Object(u.a)(l,2),j=o[0],d=o[1],b=(localStorage.getItem("userToken"),JSON.parse(localStorage.getItem("siteNamesAndBlocks")).map((function(e){return e.name}))),m=Object(n.useState)([b[1]]),g=Object(u.a)(m,2),S=g[0],p=g[1],f=JSON.parse(localStorage.getItem("siteNamesCaps")).length>0&&S.length===JSON.parse(localStorage.getItem("siteNamesCaps")).length,y=Object(n.useState)("pr"),T=Object(u.a)(y,2),I=(T[0],T[1],Object(n.useState)("asc")),N=Object(u.a)(I,2),L=(N[0],N[1],Object(n.useState)("none")),D=Object(u.a)(L,2),P=(D[0],D[1],Object(n.useState)(!0)),F=Object(u.a)(P,2),V=(F[0],F[1],Object(n.useState)([])),A=Object(u.a)(V,2),E=A[0],H=A[1],_=Object(n.useState)([]),z=Object(u.a)(_,2),M=(z[0],z[1],Object(n.useState)("14")),R=Object(u.a)(M,2),G=(R[0],R[1],Object(n.useState)(!0)),W=Object(u.a)(G,2),Y=W[0],q=W[1],U=function(e,t){s(!0),a(!0);var n=e.getTime(),i=t.getTime(),c=t.getDate()-e.getDate();q((function(e){return 1===c})),X.a.post(K+"/analytics",{startTime:n,endTime:i,site:S},{headers:{jwtToken:localStorage.getItem("userToken")}}).then((function(e){H(e.data),s(!1),a(!1)})).catch((function(){s(!1),a(!1)}))},$=Object(n.useState)((new Date).getTime()),Q=Object(u.a)($,2),ee=(Q[0],Q[1]),te=Object(n.useState)(new Date),ae=Object(u.a)(te,2),ne=ae[0],ie=(ae[1],Object(n.useState)(!1)),re=Object(u.a)(ie,2),se=(re[0],re[1],Object(n.useState)(!1)),le=Object(u.a)(se,2),oe=le[0],je=le[1],de=Object(n.useState)(!0),be=Object(u.a)(de,2),ue=(be[0],be[1],function(){je(!1)});Object(n.useEffect)((function(){ee(ne.getTime())}),[ne]);var me=function(e){var t=new Date(e.getTime());return t.setHours(0,1,0,0),t},he=function(e){var t=new Date(e.getTime());return t.setHours(23,59,59,999),t},Oe=Object(n.useState)((function(){var e=new Date;return me(e)})),ge=Object(u.a)(Oe,2),xe=ge[0],Se=ge[1],pe=Object(n.useState)((function(){var e=new Date;return he(e)})),fe=Object(u.a)(pe,2),ve=fe[0],Ce=fe[1],ye=Object(n.useState)(0),Te=Object(u.a)(ye,2),Ie=(Te[0],Te[1],Object(n.useState)(void 0)),ke=Object(u.a)(Ie,2);ke[0],ke[1];Object(n.useEffect)((function(){}),[]);var we=Object(n.useState)({open:!1,severity:"success",message:"Downloaded successfully!"}),Ne=Object(u.a)(we,2),Be=Ne[0],Le=Ne[1],De=function(){Le((function(e){return Object(h.a)(Object(h.a)({},e),{},{open:!1})}))};return Object(ce.jsxs)("div",{style:{marginTop:".5rem",width:"90vw"},children:[Object(ce.jsx)(C.a,{container:!0,alignItems:"center",justify:"space-between",children:Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsxs)(C.a,{container:!0,alignItems:"flex-end",children:[Object(ce.jsxs)(C.a,{item:!0,style:{marginRight:"1rem"},children:[Object(ce.jsxs)(v.a,{className:t.formControlStyle,style:{minWidth:"120px",maxWidth:"200px",marginRight:"1rem"},children:[Object(ce.jsx)(Aa.a,{id:"site-select-label",children:"Sites"}),Object(ce.jsxs)(Z.a,{style:{fontSize:".8rem"},labelId:"site-select-label",id:"site-select",value:S,onChange:function(e){var t=e.target.value;"All"!==t[t.length-1]?p(t):p(S.length===JSON.parse(localStorage.getItem("siteNamesCaps")).length?[]:JSON.parse(localStorage.getItem("siteNamesCaps")))},multiple:!0,renderValue:function(e){return e.join(", ")},MenuProps:{classes:{paper:t.menuPaper},getContentAnchorEl:function(){return null}},children:[Object(ce.jsxs)(B.a,{value:"All",classes:{root:f?t.selectedAll:""},style:{paddingBlock:0},children:[Object(ce.jsx)(k.a,{children:Object(ce.jsx)(Pa.a,{style:{paddingBlock:0},size:"small",color:"primary",classes:{indeterminate:t.indeterminateColor},checked:f,indeterminate:S.length>0&&S.length<JSON.parse(localStorage.getItem("siteNamesCaps")).length})}),Object(ce.jsx)(w.a,{classes:{primary:t.listItemText},primary:"Select All",style:{paddingTop:".05rem"}})]}),JSON.parse(localStorage.getItem("siteNamesCaps")).map((function(e){return Object(ce.jsxs)(B.a,{value:e,style:{paddingBlock:0},children:[Object(ce.jsx)(k.a,{children:Object(ce.jsx)(Pa.a,{style:{paddingBlock:0},checked:S.indexOf(e)>-1,size:"small",color:"primary"})}),Object(ce.jsx)(w.a,{classes:{primary:t.listItemText},primary:e,style:{paddingTop:".05rem"}})]},e)}))]})]}),Object(ce.jsxs)(it.a,{utils:O.a,children:[Object(ce.jsx)(Ea.a,{autoOk:!0,disableToolbar:!0,variant:"inline",format:"MM/dd/yyyy",id:"from-date-picker-inline",label:"From",value:xe,onChange:function(e){Se(me(e))},KeyboardButtonProps:{"aria-labelte":"from date"},style:{marginRight:"1rem"},className:t.textField,InputProps:{style:{fontSize:".8rem"}}}),Object(ce.jsx)(Ea.a,{autoOk:!0,disableToolbar:!0,variant:"inline",format:"MM/dd/yyyy",id:"to-date-picker-inline",label:"To",value:ve,onChange:function(e){Ce(he(e))},KeyboardButtonProps:{"aria-label":"to date"},className:t.textField,InputProps:{style:{fontSize:".8rem"}}})]})]}),Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(x.a,{size:"small",color:"primary",variant:"outlined",onClick:function(){U(xe,ve)},disabled:r,children:r?"Loading":"View"})}),Object(ce.jsx)(C.a,{item:!0,style:{marginLeft:"1rem"},children:Object(ce.jsx)(x.a,{size:"small",color:"primary",variant:"outlined",onClick:function(){d(!0),X.a.post(K+"/analytics/report",{startTime:xe.getTime(),endTime:ve.getTime(),site:S},{headers:{jwtToken:localStorage.getItem("userToken"),responseType:"blob"}}).then((function(e){var t=window.URL.createObjectURL(new Blob([e.data])),a=document.createElement("a");a.href=t;var n="Analytics_".concat(xe.getDate(),"_").concat(xe.getMonth()+1,"_").concat(xe.getFullYear(),"-").concat(ve.getDate(),"_").concat(ve.getMonth()+1,"_").concat(ve.getFullYear(),".csv");a.setAttribute("download",n),document.body.appendChild(a),a.click(),a.remove(),d(!1)})).catch((function(e){Le((function(e){return Object(h.a)(Object(h.a)({},e),{},{open:!0,severity:"error",message:"Download failed!"})})),d(!1)}))},disabled:j,children:j?"Downloading":"Download"})})]})})}),Object(ce.jsx)(C.a,{container:!0,style:{marginTop:".25rem"},children:E.map((function(e){return Object(ce.jsx)(Wo,{siteName:e.site,barChartDataParent:e.inverters,isSingleDay:Y})}))}),Object(ce.jsx)("div",{style:{marginBlock:"1.5rem"}}),Object(ce.jsx)(J.a,{open:oe,anchorOrigin:{vertical:"bottom",horizontal:"left"},autoHideDuration:4e3,onClose:ue,children:Object(ce.jsx)(Xo,{onClose:ue,severity:"success",children:"Time is reset!"})}),Object(ce.jsx)(J.a,{open:Be.open,autoHideDuration:4e3,onClose:De,anchorOrigin:{horizontal:"left",vertical:"bottom"},children:Object(ce.jsx)(Xo,{onClose:De,severity:Be.severity,sx:{width:"100%"},children:Be.message})}),Object(ce.jsx)("div",{style:{marginBottom:"1.5rem"}})]})}var Uo=function(e){var t=e.payload;return Object(ce.jsx)("div",{style:{textAlign:"center",marginTop:"5px",paddingLeft:"70px"},children:t.map((function(e,t){return Object(ce.jsx)("span",{style:{color:"#48C9B0"},children:"\u25cf\u2002Rank"},"item-".concat(t))}))})},Ko=function(e){var t=new Date(1e3*e);return String(t.getHours()).padStart(2,0)+":"+String(t.getMinutes()).padStart(2,0)};function Zo(e){var t=e.chartData,a=e.enableScroll,i=function(e){var t=e.active,a=e.payload;e.label;return t&&a?Object(ce.jsx)("div",{children:Object(ce.jsxs)("span",{children:["Rank: ".concat(a[0].payload.rank),"\u2002","Value: ".concat(a[0].payload.value),"\u2002","-1"!==a[0].payload.timestamp?"Time: ".concat(Ko(a[0].payload.timestamp)):""]})}):null},c=Object(n.useState)(0),r=Object(u.a)(c,2),s=r[0],l=r[1];return Object(n.useEffect)((function(){!1===a&&l(0)}),[a]),!0===a?Object(ce.jsx)(le.a,{style:{height:"100%"},children:Object(ce.jsxs)(Q.a,{data:t,margin:{top:5,right:30,bottom:5},children:[Object(ce.jsx)(ae.a,{strokeDasharray:"3 3"}),Object(ce.jsx)(ee.a,{dataKey:"inverter",fontSize:10,interval:0,stroke:"black"}),Object(ce.jsx)(te.a,{domain:[0,function(e){return Math.ceil(e)}]}),Object(ce.jsx)(je.a,{content:Object(ce.jsx)(i,{})}),Object(ce.jsx)(St.a,{endIndex:13,onChange:function(e){return l(e.startIndex)},dataKey:"inverter",height:18,stroke:"#A6ACAF",tickFormatter:function(){return""}}),Object(ce.jsx)(de.a,{wrapperStyle:{paddingTop:"10px"},content:Uo,align:"left"}),Object(ce.jsxs)(ne.a,{isAnimationActive:!1,dataKey:"rank",children:[Object(ce.jsx)(pt.a,{dataKey:"rank",position:"center",fill:"#fff",angle:"270"}),function(){var e=[];if(t&&t.length>0)for(var a=t.length>13?13:t.length-1,n=s;n<=s+a;n++)e.push(Object(ce.jsx)(ie.a,{fill:t[n].color},"cell-".concat(n)));return e}()]})]})}):Object(ce.jsx)(le.a,{children:Object(ce.jsxs)(Q.a,{data:t,margin:{top:5,right:30,left:0,bottom:5},barCategoryGap:1.25,barGap:1,children:[Object(ce.jsx)(ae.a,{strokeDasharray:"3 3"}),Object(ce.jsx)(ee.a,{dataKey:"inverter",angle:270,tickMargin:32,fontSize:10,interval:0,stroke:"black"}),Object(ce.jsx)(te.a,{domain:[0,function(e){return Math.ceil(e)}]}),Object(ce.jsx)(je.a,{content:Object(ce.jsx)(i,{})}),Object(ce.jsx)(de.a,{wrapperStyle:{paddingTop:"45px"},content:Uo}),Object(ce.jsxs)(ne.a,{isAnimationActive:!1,dataKey:"rank",children:[Object(ce.jsx)(pt.a,{dataKey:"rank",position:"center",fill:"#000",angle:"270",fontSize:10}),t.map((function(e,t){return Object(ce.jsx)(ie.a,{fill:e.color},"cell-".concat(t))}))]})]})})}var Jo=function(e){var t=e.payload;return Object(ce.jsx)("div",{style:{textAlign:"center",marginTop:"5px",paddingLeft:"70px"},children:t.map((function(e,t){return Object(ce.jsx)("span",{style:{color:"#48C9B0"},children:"\u25cf\u2002Rank"},"item-".concat(t))}))})},$o=function(e){var t=new Date(1e3*e);return String(t.getHours()).padStart(2,0)+":"+String(t.getMinutes()).padStart(2,0)};function Qo(e){var t=e.chartData,a=e.enableScroll,i=function(e){var t=e.active,a=e.payload;e.label;return t&&a?Object(ce.jsx)("div",{children:Object(ce.jsxs)("span",{children:["Rank: ".concat(a[0].payload.rank),"\u2002","Value: ".concat(a[0].payload.value),"\u2002","-1"!==a[0].payload.timestamp?"Time: ".concat($o(a[0].payload.timestamp)):""]})}):null},c=Object(n.useState)(0),r=Object(u.a)(c,2),s=r[0],l=r[1];return Object(n.useEffect)((function(){!1===a&&l(0)}),[a]),!0===a?Object(ce.jsx)(le.a,{style:{height:"100%"},children:Object(ce.jsxs)(Q.a,{data:t,margin:{top:5,right:30,bottom:5},children:[Object(ce.jsx)(ae.a,{strokeDasharray:"3 3"}),Object(ce.jsx)(ee.a,{dataKey:"inverter",fontSize:10,interval:0,stroke:"black"}),Object(ce.jsx)(te.a,{domain:[0,function(e){return Math.ceil(e)}]}),Object(ce.jsx)(je.a,{content:Object(ce.jsx)(i,{})}),Object(ce.jsx)(St.a,{endIndex:13,onChange:function(e){return l(e.startIndex)},dataKey:"inverter",height:18,stroke:"#A6ACAF",tickFormatter:function(){return""}}),Object(ce.jsx)(de.a,{wrapperStyle:{paddingTop:"10px"},content:Jo,align:"left"}),Object(ce.jsxs)(ne.a,{isAnimationActive:!1,dataKey:"rank",children:[Object(ce.jsx)(pt.a,{dataKey:"rank",position:"center",fill:"#fff",angle:"270"}),function(){var e=[];if(t&&t.length>0)for(var a=t.length>13?13:t.length-1,n=s;n<=s+a;n++)e.push(Object(ce.jsx)(ie.a,{fill:t[n].color},"cell-".concat(n)));return e}()]})]})}):Object(ce.jsx)(le.a,{children:Object(ce.jsxs)(Q.a,{data:t,margin:{top:5,right:30,left:0,bottom:5},barCategoryGap:1.25,barGap:1,children:[Object(ce.jsx)(ae.a,{strokeDasharray:"3 3"}),Object(ce.jsx)(ee.a,{dataKey:"inverter",angle:270,tickMargin:32,fontSize:10,interval:0,stroke:"black"}),Object(ce.jsx)(te.a,{domain:[0,function(e){return Math.ceil(e)}]}),Object(ce.jsx)(je.a,{content:Object(ce.jsx)(i,{})}),Object(ce.jsx)(de.a,{wrapperStyle:{paddingTop:"45px"},content:Jo}),Object(ce.jsxs)(ne.a,{isAnimationActive:!1,dataKey:"rank",children:[Object(ce.jsx)(pt.a,{dataKey:"rank",position:"center",fill:"#000",angle:"270",fontSize:10}),t.map((function(e,t){return Object(ce.jsx)(ie.a,{fill:e.color},"cell-".concat(t))}))]})]})})}var ej=Object(D.a)((function(e){return{grow:{flexGrow:1},textField:{width:120},menuPaper:{maxHeight:400},formControlStyle:{},listItemText:{fontSize:".9rem"}}}));function tj(e){var t=e.barChartDataParent,a=e.siteName,i=e.isSingleDay,c=ej(),r=Object(n.useState)(),s=Object(u.a)(r,2),l=s[0],o=s[1];Object(n.useEffect)((function(){t&&o(function(e){var t=[],a=null;e.forEach((function(e,n){0===n&&(a=Number(e.rank)),Number(e.rank)<=a&&(a=Number(e.rank),t[n]=n)}));var n=[],i=null;return e.forEach((function(e,t){0===t&&(i=Number(e.rank)),Number(e.rank)>i&&(i=Number(e.rank))})),e.forEach((function(e,t){Number(e.rank)===i&&(n[t]=t)})),e.map((function(e,a){return a===t[a]?Object(h.a)(Object(h.a)({},e),{},{color:"#48C9B0"}):a===n[a]?Object(h.a)(Object(h.a)({},e),{},{color:"#E74C3C"}):Object(h.a)(Object(h.a)({},e),{},{color:"#5DADE2"})}))}(t))}),[t]);var j=Object(n.useState)(!0),d=Object(u.a)(j,2),b=d[0],m=d[1],O=Object(n.useState)("asc"),g=Object(u.a)(O,2),x=g[0],p=g[1],f=function(e){switch(e){case"desc":default:o((function(e){return e.sort((function(e,t){return parseFloat(t.rank)-parseFloat(e.rank)}))}));break;case"asc":o((function(e){return e.sort((function(e,t){return parseFloat(e.rank)-parseFloat(t.rank)}))}))}};return Object(ce.jsxs)(S.a,{elevation:4,style:{width:"100%",height:"410px",marginTop:"1rem",paddingTop:".5rem",paddingBottom:"3.5rem"},children:[Object(ce.jsxs)(C.a,{container:!0,justifyContent:"space-between",alignItems:"center",style:{paddingInline:"2rem",marginBottom:".5rem"},children:[Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(V.a,{color:"textSecondary",variant:"h6",children:a})}),Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsxs)(C.a,{container:!0,alignItems:"center",children:[Object(ce.jsxs)(C.a,{item:!0,style:{marginRight:"1rem"},children:[Object(ce.jsx)("span",{children:"Scroll:"}),Object(ce.jsx)(yt.a,{checked:b,onChange:function(){return m((function(e){return!e}))},color:"primary",name:"scrollSwitch"})]}),Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsxs)(C.a,{container:!0,alignItems:"center",spacing:1,children:[Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)("span",{children:"Sort: "})}),Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(v.a,{className:c.formControlStyle,children:Object(ce.jsxs)(Z.a,{labelId:"sort-select-label",id:"sort-select",value:x,onChange:function(e){var t=e.target.value;f(t),p(t)},style:{fontSize:"1rem"},children:[Object(ce.jsx)(B.a,{value:"desc",children:Object(ce.jsx)("span",{children:"Desc\u2002"})}),Object(ce.jsx)(B.a,{value:"asc",children:Object(ce.jsx)("span",{children:"Asc\u2002"})})]})})})]})})]})})]}),l&&(i?Object(ce.jsx)(Zo,{chartData:l,enableScroll:b,siteName:a}):Object(ce.jsx)(Qo,{chartData:l,enableScroll:b,siteName:a}))]})}function aj(e){return Object(ce.jsx)($.a,Object(h.a)({elevation:6,variant:"filled"},e))}var nj=Object(D.a)((function(e){return{grow:{flexGrow:1},textField:{width:120},menuPaper:{maxHeight:400},formControlStyle:{},listItemText:{fontSize:".9rem"}}}));function ij(e){e.handleSessionExpire;var t=nj(),a=$e().setEnabledLinearProgress,i=(localStorage.getItem("userToken"),Object(n.useState)(["Balanagar"])),c=Object(u.a)(i,2),r=c[0],s=c[1],l=JSON.parse(localStorage.getItem("siteNamesCaps")).length>0&&r.length===JSON.parse(localStorage.getItem("siteNamesCaps")).length,o=Object(n.useState)("pr"),j=Object(u.a)(o,2),d=(j[0],j[1],Object(n.useState)("asc")),b=Object(u.a)(d,2),m=b[0],g=(b[1],Object(n.useState)("none")),S=Object(u.a)(g,2),p=(S[0],S[1],Object(n.useState)(!0)),f=Object(u.a)(p,2),y=(f[0],f[1],Object(n.useState)([])),T=Object(u.a)(y,2),I=T[0],N=T[1],L=Object(n.useState)([]),D=Object(u.a)(L,2),P=(D[0],D[1]),F=Object(n.useState)("14"),V=Object(u.a)(F,2),A=(V[0],V[1],Object(n.useState)(!0)),E=Object(u.a)(A,2),H=E[0],_=E[1],z=function(e,t){a(!0),Ne(!0);var n=e.getTime(),i=t.getTime(),c=t.getDate()-e.getDate();_((function(e){return 1===c})),X.a.post(K+"/peakap/",{startTime:n,endTime:i,site:r},{headers:{jwtToken:localStorage.getItem("userToken")}}).then((function(e){N(e.data);var t=function(e){var t=0,a=null;e.forEach((function(e,n){0===n&&(a=e.Rank),e.Rank<a&&(a=e.Rank,t=n)}));var n=0,i=null;return e.forEach((function(e,t){0===t&&(i=e.Rank),e.Rank>i&&(i=e.Rank,n=t)})),e.map((function(e,a){return a===t?Object(h.a)(Object(h.a)({},e),{},{color:"#48C9B0"}):a===n?Object(h.a)(Object(h.a)({},e),{},{color:"#E74C3C"}):Object(h.a)(Object(h.a)({},e),{},{color:"#5DADE2"})}))}(e.data);N(t),P("desc"===m?t.sort((function(e,t){return parseFloat(t.Rank)-parseFloat(e.Rank)})):t.sort((function(e,t){return parseFloat(e.Rank)-parseFloat(t.Rank)}))),Ne(!1),a(!1)})).catch((function(){Ne(!1),a(!0)}))},M=Object(n.useState)((new Date).getTime()),R=Object(u.a)(M,2),G=(R[0],R[1]),W=Object(n.useState)(new Date),Y=Object(u.a)(W,2),q=Y[0],U=(Y[1],Object(n.useState)(!1)),$=Object(u.a)(U,2),Q=($[0],$[1],Object(n.useState)(!1)),ee=Object(u.a)(Q,2),te=ee[0],ae=ee[1],ne=Object(n.useState)(!0),ie=Object(u.a)(ne,2),re=(ie[0],ie[1],function(){ae(!1)});Object(n.useEffect)((function(){G(q.getTime())}),[q]);var se=function(e){var t=new Date(e.getTime());return t.setHours(0,1,0,0),t},le=function(e){var t=new Date(e.getTime());return t.setHours(23,59,59,999),t},oe=Object(n.useState)((function(){var e=new Date;return se(e)})),je=Object(u.a)(oe,2),de=je[0],be=je[1],ue=Object(n.useState)((function(){var e=new Date;return le(e)})),me=Object(u.a)(ue,2),he=me[0],Oe=me[1],ge=Object(n.useState)(0),xe=Object(u.a)(ge,2),Se=(xe[0],xe[1],Object(n.useState)(void 0)),pe=Object(u.a)(Se,2);pe[0],pe[1];Object(n.useEffect)((function(){}),[]);var fe=Object(n.useState)({open:!1,severity:"success",message:"Downloaded successfully!"}),ve=Object(u.a)(fe,2),Ce=ve[0],ye=ve[1],Te=function(){ye((function(e){return Object(h.a)(Object(h.a)({},e),{},{open:!1})}))},Ie=Object(n.useState)(!1),ke=Object(u.a)(Ie,2),we=ke[0],Ne=ke[1],Be=Object(n.useState)(!1),Le=Object(u.a)(Be,2),De=Le[0],Pe=Le[1];return Object(ce.jsxs)("div",{style:{marginTop:".5rem",width:"90vw"},children:[Object(ce.jsx)(C.a,{container:!0,alignItems:"center",justify:"space-between",children:Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsxs)(C.a,{container:!0,alignItems:"flex-end",children:[Object(ce.jsxs)(C.a,{item:!0,style:{marginRight:"1rem"},children:[Object(ce.jsxs)(v.a,{className:t.formControlStyle,style:{minWidth:"120px",maxWidth:"200px",marginRight:"1rem"},children:[Object(ce.jsx)(Aa.a,{id:"site-select-label",children:"Sites"}),Object(ce.jsxs)(Z.a,{style:{fontSize:".8rem"},labelId:"site-select-label",id:"site-select",value:r,onChange:function(e){var t=e.target.value;"All"!==t[t.length-1]?s(t):s(r.length===JSON.parse(localStorage.getItem("siteNamesCaps")).length?[]:JSON.parse(localStorage.getItem("siteNamesCaps")))},multiple:!0,renderValue:function(e){return e.join(", ")},MenuProps:{classes:{paper:t.menuPaper},getContentAnchorEl:function(){return null}},children:[Object(ce.jsxs)(B.a,{value:"All",classes:{root:l?t.selectedAll:""},style:{paddingBlock:0},children:[Object(ce.jsx)(k.a,{children:Object(ce.jsx)(Pa.a,{style:{paddingBlock:0},size:"small",color:"primary",classes:{indeterminate:t.indeterminateColor},checked:l,indeterminate:r.length>0&&r.length<JSON.parse(localStorage.getItem("siteNamesCaps")).length})}),Object(ce.jsx)(w.a,{classes:{primary:t.listItemText},primary:"Select All",style:{paddingTop:".05rem"}})]}),JSON.parse(localStorage.getItem("siteNamesCaps")).map((function(e){return Object(ce.jsxs)(B.a,{value:e,style:{paddingBlock:0},children:[Object(ce.jsx)(k.a,{children:Object(ce.jsx)(Pa.a,{style:{paddingBlock:0},checked:r.indexOf(e)>-1,size:"small",color:"primary"})}),Object(ce.jsx)(w.a,{classes:{primary:t.listItemText},primary:e,style:{paddingTop:".05rem"}})]},e)}))]})]}),Object(ce.jsxs)(it.a,{utils:O.a,children:[Object(ce.jsx)(Ea.a,{autoOk:!0,disableToolbar:!0,variant:"inline",format:"MM/dd/yyyy",id:"from-date-picker-inline",label:"From",value:de,onChange:function(e){be(se(e))},KeyboardButtonProps:{"aria-labelte":"from date"},style:{marginRight:"1rem"},className:t.textField,InputProps:{style:{fontSize:".8rem"}}}),Object(ce.jsx)(Ea.a,{autoOk:!0,disableToolbar:!0,variant:"inline",format:"MM/dd/yyyy",id:"to-date-picker-inline",label:"To",value:he,onChange:function(e){Oe(le(e))},KeyboardButtonProps:{"aria-label":"to date"},className:t.textField,InputProps:{style:{fontSize:".8rem"}}})]})]}),Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(x.a,{size:"small",color:"primary",variant:"outlined",onClick:function(){z(de,he)},disabled:we,children:we?"Loading":"View"})}),Object(ce.jsx)(C.a,{item:!0,style:{marginLeft:"1rem"},children:Object(ce.jsx)(x.a,{size:"small",color:"primary",variant:"outlined",onClick:function(){a(!0),Pe(!0),X.a.post(K+"/peakap/report",{startTime:de.getTime(),endTime:he.getTime(),site:r},{headers:{jwtToken:localStorage.getItem("userToken"),responseType:"blob"}}).then((function(e){var t=window.URL.createObjectURL(new Blob([e.data])),n=document.createElement("a");n.href=t;var i="Analytics_".concat(de.getDate(),"_").concat(de.getMonth()+1,"_").concat(de.getFullYear(),"-").concat(he.getDate(),"_").concat(he.getMonth()+1,"_").concat(he.getFullYear(),".csv");n.setAttribute("download",i),document.body.appendChild(n),n.click(),n.remove(),Pe(!1),a(!1)})).catch((function(e){ye((function(e){return Object(h.a)(Object(h.a)({},e),{},{open:!0,severity:"error",message:"Download failed!"})})),Pe(!1),a(!1)}))},disabled:De,children:De?"Downloading":"Download"})})]})})}),Object(ce.jsx)(C.a,{container:!0,style:{marginTop:".25rem"},children:I.map((function(e){return Object(ce.jsx)(tj,{siteName:e.site,barChartDataParent:e.inverters,isSingleDay:H})}))}),Object(ce.jsx)("div",{style:{marginBlock:"1.5rem"}}),Object(ce.jsx)(J.a,{open:te,anchorOrigin:{vertical:"bottom",horizontal:"left"},autoHideDuration:4e3,onClose:re,children:Object(ce.jsx)(aj,{onClose:re,severity:"success",children:"Time is reset!"})}),Object(ce.jsx)(J.a,{open:Ce.open,autoHideDuration:4e3,onClose:Te,anchorOrigin:{horizontal:"left",vertical:"bottom"},children:Object(ce.jsx)(aj,{onClose:Te,severity:Ce.severity,sx:{width:"100%"},children:Ce.message})}),Object(ce.jsx)("div",{style:{marginBottom:"1.5rem"}})]})}var cj=Object(D.a)((function(e){return{}}));function rj(e){var t=e.label,a=e.items,n=void 0===a?[]:a,i=e.handleChange,c=e.selectedItems,r=void 0===c?[]:c,s=cj(),l=n.length>0&&r.length===n.length,o=function(e,t){var a=!1;return e.forEach((function(e){e.name===t&&(a=!0)})),a};return Object(ce.jsxs)(v.a,{style:{maxWidth:"200px"},children:[Object(ce.jsx)(Aa.a,{id:"".concat(t,"-select-label"),children:t}),Object(ce.jsxs)(Z.a,{style:{fontSize:".8rem"},labelId:"".concat(t,"-select-label"),id:"".concat(t,"-select"),value:function(e){return 0===e.length?["All"]:e.map((function(e){return e.name}))}(r),onChange:i,multiple:!0,renderValue:function(e){return e.join(", ")},MenuProps:{classes:{paper:s.menuPaper},getContentAnchorEl:function(){return null}},children:[Object(ce.jsxs)(B.a,{value:"All",classes:{root:l?s.selectedAll:""},style:{paddingBlock:0},children:[Object(ce.jsx)(k.a,{children:Object(ce.jsx)(Pa.a,{style:{paddingBlock:0},size:"small",color:"primary",classes:{indeterminate:s.indeterminateColor},checked:l||0===n.length,indeterminate:r.length>0&&r.length<n.length})}),Object(ce.jsx)(w.a,{classes:{primary:s.listItemText},primary:"Select All",style:{paddingTop:".05rem"}})]}),n.map((function(e){return Object(ce.jsxs)(B.a,{value:e.name,style:{paddingBlock:0},children:[Object(ce.jsx)(k.a,{children:Object(ce.jsx)(Pa.a,{style:{paddingBlock:0},checked:o(r,e.name),size:"small",color:"primary"})}),Object(ce.jsx)(w.a,{classes:{primary:s.listItemText},primary:e.name,style:{paddingTop:".05rem"}})]},e.name)}))]})]})}var sj=function(e){var t=e.payload;return Object(ce.jsx)("div",{style:{textAlign:"center",marginTop:"5px",paddingLeft:"70px"},children:t.map((function(e,t){return Object(ce.jsx)("span",{style:{color:"#48C9B0"},children:"\u25cf\u2002Rank"},"item-".concat(t))}))})};function lj(e){var t=e.chartData,a=e.enableScroll,i=e.multiDay,c=function(e){var t,a=e.active,n=e.payload;e.label;return a&&n?1===i?Object(ce.jsx)("div",{children:Object(ce.jsxs)("span",{children:["Inverter: ".concat(n[0].payload.inverter),"\u2002","Rank: ".concat(n[0].payload.Rank),"\u2002","Count: ".concat(n[0].payload.rankOneCount)]})}):Object(ce.jsx)("div",{children:Object(ce.jsxs)("span",{children:["Inverter: ".concat(n[0].payload.inverter),"\u2002","Rank: ".concat(n[0].payload.Rank),"\u2002",-1!==n[0].payload.value?"Calculated PR: ".concat(n[0].payload.value):"","\u2002","Actual PR: ".concat(n[0].payload.actualPr),"\u2002","-1"!==n[0].payload.timestamp?"Time: ".concat((t=n[0].payload.timestamp,new Date(1e3*t).toLocaleDateString())):""]})}):null},r=Object(n.useState)(0),s=Object(u.a)(r,2),l=s[0],o=s[1];return Object(n.useEffect)((function(){!1===a&&o(0)}),[a]),!0===a?Object(ce.jsx)(le.a,{style:{height:"100%"},children:Object(ce.jsxs)(Q.a,{data:t,margin:{top:5,right:30,bottom:5},children:[Object(ce.jsx)(ae.a,{strokeDasharray:"3 3"}),Object(ce.jsx)(ee.a,{dataKey:"inverter",fontSize:10,interval:0,stroke:"black"}),Object(ce.jsx)(te.a,{domain:[0,function(e){return Math.ceil(e)}]}),Object(ce.jsx)(je.a,{content:Object(ce.jsx)(c,{})}),Object(ce.jsx)(St.a,{endIndex:13,onChange:function(e){return o(e.startIndex)},dataKey:"Rank",height:18,stroke:"#A6ACAF",tickFormatter:function(){return""}}),Object(ce.jsx)(de.a,{wrapperStyle:{paddingTop:"10px"},content:sj,align:"left"}),Object(ce.jsxs)(ne.a,{isAnimationActive:!1,dataKey:"Rank",children:[Object(ce.jsx)(pt.a,{dataKey:"Rank",position:"center",fill:"#fff"}),function(){var e=[];if(t&&t.length>0)for(var a=t.length>13?13:t.length-1,n=l;n<=l+a;n++)e.push(Object(ce.jsx)(ie.a,{fill:t[n].color},"cell-".concat(n)));return e}()]})]})}):Object(ce.jsx)(le.a,{children:Object(ce.jsxs)(Q.a,{data:t,margin:{top:5,right:30,left:0,bottom:5},barCategoryGap:1.25,barGap:1,children:[Object(ce.jsx)(ae.a,{strokeDasharray:"3 3"}),Object(ce.jsx)(ee.a,{dataKey:"inverter",angle:270,tickMargin:32,fontSize:10,interval:0,stroke:"black"}),Object(ce.jsx)(te.a,{domain:[0,function(e){return Math.ceil(e)}]}),Object(ce.jsx)(je.a,{content:Object(ce.jsx)(c,{})}),Object(ce.jsx)(de.a,{wrapperStyle:{paddingTop:"45px"},content:sj}),Object(ce.jsxs)(ne.a,{isAnimationActive:!1,dataKey:"Rank",children:[Object(ce.jsx)(pt.a,{dataKey:"Rank",position:"center",fill:"#000",fontSize:10}),t.map((function(e,t){return Object(ce.jsx)(ie.a,{fill:e.color},"cell-".concat(t))}))]})]})})}var oj=Object(D.a)((function(e){return{grow:{flexGrow:1},textField:{width:120},menuPaper:{maxHeight:400},formControlStyle:{},listItemText:{fontSize:".9rem"}}}));function jj(e){e.isSingleDay;var t=e.chartData,a=e.siteName,i=e.groupName,c=e.multiDay,r=oj(),s=Object(n.useState)(),l=Object(u.a)(s,2),o=l[0],j=l[1];Object(n.useEffect)((function(){t&&j(function(e){var t=[],a=null;e.forEach((function(e,n){0===n&&(a=Number(e.rank)),Number(e.rank)<=a&&(a=Number(e.rank),t[n]=n)}));var n=[],i=null;return e.forEach((function(e,t){0===t&&(i=Number(e.rank)),Number(e.rank)>i&&(i=Number(e.rank))})),e.forEach((function(e,t){Number(e.rank)===i&&(n[t]=t)})),e.map((function(e,a){return a===t[a]?Object(h.a)(Object(h.a)({},e),{},{color:"#48C9B0"}):a===n[a]?Object(h.a)(Object(h.a)({},e),{},{color:"#E74C3C"}):Object(h.a)(Object(h.a)({},e),{},{color:"#5DADE2"})}))}(t.inverters))}),[t]);var d=Object(n.useState)(!0),b=Object(u.a)(d,2),m=b[0],O=b[1],g=Object(n.useState)("asc"),x=Object(u.a)(g,2),p=x[0],f=x[1],y=function(e){switch(e){case"desc":default:j((function(e){return e.sort((function(e,t){return parseFloat(t.Rank)-parseFloat(e.Rank)}))}));break;case"asc":j((function(e){return e.sort((function(e,t){return parseFloat(e.Rank)-parseFloat(t.Rank)}))}))}};return Object(ce.jsxs)(S.a,{elevation:4,style:{width:"100%",height:"410px",marginTop:"1rem",paddingTop:".5rem",paddingBottom:"3.5rem"},children:[Object(ce.jsxs)(C.a,{container:!0,justify:"space-between",alignItems:"center",style:{paddingInline:"2rem",marginBottom:".5rem"},children:[Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsxs)(V.a,{color:"textSecondary",variant:"h6",children:[a,"\u2002",i]})}),Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsxs)(C.a,{container:!0,alignItems:"center",children:[Object(ce.jsxs)(C.a,{item:!0,style:{marginRight:"1rem"},children:[Object(ce.jsx)("span",{children:"Scroll:"}),Object(ce.jsx)(yt.a,{checked:m,onChange:function(){return O((function(e){return!e}))},color:"primary",name:"scrollSwitch"})]}),Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsxs)(C.a,{container:!0,alignItems:"center",spacing:1,children:[Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)("span",{children:"Sort: "})}),Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(v.a,{className:r.formControlStyle,children:Object(ce.jsxs)(Z.a,{labelId:"sort-select-label",id:"sort-select",value:p,onChange:function(e){var t=e.target.value;y(t),f(t)},style:{fontSize:"1rem"},children:[Object(ce.jsx)(B.a,{value:"desc",children:Object(ce.jsx)("span",{children:"Desc\u2002"})}),Object(ce.jsx)(B.a,{value:"asc",children:Object(ce.jsx)("span",{children:"Asc\u2002"})})]})})})]})})]})})]}),o&&Object(ce.jsx)(lj,{chartData:o,enableScroll:m,siteName:a,multiDay:c})]})}function dj(e){return Object(ce.jsx)($.a,Object(h.a)({elevation:6,variant:"filled"},e))}var bj=Object(D.a)((function(e){return{grow:{flexGrow:1},textField:{width:120},menuPaper:{maxHeight:400},formControlStyle:{},listItemText:{fontSize:".9rem"}}}));function uj(e){e.handleSessionExpire;var t=bj(),a=$e().setEnabledLinearProgress,i=(localStorage.getItem("userToken"),Object(n.useState)(["Bhadla L2"])),c=Object(u.a)(i,2),r=c[0],s=c[1],l=JSON.parse(localStorage.getItem("siteNamesCaps")).length>0&&r.length===JSON.parse(localStorage.getItem("siteNamesCaps")).length,o=Object(n.useState)("pr"),j=Object(u.a)(o,2),d=(j[0],j[1],Object(n.useState)("asc")),b=Object(u.a)(d,2),m=(b[0],b[1],Object(n.useState)("none")),g=Object(u.a)(m,2),S=(g[0],g[1],Object(n.useState)(!0)),p=Object(u.a)(S,2),f=(p[0],p[1],Object(n.useState)([])),y=Object(u.a)(f,2),T=y[0],I=y[1],N=Object(n.useState)([]),L=Object(u.a)(N,2),D=L[0],P=L[1],F=Object(n.useState)("14"),V=Object(u.a)(F,2),A=(V[0],V[1],Object(n.useState)(!0)),E=Object(u.a)(A,2),H=E[0],_=E[1],z=Object(n.useState)([]),M=Object(u.a)(z,2),R=M[0],G=M[1],W=Object(n.useState)([]),Y=Object(u.a)(W,2),q=Y[0],U=Y[1],$=R.length>0&&q.length===R.length,Q=Object(n.useState)(0),ee=Object(u.a)(Q,2),te=ee[0],ae=ee[1],ne=function(e,t){a(!0),Ge(!0);var n=e.getTime(),i=t.getTime(),c=t.getDate()-e.getDate();_((function(e){return 1===c})),X.a.post(K+"/prranking",{startTime:n,endTime:i,site:r},{headers:{jwtToken:localStorage.getItem("userToken")}}).then((function(e){ae(e.data[0].multiDay),I(e.data),P(e.data);var t=e.data.map((function(e){return e.group})),n=Object(me.a)(new Set(t));n.map((function(e){return{name:e}}));G(n),U(n),Ge(!1),a(!1)})).catch((function(){Ge(!1),a(!1)}))},ie=Object(n.useState)((new Date).getTime()),re=Object(u.a)(ie,2),se=(re[0],re[1]),le=Object(n.useState)(new Date),oe=Object(u.a)(le,2),je=oe[0],de=(oe[1],Object(n.useState)(!1)),be=Object(u.a)(de,2),ue=(be[0],be[1],Object(n.useState)(!1)),he=Object(u.a)(ue,2),Oe=he[0],ge=he[1],xe=Object(n.useState)(!0),Se=Object(u.a)(xe,2),pe=(Se[0],Se[1],function(){ge(!1)});Object(n.useEffect)((function(){se(je.getTime())}),[je]);var fe=function(e){var t=new Date(e.getTime());return t.setHours(0,1,0,0),t},ve=function(e){var t=new Date(e.getTime());return t.setHours(23,59,59,999),t},Ce=Object(n.useState)((function(){var e=new Date;return fe(e)})),ye=Object(u.a)(Ce,2),Te=ye[0],Ie=ye[1],ke=Object(n.useState)((function(){var e=new Date;return ve(e)})),we=Object(u.a)(ke,2),Ne=we[0],Be=we[1],Le=Object(n.useState)(0),De=Object(u.a)(Le,2),Pe=(De[0],De[1],Object(n.useState)(void 0)),Fe=Object(u.a)(Pe,2);Fe[0],Fe[1];Object(n.useEffect)((function(){}),[]);var Ve=Object(n.useState)({open:!1,severity:"success",message:"Downloaded successfully!"}),Ae=Object(u.a)(Ve,2),Ee=Ae[0],He=Ae[1],_e=function(){He((function(e){return Object(h.a)(Object(h.a)({},e),{},{open:!1})}))},ze=Object(n.useState)(!1),Me=Object(u.a)(ze,2),Re=Me[0],Ge=Me[1],We=Object(n.useState)(!1),Xe=Object(u.a)(We,2),Ye=Xe[0],qe=Xe[1];return Object(ce.jsxs)("div",{style:{marginTop:".5rem",width:"90vw"},children:[Object(ce.jsxs)(C.a,{container:!0,alignItems:"center",justify:"space-between",style:{paddingRight:"1rem"},children:[Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsxs)(C.a,{container:!0,alignItems:"flex-end",children:[Object(ce.jsxs)(C.a,{item:!0,style:{marginRight:"1rem"},children:[Object(ce.jsxs)(v.a,{className:t.formControlStyle,style:{minWidth:"120px",maxWidth:"200px",marginRight:"1rem"},children:[Object(ce.jsx)(Aa.a,{id:"site-select-label",children:"Sites"}),Object(ce.jsxs)(Z.a,{style:{fontSize:".8rem"},labelId:"site-select-label",id:"site-select",value:r,onChange:function(e){var t=e.target.value;"All"!==t[t.length-1]?s(t):s(r.length===JSON.parse(localStorage.getItem("siteNamesCaps")).length?[]:JSON.parse(localStorage.getItem("siteNamesCaps")))},multiple:!0,renderValue:function(e){return e.join(", ")},MenuProps:{classes:{paper:t.menuPaper},getContentAnchorEl:function(){return null}},children:[Object(ce.jsxs)(B.a,{value:"All",classes:{root:l?t.selectedAll:""},style:{paddingBlock:0},children:[Object(ce.jsx)(k.a,{children:Object(ce.jsx)(Pa.a,{style:{paddingBlock:0},size:"small",color:"primary",classes:{indeterminate:t.indeterminateColor},checked:l,indeterminate:r.length>0&&r.length<JSON.parse(localStorage.getItem("siteNamesCaps")).length})}),Object(ce.jsx)(w.a,{classes:{primary:t.listItemText},primary:"Select All",style:{paddingTop:".05rem"}})]}),JSON.parse(localStorage.getItem("siteNamesCaps")).map((function(e){return Object(ce.jsxs)(B.a,{value:e,style:{paddingBlock:0},children:[Object(ce.jsx)(k.a,{children:Object(ce.jsx)(Pa.a,{style:{paddingBlock:0},checked:r.indexOf(e)>-1,size:"small",color:"primary"})}),Object(ce.jsx)(w.a,{classes:{primary:t.listItemText},primary:e,style:{paddingTop:".05rem"}})]},e)}))]})]}),Object(ce.jsxs)(it.a,{utils:O.a,children:[Object(ce.jsx)(Ea.a,{autoOk:!0,disableToolbar:!0,variant:"inline",format:"MM/dd/yyyy",id:"from-date-picker-inline",label:"From",value:Te,onChange:function(e){Ie(fe(e))},KeyboardButtonProps:{"aria-labelte":"from date"},style:{marginRight:"1rem"},className:t.textField,InputProps:{style:{fontSize:".8rem"}}}),Object(ce.jsx)(Ea.a,{autoOk:!0,disableToolbar:!0,variant:"inline",format:"MM/dd/yyyy",id:"to-date-picker-inline",label:"To",value:Ne,onChange:function(e){Be(ve(e))},KeyboardButtonProps:{"aria-label":"to date"},className:t.textField,InputProps:{style:{fontSize:".8rem"}}})]})]}),Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(x.a,{size:"small",color:"primary",variant:"outlined",onClick:function(){ne(Te,Ne)},disabled:Re,children:Re?"Fetching":"View"})}),Object(ce.jsx)(C.a,{item:!0,style:{marginLeft:"1rem"},children:Object(ce.jsx)(x.a,{size:"small",color:"primary",variant:"outlined",onClick:function(){a(!0),qe(!0),X.a.post(K+"/prranking/report",{startTime:Te.getTime(),endTime:Ne.getTime(),site:r},{headers:{jwtToken:localStorage.getItem("userToken"),responseType:"blob"}}).then((function(e){var t=window.URL.createObjectURL(new Blob([e.data])),n=document.createElement("a");n.href=t;var i="PR_Ranking_".concat(Te.getDate(),"_").concat(Te.getMonth()+1,"_").concat(Te.getFullYear(),"-").concat(Ne.getDate(),"_").concat(Ne.getMonth()+1,"_").concat(Ne.getFullYear(),".csv");n.setAttribute("download",i),document.body.appendChild(n),n.click(),n.remove(),qe(!1),a(!1)})).catch((function(e){He((function(e){return Object(h.a)(Object(h.a)({},e),{},{open:!0,severity:"error",message:"Download failed!"})})),qe(!1),a(!1)}))},disabled:Ye,children:Ye?"Downloading":"Download"})})]})}),Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsxs)(v.a,{className:t.formControlStyle,style:{minWidth:"120px",maxWidth:"200px",marginRight:"1rem"},children:[Object(ce.jsx)(Aa.a,{id:"group-select-label",children:"Groups"}),Object(ce.jsxs)(Z.a,{style:{fontSize:".8rem"},labelId:"group-select-label",id:"group-select",value:q,onChange:function(e){var t=e.target.value;"All"!==t[t.length-1]?(U(t),P((function(e){return T.filter((function(e,a){var n=!1;return t.forEach((function(t){t===e.group&&(n=!0)})),n}))}))):U(q.length===R.length?[]:R)},multiple:!0,renderValue:function(e){return e.join(", ")},MenuProps:{classes:{paper:t.menuPaper},getContentAnchorEl:function(){return null}},children:[Object(ce.jsxs)(B.a,{value:"All",classes:{root:$?t.selectedAll:""},style:{paddingBlock:0},children:[Object(ce.jsx)(k.a,{children:Object(ce.jsx)(Pa.a,{style:{paddingBlock:0},size:"small",color:"primary",classes:{indeterminate:t.indeterminateColor},checked:$,indeterminate:q.length>0&&q.length<R.length})}),Object(ce.jsx)(w.a,{classes:{primary:t.listItemText},primary:"Select All",style:{paddingTop:".05rem"}})]}),R.map((function(e){return Object(ce.jsxs)(B.a,{value:e,style:{paddingBlock:0},children:[Object(ce.jsx)(k.a,{children:Object(ce.jsx)(Pa.a,{style:{paddingBlock:0},checked:q.indexOf(e)>-1,size:"small",color:"primary"})}),Object(ce.jsx)(w.a,{classes:{primary:t.listItemText},primary:e,style:{paddingTop:".05rem"}})]},e)}))]})]})})]}),Object(ce.jsx)(C.a,{container:!0,style:{marginTop:".25rem"},children:D.map((function(e){return Object(ce.jsx)(jj,{isSingleDay:H,multiDay:te,chartData:e,siteName:e.site,groupName:e.group})}))}),Object(ce.jsx)("div",{style:{marginBlock:"1.5rem"}}),Object(ce.jsx)(J.a,{open:Oe,anchorOrigin:{vertical:"bottom",horizontal:"left"},autoHideDuration:4e3,onClose:pe,children:Object(ce.jsx)(dj,{onClose:pe,severity:"success",children:"Time is reset!"})}),Object(ce.jsx)(J.a,{open:Ee.open,autoHideDuration:4e3,onClose:_e,anchorOrigin:{horizontal:"left",vertical:"bottom"},children:Object(ce.jsx)(dj,{onClose:_e,severity:Ee.severity,sx:{width:"100%"},children:Ee.message})}),Object(ce.jsx)("div",{style:{marginBottom:"1.5rem"}})]})}function mj(e){var t=e.rows,a=void 0===t?[]:t,i=e.setRows,c=Object(n.useState)(1),r=Object(u.a)(c,2),s=(r[0],r[1],Object(n.useState)(1)),l=Object(u.a)(s,2),o=(l[0],l[1]);Object(n.useEffect)((function(){if(a.length>0){var e=Math.ceil(a.length/10);o(e)}}),[a]);var j=Object(n.useState)(!0),d=Object(u.a)(j,2),b=d[0],m=d[1],h=function(e,t){var n=[];n=b?a.sort((function(e,a){return e[t]!==a[t]?e[t]<a[t]?-1:1:0})):a.sort((function(e,a){return e[t]!==a[t]?e[t]<a[t]?1:-1:0})),i(n),m((function(e){return!e}))},O=function(e){var t=new Date(1e3*e);return"".concat(String(t.getDate()).padStart(2,0),"/").concat(String(t.getMonth()+1).padStart(2,0)," ").concat(String(t.getHours()).padStart(2,0),":").concat(String(t.getMinutes()).padStart(2,0))};return Object(ce.jsx)(C.a,{container:!0,style:{maxWidth:"90vw",marginTop:"1rem"},children:Object(ce.jsx)(pe.a,{component:he.a,children:Object(ce.jsxs)(ge.a,{"aria-label":"simple table",size:"small",style:{overflowX:"auto"},children:[Object(ce.jsx)(fe.a,{children:Object(ce.jsxs)(ve.a,{style:{backgroundColor:"#ffffbf"},children:[Object(ce.jsx)(Se.a,{align:"left",style:{whiteSpace:"nowrap",cursor:"pointer",color:"#000"},onClick:function(e){return h(0,"Site")},children:"Time"}),Object(ce.jsx)(Se.a,{align:"center",style:{whiteSpace:"nowrap",cursor:"pointer",color:"#000"},onClick:function(e){return h(0,"budgetRev")},children:"Site"}),Object(ce.jsx)(Se.a,{align:"center",style:{whiteSpace:"nowrap",cursor:"pointer",color:"#000"},onClick:function(e){return h(0,"budgetRev")},children:"Budget Rev"}),Object(ce.jsx)(Se.a,{align:"center",style:{whiteSpace:"nowrap",cursor:"pointer",color:"#000"},onClick:function(e){return h(0,"actualRev")},children:"Actual Rev"}),Object(ce.jsx)(Se.a,{align:"center",style:{whiteSpace:"nowrap",cursor:"pointer",color:"#000"},onClick:function(e){return h(0,"GhiCorrRevenue")},children:"GHI Core Revenue"}),Object(ce.jsx)(Se.a,{align:"center",style:{whiteSpace:"nowrap",cursor:"pointer",color:"#000"},onClick:function(e){return h(0,"AbsoluteLoss")},children:"Absolute Loss"}),Object(ce.jsx)(Se.a,{align:"center",style:{whiteSpace:"nowrap",cursor:"pointer",color:"#000"},onClick:function(e){return h(0,"GHIImpact")},children:"GHI Impact"}),Object(ce.jsx)(Se.a,{align:"center",style:{whiteSpace:"nowrap",cursor:"pointer",color:"#000"},onClick:function(e){return h(0,"PALossorGain")},children:"PA Loss/Gain"}),Object(ce.jsx)(Se.a,{align:"center",style:{whiteSpace:"nowrap",cursor:"pointer",color:"#000"},onClick:function(e){return h(0,"GALossorGain")},children:"GA Loss/Gain"}),Object(ce.jsx)(Se.a,{align:"center",style:{whiteSpace:"nowrap",cursor:"pointer",color:"#000"},onClick:function(e){return h(0,"TempLossorGainGHI")},children:"Temp. Loss/Gain"}),Object(ce.jsx)(Se.a,{align:"center",style:{whiteSpace:"nowrap",cursor:"pointer",color:"#000"},onClick:function(e){return h(0,"AuxConsumption")},children:"Aux Consumption"}),Object(ce.jsx)(Se.a,{align:"center",style:{whiteSpace:"nowrap",cursor:"pointer",color:"#000"},onClick:function(e){return h(0,"TotalLoss")},children:"Total Loss"}),Object(ce.jsx)(Se.a,{align:"center",style:{whiteSpace:"nowrap",cursor:"pointer",color:"#000"},onClick:function(e){return h(0,"RemainingLoss")},children:"Remaining Loss"}),Object(ce.jsx)(Se.a,{align:"center",style:{whiteSpace:"nowrap",cursor:"pointer",color:"#000"},onClick:function(e){return h(0,"finalEfficiency")},children:"Final Efficiency"})]})}),Object(ce.jsxs)(xe.a,{children:[0===a.length&&Object(ce.jsx)(ve.a,{children:Object(ce.jsx)(Se.a,{component:"th",scope:"row",style:{whiteSpace:"nowrap"},children:"No records found."})}),a.length>0&&a.map((function(e,t){return Object(ce.jsxs)(ve.a,{children:[Object(ce.jsx)(Se.a,{align:"left",style:{whiteSpace:"nowrap"},children:O(e.Time)}),Object(ce.jsx)(Se.a,{align:"center",style:{whiteSpace:"nowrap"},children:e.Site}),Object(ce.jsx)(Se.a,{align:"center",style:{whiteSpace:"nowrap"},children:e.budgetRev}),Object(ce.jsx)(Se.a,{align:"center",style:{whiteSpace:"nowrap"},children:e.actualRev}),Object(ce.jsx)(Se.a,{align:"center",style:{whiteSpace:"nowrap"},children:e.GhiCorrRevenue}),Object(ce.jsx)(Se.a,{align:"center",style:{whiteSpace:"nowrap"},children:e.AbsoluteLoss}),Object(ce.jsx)(Se.a,{align:"center",style:{whiteSpace:"nowrap"},children:e.GHIImpact}),Object(ce.jsx)(Se.a,{align:"center",style:{whiteSpace:"nowrap"},children:e.PALossorGain}),Object(ce.jsx)(Se.a,{align:"center",style:{whiteSpace:"nowrap"},children:e.GALossorGain}),Object(ce.jsx)(Se.a,{align:"center",style:{whiteSpace:"nowrap"},children:e.TempLossorGainGHI}),Object(ce.jsx)(Se.a,{align:"center",style:{whiteSpace:"nowrap"},children:e.AuxConsumption}),Object(ce.jsx)(Se.a,{align:"center",style:{whiteSpace:"nowrap"},children:e.TotalLoss}),Object(ce.jsx)(Se.a,{align:"center",style:{whiteSpace:"nowrap"},children:e.RemainingLoss}),Object(ce.jsx)(Se.a,{align:"center",style:{whiteSpace:"nowrap"},children:e.finalDataEfficiency})]},t)}))]})]})})})}function hj(e){var t=e.data,a=e.alignY,i=void 0===a?{leftY:1,rightY:1}:a;console.log("Biaxial line data",t);var c=function(e){var t=e.cx,a=e.cy,n=e.stroke;e.payload,e.value;switch(e.customIndex){case 1:return Object(ce.jsx)("rect",{x:t-2.5,y:a-2.5,width:"5",height:"5",stroke:n,fill:"#fff"});case 2:return Object(ce.jsx)("polygon",{points:String("".concat(t,",").concat(a-2.5," ").concat(t+2.5,",").concat(a+2.5," ").concat(t-2.5,",").concat(a+2.5)),stroke:n,fill:"#fff"});default:return Object(ce.jsx)("circle",{cx:t,cy:a,r:"3",stroke:n,fill:"#fff"})}},r=Object(n.useState)(function(){var e=Object.entries(t[0]),a={};return e.forEach((function(e){a=Object(h.a)(Object(h.a)({},a),{},Object(m.a)({},e[0],1))})),a}()),s=Object(u.a)(r,2),l=s[0],o=s[1],j=function(e,t){return e?["#2196f3","#3f51b5","#00bcd4","#673ab7"][t]:["#4caf50","#ff9800","#009688","#cddc39"][t]};return Object(ce.jsx)(le.a,{width:"100%",height:"90%",children:Object(ce.jsxs)(oe.a,{data:t,margin:{left:20},children:[Object(ce.jsx)(ae.a,{strokeDasharray:"3 3"}),Object(ce.jsx)(ee.a,{dataKey:"timestamp"}),Object(ce.jsx)(te.a,{yAxisId:"left",domain:[0,function(e){return Math.round(1.1*e)}]}),Object(ce.jsx)(te.a,{yAxisId:"right",orientation:"right",domain:[0,function(e){return Math.round(1.1*e)}]}),Object(ce.jsx)(je.a,{}),Object(ce.jsx)(de.a,{content:function(e){var t=e.payload;return Object(ce.jsx)("div",{style:{display:"flex",justifyContent:"center",gap:"20px"},children:t.map((function(e){var t=e.dataKey,a=e.color;return Object(ce.jsx)("strong",{style:{fontSize:"1rem",color:a,cursor:"pointer",opacity:0===l[t]?.5:1},onClick:function(){return function(e){o((function(t){return Object(h.a)(Object(h.a)({},t),{},Object(m.a)({},e,0===t[e]?1:0))}))}(t)},children:String(t).toUpperCase()},t)}))})}}),function(){for(var e=Object.entries(t[0]),a=[],n=0,r=1;r<=i.leftY;r++)a.push(Object(ce.jsx)(be.a,{name:e[r][0],yAxisId:"left",type:"monotone",dataKey:e[r][0],stroke:j(!0,n),strokeWidth:2,strokeOpacity:l[e[r][0]],dot:Object(ce.jsx)(c,{customIndex:n})})),n+=1;return a}().map((function(e){return e})),function(){for(var e=Object.entries(t[0]),a=[],n=0,r=i.leftY+1;r<=i.leftY+i.rightY;r++)void 0!==e[r]&&(a.push(Object(ce.jsx)(be.a,{name:e[r][0],yAxisId:"right",type:"monotone",dataKey:e[r][0],stroke:j(!1,n),strokeWidth:2,strokeOpacity:l[e[r][0]],dot:Object(ce.jsx)(c,{customIndex:n})})),n+=1);return a}().map((function(e){return e}))]})})}var Oj=Object(D.a)((function(e){return{root:{flexGrow:1}}})),gj=[{name:"Revenue",value:"revenue"},{name:"Energy",value:"energy"},{name:"Aux Data",value:"auxdata"},{name:"CUF",value:"cuf"},{name:"GHI",value:"ghi"},{name:"GTI",value:"gti"},{name:"PA",value:"pa"},{name:"GA",value:"ga"},{name:"Mod Temp",value:"modtemp"}],xj=[{name:"None",value:"none"},{name:"Revenue",value:"revenue"},{name:"Energy",value:"energy"},{name:"Aux Data",value:"auxdata"},{name:"CUF",value:"cuf"},{name:"GHI",value:"ghi"},{name:"GTI",value:"gti"},{name:"PA",value:"pa"},{name:"GA",value:"ga"},{name:"Mod Temp",value:"modtemp"}];function Sj(){var e=Oj(),t=localStorage.getItem("userToken"),a=$e(),i=a.setEnabledLinearProgress,c=a.setSnackbar,r=Object(n.useState)([]),s=Object(u.a)(r,2),l=s[0],o=s[1],j=(JSON.parse(localStorage.getItem("siteNamesAndBlocks")),function(){var e=Object(to.a)(io.a.mark((function e(){var t,a;return io.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,X.a.post(K+"/lossanalysis/losssitesDropdown",{email:localStorage.getItem("userEmail")});case 3:t=e.sent,a=t.data,g(a),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),g(["Balanagar"]);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}()),d=Object(n.useState)(["Balanagar"]),b=Object(u.a)(d,2),m=b[0],g=b[1],p=Object(n.useState)(["Balanagar"]),f=Object(u.a)(p,2),y=f[0],T=f[1],I=Object(n.useState)(["Balanagar"]),k=Object(u.a)(I,2),w=k[0],N=k[1],L=function(){var e=new Date;return e.setDate(e.getDate()-1),e.setHours(0,1,0,0),e},D=function(){var e=new Date;return e.setDate(e.getDate()-1),e.setHours(23,59,59,0),e},P=Object(n.useState)(L()),F=Object(u.a)(P,2),A=F[0],E=F[1],H=Object(n.useState)(D()),_=Object(u.a)(H,2),z=_[0],M=_[1],R=Object(n.useState)(L()),G=Object(u.a)(R,2),W=G[0],Y=G[1],q=Object(n.useState)(D()),U=Object(u.a)(q,2),J=U[0],$=U[1],Q=Object(n.useState)("daily"),ee=Object(u.a)(Q,2),te=ee[0],ae=ee[1],ne=Object(n.useState)(!1),ie=Object(u.a)(ne,2),re=ie[0],se=ie[1],le=Object(n.useState)(!1),oe=Object(u.a)(le,2),je=oe[0],de=oe[1],be=Object(n.useState)(!1),ue=Object(u.a)(be,2),me=ue[0],he=ue[1],Oe=Object(n.useState)([]),ge=Object(u.a)(Oe,2),xe=ge[0],Se=ge[1],pe=Object(n.useState)({}),fe=Object(u.a)(pe,2),ve=fe[0],Ce=fe[1],ye=function(){var e=Object(to.a)(io.a.mark((function e(){var a,n;return io.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return se(!0),i(!0),e.prev=2,e.next=5,X.a.post(K+"/lossanalysis",{sites:y,startTime:A.getTime(),endTime:z.getTime(),frequency:te},{jwtToken:t});case 5:a=e.sent,n=a.data,o(n),i(!1),se(!1),e.next=17;break;case 12:e.prev=12,e.t0=e.catch(2),o([]),i(!1),se(!1);case 17:case"end":return e.stop()}}),e,null,[[2,12]])})));return function(){return e.apply(this,arguments)}}(),Te=Object(n.useState)("pa"),Ie=Object(u.a)(Te,2),ke=Ie[0],we=Ie[1],Ne=Object(n.useState)("none"),Be=Object(u.a)(Ne,2),Le=Be[0],De=Be[1],Pe=function(){var e=Object(to.a)(io.a.mark((function e(){var a,n,r,s;return io.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return de(!0),i(!0),e.prev=2,e.next=5,X.a.post(K+"/lossanalysis/csv",{sites:y,startTime:A.getTime(),endTime:z.getTime(),frequency:te},{jwtToken:t,responseType:"blob"});case 5:a=e.sent,n=window.URL.createObjectURL(new Blob([a.data])),(r=document.createElement("a")).href=n,s="".concat(A.getDate(),"_").concat(A.getMonth()+1," to ").concat(z.getDate(),"_").concat(z.getMonth()+1,".csv"),r.setAttribute("download",s),document.body.appendChild(r),r.click(),r.remove(),i(!1),de(!1),e.next=23;break;case 18:e.prev=18,e.t0=e.catch(2),c((function(e){return Object(h.a)(Object(h.a)({},e),{},{open:!0,severity:"error",message:"No data found."})})),i(!1),de(!1);case 23:case"end":return e.stop()}}),e,null,[[2,18]])})));return function(){return e.apply(this,arguments)}}(),Fe=function(){var e=Object(to.a)(io.a.mark((function e(){var a,n,c,r;return io.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return he(!0),i(!0),e.prev=2,e.next=5,X.a.post(K+"/lossanalysis/linegraph",{sites:w,startTime:W.getTime(),endTime:J.getTime(),parameter1:ke,parameter2:Le},{jwtToken:t});case 5:a=e.sent,n=a.data,console.log(n),c=n.charts,Se(c),r=n.align,Ce(r),i(!1),he(!1),e.next=21;break;case 16:e.prev=16,e.t0=e.catch(2),Se([]),i(!1),he(!1);case 21:case"end":return e.stop()}}),e,null,[[2,16]])})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){j()}),[]),Object(ce.jsxs)("div",{className:e.root,children:[Object(ce.jsxs)(C.a,{container:!0,alignItems:"flex-end",children:[Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(Po,{label:"Sites",items:m,selectedItems:y,handleChange:function(e){var t=e.target.value;"all"!==t[t.length-1]?T(t):T(y.length===m.length?[]:m)}})}),Object(ce.jsx)(C.a,{item:!0,style:{marginLeft:"1rem"},children:Object(ce.jsx)(it.a,{utils:O.a,children:Object(ce.jsxs)(C.a,{container:!0,children:[Object(ce.jsx)(Ea.a,{disableToolbar:!0,variant:"inline",format:"dd/MM/yyyy",id:"from-date-picker-inline",label:"From",value:A,onChange:function(e){E(e)},KeyboardButtonProps:{"aria-label":"from date"},size:"small",InputProps:{style:{fontSize:".8rem"}},style:{width:120}}),Object(ce.jsx)(Ea.a,{disableToolbar:!0,variant:"inline",format:"dd/MM/yyyy",id:"to-date-picker-inline",label:"To",value:z,onChange:function(e){M(e)},KeyboardButtonProps:{"aria-label":"to date"},size:"small",InputProps:{style:{fontSize:".8rem"}},style:{width:120,marginLeft:"1rem"}})]})})}),Object(ce.jsx)(C.a,{item:!0,style:{marginLeft:"1rem"},children:Object(ce.jsxs)(v.a,{children:[Object(ce.jsx)(Aa.a,{id:"frequency-simple-select-label",children:"Frequency"}),Object(ce.jsxs)(Z.a,{labelId:"frequency-simple-select-label",id:"frequency-simple-select",value:te,onChange:function(e){var t=e.target.value;ae(t)},style:{fontSize:".8rem"},children:[Object(ce.jsx)(B.a,{value:"daily",children:"Daily"}),Object(ce.jsx)(B.a,{value:"mtd",children:"MTD"}),Object(ce.jsx)(B.a,{value:"ytd",children:"YTD"})]})]})}),Object(ce.jsx)(C.a,{item:!0,style:{marginLeft:"1rem"},children:Object(ce.jsx)(x.a,{variant:"outlined",color:"primary",size:"small",onClick:ye,disabled:re,children:re?"Loading":"View"})}),Object(ce.jsx)(C.a,{item:!0,style:{marginLeft:".75rem"},children:Object(ce.jsx)(x.a,{variant:"outlined",color:"primary",size:"small",onClick:Pe,disabled:je,children:je?"Downloading":"CSV"})})]}),Object(ce.jsx)(mj,{rows:l,setRows:o}),Object(ce.jsxs)(C.a,{container:!0,alignItems:"flex-end",style:{marginTop:"2rem"},children:[Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(Po,{label:"Sites",items:m,selectedItems:w,handleChange:function(e){var t=e.target.value;"all"!==t[t.length-1]?N(t):N(w.length===m.length?[]:m)}})}),Object(ce.jsx)(C.a,{item:!0,style:{marginLeft:"1rem"},children:Object(ce.jsx)(it.a,{utils:O.a,children:Object(ce.jsxs)(C.a,{container:!0,children:[Object(ce.jsx)(Ea.a,{disableToolbar:!0,variant:"inline",format:"dd/MM/yyyy",id:"from-date-picker-inline",label:"From",value:W,onChange:function(e){Y(e)},KeyboardButtonProps:{"aria-label":"from date"},size:"small",InputProps:{style:{fontSize:".8rem"}},style:{width:120}}),Object(ce.jsx)(Ea.a,{disableToolbar:!0,variant:"inline",format:"dd/MM/yyyy",id:"to-date-picker-inline",label:"To",value:J,onChange:function(e){$(e)},KeyboardButtonProps:{"aria-label":"to date"},size:"small",InputProps:{style:{fontSize:".8rem"}},style:{width:120,marginLeft:"1rem"}})]})})}),Object(ce.jsx)(C.a,{item:!0,style:{marginLeft:"1rem"},children:Object(ce.jsxs)(v.a,{children:[Object(ce.jsx)(Aa.a,{id:"parameter1-select-label",children:"Y1"}),Object(ce.jsx)(Z.a,{labelId:"parameter1-select-label",id:"parameter-select",value:ke,onChange:function(e){var t=e.target.value;t!==Le&&we(t)},style:{fontSize:".8rem"},children:gj.map((function(e){return Object(ce.jsx)(B.a,{value:e.value,children:e.name})}))})]})}),Object(ce.jsx)(C.a,{item:!0,style:{marginLeft:"1rem"},children:Object(ce.jsxs)(v.a,{children:[Object(ce.jsx)(Aa.a,{id:"parameter2-select-label",children:"Y2"}),Object(ce.jsx)(Z.a,{labelId:"parameter2-select-label",id:"parameter2-select",value:Le,onChange:function(e){var t=e.target.value;t!==ke&&De(t)},style:{fontSize:".8rem"},children:xj.map((function(e){return Object(ce.jsx)(B.a,{value:e.value,children:e.name})}))})]})}),Object(ce.jsx)(C.a,{item:!0,style:{marginLeft:"1rem"},children:Object(ce.jsx)(x.a,{variant:"outlined",color:"primary",size:"small",onClick:Fe,disabled:me,children:me?"Loading":"View"})})]}),Object(ce.jsx)(C.a,{container:!0,style:{marginBottom:"1rem"},children:xe.map((function(e,t){return Object(ce.jsx)(C.a,{container:!0,children:Object(ce.jsxs)(S.a,{style:{width:"100%",height:"420px",marginTop:"1rem",paddingTop:".75rem",paddingInline:".5rem"},children:[Object(ce.jsx)(V.a,{style:{marginLeft:"1rem",marginBottom:".75rem"},children:e.site}),Object(ce.jsx)(hj,{data:e.data,alignY:ve})]})},t)}))})]})}function pj(e){var t=e.rows,a=void 0===t?[]:t,i=e.setRows,c=Object(n.useState)(1),r=Object(u.a)(c,2),s=r[0],l=r[1],o=Object(n.useState)(1),j=Object(u.a)(o,2),d=j[0],b=j[1];Object(n.useEffect)((function(){if(a.length>0){var e=Math.ceil(a.length/10);b(e)}}),[a]);var m=Object(n.useState)(!0),h=Object(u.a)(m,2),O=h[0],g=h[1],x=function(e,t){var n=[];n=O?a.sort((function(e,a){return e[t]!==a[t]?e[t]<a[t]?-1:1:0})):a.sort((function(e,a){return e[t]!==a[t]?e[t]<a[t]?1:-1:0})),i(n),g((function(e){return!e}))},S=function(e){var t=new Date(1e3*e);return"".concat(String(t.getDate()).padStart(2,0),"/").concat(String(t.getMonth()+1).padStart(2,0)," ").concat(String(t.getHours()).padStart(2,0),":").concat(String(t.getMinutes()).padStart(2,0))},p=function(e){return e.percentageDifference>5?"red":"black"};return Object(ce.jsxs)(C.a,{container:!0,style:{maxWidth:"90vw",marginTop:"1rem"},children:[Object(ce.jsx)(pe.a,{component:he.a,children:Object(ce.jsxs)(ge.a,{"aria-label":"simple table",size:"small",style:{overflowX:"auto"},children:[Object(ce.jsx)(fe.a,{children:Object(ce.jsxs)(ve.a,{style:{backgroundColor:"#ffffbf"},children:[Object(ce.jsx)(Se.a,{align:"left",style:{whiteSpace:"nowrap",cursor:"pointer",color:"#000"},onClick:function(e){return x(0,"time")},children:"Time"}),Object(ce.jsx)(Se.a,{align:"center",style:{whiteSpace:"nowrap",cursor:"pointer",color:"#000"},onClick:function(e){return x(0,"site")},children:"Site"}),Object(ce.jsx)(Se.a,{align:"center",style:{whiteSpace:"nowrap",cursor:"pointer",color:"#000"},onClick:function(e){return x(0,"blockName")},children:"Block"}),Object(ce.jsx)(Se.a,{align:"center",style:{whiteSpace:"nowrap",cursor:"pointer",color:"#000"},onClick:function(e){return x(0,"inverterName")},children:"Inverter"}),Object(ce.jsx)(Se.a,{align:"center",style:{whiteSpace:"nowrap",cursor:"pointer",color:"#000"},onClick:function(e){return x(0,"percentageDifference")},children:"Percentage Difference"}),Object(ce.jsx)(Se.a,{align:"center",style:{whiteSpace:"nowrap",cursor:"pointer",color:"#000"},onClick:function(e){return x(0,"ambienttemp")},children:"Ambient Temp"}),Object(ce.jsx)(Se.a,{align:"center",style:{whiteSpace:"nowrap",cursor:"pointer",color:"#000"},onClick:function(e){return x(0,"cabTemp")},children:"Cabinet Temp"})]})}),Object(ce.jsxs)(xe.a,{children:[0===a.length&&Object(ce.jsx)(ve.a,{children:Object(ce.jsx)(Se.a,{component:"th",scope:"row",style:{whiteSpace:"nowrap"},children:"No records found."})}),a.length>0&&a.slice(10*(s-1),10*s).map((function(e,t){return Object(ce.jsxs)(ve.a,{children:[Object(ce.jsx)(Se.a,{align:"left",style:{whiteSpace:"nowrap",color:p(e)},children:S(e.time)}),Object(ce.jsx)(Se.a,{align:"center",style:{whiteSpace:"nowrap",color:p(e)},children:e.site}),Object(ce.jsx)(Se.a,{align:"center",style:{whiteSpace:"nowrap",color:p(e)},children:e.blockName}),Object(ce.jsx)(Se.a,{align:"center",style:{whiteSpace:"nowrap",color:p(e)},children:e.inverterName}),Object(ce.jsx)(Se.a,{align:"center",style:{whiteSpace:"nowrap",color:p(e)},children:e.percentageDifference}),Object(ce.jsx)(Se.a,{align:"center",style:{whiteSpace:"nowrap",color:p(e)},children:e.ambTemp}),Object(ce.jsx)(Se.a,{align:"center",style:{whiteSpace:"nowrap",color:p(e)},children:e.cabtemp})]},t)}))]})]})}),Object(ce.jsx)(C.a,{container:!0,style:{marginTop:".5rem",display:"flex",justifyContent:"center"},children:Object(ce.jsx)(mi.a,{count:d,page:s,onChange:function(e,t){l(t)},size:"small"})})]})}var fj=Object(D.a)((function(e){return{root:{flexGrow:1}}}));function vj(){var e=fj(),t=localStorage.getItem("userToken"),a=$e(),i=a.setEnabledLinearProgress,c=a.setSnackbar,r=Object(n.useState)([]),s=Object(u.a)(r,2),l=s[0],o=s[1],j=JSON.parse(localStorage.getItem("siteNamesAndBlocks")),d=Object(n.useState)(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j;return e.map((function(e){return e.name}))}()),b=Object(u.a)(d,2),m=b[0],g=(b[1],Object(n.useState)(["Bidar"])),S=Object(u.a)(g,2),p=S[0],f=S[1],v=function(){var e=new Date;return e.setDate(e.getDate()-1),e.setHours(10,0,0,0),e},y=function(){var e=new Date;return e.setDate(e.getDate()-1),e.setHours(15,0,0,0),e},T=Object(n.useState)(v()),I=Object(u.a)(T,2),k=I[0],w=I[1],N=Object(n.useState)(y()),B=Object(u.a)(N,2),L=B[0],D=B[1],P=Object(n.useState)(v()),F=Object(u.a)(P,2),V=(F[0],F[1],Object(n.useState)(y())),A=Object(u.a)(V,2),E=(A[0],A[1],Object(n.useState)(!1)),H=Object(u.a)(E,2),_=H[0],z=H[1],M=Object(n.useState)(!1),R=Object(u.a)(M,2),G=R[0],W=R[1],Y=function(){var e=Object(to.a)(io.a.mark((function e(){var a,n;return io.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return z(!0),i(!0),e.prev=2,e.next=5,X.a.post(K+"/dashboard/temppercentagediff",{sites:p,startTime:k.getTime(),endTime:L.getTime()},{headers:{jwtToken:t}});case 5:a=e.sent,n=a.data.sort((function(e,t){return e.time>t.time?-1:e.time<t.time?1:0})),o(n),i(!1),z(!1),e.next=17;break;case 12:e.prev=12,e.t0=e.catch(2),o([]),i(!1),z(!1);case 17:case"end":return e.stop()}}),e,null,[[2,12]])})));return function(){return e.apply(this,arguments)}}(),q=function(){var e=Object(to.a)(io.a.mark((function e(){var a,n,r,s;return io.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return W(!0),i(!0),e.prev=2,e.next=5,X.a.post(K+"/dashboard/temppercentagediff/csv",{sites:p,startTime:k.getTime(),endTime:L.getTime()},{headers:{jwtToken:t,responseType:"blob"}});case 5:a=e.sent,n=window.URL.createObjectURL(new Blob([a.data])),(r=document.createElement("a")).href=n,s="".concat(k.getDate(),"_").concat(k.getMonth()+1," to ").concat(L.getDate(),"_").concat(L.getMonth()+1,".csv"),r.setAttribute("download",s),document.body.appendChild(r),r.click(),r.remove(),i(!1),W(!1),e.next=23;break;case 18:e.prev=18,e.t0=e.catch(2),c((function(e){return Object(h.a)(Object(h.a)({},e),{},{open:!0,severity:"error",message:"No data found."})})),i(!1),W(!1);case 23:case"end":return e.stop()}}),e,null,[[2,18]])})));return function(){return e.apply(this,arguments)}}();return Object(ce.jsxs)("div",{className:e.root,children:[Object(ce.jsxs)(C.a,{container:!0,alignItems:"flex-end",children:[Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(Po,{label:"Sites",items:m,selectedItems:p,handleChange:function(e){var t=e.target.value;"all"!==t[t.length-1]?f(t):f(p.length===m.length?[]:m)}})}),Object(ce.jsx)(C.a,{item:!0,style:{marginLeft:"1rem"},children:Object(ce.jsx)(it.a,{utils:O.a,children:Object(ce.jsxs)(C.a,{container:!0,children:[Object(ce.jsx)(Ea.a,{disableToolbar:!0,variant:"inline",format:"dd/MM/yyyy",id:"from-date-picker-inline",label:"From",value:k,onChange:function(e){w(e)},KeyboardButtonProps:{"aria-label":"from date"},size:"small",InputProps:{style:{fontSize:".8rem"}},style:{width:120}}),Object(ce.jsx)(Ea.a,{disableToolbar:!0,variant:"inline",format:"dd/MM/yyyy",id:"to-date-picker-inline",label:"To",value:L,onChange:function(e){D(e)},KeyboardButtonProps:{"aria-label":"to date"},size:"small",InputProps:{style:{fontSize:".8rem"}},style:{width:120,marginLeft:"1rem"}})]})})}),Object(ce.jsx)(C.a,{item:!0,style:{marginLeft:"1rem"},children:Object(ce.jsx)(x.a,{variant:"outlined",color:"primary",size:"small",onClick:Y,disabled:_,children:_?"Loading":"View"})}),Object(ce.jsx)(C.a,{item:!0,style:{marginLeft:".75rem"},children:Object(ce.jsx)(x.a,{variant:"outlined",color:"primary",size:"small",onClick:q,disabled:G,children:G?"Downloading":"CSV"})})]}),Object(ce.jsx)(pj,{rows:l,setRows:o})]})}function Cj(e){var t=e.fromDate,a=e.setFromDate,n=e.toDate,i=e.setToDate;return Object(ce.jsxs)(it.a,{utils:O.a,children:[Object(ce.jsx)(Ea.a,{disableToolbar:!0,variant:"inline",format:"MM/dd/yyyy",margin:"normal",id:"date-picker-inline",label:"Start Date",value:t,onChange:function(e){a(e)},KeyboardButtonProps:{"aria-label":"change date"},InputProps:{style:{fontSize:".8rem"}},style:{width:140,padding:0,margin:0}}),Object(ce.jsx)(Ea.a,{margin:"normal",id:"date-picker-dialog",label:"End Date",format:"MM/dd/yyyy",value:n,onChange:function(e){i(e)},KeyboardButtonProps:{"aria-label":"change date"},InputProps:{style:{fontSize:".8rem"}},style:{width:140,marginBlock:0,marginLeft:"1rem",padding:0}})]})}a(386);var yj=a(316),Tj=a.n(yj),Ij=a(493),kj=a.n(Ij),wj=Object(D.a)((function(e){return{root:{display:"flex",flexWrap:"wrap",justifyContent:"space-around",overflow:"hidden",backgroundColor:e.palette.background.paper},imageList:{flexWrap:"nowrap",transform:"translateZ(0)"},title:{color:e.palette.primary.light},titleBar:{background:"linear-gradient(to top, rgba(0,0,0,0.7) 0%, rgba(0,0,0,0.3) 70%, rgba(0,0,0,0) 100%)"}}})),Nj=function(e){var t=new Date(Number(e));return t.getDate()+"/"+t.getMonth()+"1, "+t.getHours()+":"+t.getMinutes()};function Bj(e){var t=e.itemData,a=void 0===t?[]:t,n=e.serverUrl,i=e.handleImageClick;wj();return Object(ce.jsxs)("div",{children:[Object(ce.jsxs)("div",{style:{width:"1200px",display:a.length>0?"flex":"none",justifyContent:"space-between",paddingRight:"1rem"},children:[Object(ce.jsx)(Tj.a,{color:"primary",style:{cursor:"pointer"},size:"small",onClick:function(){document.getElementById("imagesContainer").scrollLeft-=200}}),Object(ce.jsx)(kj.a,{color:"primary",style:{cursor:"pointer"},size:"small",onClick:function(){document.getElementById("imagesContainer").scrollLeft+=200}})]}),Object(ce.jsx)("div",{style:{width:"1200px",overflowX:"hidden",whiteSpace:"nowrap",display:a.length>0?"block":"none",marginTop:".5rem"},id:"imagesContainer",children:a.map((function(e,t){return Object(ce.jsxs)("div",{style:{display:"inline-block",marginLeft:t>0&&"Morning"===e.title?"1rem":"0",marginRight:"Morning"===e.title?".25rem":""},children:[Object(ce.jsxs)("small",{style:{fontSize:".8rem"},children:["Paremeter: ",e.parameter]}),Object(ce.jsx)("br",{}),Object(ce.jsxs)("small",{style:{fontSize:".8rem"},children:["LDR 1: ",e.ldr1,"\u2002LDR 2: ",e.ldr2]}),Object(ce.jsx)("br",{}),Object(ce.jsxs)("small",{style:{fontSize:".8rem"},children:["LDR 3: ",e.ldr3,"\u2002LDR 4: ",e.ldr4]}),Object(ce.jsx)("br",{}),Object(ce.jsxs)("div",{className:"image-container",children:[Object(ce.jsxs)("div",{className:"bottom-centered",children:[Object(ce.jsx)("small",{style:{fontSize:".8rem"},children:e.title}),Object(ce.jsx)("small",{style:{fontSize:".8rem",marginLeft:"1rem"},children:Nj(e.timestamp)})]}),Object(ce.jsx)("img",{src:n+e.imgUrl,alt:e.title,width:190,style:{cursor:"pointer"},onClick:function(){i(n+e.imgUrl,e.title+" "+Nj(e.timestamp))}})]})]})}))})]})}var Lj=function(e){var t=new Date(Number(e));return t.getDate()+"/"+t.getMonth()+1};function Dj(e){var t=e.data,a=e.serverUrl,n=e.handleImageClick;return Object(ce.jsx)(C.a,{container:!0,justifyContent:"center",children:t.map((function(e,t){return Object(ce.jsx)(C.a,{item:!0,style:{marginLeft:1===t?".25rem":0},children:Object(ce.jsxs)("div",{children:[Object(ce.jsxs)("small",{style:{fontSize:".8rem"},children:[" ","Parameter: ",e.parameters]}),Object(ce.jsx)("br",{}),Object(ce.jsxs)("small",{style:{fontSize:".8rem"},children:["LDR 1: ",e.ldr1,"\u2002LDR 2: ",e.ldr2]}),Object(ce.jsx)("br",{}),Object(ce.jsxs)("small",{style:{fontSize:".8rem"},children:["LDR 3: ",e.ldr3,"\u2002LDR 4: ",e.ldr4]}),Object(ce.jsxs)("div",{className:"image-container",children:[Object(ce.jsxs)("div",{className:"bottom-centered",children:[Object(ce.jsx)("small",{style:{fontSize:".8rem"},children:e.title}),Object(ce.jsx)("small",{style:{fontSize:".8rem",marginLeft:".5rem"},children:Lj(e.timestamp)})]}),Object(ce.jsx)("img",{src:a+e.filename,alt:e.title,width:190,style:{cursor:"pointer"},onClick:function(){n(a+e.filename,e.title+" "+Lj(e.timestamp))}})]})]})})}))})}var Pj=Object(D.a)((function(e){return{}}));var Fj=function(){Pj();var e="https://apps.acme.in:3002",t=Object(n.useState)(!1),a=Object(u.a)(t,2),c=a[0],r=a[1],s=Object(n.useState)(""),l=Object(u.a)(s,2),o=l[0],j=l[1],d=Object(n.useState)(""),b=Object(u.a)(d,2),m=b[0],h=b[1],O=Object(n.useState)(new Date(165663366e4)),g=Object(u.a)(O,2),S=g[0],p=g[1],f=Object(n.useState)(new Date),y=Object(u.a)(f,2),T=y[0],I=y[1],k=i.a.useState(1),w=Object(u.a)(k,2),N=w[0],D=w[1],P=i.a.useState(1),F=Object(u.a)(P,2),V=F[0],A=F[1],E=JSON.parse(localStorage.getItem("siteNamesAndBlocks")),H=Object(n.useState)(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E;return e.map((function(e){return e.name}))}()),_=Object(u.a)(H,2),z=_[0],M=(_[1],Object(n.useState)(["Balanagar"])),R=Object(u.a)(M,2),G=R[0],W=R[1],Y=Object(n.useState)([]),q=Object(u.a)(Y,2),U=q[0],K=q[1],J=Object(n.useState)([]),$=Object(u.a)(J,2),Q=$[0],ee=$[1],te=function(){var t=Object(to.a)(io.a.mark((function t(){var a;return io.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,X.a.post(e+"/getimageideal",{sitename:"balanagar",startTime:S.getTime(),endTime:T.getTime()});case 3:a=t.sent,K(a.data),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(){return t.apply(this,arguments)}}(),ae=function(){var t=Object(to.a)(io.a.mark((function t(){var a;return io.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,X.a.post(e+"/getimagesarray",{sitename:"balanagar",startTime:S.getTime(),endTime:T.getTime()});case 3:a=t.sent,ee(a.data),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(){return t.apply(this,arguments)}}(),ne=function(e,t){r(!0),j(e),h(t)};return Object(ce.jsxs)("div",{children:[Object(ce.jsxs)(C.a,{container:!0,alignItems:"flex-end",children:[Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(Po,{label:"Sites",items:z,selectedItems:G,handleChange:function(e){var t=e.target.value;"all"!==t[t.length-1]?W(t):W(G.length===z.length?[]:z)}})}),Object(ce.jsx)(C.a,{item:!0,style:{marginLeft:"1rem"},children:Object(ce.jsxs)(v.a,{style:{width:80},children:[Object(ce.jsx)(Aa.a,{id:"table-id-select-label",children:"Table Id"}),Object(ce.jsx)(Z.a,{labelId:"table-id-select-label",id:"table-id-select",value:N,onChange:function(e){D(e.target.value)},style:{fontSize:".8rem"},children:Object(ce.jsx)(B.a,{value:1,children:"1"})})]})}),Object(ce.jsx)(C.a,{item:!0,style:{marginLeft:"1rem"},children:Object(ce.jsxs)(v.a,{style:{width:80},children:[Object(ce.jsx)(Aa.a,{id:"sensor-id-select-label",children:"Sensor Id"}),Object(ce.jsx)(Z.a,{labelId:"sensor-id-select-label",id:"sensor-id-select",value:V,onChange:function(e){A(e.target.value)},style:{fontSize:".8rem"},children:Object(ce.jsx)(B.a,{value:1,children:"1"})})]})}),Object(ce.jsx)(C.a,{item:!0,style:{marginLeft:"1rem"},children:Object(ce.jsx)(Cj,{fromDate:S,setFromDate:p,toDate:T,setToDate:I})}),Object(ce.jsx)(C.a,{item:!0,style:{marginLeft:"1rem"},children:Object(ce.jsx)(x.a,{variant:"outlined",onClick:function(){te(),ae()},children:"View"})})]}),Object(ce.jsx)(C.a,{container:!0,style:{marginTop:"1rem"},children:Object(ce.jsx)(Dj,{data:U,serverUrl:e,handleImageClick:ne})}),Object(ce.jsx)(C.a,{container:!0,style:{marginTop:"1.5rem"},children:Object(ce.jsx)(Bj,{itemData:Q,serverUrl:e,handleImageClick:ne})}),Object(ce.jsx)(L.a,{open:c,onClose:function(){r(!1)},style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"},children:o&&Object(ce.jsxs)("div",{children:[Object(ce.jsx)("div",{style:{color:"#fff"},children:m}),Object(ce.jsx)("img",{src:o,alt:m,width:800})]})})]})},Vj=[{name:"Balanagar",blocks:[{name:"B01",inverters:[{name:1}]}]}];JSON.parse(localStorage.getItem("siteNamesCaps")),JSON.parse(localStorage.getItem("siteNamesAndBlocks"));function Aj(e,t,a,n,i){return{name:e,calories:t,fat:a,carbs:n,protein:i}}Aj("Frozen yoghurt",159,6,24,4),Aj("Ice cream sandwich",237,9,37,4.3),Aj("Eclair",262,16,24,6),Aj("Cupcake",305,3.7,67,4.3),Aj("Gingerbread",356,16,49,3.9);function Ej(e){var t=e.tableDataObj,a=t.columns,i=t.data,c=Object(n.useState)(0),r=Object(u.a)(c,2),s=r[0],l=r[1],o=Object(n.useState)(0),j=Object(u.a)(o,2),d=j[0],b=j[1],m=Object(n.useState)([]),h=Object(u.a)(m,2),O=h[0],g=h[1];Object(n.useEffect)((function(){i&&(l((function(){return i.length>0?1:0})),b((function(){return i.length>0?Math.ceil(i.length/10):0})),g((function(){return i.length>0?i.slice(0,10):[]})))}),[i]);return Object(ce.jsxs)(C.a,{container:!0,children:[Object(ce.jsx)(pe.a,{component:he.a,style:{maxWidth:"89vw"},children:Object(ce.jsxs)(ge.a,{size:"small","aria-label":"simple table",children:[Object(ce.jsx)(fe.a,{children:Object(ce.jsx)(ve.a,{style:{backgroundColor:"#ffffbf"},children:a.map((function(e){return Object(ce.jsx)(Se.a,{style:{color:"#000"},children:e})}))})}),Object(ce.jsx)(xe.a,{children:O.map((function(e,t){return Object(ce.jsx)(ve.a,{sx:{"&:last-child td, &:last-child th":{border:0}},children:e.map((function(e,t){return 0===t?Object(ce.jsx)(Se.a,{component:"th",scope:"row",children:new Date(1e3*Number(e)).toLocaleString()}):Object(ce.jsx)(Se.a,{children:e})}))},t)}))})]})}),Object(ce.jsx)(C.a,{container:!0,justify:"flex-end",style:{marginTop:".25rem",paddingRight:"1rem"},children:Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(mi.a,{count:d,page:s,onChange:function(e,t){var a=i.slice(10*(t-1),10*t);g(a),l(t)},shape:"rounded"})})})]})}function Hj(e){var t=e.fromDate,a=e.setFromDate,n=e.toDate,i=e.setToDate,c=e.disable;return Object(ce.jsxs)(it.a,{utils:O.a,children:[Object(ce.jsx)(Ea.a,{disabled:c,margin:"normal",id:"date-picker-dialog",label:"Start Date",format:"MM/dd/yyyy",value:t,onChange:function(e){a(e)},KeyboardButtonProps:{"aria-label":"change date"},InputProps:{style:{fontSize:".8rem"}},style:{width:140,marginBlock:0,marginLeft:"1rem",padding:0}}),Object(ce.jsx)(Ea.a,{disabled:c,margin:"normal",id:"date-picker-dialog",label:"End Date",format:"MM/dd/yyyy",value:n,onChange:function(e){i(e)},KeyboardButtonProps:{"aria-label":"change date"},InputProps:{style:{fontSize:".8rem"}},style:{width:140,marginBlock:0,marginLeft:"1rem",padding:0}})]})}var _j=Object(D.a)((function(e){return{formControl:{minWidth:100},selectEmpty:{}}}));function zj(e){var t=e.label,a=e.items,n=e.handleChange,i=e.selectedItem,c=_j();return Object(ce.jsxs)(v.a,{className:c.formControl,children:[Object(ce.jsx)(Aa.a,{id:"simple-select-label",children:t}),Object(ce.jsx)(Z.a,{labelId:"simple-select-label",id:"simple-select",value:i,onChange:n,style:{fontSize:".8rem"},children:a.map((function(e){return Object(ce.jsx)(B.a,{value:e,children:e})}))})]})}function Mj(e){var t=e.date,a=e.setDate;return Object(ce.jsx)(it.a,{utils:O.a,children:Object(ce.jsx)(Ea.a,{disableToolbar:!0,variant:"inline",format:"MM/dd/yyyy",margin:"normal",id:"date-picker-inline",label:"Date",value:t,onChange:function(e){a(e)},KeyboardButtonProps:{"aria-label":"change date"},InputProps:{style:{fontSize:".8rem"}},style:{width:140,padding:0,margin:0}})})}function Rj(e){e.updateInverter,e.refreshInverterTable;var t=$e(),a=(t.enabledLinearProgress,t.setEnabledLinearProgress),i=Object(n.useState)(!1),c=Object(u.a)(i,2),r=c[0],s=c[1],l=Object(n.useState)(!1),o=Object(u.a)(l,2),j=o[0],d=o[1],b=Object(n.useState)((function(){var e=new Date;return e.setDate(e.getDate()-4),e.setHours(0,0,1,0),e})),m=Object(u.a)(b,2),h=m[0],O=m[1],g=Object(n.useState)((function(){var e=new Date;return e.setHours(23,59,59,0),e})),p=Object(u.a)(g,2),f=p[0],v=p[1],y=Object(n.useState)([]),T=Object(u.a)(y,2),I=T[0],k=T[1],w=Object(n.useState)(Vj),N=Object(u.a)(w,2),B=N[0],L=N[1],D=Object(n.useState)(B[0].name),P=Object(u.a)(D,2),F=P[0],V=P[1],A=JSON.parse(localStorage.getItem("siteNamesAndBlocks")),E=Object(n.useState)(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A;return e.map((function(e){return e.name}))}()),H=Object(u.a)(E,2),_=H[0],z=(H[1],Object(n.useState)(B[0].blocks.map((function(e){return e.name})))),M=Object(u.a)(z,2),R=M[0],G=M[1],W=Object(n.useState)([B[0].blocks[0].inverters[0]]),Y=Object(u.a)(W,2),q=(Y[0],Y[1],Object(n.useState)(null)),U=Object(u.a)(q,2),Z=U[0],J=U[1],$=Object(n.useState)(""),Q=Object(u.a)($,2);Q[0],Q[1];Object(n.useEffect)((function(){X.a.post(K+"/manageinverters/inverters").then((function(e){var t=e.data.sort((function(e,t){return e.name>t.name?1:t.name>e.name?-1:0}));L(t),V(t[0].name),G(t[0].blocks.map((function(e){return e.name}))),ne(t[0].name),le(t[0].blocks.map((function(e){return e.name})))}))}),[]);var ee=Object(n.useState)("Balanagar"),te=Object(u.a)(ee,2),ae=te[0],ne=te[1],ie=Object(n.useState)(B[0].blocks.map((function(e){return e.name}))),re=Object(u.a)(ie,2),se=re[0],le=re[1],oe=Object(n.useState)((function(){var e=new Date;return e.setDate(e.getDate()-2),e.setHours(0,0,1,0),e})),je=Object(u.a)(oe,2),de=je[0],be=je[1],ue=function(e){var t=new Date(e);return t.setHours(23,59,59,0),t.getTime()},me=function(e,t){var a=Number(e.value),n="#1976d2";return a<97*t/100&&(n="#d32f2f"),a===t&&(n="#4caf50"),n};return Object(ce.jsxs)(ce.Fragment,{children:[Object(ce.jsx)(C.a,{container:!0,justify:"space-between",style:{paddingRight:"2rem"},alignItems:"flex-end",children:Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsxs)(C.a,{container:!0,spacing:2,alignItems:"flex-end",children:[Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(zj,{label:"Site",items:_,handleChange:function(e){var t=e.target.value;V(t),G(B.find((function(e){return e.name===t})).blocks.map((function(e){return e.name})))},selectedItem:F})}),Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(Po,{label:"Block",items:B.find((function(e){return e.name===F}))?B.find((function(e){return e.name===F})).blocks.map((function(e){return e.name})):[],handleChange:function(e){var t=e.target.value;"all"!==t[t.length-1]?G(t):G(R.length===B.find((function(e){return e.name===F})).blocks.length?[]:B.find((function(e){return e.name===F})).blocks.map((function(e){return e.name})))},selectedItems:R})}),Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(Hj,{fromDate:h,setFromDate:O,toDate:f,setToDate:v})}),Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(x.a,{variant:"outlined",size:"small",color:"primary",onClick:function(){a(!0),s(!0),X.a.post(K+"/invPerformance",{sites:[F],blocks:F.length>1?["all"]:R.map((function(e){return e.name})),startTime:h.getTime(),endTime:f.getTime()}).then((function(e){a(!1),s(!1);var t=e.data;k(t)})).catch((function(e){a(!1),s(!1),console.log("invPerformance",e)}))},disabled:r,children:r?"Loading":"View"})})]})})}),Object(ce.jsx)(C.a,{container:!0,style:{paddingRight:"1rem"},children:I.map((function(e){var t=0;return e.data.forEach((function(e){Number(e.value)>t&&(t=Number(e.value))})),Object(ce.jsxs)(C.a,{container:!0,style:{marginTop:"1rem"},children:[Object(ce.jsx)(C.a,{item:!0,style:{marginRight:"1rem"},children:Object(ce.jsxs)(C.a,{item:!0,children:[Object(ce.jsx)("small",{style:{fontSize:".8rem"},children:e.site}),Object(ce.jsx)("br",{}),Object(ce.jsx)("small",{style:{fontSize:".8rem"},children:new Date(1e3*e.timestamp).toLocaleDateString()})]})}),Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(C.a,{container:!0,spacing:1,children:e.data.map((function(e,a){return Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(Dt.a,{title:Object(ce.jsxs)("span",{children:[Object(ce.jsx)("span",{children:e.techName}),Object(ce.jsx)("br",{}),Object(ce.jsx)("span",{children:e.techMob})]}),placement:"top",children:Object(ce.jsx)(S.a,{style:{width:90,padding:".25rem",borderBottom:"3px solid "+me(e,t)},children:Object(ce.jsxs)(C.a,{container:!0,children:[Object(ce.jsx)(C.a,{item:!0,xs:12,children:Object(ce.jsxs)("small",{style:{fontSize:".75rem"},children:["Block: ",e.name]})}),Object(ce.jsx)(C.a,{item:!0,xs:12,children:Object(ce.jsxs)("small",{style:{fontSize:".75rem"},children:["Value: ",Object(ce.jsx)("strong",{children:e.value})]})})]})})})},a)}))})})]},e.timestamp)}))}),Object(ce.jsxs)(C.a,{container:!0,style:{marginTop:"1rem"},alignItems:"flex-end",spacing:2,children:[Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(zj,{label:"Site",items:_,handleChange:function(e){var t=e.target.value;ne(t),le(B.find((function(e){return e.name===t})).blocks.map((function(e){return e.name})))},selectedItem:ae})}),Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(Po,{label:"Blocks",items:B.find((function(e){return e.name===ae}))?B.find((function(e){return e.name===ae})).blocks.map((function(e){return e.name})):[],handleChange:function(e){var t=e.target.value;"all"!==t[t.length-1]?le(t):le(se.length===B.find((function(e){return e.name===ae})).blocks.length?[]:B.find((function(e){return e.name===ae})).blocks.map((function(e){return e.name})))},selectedItems:se})}),Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(Mj,{date:de,setDate:be})}),Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(x.a,{variant:"outlined",size:"small",color:"primary",onClick:function(){a(!0),d(!0),X.a.post(K+"/invPerformance/invdetails",{sites:[ae],blocks:se,startTime:de.getTime(),endTime:ue(de.getTime())}).then((function(e){var t=e.data;J(t),a(!1),d(!1)})).catch((function(e){console.log("invPerformanceTable",e),a(!1),d(!1)}))},disabled:j,children:j?"Loading":"View"})})]}),Z&&Object(ce.jsx)(C.a,{container:!0,style:{marginTop:"1rem"},children:Object(ce.jsx)(Ej,{tableDataObj:Z})})]})}var Gj=n.forwardRef((function(e,t){return Object(ce.jsx)($.a,Object(h.a)({elevation:6,ref:t,variant:"filled"},e))}));function Wj(e){var t=e.open,a=e.severity,n=e.message,i=e.handleToggle,c=function(e,t){"clickaway"!==t&&i(!1)};return Object(ce.jsx)(J.a,{open:t,onClose:c,anchorOrigin:{vertical:"bottom",horizontal:"left"},children:Object(ce.jsx)(Gj,{onClose:c,severity:a,sx:{width:"100%"},children:n})})}function Xj(e){var t=e.fromDate,a=e.setFromDate,n=e.toDate,i=e.setToDate;return Object(ce.jsxs)(it.a,{utils:O.a,children:[Object(ce.jsx)(Ea.a,{margin:"normal",id:"date-picker-dialog",label:"Start Date",format:"MM/dd/yyyy",value:t,onChange:function(e){a(e)},KeyboardButtonProps:{"aria-label":"change date"},InputProps:{style:{fontSize:".8rem"}},style:{width:140,marginBlock:0,marginLeft:"1rem",padding:0}}),Object(ce.jsx)(Ea.a,{margin:"normal",id:"date-picker-dialog",label:"End Date",format:"MM/dd/yyyy",value:n,onChange:function(e){i(e)},KeyboardButtonProps:{"aria-label":"change date"},InputProps:{style:{fontSize:".8rem"}},style:{width:140,marginBlock:0,marginLeft:"1rem",padding:0}})]})}var Yj=Object(D.a)((function(e){return{formControl:{margin:e.spacing(1),minWidth:120,maxWidth:300},indeterminateColor:{color:"blue"},chips:{display:"flex",flexWrap:"wrap"},chip:{margin:2},noLabel:{marginTop:e.spacing(3)}}}));function qj(){var e=$e(),t=(e.enabledLinearProgress,e.setEnabledLinearProgress),a=Object(n.useState)(!1),i=Object(u.a)(a,2),c=i[0],r=i[1],s=Yj(),l=(Object(P.a)(),Object(n.useState)(!1)),o=Object(u.a)(l,2),j=o[0],d=o[1],b=Object(n.useState)((function(){var e=new Date;return e.setDate(e.getDate()-4),e.setHours(0,0,1,0),e})),m=Object(u.a)(b,2),O=m[0],g=m[1],p=Object(n.useState)((function(){var e=new Date;return e.setHours(23,59,59,0),e})),f=Object(u.a)(p,2),y=f[0],T=f[1],I=Object(n.useState)([]),k=Object(u.a)(I,2),w=k[0],N=k[1],L=Object(n.useState)({open:!1,severity:"info",message:"snackbar"}),D=Object(u.a)(L,2),F=D[0],V=D[1],A=Object(n.useState)(Vj),E=Object(u.a)(A,2),H=E[0],_=E[1],z=Object(n.useState)([H[0].name]),M=Object(u.a)(z,2),R=M[0],G=M[1],W=JSON.parse(localStorage.getItem("siteNamesAndBlocks")),Y=Object(n.useState)(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:W;return e.map((function(e){return e.name}))}()),q=Object(u.a)(Y,2),U=q[0],J=(q[1],Object(n.useState)(H[0].blocks.map((function(e){return e.name})))),$=Object(u.a)(J,2),Q=$[0],ee=$[1],te=Object(n.useState)(["I01"]),ae=Object(u.a)(te,2),ne=ae[0],ie=ae[1],re=Object(n.useState)([]),se=Object(u.a)(re,2);se[0],se[1];Object(n.useEffect)((function(){X.a.post(K+"/manageinverters/inverters").then((function(e){var t=e.data.sort((function(e,t){return e.name>t.name?1:t.name>e.name?-1:0}));_(t),G(t[0].name),ee(t[0].blocks[0].name)}))}),[]);(H.find((function(e){return e.name===R}))||[].length>0&&ne.length===H.find((function(e){return e.name===R})))&&H.find((function(e){return e.name===R})).blocks.map((function(e){return e.name}));var le=function(e,t){var a=Number(e.value),n="#1976d2";return a<95*t/100&&(n="#d32f2f"),a===t&&(n="#4caf50"),n},oe=function(){var e=[];try{var t=H.find((function(e){return e.name===R})).blocks.find((function(e){return e.name===Q})),a=null===t||void 0===t?void 0:t.inverters.map((function(e){return e.name}));e=a.length>0?a.sort():[]}catch(n){e=[]}return e};return Object(ce.jsxs)(ce.Fragment,{children:[Object(ce.jsxs)(C.a,{container:!0,direction:"row",justifyContent:"flex-start",alignItems:"flex-start",style:{marginTop:"-1rem"},children:[Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsxs)(v.a,{className:s.formControl,children:[Object(ce.jsx)(Aa.a,{id:"simple-select-label",children:"Sites"}),Object(ce.jsx)(Z.a,{labelId:"simple-select-label",id:"simple-select",value:R,onChange:function(e){var t=e.target.value;G(t);var a=H.find((function(e){return e.name===t})).blocks.map((function(e){return e.name}))[0];ee(a)},style:{fontSize:".8rem"},children:U.map((function(e){return Object(ce.jsx)(B.a,{value:e,children:e})}))})]})}),Object(ce.jsx)(C.a,{item:!0,style:{marginRight:"0rem"},children:Object(ce.jsxs)(v.a,{className:s.formControl,children:[Object(ce.jsx)(Aa.a,{id:"simple-select-label",children:"Blocks"}),Object(ce.jsx)(Z.a,{labelId:"simple-select-label",id:"simple-select",value:Q,onChange:function(e){var t=e.target.value;ee(t)},style:{fontSize:".8rem",maxWidth:"4rem"},children:(H.find((function(e){return e.name===R}))?H.find((function(e){return e.name===R})).blocks.map((function(e){return e.name})):[]).map((function(e){return Object(ce.jsx)(B.a,{value:e,children:e})}))})]})}),Object(ce.jsx)(C.a,{item:!0,style:{marginLeft:"-3.5rem",marginTop:"0.5rem",marginRight:"1.8rem"},children:Object(ce.jsx)(Po,{label:"Inverter",items:oe(),handleChange:function(e){var t=e.target.value.sort();"all"!==t[t.length-1]?ie(t):0===ne.length?ie(oe()):ie([])},selectedItems:ne})}),Object(ce.jsx)(C.a,{item:!0,style:{marginLeft:"-2rem",marginRight:"1rem",marginTop:"0.5rem"},children:Object(ce.jsx)(Xj,{fromDate:O,setFromDate:g,toDate:y,setToDate:T})}),Object(ce.jsx)(C.a,{item:!0,style:{marginTop:"1.3rem"},children:Object(ce.jsx)(x.a,{variant:"outlined",size:"small",color:"primary",onClick:function(){V({open:!1}),t(!0),r(!0),X.a.post(K+"/scbPerformance/",{site:[R],block:[Q],inverter:ne,startTime:O.getTime(),endTime:y.getTime()}).then((function(e){t(!1),r(!1),200===e.status?N(e.data):V({open:!0,severity:"info",message:"".concat(e.data)})})).catch((function(e){t(!1),r(!1)}))},disabled:c,children:c?"Loading":"View"})}),Object(ce.jsxs)(C.a,{item:!0,style:{marginTop:"1rem",marginLeft:"auto"},children:[Object(ce.jsx)(Pa.a,{size:"small",onClick:function(e){d(e.target.checked)},color:"primary",inputProps:{"aria-label":"secondary checkbox"}}),Object(ce.jsx)("small",{style:{fontSize:"12px"},children:"Hide 0 Values"})]})]}),Object(ce.jsx)(C.a,{container:!0,children:Object(ce.jsx)(C.a,{item:!0,children:!0===F.open?Object(ce.jsx)(Wj,{open:F.open,severity:F.severity,message:F.message,handleToggle:function(e){V((function(t){return Object(h.a)(Object(h.a)({},t),{},{open:e})}))}}):w.map((function(e){var t=0;return e.data.forEach((function(e){Number(e.value)>t&&(t=Number(e.value))})),Object(ce.jsxs)(C.a,{container:!0,style:{marginTop:"1rem"},children:[Object(ce.jsx)(C.a,{item:!0,style:{marginRight:"1rem"},children:Object(ce.jsxs)(C.a,{item:!0,children:[Object(ce.jsx)("small",{style:{fontSize:".8rem"},children:"".concat(e.site," - ").concat(e.inverter," ")}),Object(ce.jsx)("small",{style:{fontSize:".8rem"},children:new Date(1e3*e.timestamp).toLocaleDateString()})]})}),Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(C.a,{container:!0,spacing:1,children:e.data.filter((function(e){return 0!==e.value&&!0===j||(!1===j||void 0)})).map((function(e,a){return Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(S.a,{style:{width:90,padding:".25rem",borderBottom:"3px solid "+le(e,t)},children:Object(ce.jsxs)(C.a,{container:!0,children:[Object(ce.jsx)(C.a,{item:!0,xs:12,children:Object(ce.jsxs)("small",{style:{fontSize:".75rem"},children:["INV SCB: ",e.name]})}),Object(ce.jsx)(C.a,{item:!0,xs:12,children:Object(ce.jsxs)("small",{style:{fontSize:".75rem"},children:["Value: ",Object(ce.jsx)("strong",{children:e.value})]})})]})})},a)}))})})]},e.timestamp)}))})})]})}function Uj(e){var t=e.fromDate,a=e.setFromDate,n=e.toDate,i=e.setToDate;return Object(ce.jsxs)(it.a,{utils:O.a,children:[Object(ce.jsx)(Ea.a,{margin:"normal",id:"date-picker-dialog",label:"Start Date",format:"MM/dd/yyyy",value:t,onChange:function(e){a(e)},KeyboardButtonProps:{"aria-label":"change date"},InputProps:{style:{fontSize:".8rem"}},style:{width:120,marginBlock:0,marginLeft:"1rem",padding:0}}),Object(ce.jsx)(Ea.a,{margin:"normal",id:"date-picker-dialog",label:"End Date",format:"MM/dd/yyyy",value:n,onChange:function(e){i(e)},KeyboardButtonProps:{"aria-label":"change date"},InputProps:{style:{fontSize:".8rem"}},style:{width:120,marginBlock:0,marginLeft:"1rem",padding:0}})]})}var Kj=Object(D.a)((function(e){return{formControl:{minWidth:60},selectEmpty:{}}}));function Zj(e){var t=e.label,a=e.items,n=e.handleChange,i=e.selectedItem,c=Kj();return Object(ce.jsxs)(v.a,{className:c.formControl,children:[Object(ce.jsx)(Aa.a,{id:"simple-select-label",children:t}),Object(ce.jsx)(Z.a,{labelId:"simple-select-label",id:"simple-select",value:i,onChange:n,style:{fontSize:".8rem"},children:a.map((function(e){return Object(ce.jsx)(B.a,{value:e,children:e})}))})]})}var Jj=Object(D.a)((function(e){return{}}));function $j(e){var t=e.label,a=e.items,n=void 0===a?[]:a,i=e.selectedItems,c=void 0===i?[]:i,r=e.handleChange,s=Jj(),l=n.length>0&&c.length===n.length,o=function(e,t){var a=!1;return e.forEach((function(e){e===t&&(a=!0)})),a};return Object(ce.jsxs)(v.a,{style:{maxWidth:"100px"},children:[Object(ce.jsx)(Aa.a,{id:"".concat(t,"-select-label"),children:t}),Object(ce.jsxs)(Z.a,{style:{fontSize:".8rem"},labelId:"".concat(t,"-select-label"),id:"".concat(t,"-select"),value:c,onChange:r,multiple:!0,renderValue:function(e){return e.join(", ")},MenuProps:{classes:{paper:s.menuPaper},getContentAnchorEl:function(){return null}},children:[Object(ce.jsxs)(B.a,{value:"all",classes:{root:l?s.selectedAll:""},style:{paddingBlock:0},children:[Object(ce.jsx)(k.a,{children:Object(ce.jsx)(Pa.a,{style:{paddingBlock:0},size:"small",color:"primary",classes:{indeterminate:s.indeterminateColor},checked:l||0===n.length,indeterminate:c.length>0&&c.length<n.length})}),Object(ce.jsx)(w.a,{classes:{primary:s.listItemText},primary:"Select All",style:{paddingTop:".05rem"}})]}),n.map((function(e,t){return Object(ce.jsxs)(B.a,{value:e,style:{paddingBlock:0},children:[Object(ce.jsx)(k.a,{children:Object(ce.jsx)(Pa.a,{style:{paddingBlock:0},checked:o(c,e),size:"small",color:"primary"})}),Object(ce.jsx)(w.a,{classes:{primary:s.listItemText},primary:e,style:{paddingTop:".05rem"}})]},t)}))]})]})}a(700);function Qj(e){var t=e.data,a=e.alignY,i=void 0===a?{leftY:1,rightY:1}:a,c=Object(n.useState)(function(){var e=Object.entries(t),a={};return e.forEach((function(e){a=Object(h.a)(Object(h.a)({},a),{},Object(m.a)({},e[0],1))})),a}()),r=Object(u.a)(c,2),s=r[0],l=r[1],o=function(e,t){return e?["#3B71CA","#DC4C64","#14A44D","#E4A11B","#54B4D3","#CC004C","#6460AA","#0DB14B","#0089D0","#81BF97","#4FA9D2","#DF6756","#4A154B","#E3B34C","#CE375C","#ED642B","#F26C7D","#3F8F8B","#225675","#6460AA","#8FD974","#83D1C4","#4DAAA7","#F26764","#54AFBC","#F9B117","#5BB462","#072F54","#D5DF37","#58B1CE","#76C065","#19C0FF","#7894FF"][t]:["#4caf50","#ff9800","#009688","#cddc39","#0d86bf","#a432d1","#ce466f","#bf010e","#a52812","#edca4e","#FF4F2D","#FF8B74","#CFB08D","#1C4481","#60688D","#5B8BA1","#F28D18","#1DCDFE","#21D0B2","#2F455C","#265B94","#EE9142","#007D98","#F5B4A7","#FFCD2E","#5630FF","#191035"][t]};return Object(ce.jsx)(le.a,{width:"100%",height:"98%",children:Object(ce.jsxs)(oe.a,{data:t,style:{marginTop:"0.5rem"},padding:{},margin:{},children:[Object(ce.jsx)(ee.a,{dataKey:"timestamp",angle:-7,tick:{fontSize:12}}),Object(ce.jsx)(te.a,{yAxisId:"left",orientation:"left"}),Object(ce.jsx)(te.a,{yAxisId:"right",orientation:"right"}),Object(ce.jsx)(je.a,{content:function(e){var t,a,n=e.payload;return Object(ce.jsxs)(he.a,{style:{backgroundColor:"white",maxHeight:"20rem",maxWidth:"1000rem",minWidth:"10rem",display:"flex",flexDirection:"column",flexWrap:"wrap",fontSize:"0.6rem"},children:[Object(ce.jsx)("div",{children:null===(t=n[0])||void 0===t||null===(a=t.payload)||void 0===a?void 0:a.timestamp}),n.map((function(e){var t=e.dataKey,a=e.value,n=e.color;return Object(ce.jsx)("div",{style:{marginRight:"0.2rem",color:n,backgroundColor:"white"},children:"".concat(String(t).toUpperCase(),": ").concat(a)})}))]})}}),Object(ce.jsx)(de.a,{content:function(e){var t=e.payload;return Object(ce.jsx)("div",{style:{display:"flex",flexWrap:"wrap",justifyContent:"center",gap:"5px"},children:t.map((function(e){var t=e.dataKey,a=e.color;return Object(ce.jsx)("strong",{style:{fontSize:"0.8rem",color:a,cursor:"pointer",opacity:0===s[t]?.5:1},onClick:function(){return function(e){l((function(t){return Object(h.a)(Object(h.a)({},t),{},Object(m.a)({},e,0===t[e]?1:0))}))}(t)},children:String(t).toUpperCase()},t)}))})}}),function(){for(var e=Object.entries(t[0]),a=[],n=0,c=1;c<=i.leftY;c++)void 0!==e[c]&&(a.push(Object(ce.jsx)(be.a,{name:e[c][0],yAxisId:"left",type:"monotone",dataKey:e[c][0],stroke:o(!0,n),strokeWidth:2,strokeOpacity:s[e[c][0]],dot:!1})),n+=1);return a}().map((function(e){return e})),function(){for(var e=Object.entries(t[0]),a=[],n=0,c=i.leftY+1;c<=i.leftY+i.rightY;c++)void 0!==e[c]&&(a.push(Object(ce.jsx)(be.a,{name:e[c][0],yAxisId:"right",type:"monotone",dataKey:e[c][0],stroke:o(!1,n),strokeWidth:1,strokeOpacity:s[e[c][0]],dot:!1})),n+=1);return a}().map((function(e){return e}))]})})}var ed=[{category:"WMS",parameters:["Humidity Instant","Wind Speed Instant","Wind Dir Instant","Rain","GHI Instant","GHI Instant2","GTI Instant","GTI Instant2","Mod. Temp Instant","Mod. Temp Instant2","Mod. Temp 2 Instant","Amb. Temp Instant"]},{category:"Plant",parameters:["PA Instant","GA Instant","Plant PR Instant","Day Generation Cumulative (KWH)","Power Generation Instant (MW)","Peak Power","Revenue"]},{category:"Inverter",parameters:["L1 I","L2 I","L3 I","L1 V","L2 V","L3 V","Frequency","DC I","DC V","Active Power","DC Power","Reactive Power","PF","Cab Temp","IGBT Temp","DC Energy"]},{category:"Inv Scb",parameters:["S1","S2","S3","S4","S5","S6","S7","S8","S9","S10","S11","S12","S12","S13","S14","S15","S16","S17","S18","S19","S20","S21","S22","S23","S24","S25","S26","S27","S28","S29","S30","S31","S32"]},{category:"Inv Slots",parameters:["S1 L1 I","S1 L3 I","S1 L1 V","S1 L2 V","S1 L3 V","S1 DC I","S1 DC V","S1 Active Power","S1 PF","S1 DC Power","S1 IGBT Temp","S1 CAB Temp","S2 L1 I","S2 L2 I","S2 L3 I","S2 L1 V","S2 L2 V","S2 L3 V","S2 DC I","S2 DC V","S2 Active Power","S2 DC Power","S2 PF","S2 IGBT Temp","S2 CAB Temp","S3 L1 I","S3 L2 I","S3 L3 I","S3 L1 V","S3 L2 V","S3 L3 V","S3 DC I","S3 DC V","S3 Active Power","S3 DC Power","S3 PF","S3 IGBT Temp","S3 CAB Temp","S4 L1 I","S4 L2 I","S4 L3 I","S4 L1 V","S4 L2 V","S4 L3 V","S4 DC I","S4 DC V","S4 Active Power","S4 DC Power","S4 IGBT Temp","S4 CAB Temp","S1 + S2 Peak Active Power","S3 + S4 Peak Active Power"]},{category:"Calculated",parameters:["Inv Efficiency","Calculated PR"]}];Math.random(),Math.random(),Math.random(),Math.random(),Math.random(),Math.random(),Math.random(),Math.random(),Math.random();function td(){var e=$e(),t=e.setEnabledLinearProgress,a=e.setSnackbar,i=Object(n.useState)(!1),c=Object(u.a)(i,2),r=c[0],s=c[1],l=Object(n.useState)((function(){var e=new Date;return e.setDate(e.getDate()-1),e.setHours(0,0,1,0),e})),o=Object(u.a)(l,2),j=o[0],d=o[1],b=Object(n.useState)((function(){var e=new Date;return e.setDate(e.getDate()-1),e.setHours(23,59,59,0),e})),m=Object(u.a)(b,2),O=m[0],g=m[1],p=Object(n.useState)("daily"),f=Object(u.a)(p,2),y=f[0],T=f[1],I=function(){var e=[];return L.map((function(t){ed.find((function(e){return e.category===t})).parameters.map((function(e){return e})).map((function(t){return e.push(t)}))})),e},k=function(){var e=[];return G.map((function(t){ed.find((function(e){return e.category===t})).parameters.map((function(e){return e})).map((function(t){return e.push(t)}))})),e},w=Object(n.useState)([ed.map((function(e){return e.category}))[0]]),N=Object(u.a)(w,2),L=N[0],D=N[1],P=Object(n.useState)(I()),F=Object(u.a)(P,2),V=F[0],A=F[1],E=Object(n.useState)(I()),H=Object(u.a)(E,2),_=H[0],z=H[1],M=Object(n.useState)([ed.map((function(e){return e.category}))[0]]),R=Object(u.a)(M,2),G=R[0],W=R[1],Y=Object(n.useState)(k()),q=Object(u.a)(Y,2),U=q[0],J=q[1],$=Object(n.useState)(k()),Q=Object(u.a)($,2),ee=Q[0],te=Q[1];Object(n.useEffect)((function(){A(function(){var e=[];return L.map((function(t){ed.find((function(e){return e.category===t})).parameters.map((function(e){return e})).map((function(t){return e.push(t)}))})),z(e),e}())}),[L]);Object(n.useEffect)((function(){J(function(){var e=[];return G.map((function(t){ed.find((function(e){return e.category===t})).parameters.map((function(e){return e})).map((function(t){return e.push(t)}))})),te(e),e}())}),[G]);var ae=Object(n.useState)(Vj),ne=Object(u.a)(ae,2),ie=ne[0],re=ne[1],se=Object(n.useState)(ie[0].name),le=Object(u.a)(se,2),oe=le[0],je=le[1],de=JSON.parse(localStorage.getItem("siteNamesAndBlocks")),be=Object(n.useState)(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:de;return e.map((function(e){return e.name}))}()),ue=Object(u.a)(be,2),me=ue[0],he=(ue[1],Object(n.useState)(ie[0].blocks.map((function(e){return e.name})))),Oe=Object(u.a)(he,2),ge=Oe[0],xe=Oe[1],Se=Object(n.useState)(["I01"]),pe=Object(u.a)(Se,2),fe=pe[0],ve=pe[1];Object(n.useEffect)((function(){X.a.post(K+"/manageinverters/inverters").then((function(e){var t=e.data.sort((function(e,t){return e.name>t.name?1:t.name>e.name?-1:0}));re(t),je(t[1].name),xe(t[1].blocks[0].name)}))}),[]);var Ce=function(){var e=[];try{var t=ie.find((function(e){return e.name===oe})).blocks.find((function(e){return e.name===ge})),a=null===t||void 0===t?void 0:t.inverters.map((function(e){return e.name}));e=a.length>0?a.sort():[]}catch(n){e=[]}return e},ye=Object(n.useState)(!1),Te=Object(u.a)(ye,2),Ie=Te[0],ke=Te[1],we=Object(n.useState)([]),Ne=Object(u.a)(we,2),Be=Ne[0],Le=Ne[1],De=Object(n.useState)({}),Pe=Object(u.a)(De,2),Fe=Pe[0],Ve=Pe[1],Ae=function(){var e=Object(to.a)(io.a.mark((function e(){var n,i,c,r;return io.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return localStorage.getItem("userToken"),s(!0),t(!0),e.prev=3,e.next=6,X.a.post(K+"/trendline/graph/csv",{email:localStorage.getItem("userEmail"),site:oe,block:ge,inverters:fe,startTime:j.getTime(),endTime:O.getTime(),frequency:y,y1Category:L,y1Parameter:V,y2Category:G,y2Parameter:U});case 6:n=e.sent,console.log(n.data),i=window.URL.createObjectURL(new Blob([n.data])),(c=document.createElement("a")).href=i,r="".concat(j.getDate(),"_").concat(j.getMonth()+1," to ").concat(O.getDate(),"_").concat(O.getMonth()+1,".csv"),c.setAttribute("download",r),document.body.appendChild(c),c.click(),c.remove(),t(!1),s(!1),e.next=25;break;case 20:e.prev=20,e.t0=e.catch(3),a((function(e){return Object(h.a)(Object(h.a)({},e),{},{open:!0,severity:"error",message:"No data found."})})),t(!1),s(!1);case 25:case"end":return e.stop()}}),e,null,[[3,20]])})));return function(){return e.apply(this,arguments)}}();return Object(ce.jsxs)(ce.Fragment,{children:[Object(ce.jsxs)(C.a,{container:!0,direction:"row",justifyContent:"flex-start",alignItems:"flex-start",children:[Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(Zj,{label:"Site",items:me,handleChange:function(e){var t=e.target.value;je(t);var a=ie.find((function(e){return e.name===t})).blocks.map((function(e){return e.name}))[0];xe(a)},selectedItem:oe})}),Object(ce.jsx)(C.a,{item:!0,style:{marginLeft:"1rem"},children:Object(ce.jsx)(Zj,{label:"Block",items:ie.find((function(e){return e.name===oe}))?ie.find((function(e){return e.name===oe})).blocks.map((function(e){return e.name})):[],handleChange:function(e){var t=e.target.value;xe(t)},selectedItem:ge})}),Object(ce.jsx)(C.a,{item:!0,style:{marginLeft:"1rem"},children:Object(ce.jsx)($j,{label:"Inverter",items:Ce(),handleChange:function(e){var t=e.target.value.sort();"all"!==t[t.length-1]?ve(t):0===fe.length?ve(Ce()):ve([])},selectedItems:fe})}),Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(Uj,{fromDate:j,setFromDate:d,toDate:O,setToDate:g})}),Object(ce.jsx)(C.a,{item:!0,style:{marginLeft:"1rem"},children:Object(ce.jsxs)(v.a,{children:[Object(ce.jsx)(Aa.a,{id:"frequency-simple-select-label",children:"Frequency"}),Object(ce.jsxs)(Z.a,{labelId:"frequency-simple-select-label",id:"frequency-simple-select",value:y,onChange:function(e){var t=e.target.value;T(t)},style:{fontSize:".8rem"},children:[Object(ce.jsx)(B.a,{value:"daily",children:"Daily"}),Object(ce.jsx)(B.a,{value:"mtd",children:"MTD"}),Object(ce.jsx)(B.a,{value:"ytd",children:"YTD"})]})]})}),Object(ce.jsx)(C.a,{item:!0,style:{marginLeft:"1rem"},children:Object(ce.jsx)($j,{label:"Y1 Cat",items:ed.map((function(e){return e.category})),handleChange:function(e){var t=e.target.value;"all"!==t[t.length-1]?D(t):D(L.length===ed.map((function(e){return e.category})).length?[]:ed.map((function(e){return e.category})))},selectedItems:L})}),Object(ce.jsx)(C.a,{item:!0,style:{marginLeft:"1rem"},children:Object(ce.jsx)($j,{label:"Y1 Param",items:_,handleChange:function(e){var t=e.target.value;"all"!==t[t.length-1]?A(t):A(V.length===_.length?[]:I)},selectedItems:V})}),Object(ce.jsx)(C.a,{item:!0,style:{marginLeft:"1rem"},children:Object(ce.jsx)($j,{label:"Y2 Cat",items:ed.map((function(e){return e.category})),handleChange:function(e){var t=e.target.value;"all"!==t[t.length-1]?W(t):W(G.length===ed.map((function(e){return e.category})).length?[]:ed.map((function(e){return e.category})))},selectedItems:G})}),Object(ce.jsx)(C.a,{item:!0,style:{marginLeft:"1rem"},children:Object(ce.jsx)($j,{label:"Y2 Param",items:ee,handleChange:function(e){var t=e.target.value;"all"!==t[t.length-1]?J(t):J(U.length===ee.length?[]:k)},selectedItems:U})}),Object(ce.jsx)(C.a,{item:!0,style:{marginLeft:"1rem",marginTop:"0.8rem"},children:Object(ce.jsx)(x.a,{variant:"outlined",size:"small",style:{fontSize:"14px",height:"2rem"},color:"primary",onClick:function(e,a,n){t(!0),ke(!0),X.a.post(K+"/trendline/graph",{site:oe,block:ge,inverters:fe,startTime:j.getTime(),endTime:O.getTime(),frequency:y,y1Category:L,y1Parameter:V,y2Category:G,y2Parameter:U}).then((function(e){var a=e.data,n=a.charts;Le(n);var i=a.align;Ve(i),t(!1),ke(!1)})).catch((function(e){t(!1),ke(!1)}))},disabled:Ie,children:Ie?"Loading":"View"})}),Object(ce.jsx)(C.a,{item:!0,style:{marginLeft:"1rem",marginTop:"0.8rem"},children:Object(ce.jsx)(x.a,{variant:"outlined",color:"primary",size:"small",style:{fontSize:"14px",height:"2rem"},onClick:Ae,disabled:r,children:r?"Downloading":"CSV"})})]}),Be.map((function(e,t){return Object(ce.jsx)(C.a,{container:!0,children:Object(ce.jsx)(S.a,{style:{width:"100%",height:"410px",marginTop:"1rem",marginLeft:"-1rem",paddingInline:".5rem"},children:Object(ce.jsx)(Qj,{data:e.data,alignY:Fe})})},t)}))]})}var ad=["children","value","index"],nd=Object(D.a)({tabs:{"& .MuiTabs-indicator":{backgroundColor:"#148F77"},"& .MuiTab-root.Mui-selected":{color:"#148F77"}}});function id(e){var t=e.children,a=e.value,n=e.index,i=Object(ji.a)(e,ad);return Object(ce.jsx)("div",Object(h.a)(Object(h.a)({role:"tabpanel",hidden:a!==n,id:"simple-tabpanel-".concat(n),"aria-labelledby":"simple-tab-".concat(n)},i),{},{children:a===n&&Object(ce.jsx)(ui.a,{sx:{paddingTop:1},children:Object(ce.jsx)(V.a,{children:t})})}))}function cd(e){return{id:"scb-tab-".concat(e),"aria-controls":"scb-tabpanel-".concat(e)}}function rd(e){var t=e.handleSessionExpire,a=n.useState(0),i=Object(u.a)(a,2),c=i[0],r=i[1],s=nd();return Object(ce.jsxs)(ui.a,{style:{width:1200},children:[Object(ce.jsxs)(di.a,{style:{color:"#000000",marginLeft:"-1rem"},className:s.tabs,value:c,onChange:function(e,t){r(t)},"aria-label":"analytics tabs",variant:"scrollable",scrollButtons:"auto",children:[Object(ce.jsx)(bi.a,Object(h.a)({label:"Actual PR"},cd(0))),Object(ce.jsx)(bi.a,Object(h.a)({label:"Inverters - Wake Up"},cd(1))),Object(ce.jsx)(bi.a,Object(h.a)({label:"Peak Power"},cd(2))),Object(ce.jsx)(bi.a,Object(h.a)({label:"Calculated PR"},cd(3))),Object(ce.jsx)(bi.a,Object(h.a)({label:"Loss Analytics"},cd(4))),Object(ce.jsx)(bi.a,Object(h.a)({label:"CAB / AMB"},cd(5))),Object(ce.jsx)(bi.a,Object(h.a)({label:"Inv / Kw Gen"},cd(6))),Object(ce.jsx)(bi.a,Object(h.a)({label:"INV SCB"},cd(7))),Object(ce.jsx)(bi.a,Object(h.a)({label:"Trend Line"},cd(8))),Object(ce.jsx)(bi.a,Object(h.a)({label:"Table Sensor"},cd(9)))]}),Object(ce.jsx)(id,{value:c,index:0,style:{paddingTop:"0.5rem"},children:Object(ce.jsx)(Ao,{handleSessionExpire:t})}),Object(ce.jsx)(id,{value:c,index:1,style:{paddingTop:"0.5rem"},children:Object(ce.jsx)(qo,{handleSessionExpire:t})}),Object(ce.jsx)(id,{value:c,index:2,style:{paddingTop:"0.5rem"},children:Object(ce.jsx)(ij,{})}),Object(ce.jsx)(id,{value:c,index:3,style:{paddingTop:"0.5rem"},children:Object(ce.jsx)(uj,{})}),Object(ce.jsx)(id,{value:c,index:4,style:{paddingTop:"0.5rem"},children:Object(ce.jsx)(Sj,{})}),Object(ce.jsx)(id,{value:c,index:5,style:{paddingTop:"0.5rem"},children:Object(ce.jsx)(vj,{})}),Object(ce.jsx)(id,{value:c,index:6,style:{paddingTop:"0.5rem"},children:Object(ce.jsx)(Rj,{})}),Object(ce.jsx)(id,{value:c,index:7,style:{paddingTop:"0.5rem"},children:Object(ce.jsx)(qj,{})}),Object(ce.jsx)(id,{value:c,index:8,style:{paddingTop:"0.5rem"},children:Object(ce.jsx)(td,{})}),Object(ce.jsx)(id,{value:c,index:9,style:{paddingTop:"0.5rem"},children:Object(ce.jsx)(Fj,{})})]})}var sd=Object(Oe.a)((function(e){return{head:{backgroundColor:"#ffffbf",color:e.palette.common.black,fontSize:16},body:{fontSize:16}}}))(Se.a),ld=Object(Oe.a)((function(e){return{root:{"&:nth-of-type(odd)":{backgroundColor:e.palette.action.hover}}}}))(ve.a),od=Object(D.a)({tableContainer:{maxHeight:"80vh"}}),jd=function(e){var t=e.value,a=(e.block,null);return Object(ce.jsxs)(ld,{children:[Object(ce.jsx)(sd,{component:"th",scope:"row",style:{paddingTop:".6rem",paddingBottom:".6rem",backgroundColor:a},children:Object(ce.jsx)("strong",{style:{paddingLeft:"2.5rem"},children:t.heading})}),Object(ce.jsx)(sd,{align:"center",style:{backgroundColor:a},children:Object(ce.jsx)("span",{children:isNaN(Number(t.inv1))?"-":-111===Number(t.inv1)?"X":Number(t.inv1).toFixed(2)})}),Object(ce.jsx)(sd,{align:"center",style:{backgroundColor:a},children:Object(ce.jsx)("span",{children:isNaN(Number(t.inv2))?"-":-111===Number(t.inv2)?"X":Number(t.inv2).toFixed(2)})}),Object(ce.jsx)(sd,{align:"center",style:{backgroundColor:a},children:Object(ce.jsx)("span",{children:isNaN(Number(t.inv3))?"-":-111===Number(t.inv3)?"X":Number(t.inv3).toFixed(2)})}),Object(ce.jsx)(sd,{align:"center",style:{backgroundColor:a},children:Object(ce.jsx)("span",{children:isNaN(Number(t.inv4))?"-":-111===Number(t.inv4)?"X":Number(t.inv4).toFixed(2)})})]})},dd=function(e){var t=e.value;e.block;return Object(ce.jsxs)(ld,{children:[Object(ce.jsx)(sd,{component:"th",scope:"row",style:{paddingTop:".6rem",paddingBottom:".6rem"},children:Object(ce.jsx)("strong",{style:{paddingLeft:"1rem"},children:t.heading})}),Object(ce.jsx)(sd,{align:"center",children:isNaN(Number(t.inv1))?"-":-111===Number(t.inv1)?"X":Number(t.inv1).toFixed(2)}),Object(ce.jsx)(sd,{align:"center",children:isNaN(Number(t.inv2))?"-":-111===Number(t.inv2)?"X":Number(t.inv2).toFixed(2)}),Object(ce.jsx)(sd,{align:"center",children:isNaN(Number(t.inv3))?"-":-111===Number(t.inv3)?"X":Number(t.inv3).toFixed(2)}),Object(ce.jsx)(sd,{align:"center",children:isNaN(Number(t.inv4))?"-":-111===Number(t.inv4)?"X":Number(t.inv4).toFixed(2)})]})};function bd(e){var t=e.values,a=e.block,c=od(),r=Object(n.useState)([]),s=Object(u.a)(r,2),l=s[0],o=s[1],j=i.a.useState(!1),d=Object(u.a)(j,2),b=d[0],m=d[1],h=i.a.useState(!1),O=Object(u.a)(h,2),g=O[0],x=O[1],S=function(e){var t=e.title,a=e.tag,n=e.openRows;return Object(ce.jsx)(ld,{children:Object(ce.jsxs)(sd,{component:"th",scope:"row",colSpan:6,style:{backgroundColor:"#EBF5FB"},children:[Object(ce.jsx)("strong",{style:{paddingLeft:"1rem",paddingRight:".5rem",color:"#000"},children:t}),Object(ce.jsx)(y.a,{"aria-label":"expand row",size:"small",onClick:function(){return function(e){"S"===e?m((function(e){return!e})):x((function(e){return!e}))}(a)},style:{color:"#000"},children:n?Object(ce.jsx)(Ie.a,{}):Object(ce.jsx)(ye.a,{})})]})})};return Object(n.useEffect)((function(){for(var e=[],n=[],i=[],c=null,r=null,s=0;s<t.length;s++)t[s].heading.match(/S[1-4] [^/]/i)?(c||(c=s,i.push(Object(ce.jsx)(S,{title:"Inverter Slots",tag:"S",openRows:b,block:a},s))),s,e.push(Object(ce.jsx)(jd,{value:t[s],block:a},t[s].heading))):t[s].heading.match(/[S]3[0-4]|2[0-9]|1[0-9]|[1-9] [/] S[1-4]CB/i)?(r||(r=s,i.push(Object(ce.jsx)(S,{title:"Inverter Strings",tag:"PV",openRows:g,block:a},s))),s,n.push(Object(ce.jsx)(jd,{value:t[s],block:a},t[s].heading))):i.push(Object(ce.jsx)(dd,{value:t[s],block:a},s));var l,j=[].concat(i);if(b&&g)(l=j).splice.apply(l,[c+1,0].concat(e)),j=[].concat(Object(me.a)(j),[n]);else if(b&&!g){var d;(d=j).splice.apply(d,[c+1,0].concat(e))}else j=!b&&g?[].concat(Object(me.a)(j),[n]):[].concat(i);o(j)}),[t,b,g]),Object(ce.jsx)(pe.a,{component:he.a,elevation:6,className:c.tableContainer,children:Object(ce.jsxs)(ge.a,{stickyHeader:!0,"aria-label":"customized table",size:"small",children:[Object(ce.jsx)(fe.a,{children:Object(ce.jsxs)(ve.a,{children:[Object(ce.jsx)(sd,{style:{paddingTop:".7rem",paddingLeft:"1.75rem",paddingBottom:".7rem"},children:Object(ce.jsx)("strong",{children:"Parameters"})}),Object(ce.jsx)(sd,{align:"center",children:Object(ce.jsx)("strong",{children:"Inv 1"})}),Object(ce.jsx)(sd,{align:"center",children:Object(ce.jsx)("strong",{children:"Inv 2"})}),Object(ce.jsx)(sd,{align:"center",children:Object(ce.jsx)("strong",{children:"Inv 3"})}),Object(ce.jsx)(sd,{align:"center",children:Object(ce.jsx)("strong",{children:"Inv 4"})})]})}),Object(ce.jsx)(xe.a,{children:l})]})})}function ud(e){return Object(ce.jsx)($.a,Object(h.a)({elevation:6,variant:"filled"},e))}var md=Object(D.a)((function(e){return{grow:{flexGrow:1},gaugeChartStyle:{marginTop:e.spacing(12)},formControl:{minWidth:120},modalCardStyle:{width:340,height:"fit-content"},gridBreakpoint:Object(m.a)({},e.breakpoints.up("md"),{})}}));function hd(e){var t=e.handleSessionExpire,a=e.handleClickOpen,c=e.sitestatusBar,r=md(),s=$e().intervalTime,l=(localStorage.getItem("username","Admin"),localStorage.getItem("userToken")),o=(localStorage.getItem("userId"),K),j=Object(n.useState)((new Date).getTime()),d=Object(u.a)(j,2),b=d[0],m=d[1],h=Object(n.useState)(0),O=Object(u.a)(h,2),g=O[0],x=O[1],p=Object(n.useState)(void 0),f=Object(u.a)(p,2),y=f[0],T=f[1],I=Object(n.useState)({}),k=Object(u.a)(I,2),w=k[0],N=k[1],L=Object(n.useState)(0),D=Object(u.a)(L,2),P=D[0],F=D[1],A=Object(n.useState)(0),E=Object(u.a)(A,2),H=(E[0],E[1]),_=Object(n.useState)(0),z=Object(u.a)(_,2),M=z[0],R=z[1],G=Object(n.useState)(0),W=Object(u.a)(G,2),Y=W[0],q=W[1],U=Object(n.useState)(0),$=Object(u.a)(U,2),Q=$[0],ee=$[1],te=Object(n.useState)(0),ae=Object(u.a)(te,2),ne=ae[0],ie=ae[1],re=Object(n.useState)(0),le=Object(u.a)(re,2),oe=le[0],je=le[1],de=Object(n.useState)(0),be=Object(u.a)(de,2),me=be[0],he=be[1],Oe=Object(n.useState)([{time:"00:00",gti:"0.00",ghi:"0.00",pg:"0.00"}]),ge=Object(u.a)(Oe,2),xe=ge[0],Se=ge[1],pe=i.a.useState(1),fe=Object(u.a)(pe,2),ve=fe[0],Ce=fe[1],ye=Object(n.useState)([]),Te=Object(u.a)(ye,2),Ie=Te[0],ke=Te[1],we=Object(n.useState)(0),Ne=Object(u.a)(we,2),Be=Ne[0],Le=Ne[1];Object(n.useEffect)((function(){0!==Be&&nt(b)}),[Be]);var De=function(){return 0!==Be?"1":"0"},Pe=function(){return Be>0?"1":"0"},Fe=null,Ve=Object(n.useState)(!1),Ee=Object(u.a)(Ve,2),He=Ee[0],ze=Ee[1],Me=Object(n.useState)(new Date),Re=Object(u.a)(Me,2),Ge=Re[0],We=Re[1],Xe=Object(n.useState)(!1),Ye=Object(u.a)(Xe,2),qe=Ye[0],Ue=Ye[1],Ze=Object(n.useState)(!0),Je=Object(u.a)(Ze,2),Qe=Je[0],et=Je[1],tt=function(){ze(!1)};Object(n.useEffect)((function(){m(Ge.getTime())}),[Ge]);var at=function(){var e=new Date;e.setDate((new Date).getDate()-1),e.setHours(23,50,0,0);var t=new Date(b);t.setHours(5,0,0,0);var a=t.getTime();X.a.get(o+"/chittuguppa/grid/B"+String(ve).padStart(2,0),{headers:{jwtToken:l,startTime:e.getTime(),endTime:b,beginTime:a,enablePacket:De(),clientPacketTime:y,isNext:Pe()}}).then((function(e){!function(e){for(var t=[],a=Object.entries(e),n=["L1 I","L2 I","L3 I","L1 V","L2 V","L3 V","Frequency","DC I","DC V","Active Power","DC Power","Reactive Power","PF","Cab Temp","IGBT Temp","DC Energy","S1 L1 I","S1 L2 I","S1 L3 I","S1 L1 V","S1 L2 V","S1 L3 V","S1 DC I","S1 DC V","S1 Active Power","S1 DC Power","S1 PF","S1 IGBT Temp","S1 CAB Temp","S2 L1 I","S2 L2 I","S2 L3 I","S2 L1 V","S2 L2 V","S2 L3 V","S2 DC I","S2 DC V","S2 Active Power","S2 DC Power","S2 PF","S2 IGBT Temp","S2 CAB Temp","S3 L1 I","S3 L2 I","S3 L3 I","S3 L1 V","S3 L2 V","S3 L3 V","S3 DC I","S3 DC V","S3 Active Power","S3 DC Power","S3 PF","S3 IGBT Temp","S3 CAB Temp","S4 L1 I","S4 L2 I","S4 L3 I","S4 L1 V","S4 L2 V","S4 L3 V","S4 DC I","S4 DC V","S4 Active Power","S4 DC Power","S4 PF","S4 IGBT Temp","S4 CAB Temp","S1 + S2 Peak Active Power","S3 + S4 Peak Active Power","S1 / S1CB1 I","S2 / S1CB2 I","S3 / S1CB3 I","S4 / S1CB4 I","S5 / S1CB5 I","S6 / S1CB6 I","S7 / S1CB7 I","S8 / S1CB8 I","S9 / S2CB1 I","S10 / S2CB2 I","S11 / S2CB3 I","S12 / S2CB4 I","S13 / S2CB5 I","S14 / S2CB6 I","S15 / S2CB7 I","S16 / S2CB8 I","S17 / S3CB1 I","S18 / S3CB2 I","S19 / S3CB3 I","S20 / S3CB4 I","S21 / S3CB5 I","S22 / S3CB6 I","S23 / S3CB7 I","S24 / S3CB8 I","S25 / S4CB1 I","S26 / S4CB2 I","S27 / S4CB3 I","S28 / S4CB4 I","S29 / S4CB5 I","S30 / S4CB6 I","S31 / S4CB7 I","S32 / S4CB8 I"],i=0;i<n.length;i++){var c=NaN,r=NaN,s=NaN,l=NaN,o=NaN;try{a[i][1]&&(c=a[i][1]),a[n.length+i][1]&&(r=a[n.length+i][1]),a[2*n.length+i][1]&&(s=a[2*n.length+i][1]),a[3*n.length+i][1]&&(l=a[3*n.length+i][1]),a[4*n.length+i][1]&&(o=a[4*n.length+i][1])}catch(j){}t.push({heading:n[i],inv1:c,inv2:r,inv3:s,inv4:l,inv5:o})}ke([].concat(t))}(e.data)})).catch((function(e){}))};Object(n.useEffect)((function(){var e=setInterval(at,6e4);return function(){clearInterval(e)}})),Object(n.useEffect)((function(){at()}),[ve]);var nt=function(e){var a=1623696973e3,n=e;n=Qe?Date.now():e;var i=new Date(n);i.setHours(5,0,0,0);var c=i.getTime();!function(e,a,n){X.a.get(o+"/chittuguppa/site",{headers:{jwtToken:l,startTime:e,endTime:a,beginTime:n,enablePacket:De(),clientPacketTime:y,isNext:Pe()}}).then((function(e){x(e.data.status),T(1e3*e.data.time)})).catch((function(e){var a;401===(null===e||void 0===e||null===(a=e.response)||void 0===a?void 0:a.status)&&t()}))}(a,n,c),function(e,t,a){X.a.get(o+"/chittuguppa/boxes",{headers:{jwtToken:l,startTime:e,endTime:t,beginTime:a,enablePacket:De(),clientPacketTime:y,isNext:Pe()}}).then((function(e){N(e.data)})).catch((function(e){}))}(a,n,c),function(e,t,a){X.a.get(o+"/chittuguppa/gauge",{headers:{jwtToken:l,startTime:e,endTime:t,beginTime:a,enablePacket:De(),clientPacketTime:y,isNext:Pe()}}).then((function(e){var t=e.data.value;F(Number(t).toFixed(2)),H(Number(t).toFixed(1)/50)})).catch((function(e){}))}(a,n,c),function(e,t,a){X.a.get(o+"/chittuguppa/temperature",{headers:{jwtToken:l,startTime:e,endTime:t,beginTime:a,enablePacket:De(),clientPacketTime:y,isNext:Pe()}}).then((function(e){var t=e.data.ambientTemp,a=e.data.moduleTemp,n=e.data.humidity;R(Number(t).toFixed(1)),q(Number(a).toFixed(1)),ee(Number(n).toFixed(1))})).catch((function(e){}))}(a,n,c),function(e,t,a){X.a.get(o+"/chittuguppa/wind",{headers:{jwtToken:l,startTime:e,endTime:t,beginTime:a,enablePacket:De(),clientPacketTime:y,isNext:Pe()}}).then((function(e){var t=e.data.direction,a=e.data.speed;e.data.rain,ie(Number(t).toFixed(0)),je(Number(a).toFixed(1)),he(Number(e.data.rain).toFixed(1))})).catch((function(e){}))}(a,n,c),function(e,t,a){X.a.get(o+"/chittuguppa/graph",{headers:{jwtToken:l,startTime:e,endTime:t,beginTime:a,enablePacket:De(),clientPacketTime:y,isNext:Pe()}}).then((function(e){Se(e.data)})).catch((function(e){}))}(a,n,c)};Object(n.useEffect)((function(){(Fe=document.getElementById("timeSliderLabel2"))&&(Fe.innerText=(new Date).toLocaleString([],{hour:"2-digit",minute:"2-digit",hour12:!0}).toUpperCase()),nt(b);var e=setInterval((function(){nt(b)}),s);return function(){clearInterval(e)}}),[b]);var it=Object(n.useState)("space-between"),ct=Object(u.a)(it,2),st=(ct[0],ct[1]);return Object(n.useLayoutEffect)((function(){window.matchMedia("(min-width: 1280px)").matches?st("space-between"):st("flex-start")}),[]),Object(ce.jsxs)(i.a.Fragment,{children:[Object(ce.jsx)(C.a,{container:!0,justifyContent:"space-between",alignItems:"center",children:Object(ce.jsx)(rt,{sitestatusBar:c,status:g,timestamp:y,handleClickOpen:a,handleTimeReset:function(){Le(0);var e=new Date;We(e),m(e.getTime()),ze(!0),et(!0)},setIsNextCount:Le,setOpenDateTimePicker:Ue,getMinDateForPicker:function(){return new Date(1634904e6)},selectedDate:Ge,getFormattedDateAndTimeString:function(e){var t=new Date(e);return Object(ce.jsxs)("span",{children:[String(t.getDate()).padStart(2,"0"),"/",String(t.getMonth()+1).padStart(2,"0"),"/",t.getFullYear(),Object(ce.jsx)("span",{children:"\u2003"}),t.toLocaleString([],{hour:"2-digit",minute:"2-digit",hour12:!0}).toUpperCase()]})},openDateTimePicker:qe,handleDateChange:function(e){try{et(!1)}finally{We(e),Ue(!1)}}})}),Object(ce.jsx)("div",{style:{marginTop:"2rem"}}),Object(ce.jsx)(Ae,{day_generation:w.day_generation,revenue:1e3*w.day_generation*5.59,peak_power:w.peak_power,ghi:w.ghi,gti:w.gti,plant_pr:w.plant_pr,grid_availability:w.grid_availability,plant_availability:w.plant_availability}),Object(ce.jsxs)(C.a,{container:!0,spacing:6,style:{marginTop:"1rem"},children:[Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(_e,{totalExport:P,maxValue:60})}),Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(se,{ambientTemp:M,moduleTemp:Y,humidity:Q})}),Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(Ke,{windDirection:ne,windSpeed:oe,rain:me})})]}),Object(ce.jsxs)(S.a,{elevation:6,style:{marginTop:"2.5rem",height:"500px",width:"100%"},children:[Object(ce.jsx)(V.a,{variant:"h6",color:"textSecondary",style:{marginLeft:"1.5rem",marginTop:"1rem",marginBottom:"1.5rem"},children:"Irradiance / Generation"}),Object(ce.jsx)(ue,{data:xe,interval:12,leftAxisY:[0,1500],rightAxisY:[0,50]})]}),Object(ce.jsx)(C.a,{container:!0,style:{marginTop:"3rem"},children:Object(ce.jsxs)(C.a,{item:!0,xs:12,children:[Object(ce.jsxs)(C.a,{container:!0,spacing:2,alignItems:"center",style:{marginBottom:".5rem"},children:[Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(V.a,{variant:"h6",color:"textSecondary",children:"Inverter Values"})}),Object(ce.jsx)(C.a,{item:!0,className:r.grow}),Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsxs)(V.a,{style:{marginLeft:".25rem"},children:["Selected Block:"," "]})}),Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(v.a,{className:r.formControl,children:Object(ce.jsxs)(Z.a,{defaultValue:1,value:ve,onChange:function(e){Ce((function(t){return Number(e.target.value)}))},children:[Object(ce.jsx)(B.a,{value:1,children:"B01"}),Object(ce.jsx)(B.a,{value:2,children:"B02"}),Object(ce.jsx)(B.a,{value:3,children:"B03"}),Object(ce.jsx)(B.a,{value:4,children:"B04"}),Object(ce.jsx)(B.a,{value:5,children:"B05"}),Object(ce.jsx)(B.a,{value:6,children:"B06"}),Object(ce.jsx)(B.a,{value:7,children:"B07"}),Object(ce.jsx)(B.a,{value:8,children:"B08"})]})})})]}),Object(ce.jsx)(bd,{values:Ie,block:ve})]})}),Object(ce.jsx)(J.a,{open:He,anchorOrigin:{vertical:"bottom",horizontal:"left"},autoHideDuration:4e3,onClose:tt,children:Object(ce.jsx)(ud,{onClose:tt,severity:"success",children:"Time is reset!"})}),Object(ce.jsx)("div",{style:{marginBottom:"2rem"}})]})}var Od=Object(Oe.a)((function(e){return{head:{backgroundColor:"#ffffbf",color:e.palette.common.black,fontSize:16},body:{fontSize:16}}}))(Se.a),gd=Object(Oe.a)((function(e){return{root:{"&:nth-of-type(odd)":{backgroundColor:e.palette.action.hover}}}}))(ve.a),xd=Object(D.a)({tableContainer:{maxHeight:"80vh"}}),Sd=function(e){var t=e.value,a=(e.block,null);return Object(ce.jsxs)(gd,{children:[Object(ce.jsx)(Od,{component:"th",scope:"row",style:{paddingTop:".6rem",paddingBottom:".6rem",backgroundColor:a},children:Object(ce.jsx)("strong",{style:{paddingLeft:"2.5rem"},children:t.heading})}),Object(ce.jsx)(Od,{align:"center",style:{backgroundColor:a},children:Object(ce.jsx)("span",{children:isNaN(Number(t.inv1))?"-":-111===Number(t.inv1)?"X":Number(t.inv1).toFixed(2)})}),Object(ce.jsx)(Od,{align:"center",style:{backgroundColor:a},children:Object(ce.jsx)("span",{children:isNaN(Number(t.inv2))?"-":-111===Number(t.inv2)?"X":Number(t.inv2).toFixed(2)})}),Object(ce.jsx)(Od,{align:"center",style:{backgroundColor:a},children:Object(ce.jsx)("span",{children:isNaN(Number(t.inv3))?"-":-111===Number(t.inv3)?"X":Number(t.inv3).toFixed(2)})}),Object(ce.jsx)(Od,{align:"center",style:{backgroundColor:a},children:Object(ce.jsx)("span",{children:isNaN(Number(t.inv4))?"-":-111===Number(t.inv4)?"X":Number(t.inv4).toFixed(2)})})]})},pd=function(e){var t=e.value;e.block;return Object(ce.jsxs)(gd,{children:[Object(ce.jsx)(Od,{component:"th",scope:"row",style:{paddingTop:".6rem",paddingBottom:".6rem"},children:Object(ce.jsx)("strong",{style:{paddingLeft:"1rem"},children:t.heading})}),Object(ce.jsx)(Od,{align:"center",children:isNaN(Number(t.inv1))?"-":-111===Number(t.inv1)?"X":Number(t.inv1).toFixed(2)}),Object(ce.jsx)(Od,{align:"center",children:isNaN(Number(t.inv2))?"-":-111===Number(t.inv2)?"X":Number(t.inv2).toFixed(2)}),Object(ce.jsx)(Od,{align:"center",children:isNaN(Number(t.inv3))?"-":-111===Number(t.inv3)?"X":Number(t.inv3).toFixed(2)}),Object(ce.jsx)(Od,{align:"center",children:isNaN(Number(t.inv4))?"-":-111===Number(t.inv4)?"X":Number(t.inv4).toFixed(2)})]})};function fd(e){var t=e.values,a=e.block,c=xd(),r=Object(n.useState)([]),s=Object(u.a)(r,2),l=s[0],o=s[1],j=i.a.useState(!1),d=Object(u.a)(j,2),b=d[0],m=d[1],h=i.a.useState(!1),O=Object(u.a)(h,2),g=O[0],x=O[1],S=function(e){var t=e.title,a=e.tag,n=e.openRows;return Object(ce.jsx)(gd,{children:Object(ce.jsxs)(Od,{component:"th",scope:"row",colSpan:6,style:{backgroundColor:"#EBF5FB"},children:[Object(ce.jsx)("strong",{style:{paddingLeft:"1rem",paddingRight:".5rem",color:"#000"},children:t}),Object(ce.jsx)(y.a,{"aria-label":"expand row",size:"small",onClick:function(){return function(e){"S"===e?m((function(e){return!e})):x((function(e){return!e}))}(a)},style:{color:"#000"},children:n?Object(ce.jsx)(Ie.a,{}):Object(ce.jsx)(ye.a,{})})]})})};return Object(n.useEffect)((function(){for(var e=[],n=[],i=[],c=null,r=null,s=0;s<t.length;s++)t[s].heading.match(/S[1-4] [^/]/i)?(c||(c=s,i.push(Object(ce.jsx)(S,{title:"Inverter Slots",tag:"S",openRows:b,block:a},s))),s,e.push(Object(ce.jsx)(Sd,{value:t[s],block:a},t[s].heading))):t[s].heading.match(/[S]3[0-4]|2[0-9]|1[0-9]|[1-9] [/] S[1-4]CB/i)?(r||(r=s,i.push(Object(ce.jsx)(S,{title:"Inverter Strings",tag:"PV",openRows:g,block:a},s))),s,n.push(Object(ce.jsx)(Sd,{value:t[s],block:a},t[s].heading))):i.push(Object(ce.jsx)(pd,{value:t[s],block:a},s));var l,j=[].concat(i);if(b&&g)(l=j).splice.apply(l,[c+1,0].concat(e)),j=[].concat(Object(me.a)(j),[n]);else if(b&&!g){var d;(d=j).splice.apply(d,[c+1,0].concat(e))}else j=!b&&g?[].concat(Object(me.a)(j),[n]):[].concat(i);o(j)}),[t,b,g]),Object(ce.jsx)(pe.a,{component:he.a,elevation:6,className:c.tableContainer,children:Object(ce.jsxs)(ge.a,{stickyHeader:!0,"aria-label":"customized table",size:"small",children:[Object(ce.jsx)(fe.a,{children:Object(ce.jsxs)(ve.a,{children:[Object(ce.jsx)(Od,{style:{paddingTop:".7rem",paddingLeft:"1.75rem",paddingBottom:".7rem"},children:Object(ce.jsx)("strong",{children:"Parameters"})}),Object(ce.jsx)(Od,{align:"center",children:Object(ce.jsx)("strong",{children:"Inv 1"})}),Object(ce.jsx)(Od,{align:"center",children:Object(ce.jsx)("strong",{children:"Inv 2"})}),Object(ce.jsx)(Od,{align:"center",children:Object(ce.jsx)("strong",{children:"Inv 3"})}),Object(ce.jsx)(Od,{align:"center",children:Object(ce.jsx)("strong",{children:"Inv 4"})})]})}),Object(ce.jsx)(xe.a,{children:l})]})})}function vd(e){return Object(ce.jsx)($.a,Object(h.a)({elevation:6,variant:"filled"},e))}var Cd=Object(D.a)((function(e){return{grow:{flexGrow:1},gaugeChartStyle:{marginTop:e.spacing(12)},formControl:{minWidth:120},modalCardStyle:{width:340,height:"fit-content"},gridBreakpoint:Object(m.a)({},e.breakpoints.up("md"),{})}}));function yd(e){var t=e.handleSessionExpire,a=e.handleClickOpen,c=e.sitestatusBar,r=Cd(),s=$e().intervalTime,l=(localStorage.getItem("username","Admin"),localStorage.getItem("userToken")),o=(localStorage.getItem("userId"),K),j=Object(n.useState)((new Date).getTime()),d=Object(u.a)(j,2),b=d[0],m=d[1],h=Object(n.useState)(0),O=Object(u.a)(h,2),g=O[0],x=O[1],p=Object(n.useState)(void 0),f=Object(u.a)(p,2),y=f[0],T=f[1],I=Object(n.useState)({}),k=Object(u.a)(I,2),w=k[0],N=k[1],L=Object(n.useState)(0),D=Object(u.a)(L,2),P=D[0],F=D[1],A=Object(n.useState)(0),E=Object(u.a)(A,2),H=(E[0],E[1]),_=Object(n.useState)(0),z=Object(u.a)(_,2),M=z[0],R=z[1],G=Object(n.useState)(0),W=Object(u.a)(G,2),Y=W[0],q=W[1],U=Object(n.useState)(0),$=Object(u.a)(U,2),Q=$[0],ee=$[1],te=Object(n.useState)(0),ae=Object(u.a)(te,2),ne=ae[0],ie=ae[1],re=Object(n.useState)(0),le=Object(u.a)(re,2),oe=le[0],je=le[1],de=Object(n.useState)(0),be=Object(u.a)(de,2),me=be[0],he=be[1],Oe=Object(n.useState)([{time:"00:00",gti:"0.00",ghi:"0.00",pg:"0.00"}]),ge=Object(u.a)(Oe,2),xe=ge[0],Se=ge[1],pe=i.a.useState(1),fe=Object(u.a)(pe,2),ve=fe[0],Ce=fe[1],ye=Object(n.useState)([]),Te=Object(u.a)(ye,2),Ie=Te[0],ke=Te[1],we=Object(n.useState)(0),Ne=Object(u.a)(we,2),Be=Ne[0],Le=Ne[1];Object(n.useEffect)((function(){0!==Be&&nt(b)}),[Be]);var De=function(){return 0!==Be?"1":"0"},Pe=function(){return Be>0?"1":"0"},Fe=null,Ve=Object(n.useState)(!1),Ee=Object(u.a)(Ve,2),He=Ee[0],ze=Ee[1],Me=Object(n.useState)(new Date),Re=Object(u.a)(Me,2),Ge=Re[0],We=Re[1],Xe=Object(n.useState)(!1),Ye=Object(u.a)(Xe,2),qe=Ye[0],Ue=Ye[1],Ze=Object(n.useState)(!0),Je=Object(u.a)(Ze,2),Qe=Je[0],et=Je[1],tt=function(){ze(!1)};Object(n.useEffect)((function(){m(Ge.getTime())}),[Ge]);var at=function(){var e=new Date;e.setDate((new Date).getDate()-1),e.setHours(23,50,0,0);var t=new Date(b);t.setHours(5,0,0,0);var a=t.getTime();X.a.get(o+"/farhatabad/grid/B"+String(ve).padStart(2,0),{headers:{jwtToken:l,startTime:e.getTime(),endTime:b,beginTime:a,enablePacket:De(),clientPacketTime:y,isNext:Pe()}}).then((function(e){!function(e){for(var t=[],a=Object.entries(e),n=["L1 I","L2 I","L3 I","L1 V","L2 V","L3 V","Frequency","DC I","DC V","Active Power","DC Power","Reactive Power","PF","Cab Temp","IGBT Temp","DC Energy","S1 L1 I","S1 L2 I","S1 L3 I","S1 L1 V","S1 L2 V","S1 L3 V","S1 DC I","S1 DC V","S1 Active Power","S1 DC Power","S1 PF","S1 IGBT Temp","S1 CAB Temp","S2 L1 I","S2 L2 I","S2 L3 I","S2 L1 V","S2 L2 V","S2 L3 V","S2 DC I","S2 DC V","S2 Active Power","S2 DC Power","S2 PF","S2 IGBT Temp","S2 CAB Temp","S3 L1 I","S3 L2 I","S3 L3 I","S3 L1 V","S3 L2 V","S3 L3 V","S3 DC I","S3 DC V","S3 Active Power","S3 DC Power","S3 PF","S3 IGBT Temp","S3 CAB Temp","S4 L1 I","S4 L2 I","S4 L3 I","S4 L1 V","S4 L2 V","S4 L3 V","S4 DC I","S4 DC V","S4 Active Power","S4 DC Power","S4 PF","S4 IGBT Temp","S4 CAB Temp","S1 + S2 Peak Active Power","S3 + S4 Peak Active Power","S1 / S1CB1 I","S2 / S1CB2 I","S3 / S1CB3 I","S4 / S1CB4 I","S5 / S1CB5 I","S6 / S1CB6 I","S7 / S1CB7 I","S8 / S1CB8 I","S9 / S2CB1 I","S10 / S2CB2 I","S11 / S2CB3 I","S12 / S2CB4 I","S13 / S2CB5 I","S14 / S2CB6 I","S15 / S2CB7 I","S16 / S2CB8 I","S17 / S3CB1 I","S18 / S3CB2 I","S19 / S3CB3 I","S20 / S3CB4 I","S21 / S3CB5 I","S22 / S3CB6 I","S23 / S3CB7 I","S24 / S3CB8 I","S25 / S4CB1 I","S26 / S4CB2 I","S27 / S4CB3 I","S28 / S4CB4 I","S29 / S4CB5 I","S30 / S4CB6 I","S31 / S4CB7 I","S32 / S4CB8 I"],i=0;i<n.length;i++){var c=NaN,r=NaN,s=NaN,l=NaN,o=NaN;try{a[i][1]&&(c=a[i][1]),a[n.length+i][1]&&(r=a[n.length+i][1]),a[2*n.length+i][1]&&(s=a[2*n.length+i][1]),a[3*n.length+i][1]&&(l=a[3*n.length+i][1]),a[4*n.length+i][1]&&(o=a[4*n.length+i][1])}catch(j){}t.push({heading:n[i],inv1:c,inv2:r,inv3:s,inv4:l,inv5:o})}ke([].concat(t))}(e.data)})).catch((function(e){}))};Object(n.useEffect)((function(){var e=setInterval(at,6e4);return function(){clearInterval(e)}})),Object(n.useEffect)((function(){at()}),[ve]);var nt=function(e){var a=1623696973e3,n=e;n=Qe?Date.now():e;var i=new Date(n);i.setHours(5,0,0,0);var c=i.getTime();!function(e,a,n){X.a.get(o+"/farhatabad/site",{headers:{jwtToken:l,startTime:e,endTime:a,beginTime:n,enablePacket:De(),clientPacketTime:y,isNext:Pe()}}).then((function(e){x(e.data.status),T(1e3*e.data.time)})).catch((function(e){var a;401===(null===e||void 0===e||null===(a=e.response)||void 0===a?void 0:a.status)&&t()}))}(a,n,c),function(e,t,a){X.a.get(o+"/farhatabad/boxes",{headers:{jwtToken:l,startTime:e,endTime:t,beginTime:a,enablePacket:De(),clientPacketTime:y,isNext:Pe()}}).then((function(e){N(e.data)})).catch((function(e){}))}(a,n,c),function(e,t,a){X.a.get(o+"/farhatabad/gauge",{headers:{jwtToken:l,startTime:e,endTime:t,beginTime:a,enablePacket:De(),clientPacketTime:y,isNext:Pe()}}).then((function(e){var t=e.data.value;F(Number(t).toFixed(2)),H(Number(t).toFixed(1)/50)})).catch((function(e){}))}(a,n,c),function(e,t,a){X.a.get(o+"/farhatabad/temperature",{headers:{jwtToken:l,startTime:e,endTime:t,beginTime:a,enablePacket:De(),clientPacketTime:y,isNext:Pe()}}).then((function(e){var t=e.data.ambientTemp,a=e.data.moduleTemp,n=e.data.humidity;R(Number(t).toFixed(1)),q(Number(a).toFixed(1)),ee(Number(n).toFixed(1))})).catch((function(e){}))}(a,n,c),function(e,t,a){X.a.get(o+"/farhatabad/wind",{headers:{jwtToken:l,startTime:e,endTime:t,beginTime:a,enablePacket:De(),clientPacketTime:y,isNext:Pe()}}).then((function(e){var t=e.data.direction,a=e.data.speed;e.data.rain,ie(Number(t).toFixed(0)),je(Number(a).toFixed(1)),he(Number(e.data.rain).toFixed(1))})).catch((function(e){}))}(a,n,c),function(e,t,a){X.a.get(o+"/farhatabad/graph",{headers:{jwtToken:l,startTime:e,endTime:t,beginTime:a,enablePacket:De(),clientPacketTime:y,isNext:Pe()}}).then((function(e){Se(e.data)})).catch((function(e){}))}(a,n,c)};Object(n.useEffect)((function(){(Fe=document.getElementById("timeSliderLabel2"))&&(Fe.innerText=(new Date).toLocaleString([],{hour:"2-digit",minute:"2-digit",hour12:!0}).toUpperCase()),nt(b);var e=setInterval((function(){nt(b)}),s);return function(){clearInterval(e)}}),[b]);var it=Object(n.useState)("space-between"),ct=Object(u.a)(it,2),st=(ct[0],ct[1]);return Object(n.useLayoutEffect)((function(){window.matchMedia("(min-width: 1280px)").matches?st("space-between"):st("flex-start")}),[]),Object(ce.jsxs)(i.a.Fragment,{children:[Object(ce.jsx)(C.a,{container:!0,justifyContent:"space-between",alignItems:"center",children:Object(ce.jsx)(rt,{sitestatusBar:c,status:g,timestamp:y,handleClickOpen:a,handleTimeReset:function(){Le(0);var e=new Date;We(e),m(e.getTime()),ze(!0),et(!0)},setIsNextCount:Le,setOpenDateTimePicker:Ue,getMinDateForPicker:function(){return new Date(16351632e5)},selectedDate:Ge,getFormattedDateAndTimeString:function(e){var t=new Date(e);return Object(ce.jsxs)("span",{children:[String(t.getDate()).padStart(2,"0"),"/",String(t.getMonth()+1).padStart(2,"0"),"/",t.getFullYear(),Object(ce.jsx)("span",{children:"\u2003"}),t.toLocaleString([],{hour:"2-digit",minute:"2-digit",hour12:!0}).toUpperCase()]})},openDateTimePicker:qe,handleDateChange:function(e){try{et(!1)}finally{We(e),Ue(!1)}}})}),Object(ce.jsx)("div",{style:{marginTop:"2rem"}}),Object(ce.jsx)(Ae,{day_generation:w.day_generation,revenue:1e3*w.day_generation*5.59,peak_power:w.peak_power,ghi:w.ghi,gti:w.gti,plant_pr:w.plant_pr,grid_availability:w.grid_availability,plant_availability:w.plant_availability}),Object(ce.jsxs)(C.a,{container:!0,spacing:6,style:{marginTop:"1rem"},children:[Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(_e,{totalExport:P,maxValue:60})}),Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(se,{ambientTemp:M,moduleTemp:Y,humidity:Q})}),Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(Ke,{windDirection:ne,windSpeed:oe,rain:me})})]}),Object(ce.jsxs)(S.a,{elevation:6,style:{marginTop:"2.5rem",height:"500px",width:"100%"},children:[Object(ce.jsx)(V.a,{variant:"h6",color:"textSecondary",style:{marginLeft:"1.5rem",marginTop:"1rem",marginBottom:"1.5rem"},children:"Irradiance / Generation"}),Object(ce.jsx)(ue,{data:xe,interval:12,leftAxisY:[0,1500],rightAxisY:[0,50]})]}),Object(ce.jsx)(C.a,{container:!0,style:{marginTop:"3rem"},children:Object(ce.jsxs)(C.a,{item:!0,xs:12,children:[Object(ce.jsxs)(C.a,{container:!0,spacing:2,alignItems:"center",style:{marginBottom:".5rem"},children:[Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(V.a,{variant:"h6",color:"textSecondary",children:"Inverter Values"})}),Object(ce.jsx)(C.a,{item:!0,className:r.grow}),Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsxs)(V.a,{style:{marginLeft:".25rem"},children:["Selected Block:"," "]})}),Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(v.a,{className:r.formControl,children:Object(ce.jsxs)(Z.a,{defaultValue:1,value:ve,onChange:function(e){Ce((function(t){return Number(e.target.value)}))},children:[Object(ce.jsx)(B.a,{value:1,children:"B01"}),Object(ce.jsx)(B.a,{value:2,children:"B02"}),Object(ce.jsx)(B.a,{value:3,children:"B03"}),Object(ce.jsx)(B.a,{value:4,children:"B04"}),Object(ce.jsx)(B.a,{value:5,children:"B05"}),Object(ce.jsx)(B.a,{value:6,children:"B06"}),Object(ce.jsx)(B.a,{value:7,children:"B07"}),Object(ce.jsx)(B.a,{value:8,children:"B08"})]})})})]}),Object(ce.jsx)(fd,{values:Ie,block:ve})]})}),Object(ce.jsx)(J.a,{open:He,anchorOrigin:{vertical:"bottom",horizontal:"left"},autoHideDuration:4e3,onClose:tt,children:Object(ce.jsx)(vd,{onClose:tt,severity:"success",children:"Time is reset!"})}),Object(ce.jsx)("div",{style:{marginBottom:"2rem"}})]})}var Td=Object(Oe.a)((function(e){return{head:{backgroundColor:"#ffffbf",color:e.palette.common.black,fontSize:16},body:{fontSize:16}}}))(Se.a),Id=Object(Oe.a)((function(e){return{root:{"&:nth-of-type(odd)":{backgroundColor:e.palette.action.hover}}}}))(ve.a),kd=Object(D.a)({tableContainer:{maxHeight:"80vh"}}),wd=function(e){var t=e.value,a=(e.block,null);return Object(ce.jsxs)(Id,{children:[Object(ce.jsx)(Td,{component:"th",scope:"row",style:{paddingTop:".6rem",paddingBottom:".6rem",backgroundColor:a},children:Object(ce.jsx)("strong",{style:{paddingLeft:"2.5rem"},children:t.heading})}),Object(ce.jsx)(Td,{align:"center",style:{backgroundColor:a},children:Object(ce.jsx)("span",{children:isNaN(Number(t.inv1))?"-":-111===Number(t.inv1)?"X":Number(t.inv1).toFixed(2)})}),Object(ce.jsx)(Td,{align:"center",style:{backgroundColor:a},children:Object(ce.jsx)("span",{children:isNaN(Number(t.inv2))?"-":-111===Number(t.inv2)?"X":Number(t.inv2).toFixed(2)})}),Object(ce.jsx)(Td,{align:"center",style:{backgroundColor:a},children:Object(ce.jsx)("span",{children:isNaN(Number(t.inv3))?"-":-111===Number(t.inv3)?"X":Number(t.inv3).toFixed(2)})}),Object(ce.jsx)(Td,{align:"center",style:{backgroundColor:a},children:Object(ce.jsx)("span",{children:isNaN(Number(t.inv4))?"-":-111===Number(t.inv4)?"X":Number(t.inv4).toFixed(2)})})]})},Nd=function(e){var t=e.value;e.block;return Object(ce.jsxs)(Id,{children:[Object(ce.jsx)(Td,{component:"th",scope:"row",style:{paddingTop:".6rem",paddingBottom:".6rem"},children:Object(ce.jsx)("strong",{style:{paddingLeft:"1rem"},children:t.heading})}),Object(ce.jsx)(Td,{align:"center",children:isNaN(Number(t.inv1))?"-":-111===Number(t.inv1)?"X":Number(t.inv1).toFixed(2)}),Object(ce.jsx)(Td,{align:"center",children:isNaN(Number(t.inv2))?"-":-111===Number(t.inv2)?"X":Number(t.inv2).toFixed(2)}),Object(ce.jsx)(Td,{align:"center",children:isNaN(Number(t.inv3))?"-":-111===Number(t.inv3)?"X":Number(t.inv3).toFixed(2)}),Object(ce.jsx)(Td,{align:"center",children:isNaN(Number(t.inv4))?"-":-111===Number(t.inv4)?"X":Number(t.inv4).toFixed(2)})]})};function Bd(e){var t=e.values,a=e.block,c=kd(),r=Object(n.useState)([]),s=Object(u.a)(r,2),l=s[0],o=s[1],j=i.a.useState(!1),d=Object(u.a)(j,2),b=d[0],m=d[1],h=i.a.useState(!1),O=Object(u.a)(h,2),g=O[0],x=O[1],S=function(e){var t=e.title,a=e.tag,n=e.openRows;return Object(ce.jsx)(Id,{children:Object(ce.jsxs)(Td,{component:"th",scope:"row",colSpan:6,style:{backgroundColor:"#EBF5FB"},children:[Object(ce.jsx)("strong",{style:{paddingLeft:"1rem",paddingRight:".5rem",color:"#000"},children:t}),Object(ce.jsx)(y.a,{"aria-label":"expand row",size:"small",onClick:function(){return function(e){"S"===e?m((function(e){return!e})):x((function(e){return!e}))}(a)},style:{color:"#000"},children:n?Object(ce.jsx)(Ie.a,{}):Object(ce.jsx)(ye.a,{})})]})})};return Object(n.useEffect)((function(){for(var e=[],n=[],i=[],c=null,r=null,s=0;s<t.length;s++)t[s].heading.match(/S[1-4] [^/]/i)?(c||(c=s,i.push(Object(ce.jsx)(S,{title:"Inverter Slots",tag:"S",openRows:b,block:a},s))),s,e.push(Object(ce.jsx)(wd,{value:t[s],block:a},t[s].heading))):t[s].heading.match(/[S]3[0-4]|2[0-9]|1[0-9]|[1-9] [/] S[1-4]CB/i)?(r||(r=s,i.push(Object(ce.jsx)(S,{title:"Inverter Strings",tag:"PV",openRows:g,block:a},s))),s,n.push(Object(ce.jsx)(wd,{value:t[s],block:a},t[s].heading))):i.push(Object(ce.jsx)(Nd,{value:t[s],block:a},s));var l,j=[].concat(i);if(b&&g)(l=j).splice.apply(l,[c+1,0].concat(e)),j=[].concat(Object(me.a)(j),[n]);else if(b&&!g){var d;(d=j).splice.apply(d,[c+1,0].concat(e))}else j=!b&&g?[].concat(Object(me.a)(j),[n]):[].concat(i);o(j)}),[t,b,g]),Object(ce.jsx)(pe.a,{component:he.a,elevation:6,className:c.tableContainer,children:Object(ce.jsxs)(ge.a,{stickyHeader:!0,"aria-label":"customized table",size:"small",children:[Object(ce.jsx)(fe.a,{children:Object(ce.jsxs)(ve.a,{children:[Object(ce.jsx)(Td,{style:{paddingTop:".7rem",paddingLeft:"1.75rem",paddingBottom:".7rem"},children:Object(ce.jsx)("strong",{children:"Parameters"})}),Object(ce.jsx)(Td,{align:"center",children:Object(ce.jsx)("strong",{children:"Inv 1"})}),Object(ce.jsx)(Td,{align:"center",children:Object(ce.jsx)("strong",{children:"Inv 2"})}),Object(ce.jsx)(Td,{align:"center",children:Object(ce.jsx)("strong",{children:"Inv 3"})}),Object(ce.jsx)(Td,{align:"center",children:Object(ce.jsx)("strong",{children:"Inv 4"})})]})}),Object(ce.jsx)(xe.a,{children:l})]})})}function Ld(e){return Object(ce.jsx)($.a,Object(h.a)({elevation:6,variant:"filled"},e))}var Dd=Object(D.a)((function(e){return{grow:{flexGrow:1},gaugeChartStyle:{marginTop:e.spacing(12)},formControl:{minWidth:120},modalCardStyle:{width:340,height:"fit-content"},gridBreakpoint:Object(m.a)({},e.breakpoints.up("md"),{})}}));function Pd(e){e.handleSessionExpire;var t=e.handleClickOpen,a=e.sitestatusBar,c=Dd(),r=$e().intervalTime,s=(localStorage.getItem("username","Admin"),localStorage.getItem("userToken")),l=(localStorage.getItem("userId"),K),o=Object(n.useState)((new Date).getTime()),j=Object(u.a)(o,2),d=j[0],b=j[1],m=Object(n.useState)(0),h=Object(u.a)(m,2),O=h[0],g=h[1],x=Object(n.useState)(void 0),p=Object(u.a)(x,2),f=p[0],y=p[1],T=Object(n.useState)({}),I=Object(u.a)(T,2),k=I[0],w=I[1],N=Object(n.useState)(0),L=Object(u.a)(N,2),D=L[0],P=L[1],F=Object(n.useState)(0),A=Object(u.a)(F,2),E=(A[0],A[1]),H=Object(n.useState)(0),_=Object(u.a)(H,2),z=_[0],M=_[1],R=Object(n.useState)(0),G=Object(u.a)(R,2),W=G[0],Y=G[1],q=Object(n.useState)(0),U=Object(u.a)(q,2),$=U[0],Q=U[1],ee=Object(n.useState)(0),te=Object(u.a)(ee,2),ae=te[0],ne=te[1],ie=Object(n.useState)(0),re=Object(u.a)(ie,2),le=re[0],oe=re[1],je=Object(n.useState)(0),de=Object(u.a)(je,2),be=de[0],me=de[1],he=Object(n.useState)([{time:"00:00",gti:"0.00",ghi:"0.00",pg:"0.00"}]),Oe=Object(u.a)(he,2),ge=Oe[0],xe=Oe[1],Se=i.a.useState(1),pe=Object(u.a)(Se,2),fe=pe[0],ve=pe[1],Ce=Object(n.useState)([]),ye=Object(u.a)(Ce,2),Te=ye[0],Ie=ye[1],ke=Object(n.useState)(0),we=Object(u.a)(ke,2),Ne=we[0],Be=we[1];Object(n.useEffect)((function(){0!==Ne&&at(d)}),[Ne]);var Le=function(){return 0!==Ne?"1":"0"},De=function(){return Ne>0?"1":"0"},Pe=null,Fe=Object(n.useState)(!1),Ve=Object(u.a)(Fe,2),Ee=Ve[0],He=Ve[1],ze=Object(n.useState)(new Date),Me=Object(u.a)(ze,2),Re=Me[0],Ge=Me[1],We=Object(n.useState)(!1),Xe=Object(u.a)(We,2),Ye=Xe[0],qe=Xe[1],Ue=Object(n.useState)(!0),Ze=Object(u.a)(Ue,2),Je=Ze[0],Qe=Ze[1],et=function(){He(!1)};Object(n.useEffect)((function(){b(Re.getTime())}),[Re]);var tt=function(){var e=new Date;e.setDate((new Date).getDate()-1),e.setHours(23,50,0,0);var t=new Date(d);t.setHours(5,0,0,0);var a=t.getTime();X.a.get(l+"/godhur/grid/B"+String(fe).padStart(2,0),{headers:{jwtToken:s,startTime:e.getTime(),endTime:d,beginTime:a,enablePacket:Le(),clientPacketTime:f,isNext:De()}}).then((function(e){!function(e){for(var t=[],a=Object.entries(e),n=["L1 I","L2 I","L3 I","L1 V","L2 V","L3 V","Frequency","DC I","DC V","Active Power","DC Power","Reactive Power","PF","Cab Temp","IGBT Temp","DC Energy","S1 L1 I","S1 L2 I","S1 L3 I","S1 L1 V","S1 L2 V","S1 L3 V","S1 DC I","S1 DC V","S1 Active Power","S1 DC Power","S1 PF","S1 IGBT Temp","S1 CAB Temp","S2 L1 I","S2 L2 I","S2 L3 I","S2 L1 V","S2 L2 V","S2 L3 V","S2 DC I","S2 DC V","S2 Active Power","S2 DC Power","S2 PF","S2 IGBT Temp","S2 CAB Temp","S3 L1 I","S3 L2 I","S3 L3 I","S3 L1 V","S3 L2 V","S3 L3 V","S3 DC I","S3 DC V","S3 Active Power","S3 DC Power","S3 PF","S3 IGBT Temp","S3 CAB Temp","S4 L1 I","S4 L2 I","S4 L3 I","S4 L1 V","S4 L2 V","S4 L3 V","S4 DC I","S4 DC V","S4 Active Power","S4 DC Power","S4 PF","S4 IGBT Temp","S4 CAB Temp","S1 + S2 Peak Active Power","S3 + S4 Peak Active Power","S1 / S1CB1 I","S2 / S1CB2 I","S3 / S1CB3 I","S4 / S1CB4 I","S5 / S1CB5 I","S6 / S1CB6 I","S7 / S1CB7 I","S8 / S1CB8 I","S9 / S2CB1 I","S10 / S2CB2 I","S11 / S2CB3 I","S12 / S2CB4 I","S13 / S2CB5 I","S14 / S2CB6 I","S15 / S2CB7 I","S16 / S2CB8 I","S17 / S3CB1 I","S18 / S3CB2 I","S19 / S3CB3 I","S20 / S3CB4 I","S21 / S3CB5 I","S22 / S3CB6 I","S23 / S3CB7 I","S24 / S3CB8 I","S25 / S4CB1 I","S26 / S4CB2 I","S27 / S4CB3 I","S28 / S4CB4 I","S29 / S4CB5 I","S30 / S4CB6 I","S31 / S4CB7 I","S32 / S4CB8 I"],i=0;i<n.length;i++){var c=NaN,r=NaN,s=NaN,l=NaN,o=NaN;try{a[i][1]&&(c=a[i][1]),a[n.length+i][1]&&(r=a[n.length+i][1]),a[2*n.length+i][1]&&(s=a[2*n.length+i][1]),a[3*n.length+i][1]&&(l=a[3*n.length+i][1]),a[4*n.length+i][1]&&(o=a[4*n.length+i][1])}catch(j){}t.push({heading:n[i],inv1:c,inv2:r,inv3:s,inv4:l,inv5:o})}Ie([].concat(t))}(e.data)})).catch((function(e){}))};Object(n.useEffect)((function(){var e=setInterval(tt,6e4);return function(){clearInterval(e)}})),Object(n.useEffect)((function(){tt()}),[fe]);var at=function(e){var t=1623696973e3,a=e;a=Je?Date.now():e;var n=new Date(a);n.setHours(5,0,0,0);var i=n.getTime();!function(e,t,a){X.a.get(l+"/godhur/site",{headers:{jwtToken:s,startTime:e,endTime:t,beginTime:a,enablePacket:Le(),clientPacketTime:f,isNext:De()}}).then((function(e){g(e.data.status),y(1e3*e.data.time)})).catch((function(e){}))}(t,a,i),function(e,t,a){X.a.get(l+"/godhur/boxes",{headers:{jwtToken:s,startTime:e,endTime:t,beginTime:a,enablePacket:Le(),clientPacketTime:f,isNext:De()}}).then((function(e){w(e.data)})).catch((function(e){}))}(t,a,i),function(e,t,a){X.a.get(l+"/godhur/gauge",{headers:{jwtToken:s,startTime:e,endTime:t,beginTime:a,enablePacket:Le(),clientPacketTime:f,isNext:De()}}).then((function(e){var t=e.data.value;P(Number(t).toFixed(2)),E(Number(t).toFixed(1)/50)})).catch((function(e){}))}(t,a,i),function(e,t,a){X.a.get(l+"/godhur/temperature",{headers:{jwtToken:s,startTime:e,endTime:t,beginTime:a,enablePacket:Le(),clientPacketTime:f,isNext:De()}}).then((function(e){var t=e.data.ambientTemp,a=e.data.moduleTemp,n=e.data.humidity;M(Number(t).toFixed(1)),Y(Number(a).toFixed(1)),Q(Number(n).toFixed(1))})).catch((function(e){}))}(t,a,i),function(e,t,a){X.a.get(l+"/godhur/wind",{headers:{jwtToken:s,startTime:e,endTime:t,beginTime:a,enablePacket:Le(),clientPacketTime:f,isNext:De()}}).then((function(e){var t=e.data.direction,a=e.data.speed;e.data.rain,ne(Number(t).toFixed(0)),oe(Number(a).toFixed(1)),me(Number(e.data.rain).toFixed(1))})).catch((function(e){}))}(t,a,i),function(e,t,a){X.a.get(l+"/godhur/graph",{headers:{jwtToken:s,startTime:e,endTime:t,beginTime:a,enablePacket:Le(),clientPacketTime:f,isNext:De()}}).then((function(e){xe(e.data)})).catch((function(e){}))}(t,a,i)};Object(n.useEffect)((function(){(Pe=document.getElementById("timeSliderLabel2"))&&(Pe.innerText=(new Date).toLocaleString([],{hour:"2-digit",minute:"2-digit",hour12:!0}).toUpperCase()),at(d);var e=setInterval((function(){at(d)}),r);return function(){clearInterval(e)}}),[d]);var nt=Object(n.useState)("space-between"),it=Object(u.a)(nt,2),ct=(it[0],it[1]);return Object(n.useLayoutEffect)((function(){window.matchMedia("(min-width: 1280px)").matches?ct("space-between"):ct("flex-start")}),[]),Object(ce.jsxs)(i.a.Fragment,{children:[Object(ce.jsx)(C.a,{container:!0,justifyContent:"space-between",alignItems:"center",children:Object(ce.jsx)(rt,{sitestatusBar:a,status:O,timestamp:f,handleClickOpen:t,handleTimeReset:function(){Be(0);var e=new Date;Ge(e),b(e.getTime()),He(!0),Qe(!0)},setIsNextCount:Be,setOpenDateTimePicker:qe,getMinDateForPicker:function(){return new Date(1635336e6)},selectedDate:Re,getFormattedDateAndTimeString:function(e){var t=new Date(e);return Object(ce.jsxs)("span",{children:[String(t.getDate()).padStart(2,"0"),"/",String(t.getMonth()+1).padStart(2,"0"),"/",t.getFullYear(),Object(ce.jsx)("span",{children:"\u2003"}),t.toLocaleString([],{hour:"2-digit",minute:"2-digit",hour12:!0}).toUpperCase()]})},openDateTimePicker:Ye,handleDateChange:function(e){try{Qe(!1)}finally{Ge(e),qe(!1)}}})}),Object(ce.jsx)("div",{style:{marginTop:"2rem"}}),Object(ce.jsx)(Ae,{day_generation:k.day_generation,revenue:1e3*k.day_generation*5.59,peak_power:k.peak_power,ghi:k.ghi,gti:k.gti,plant_pr:k.plant_pr,grid_availability:k.grid_availability,plant_availability:k.plant_availability}),Object(ce.jsxs)(C.a,{container:!0,spacing:6,style:{marginTop:"1rem"},children:[Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(_e,{totalExport:D,maxValue:15})}),Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(se,{ambientTemp:z,moduleTemp:W,humidity:$})}),Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(Ke,{windDirection:ae,windSpeed:le,rain:be})})]}),Object(ce.jsxs)(S.a,{elevation:6,style:{marginTop:"2.5rem",height:"500px",width:"100%"},children:[Object(ce.jsx)(V.a,{variant:"h6",color:"textSecondary",style:{marginLeft:"1.5rem",marginTop:"1rem",marginBottom:"1.5rem"},children:"Irradiance / Generation"}),Object(ce.jsx)(ue,{data:ge,interval:12,leftAxisY:[0,1e3],rightAxisY:[0,15]})]}),Object(ce.jsx)(C.a,{container:!0,style:{marginTop:"3rem"},children:Object(ce.jsxs)(C.a,{item:!0,xs:12,children:[Object(ce.jsxs)(C.a,{container:!0,spacing:2,alignItems:"center",style:{marginBottom:".5rem"},children:[Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(V.a,{variant:"h6",color:"textSecondary",children:"Inverter Values"})}),Object(ce.jsx)(C.a,{item:!0,className:c.grow}),Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsxs)(V.a,{style:{marginLeft:".25rem"},children:["Selected Block:"," "]})}),Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(v.a,{className:c.formControl,children:Object(ce.jsxs)(Z.a,{defaultValue:1,value:fe,onChange:function(e){ve((function(t){return Number(e.target.value)}))},children:[Object(ce.jsx)(B.a,{value:1,children:"B01"}),Object(ce.jsx)(B.a,{value:2,children:"B02"})]})})})]}),Object(ce.jsx)(Bd,{values:Te,block:fe})]})}),Object(ce.jsx)(J.a,{open:Ee,anchorOrigin:{vertical:"bottom",horizontal:"left"},autoHideDuration:4e3,onClose:et,children:Object(ce.jsx)(Ld,{onClose:et,severity:"success",children:"Time is reset!"})}),Object(ce.jsx)("div",{style:{marginBottom:"2rem"}})]})}var Fd=Object(Oe.a)((function(e){return{head:{backgroundColor:"#ffffbf",color:e.palette.common.black,fontSize:16},body:{fontSize:16}}}))(Se.a),Vd=Object(Oe.a)((function(e){return{root:{"&:nth-of-type(odd)":{backgroundColor:e.palette.action.hover}}}}))(ve.a),Ad=Object(D.a)({tableContainer:{maxHeight:"80vh"}}),Ed=function(e){var t=e.value,a=(e.block,null);return Object(ce.jsxs)(Vd,{children:[Object(ce.jsx)(Fd,{component:"th",scope:"row",style:{paddingTop:".6rem",paddingBottom:".6rem",backgroundColor:a},children:Object(ce.jsx)("strong",{style:{paddingLeft:"2.5rem"},children:t.heading})}),Object(ce.jsx)(Fd,{align:"center",style:{backgroundColor:a},children:Object(ce.jsx)("span",{children:isNaN(Number(t.inv1))?"-":-111===Number(t.inv1)?"X":Number(t.inv1).toFixed(2)})}),Object(ce.jsx)(Fd,{align:"center",style:{backgroundColor:a},children:Object(ce.jsx)("span",{children:isNaN(Number(t.inv2))?"-":-111===Number(t.inv2)?"X":Number(t.inv2).toFixed(2)})}),Object(ce.jsx)(Fd,{align:"center",style:{backgroundColor:a},children:Object(ce.jsx)("span",{children:isNaN(Number(t.inv3))?"-":-111===Number(t.inv3)?"X":Number(t.inv3).toFixed(2)})}),Object(ce.jsx)(Fd,{align:"center",style:{backgroundColor:a},children:Object(ce.jsx)("span",{children:isNaN(Number(t.inv4))?"-":-111===Number(t.inv4)?"X":Number(t.inv4).toFixed(2)})})]})},Hd=function(e){var t=e.value;e.block;return Object(ce.jsxs)(Vd,{children:[Object(ce.jsx)(Fd,{component:"th",scope:"row",style:{paddingTop:".6rem",paddingBottom:".6rem"},children:Object(ce.jsx)("strong",{style:{paddingLeft:"1rem"},children:t.heading})}),Object(ce.jsx)(Fd,{align:"center",children:isNaN(Number(t.inv1))?"-":-111===Number(t.inv1)?"X":Number(t.inv1).toFixed(2)}),Object(ce.jsx)(Fd,{align:"center",children:isNaN(Number(t.inv2))?"-":-111===Number(t.inv2)?"X":Number(t.inv2).toFixed(2)}),Object(ce.jsx)(Fd,{align:"center",children:isNaN(Number(t.inv3))?"-":-111===Number(t.inv3)?"X":Number(t.inv3).toFixed(2)}),Object(ce.jsx)(Fd,{align:"center",children:isNaN(Number(t.inv4))?"-":-111===Number(t.inv4)?"X":Number(t.inv4).toFixed(2)})]})};function _d(e){var t=e.values,a=e.block,c=Ad(),r=Object(n.useState)([]),s=Object(u.a)(r,2),l=s[0],o=s[1],j=i.a.useState(!1),d=Object(u.a)(j,2),b=d[0],m=d[1],h=i.a.useState(!1),O=Object(u.a)(h,2),g=O[0],x=O[1],S=function(e){var t=e.title,a=e.tag,n=e.openRows;return Object(ce.jsx)(Vd,{children:Object(ce.jsxs)(Fd,{component:"th",scope:"row",colSpan:6,style:{backgroundColor:"#EBF5FB"},children:[Object(ce.jsx)("strong",{style:{paddingLeft:"1rem",paddingRight:".5rem",color:"#000"},children:t}),Object(ce.jsx)(y.a,{"aria-label":"expand row",size:"small",onClick:function(){return function(e){"S"===e?m((function(e){return!e})):x((function(e){return!e}))}(a)},style:{color:"#000"},children:n?Object(ce.jsx)(Ie.a,{}):Object(ce.jsx)(ye.a,{})})]})})};return Object(n.useEffect)((function(){for(var e=[],n=[],i=[],c=null,r=null,s=0;s<t.length;s++)t[s].heading.match(/S[1-4] [^/]/i)?(c||(c=s,i.push(Object(ce.jsx)(S,{title:"Inverter Slots",tag:"S",openRows:b,block:a},s))),s,e.push(Object(ce.jsx)(Ed,{value:t[s],block:a},t[s].heading))):t[s].heading.match(/[S]3[0-4]|2[0-9]|1[0-9]|[1-9] [/] S[1-4]CB/i)?(r||(r=s,i.push(Object(ce.jsx)(S,{title:"Inverter Strings",tag:"PV",openRows:g,block:a},s))),s,n.push(Object(ce.jsx)(Ed,{value:t[s],block:a},t[s].heading))):i.push(Object(ce.jsx)(Hd,{value:t[s],block:a},s));var l,j=[].concat(i);if(b&&g)(l=j).splice.apply(l,[c+1,0].concat(e)),j=[].concat(Object(me.a)(j),[n]);else if(b&&!g){var d;(d=j).splice.apply(d,[c+1,0].concat(e))}else j=!b&&g?[].concat(Object(me.a)(j),[n]):[].concat(i);o(j)}),[t,b,g]),Object(ce.jsx)(pe.a,{component:he.a,elevation:6,className:c.tableContainer,children:Object(ce.jsxs)(ge.a,{stickyHeader:!0,"aria-label":"customized table",size:"small",children:[Object(ce.jsx)(fe.a,{children:Object(ce.jsxs)(ve.a,{children:[Object(ce.jsx)(Fd,{style:{paddingTop:".7rem",paddingLeft:"1.75rem",paddingBottom:".7rem"},children:Object(ce.jsx)("strong",{children:"Parameters"})}),Object(ce.jsx)(Fd,{align:"center",children:Object(ce.jsx)("strong",{children:"Inv 1"})}),Object(ce.jsx)(Fd,{align:"center",children:Object(ce.jsx)("strong",{children:"Inv 2"})}),Object(ce.jsx)(Fd,{align:"center",children:Object(ce.jsx)("strong",{children:"Inv 3"})}),Object(ce.jsx)(Fd,{align:"center",children:Object(ce.jsx)("strong",{children:"Inv 4"})})]})}),Object(ce.jsx)(xe.a,{children:l})]})})}function zd(e){return Object(ce.jsx)($.a,Object(h.a)({elevation:6,variant:"filled"},e))}var Md=Object(D.a)((function(e){return{grow:{flexGrow:1},gaugeChartStyle:{marginTop:e.spacing(12)},formControl:{minWidth:120},modalCardStyle:{width:340,height:"fit-content"},gridBreakpoint:Object(m.a)({},e.breakpoints.up("md"),{})}}));function Rd(e){e.handleSessionExpire;var t=e.handleClickOpen,a=e.sitestatusBar,c=Md(),r=$e().intervalTime,s=(localStorage.getItem("username","Admin"),localStorage.getItem("userToken")),l=(localStorage.getItem("userId"),K),o=Object(n.useState)((new Date).getTime()),j=Object(u.a)(o,2),d=j[0],b=j[1],m=Object(n.useState)(0),h=Object(u.a)(m,2),O=h[0],g=h[1],x=Object(n.useState)(void 0),p=Object(u.a)(x,2),f=p[0],y=p[1],T=Object(n.useState)({}),I=Object(u.a)(T,2),k=I[0],w=I[1],N=Object(n.useState)(0),L=Object(u.a)(N,2),D=L[0],P=L[1],F=Object(n.useState)(0),A=Object(u.a)(F,2),E=(A[0],A[1]),H=Object(n.useState)(0),_=Object(u.a)(H,2),z=_[0],M=_[1],R=Object(n.useState)(0),G=Object(u.a)(R,2),W=G[0],Y=G[1],q=Object(n.useState)(0),U=Object(u.a)(q,2),$=U[0],Q=U[1],ee=Object(n.useState)(0),te=Object(u.a)(ee,2),ae=te[0],ne=te[1],ie=Object(n.useState)(0),re=Object(u.a)(ie,2),le=re[0],oe=re[1],je=Object(n.useState)(0),de=Object(u.a)(je,2),be=de[0],me=de[1],he=Object(n.useState)([{time:"00:00",gti:"0.00",ghi:"0.00",pg:"0.00"}]),Oe=Object(u.a)(he,2),ge=Oe[0],xe=Oe[1],Se=i.a.useState(1),pe=Object(u.a)(Se,2),fe=pe[0],ve=pe[1],Ce=Object(n.useState)([]),ye=Object(u.a)(Ce,2),Te=ye[0],Ie=ye[1],ke=Object(n.useState)(0),we=Object(u.a)(ke,2),Ne=we[0],Be=we[1];Object(n.useEffect)((function(){0!==Ne&&at(d)}),[Ne]);var Le=function(){return 0!==Ne?"1":"0"},De=function(){return Ne>0?"1":"0"},Pe=null,Fe=Object(n.useState)(!1),Ve=Object(u.a)(Fe,2),Ee=Ve[0],He=Ve[1],ze=Object(n.useState)(new Date),Me=Object(u.a)(ze,2),Re=Me[0],Ge=Me[1],We=Object(n.useState)(!1),Xe=Object(u.a)(We,2),Ye=Xe[0],qe=Xe[1],Ue=Object(n.useState)(!0),Ze=Object(u.a)(Ue,2),Je=Ze[0],Qe=Ze[1],et=function(){He(!1)};Object(n.useEffect)((function(){b(Re.getTime())}),[Re]);var tt=function(){var e=new Date;e.setDate((new Date).getDate()-1),e.setHours(23,50,0,0);var t=new Date(d);t.setHours(5,0,0,0);var a=t.getTime();X.a.get(l+"/manthani/grid/B"+String(fe).padStart(2,0),{headers:{jwtToken:s,startTime:e.getTime(),endTime:d,beginTime:a,enablePacket:Le(),clientPacketTime:f,isNext:De()}}).then((function(e){!function(e){for(var t=[],a=Object.entries(e),n=["L1 I","L2 I","L3 I","L1 V","L2 V","L3 V","Frequency","DC I","DC V","Active Power","DC Power","Reactive Power","PF","Cab Temp","IGBT Temp","DC Energy","S1 L1 I","S1 L2 I","S1 L3 I","S1 L1 V","S1 L2 V","S1 L3 V","S1 DC I","S1 DC V","S1 Active Power","S1 DC Power","S1 PF","S1 IGBT Temp","S1 CAB Temp","S2 L1 I","S2 L2 I","S2 L3 I","S2 L1 V","S2 L2 V","S2 L3 V","S2 DC I","S2 DC V","S2 Active Power","S2 DC Power","S2 PF","S2 IGBT Temp","S2 CAB Temp","S3 L1 I","S3 L2 I","S3 L3 I","S3 L1 V","S3 L2 V","S3 L3 V","S3 DC I","S3 DC V","S3 Active Power","S3 DC Power","S3 PF","S3 IGBT Temp","S3 CAB Temp","S4 L1 I","S4 L2 I","S4 L3 I","S4 L1 V","S4 L2 V","S4 L3 V","S4 DC I","S4 DC V","S4 Active Power","S4 DC Power","S4 PF","S4 IGBT Temp","S4 CAB Temp","S1 + S2 Peak Active Power","S3 + S4 Peak Active Power","S1 / S1CB1 I","S2 / S1CB2 I","S3 / S1CB3 I","S4 / S1CB4 I","S5 / S1CB5 I","S6 / S1CB6 I","S7 / S1CB7 I","S8 / S1CB8 I","S9 / S2CB1 I","S10 / S2CB2 I","S11 / S2CB3 I","S12 / S2CB4 I","S13 / S2CB5 I","S14 / S2CB6 I","S15 / S2CB7 I","S16 / S2CB8 I","S17 / S3CB1 I","S18 / S3CB2 I","S19 / S3CB3 I","S20 / S3CB4 I","S21 / S3CB5 I","S22 / S3CB6 I","S23 / S3CB7 I","S24 / S3CB8 I","S25 / S4CB1 I","S26 / S4CB2 I","S27 / S4CB3 I","S28 / S4CB4 I","S29 / S4CB5 I","S30 / S4CB6 I","S31 / S4CB7 I","S32 / S4CB8 I"],i=0;i<n.length;i++){var c=NaN,r=NaN,s=NaN,l=NaN,o=NaN;try{a[i][1]&&(c=a[i][1]),a[n.length+i][1]&&(r=a[n.length+i][1]),a[2*n.length+i][1]&&(s=a[2*n.length+i][1]),a[3*n.length+i][1]&&(l=a[3*n.length+i][1]),a[4*n.length+i][1]&&(o=a[4*n.length+i][1])}catch(j){}t.push({heading:n[i],inv1:c,inv2:r,inv3:s,inv4:l,inv5:o})}Ie([].concat(t))}(e.data)})).catch((function(e){}))};Object(n.useEffect)((function(){var e=setInterval(tt,6e4);return function(){clearInterval(e)}})),Object(n.useEffect)((function(){tt()}),[fe]);var at=function(e){var t=1623696973e3,a=e;a=Je?Date.now():e;var n=new Date(a);n.setHours(5,0,0,0);var i=n.getTime();!function(e,t,a){X.a.get(l+"/manthani/site",{headers:{jwtToken:s,startTime:e,endTime:t,beginTime:a,enablePacket:Le(),clientPacketTime:f,isNext:De()}}).then((function(e){g(e.data.status),y(1e3*e.data.time)})).catch((function(e){}))}(t,a,i),function(e,t,a){X.a.get(l+"/manthani/boxes",{headers:{jwtToken:s,startTime:e,endTime:t,beginTime:a,enablePacket:Le(),clientPacketTime:f,isNext:De()}}).then((function(e){w(e.data)})).catch((function(e){}))}(t,a,i),function(e,t,a){X.a.get(l+"/manthani/gauge",{headers:{jwtToken:s,startTime:e,endTime:t,beginTime:a,enablePacket:Le(),clientPacketTime:f,isNext:De()}}).then((function(e){var t=e.data.value;P(Number(t).toFixed(2)),E(Number(t).toFixed(1)/50)})).catch((function(e){}))}(t,a,i),function(e,t,a){X.a.get(l+"/manthani/temperature",{headers:{jwtToken:s,startTime:e,endTime:t,beginTime:a,enablePacket:Le(),clientPacketTime:f,isNext:De()}}).then((function(e){var t=e.data.ambientTemp,a=e.data.moduleTemp,n=e.data.humidity;M(Number(t).toFixed(1)),Y(Number(a).toFixed(1)),Q(Number(n).toFixed(1))})).catch((function(e){}))}(t,a,i),function(e,t,a){X.a.get(l+"/manthani/wind",{headers:{jwtToken:s,startTime:e,endTime:t,beginTime:a,enablePacket:Le(),clientPacketTime:f,isNext:De()}}).then((function(e){var t=e.data.direction,a=e.data.speed;e.data.rain,ne(Number(t).toFixed(0)),oe(Number(a).toFixed(1)),me(Number(e.data.rain).toFixed(1))})).catch((function(e){}))}(t,a,i),function(e,t,a){X.a.get(l+"/manthani/graph",{headers:{jwtToken:s,startTime:e,endTime:t,beginTime:a,enablePacket:Le(),clientPacketTime:f,isNext:De()}}).then((function(e){xe(e.data)})).catch((function(e){}))}(t,a,i)};Object(n.useEffect)((function(){(Pe=document.getElementById("timeSliderLabel2"))&&(Pe.innerText=(new Date).toLocaleString([],{hour:"2-digit",minute:"2-digit",hour12:!0}).toUpperCase()),at(d);var e=setInterval((function(){at(d)}),r);return function(){clearInterval(e)}}),[d]);var nt=Object(n.useState)("space-between"),it=Object(u.a)(nt,2),ct=(it[0],it[1]);return Object(n.useLayoutEffect)((function(){window.matchMedia("(min-width: 1280px)").matches?ct("space-between"):ct("flex-start")}),[]),Object(ce.jsxs)(i.a.Fragment,{children:[Object(ce.jsx)(C.a,{container:!0,justifyContent:"space-between",alignItems:"center",children:Object(ce.jsx)(rt,{sitestatusBar:a,status:O,timestamp:f,handleClickOpen:t,handleTimeReset:function(){Be(0);var e=new Date;Ge(e),b(e.getTime()),He(!0),Qe(!0)},setIsNextCount:Be,setOpenDateTimePicker:qe,getMinDateForPicker:function(){return new Date(16355088e5)},selectedDate:Re,getFormattedDateAndTimeString:function(e){var t=new Date(e);return Object(ce.jsxs)("span",{children:[String(t.getDate()).padStart(2,"0"),"/",String(t.getMonth()+1).padStart(2,"0"),"/",t.getFullYear(),Object(ce.jsx)("span",{children:"\u2003"}),t.toLocaleString([],{hour:"2-digit",minute:"2-digit",hour12:!0}).toUpperCase()]})},openDateTimePicker:Ye,handleDateChange:function(e){try{Qe(!1)}finally{Ge(e),qe(!1)}}})}),Object(ce.jsx)("div",{style:{marginTop:"2rem"}}),Object(ce.jsx)(Ae,{day_generation:k.day_generation,revenue:1e3*k.day_generation*5.59,peak_power:k.peak_power,ghi:k.ghi,gti:k.gti,plant_pr:k.plant_pr,grid_availability:k.grid_availability,plant_availability:k.plant_availability}),Object(ce.jsxs)(C.a,{container:!0,spacing:6,style:{marginTop:"1rem"},children:[Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(_e,{totalExport:D,maxValue:15})}),Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(se,{ambientTemp:z,moduleTemp:W,humidity:$})}),Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(Ke,{windDirection:ae,windSpeed:le,rain:be})})]}),Object(ce.jsxs)(S.a,{elevation:6,style:{marginTop:"2.5rem",height:"500px",width:"100%"},children:[Object(ce.jsx)(V.a,{variant:"h6",color:"textSecondary",style:{marginLeft:"1.5rem",marginTop:"1rem",marginBottom:"1.5rem"},children:"Irradiance / Generation"}),Object(ce.jsx)(ue,{data:ge,interval:12,leftAxisY:[0,1e3],rightAxisY:[0,15]})]}),Object(ce.jsx)(C.a,{container:!0,style:{marginTop:"3rem"},children:Object(ce.jsxs)(C.a,{item:!0,xs:12,children:[Object(ce.jsxs)(C.a,{container:!0,spacing:2,alignItems:"center",style:{marginBottom:".5rem"},children:[Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(V.a,{variant:"h6",color:"textSecondary",children:"Inverter Values"})}),Object(ce.jsx)(C.a,{item:!0,className:c.grow}),Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsxs)(V.a,{style:{marginLeft:".25rem"},children:["Selected Block:"," "]})}),Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(v.a,{className:c.formControl,children:Object(ce.jsxs)(Z.a,{defaultValue:1,value:fe,onChange:function(e){ve((function(t){return Number(e.target.value)}))},children:[Object(ce.jsx)(B.a,{value:1,children:"B01"}),Object(ce.jsx)(B.a,{value:2,children:"B02"})]})})})]}),Object(ce.jsx)(_d,{values:Te,block:fe})]})}),Object(ce.jsx)(J.a,{open:Ee,anchorOrigin:{vertical:"bottom",horizontal:"left"},autoHideDuration:4e3,onClose:et,children:Object(ce.jsx)(zd,{onClose:et,severity:"success",children:"Time is reset!"})}),Object(ce.jsx)("div",{style:{marginBottom:"2rem"}})]})}var Gd=Object(Oe.a)((function(e){return{head:{backgroundColor:"#ffffbf",color:e.palette.common.black,fontSize:16},body:{fontSize:16}}}))(Se.a),Wd=Object(Oe.a)((function(e){return{root:{"&:nth-of-type(odd)":{backgroundColor:e.palette.action.hover}}}}))(ve.a),Xd=Object(D.a)({tableContainer:{maxHeight:"80vh"}}),Yd=function(e){var t=e.value,a=e.block,n=null;return Object(ce.jsxs)(Wd,{children:[Object(ce.jsx)(Gd,{component:"th",scope:"row",style:{paddingTop:".6rem",paddingBottom:".6rem",backgroundColor:n},children:Object(ce.jsx)("strong",{style:{paddingLeft:"2.5rem"},children:t.heading})}),Object(ce.jsx)(Gd,{align:"center",style:{backgroundColor:n},children:Object(ce.jsx)("span",{children:isNaN(Number(t.inv1))?"-":-111===Number(t.inv1)?"X":Number(t.inv1).toFixed(2)})}),Object(ce.jsx)(Gd,{align:"center",style:{backgroundColor:n},children:Object(ce.jsx)("span",{children:isNaN(Number(t.inv2))?"-":-111===Number(t.inv2)?"X":Number(t.inv2).toFixed(2)})}),"mcr"!==a&&Object(ce.jsx)(Gd,{align:"center",style:{backgroundColor:n},children:Object(ce.jsx)("span",{children:isNaN(Number(t.inv3))?"-":-111===Number(t.inv3)?"X":Number(t.inv3).toFixed(2)})}),"mcr"!==a&&Object(ce.jsx)(Gd,{align:"center",style:{backgroundColor:n},children:Object(ce.jsx)("span",{children:isNaN(Number(t.inv4))?"-":-111===Number(t.inv4)?"X":Number(t.inv4).toFixed(2)})})]})},qd=function(e){var t=e.value,a=e.block;return Object(ce.jsxs)(Wd,{children:[Object(ce.jsx)(Gd,{component:"th",scope:"row",style:{paddingTop:".6rem",paddingBottom:".6rem"},children:Object(ce.jsx)("strong",{style:{paddingLeft:"1rem"},children:t.heading})}),Object(ce.jsx)(Gd,{align:"center",children:isNaN(Number(t.inv1))?"-":-111===Number(t.inv1)?"X":Number(t.inv1).toFixed(2)}),Object(ce.jsx)(Gd,{align:"center",children:isNaN(Number(t.inv2))?"-":-111===Number(t.inv2)?"X":Number(t.inv2).toFixed(2)}),"mcr"!==a&&Object(ce.jsx)(Gd,{align:"center",children:isNaN(Number(t.inv3))?"-":-111===Number(t.inv3)?"X":Number(t.inv3).toFixed(2)}),"mcr"!==a&&Object(ce.jsx)(Gd,{align:"center",children:isNaN(Number(t.inv4))?"-":-111===Number(t.inv4)?"X":Number(t.inv4).toFixed(2)})]})};function Ud(e){var t=e.values,a=e.block,c=Xd(),r=Object(n.useState)([]),s=Object(u.a)(r,2),l=s[0],o=s[1],j=i.a.useState(!1),d=Object(u.a)(j,2),b=d[0],m=d[1],h=i.a.useState(!1),O=Object(u.a)(h,2),g=O[0],x=O[1],S=function(e){var t=e.title,a=e.tag,n=e.openRows;return Object(ce.jsx)(Wd,{children:Object(ce.jsxs)(Gd,{component:"th",scope:"row",colSpan:6,style:{backgroundColor:"#EBF5FB"},children:[Object(ce.jsx)("strong",{style:{paddingLeft:"1rem",paddingRight:".5rem",color:"#000"},children:t}),Object(ce.jsx)(y.a,{"aria-label":"expand row",size:"small",onClick:function(){return function(e){"S"===e?m((function(e){return!e})):x((function(e){return!e}))}(a)},style:{color:"#000"},children:n?Object(ce.jsx)(Ie.a,{}):Object(ce.jsx)(ye.a,{})})]})})};return Object(n.useEffect)((function(){for(var e=[],n=[],i=[],c=null,r=null,s=0;s<t.length;s++)t[s].heading.match(/S[1-4] [^/]/i)?(c||(c=s,i.push(Object(ce.jsx)(S,{title:"Inverter Slots",tag:"S",openRows:b,block:a},s))),s,e.push(Object(ce.jsx)(Yd,{value:t[s],block:a},t[s].heading))):t[s].heading.match(/[S]3[0-4]|2[0-9]|1[0-9]|[1-9] [/] S[1-4]CB/i)?(r||(r=s,i.push(Object(ce.jsx)(S,{title:"Inverter Strings",tag:"PV",openRows:g,block:a},s))),s,n.push(Object(ce.jsx)(Yd,{value:t[s],block:a},t[s].heading))):i.push(Object(ce.jsx)(qd,{value:t[s],block:a},s));var l,j=[].concat(i);if(b&&g)(l=j).splice.apply(l,[c+1,0].concat(e)),j=[].concat(Object(me.a)(j),[n]);else if(b&&!g){var d;(d=j).splice.apply(d,[c+1,0].concat(e))}else j=!b&&g?[].concat(Object(me.a)(j),[n]):[].concat(i);o(j)}),[t,b,g]),Object(ce.jsx)(pe.a,{component:he.a,elevation:6,className:c.tableContainer,children:Object(ce.jsxs)(ge.a,{stickyHeader:!0,"aria-label":"customized table",size:"small",children:[Object(ce.jsx)(fe.a,{children:Object(ce.jsxs)(ve.a,{children:[Object(ce.jsx)(Gd,{style:{paddingTop:".7rem",paddingLeft:"1.75rem",paddingBottom:".7rem"},children:Object(ce.jsx)("strong",{children:"Parameters"})}),Object(ce.jsx)(Gd,{align:"center",children:Object(ce.jsx)("strong",{children:"Inv 1"})}),Object(ce.jsx)(Gd,{align:"center",children:Object(ce.jsx)("strong",{children:"Inv 2"})}),"mcr"!==a&&Object(ce.jsx)(Gd,{align:"center",children:Object(ce.jsx)("strong",{children:"Inv 3"})}),"mcr"!==a&&Object(ce.jsx)(Gd,{align:"center",children:Object(ce.jsx)("strong",{children:"Inv 4"})})]})}),Object(ce.jsx)(xe.a,{children:l})]})})}function Kd(e){return Object(ce.jsx)($.a,Object(h.a)({elevation:6,variant:"filled"},e))}var Zd=Object(D.a)((function(e){return{grow:{flexGrow:1},gaugeChartStyle:{marginTop:e.spacing(12)},formControl:{minWidth:120},modalCardStyle:{width:340,height:"fit-content"},gridBreakpoint:Object(m.a)({},e.breakpoints.up("md"),{})}}));function Jd(e){e.handleSessionExpire;var t=e.handleClickOpen,a=e.sitestatusBar,c=Zd(),r=$e().intervalTime,s=(localStorage.getItem("username","Admin"),localStorage.getItem("userToken")),l=(localStorage.getItem("userId"),K),o=Object(n.useState)((new Date).getTime()),j=Object(u.a)(o,2),d=j[0],b=j[1],m=Object(n.useState)(0),h=Object(u.a)(m,2),O=h[0],g=h[1],x=Object(n.useState)(void 0),p=Object(u.a)(x,2),f=p[0],y=p[1],T=Object(n.useState)({}),I=Object(u.a)(T,2),k=I[0],w=I[1],N=Object(n.useState)(0),L=Object(u.a)(N,2),D=L[0],P=L[1],F=Object(n.useState)(0),A=Object(u.a)(F,2),E=(A[0],A[1]),H=Object(n.useState)(0),_=Object(u.a)(H,2),z=_[0],M=_[1],R=Object(n.useState)(0),G=Object(u.a)(R,2),W=G[0],Y=G[1],q=Object(n.useState)(0),U=Object(u.a)(q,2),$=U[0],Q=U[1],ee=Object(n.useState)(0),te=Object(u.a)(ee,2),ae=te[0],ne=te[1],ie=Object(n.useState)(0),re=Object(u.a)(ie,2),le=re[0],oe=re[1],je=Object(n.useState)(0),de=Object(u.a)(je,2),be=de[0],me=de[1],he=Object(n.useState)([{time:"00:00",gti:"0.00",ghi:"0.00",pg:"0.00"}]),Oe=Object(u.a)(he,2),ge=Oe[0],xe=Oe[1],Se=i.a.useState(1),pe=Object(u.a)(Se,2),fe=pe[0],ve=pe[1],Ce=Object(n.useState)([]),ye=Object(u.a)(Ce,2),Te=ye[0],Ie=ye[1],ke=Object(n.useState)(0),we=Object(u.a)(ke,2),Ne=we[0],Be=we[1];Object(n.useEffect)((function(){0!==Ne&&at(d)}),[Ne]);var Le=function(){return 0!==Ne?"1":"0"},De=function(){return Ne>0?"1":"0"},Pe=null,Fe=Object(n.useState)(!1),Ve=Object(u.a)(Fe,2),Ee=Ve[0],He=Ve[1],ze=Object(n.useState)(new Date),Me=Object(u.a)(ze,2),Re=Me[0],Ge=Me[1],We=Object(n.useState)(!1),Xe=Object(u.a)(We,2),Ye=Xe[0],qe=Xe[1],Ue=Object(n.useState)(!0),Ze=Object(u.a)(Ue,2),Je=Ze[0],Qe=Ze[1],et=function(){He(!1)};Object(n.useEffect)((function(){b(Re.getTime())}),[Re]);var tt=function(e,t,a,n){e||(localStorage.setItem("siteInverterTableBlock",1),e=localStorage.getItem("siteInverterTableBlock"));var i=l;i+="mcr"===e?"/bankam/grid/mcr":"/bankam/grid/B"+String(e).padStart(2,0),X.a.get(i,{headers:{jwtToken:s,startTime:t,endTime:a,beginTime:n,enablePacket:Le(),clientPacketTime:f,isNext:De()}}).then((function(e){!function(e){for(var t=[],a=Object.entries(e),n=["L1 I","L2 I","L3 I","L1 V","L2 V","L3 V","Frequency","DC I","DC V","Active Power","DC Power","Reactive Power","PF","Cab Temp","IGBT Temp","DC Energy","S1 L1 I","S1 L2 I","S1 L3 I","S1 L1 V","S1 L2 V","S1 L3 V","S1 DC I","S1 DC V","S1 Active Power","S1 DC Power","S1 PF","S1 IGBT Temp","S2 L1 I","S2 L2 I","S2 L3 I","S2 L1 V","S2 L2 V","S2 L3 V","S2 DC I","S2 DC V","S2 Active Power","S2 DC Power","S2 PF","S2 IGBT Temp","S3 L1 I","S3 L2 I","S3 L3 I","S3 L1 V","S3 L2 V","S3 L3 V","S3 DC I","S3 DC V","S3 Active Power","S3 DC Power","S3 PF","S3 IGBT Temp","S4 L1 I","S4 L2 I","S4 L3 I","S4 L1 V","S4 L2 V","S4 L3 V","S4 DC I","S4 DC V","S4 Active Power","S4 DC Power","S4 PF","S4 IGBT Temp","S1 + S2 Peak Active Power","S3 + S4 Peak Active Power","S1 / S1CB1 I","S2 / S1CB2 I","S3 / S1CB3 I","S4 / S1CB4 I","S5 / S1CB5 I","S6 / S1CB6 I","S7 / S1CB7 I","S8 / S1CB8 I","S9 / S2CB1 I","S10 / S2CB2 I","S11 / S2CB3 I","S12 / S2CB4 I","S13 / S2CB5 I","S14 / S2CB6 I","S15 / S2CB7 I","S16 / S2CB8 I","S17 / S3CB1 I","S18 / S3CB2 I","S19 / S3CB3 I","S20 / S3CB4 I","S21 / S3CB5 I","S22 / S3CB6 I","S23 / S3CB7 I","S24 / S3CB8 I","S25 / S4CB1 I","S26 / S4CB2 I","S27 / S4CB3 I","S28 / S4CB4 I","S29 / S4CB5 I","S30 / S4CB6 I","S31 / S4CB7 I","S32 / S4CB8 I"],i=0;i<n.length;i++){var c=NaN,r=NaN,s=NaN,l=NaN,o=NaN,j=NaN;try{a[i][1]&&(c=a[i][1]),a[n.length+i][1]&&(r=a[n.length+i][1]),a[2*n.length+i][1]&&(s=a[2*n.length+i][1]),a[3*n.length+i][1]&&(l=a[3*n.length+i][1]),a[4*n.length+i][1]&&(o=a[4*n.length+i][1]),a[5*n.length+i][1]&&(j=a[5*n.length+i][1])}catch(d){}t.push({heading:n[i],inv1:c,inv2:r,inv3:s,inv4:l,inv5:o,inv6:j})}Ie([].concat(t))}(e.data)})).catch((function(e){}))},at=function(e){var t=1623696973e3,a=e;a=Je?Date.now():e;var n=new Date(a);n.setHours(5,0,0,0);var i=n.getTime();!function(e,t,a){X.a.get(l+"/bankam/site",{headers:{jwtToken:s,startTime:e,endTime:t,beginTime:a,enablePacket:Le(),clientPacketTime:f,isNext:De()}}).then((function(e){g(e.data.status),y(1e3*e.data.time)})).catch((function(e){}))}(t,a,i),function(e,t,a){X.a.get(l+"/bankam/boxes",{headers:{jwtToken:s,startTime:e,endTime:t,beginTime:a,enablePacket:Le(),clientPacketTime:f,isNext:De()}}).then((function(e){w(e.data)})).catch((function(e){}))}(t,a,i),function(e,t,a){X.a.get(l+"/bankam/gauge",{headers:{jwtToken:s,startTime:e,endTime:t,beginTime:a,enablePacket:Le(),clientPacketTime:f,isNext:De()}}).then((function(e){var t=e.data.value;P(Number(t).toFixed(2)),E(Number(t).toFixed(1)/50)})).catch((function(e){}))}(t,a,i),function(e,t,a){X.a.get(l+"/bankam/temperature",{headers:{jwtToken:s,startTime:e,endTime:t,beginTime:a,enablePacket:Le(),clientPacketTime:f,isNext:De()}}).then((function(e){var t=e.data.ambientTemp,a=e.data.moduleTemp,n=e.data.humidity;M(Number(t).toFixed(1)),Y(Number(a).toFixed(1)),Q(Number(n).toFixed(1))})).catch((function(e){}))}(t,a,i),function(e,t,a){X.a.get(l+"/bankam/wind",{headers:{jwtToken:s,startTime:e,endTime:t,beginTime:a,enablePacket:Le(),clientPacketTime:f,isNext:De()}}).then((function(e){var t=e.data.direction,a=e.data.speed;e.data.rain,ne(Number(t).toFixed(0)),oe(Number(a).toFixed(1)),me(Number(e.data.rain).toFixed(1))})).catch((function(e){}))}(t,a,i),function(e,t,a){X.a.get(l+"/bankam/graph",{headers:{jwtToken:s,startTime:e,endTime:t,beginTime:a,enablePacket:Le(),clientPacketTime:f,isNext:De()}}).then((function(e){xe(e.data)})).catch((function(e){}))}(t,a,i),tt(localStorage.getItem("siteInverterTableBlock"),t,a,i)};Object(n.useEffect)((function(){(Pe=document.getElementById("timeSliderLabel2"))&&(Pe.innerText=(new Date).toLocaleString([],{hour:"2-digit",minute:"2-digit",hour12:!0}).toUpperCase()),at(d);var e=setInterval((function(){at(d)}),r);return function(){clearInterval(e),localStorage.setItem("siteInverterTableBlock",1)}}),[d]);var nt=Object(n.useState)("space-between"),it=Object(u.a)(nt,2),ct=(it[0],it[1]);return Object(n.useLayoutEffect)((function(){window.matchMedia("(min-width: 1280px)").matches?ct("space-between"):ct("flex-start")}),[]),Object(ce.jsxs)(i.a.Fragment,{children:[Object(ce.jsx)(C.a,{container:!0,justifyContent:"space-between",alignItems:"center",children:Object(ce.jsx)(rt,{sitestatusBar:a,status:O,timestamp:f,handleClickOpen:t,handleTimeReset:function(){Be(0);var e=new Date;Ge(e),b(e.getTime()),He(!0),Qe(!0)},setIsNextCount:Be,setOpenDateTimePicker:qe,getMinDateForPicker:function(){return new Date(16355952e5)},selectedDate:Re,getFormattedDateAndTimeString:function(e){var t=new Date(e);return Object(ce.jsxs)("span",{children:[String(t.getDate()).padStart(2,"0"),"/",String(t.getMonth()+1).padStart(2,"0"),"/",t.getFullYear(),Object(ce.jsx)("span",{children:"\u2003"}),t.toLocaleString([],{hour:"2-digit",minute:"2-digit",hour12:!0}).toUpperCase()]})},openDateTimePicker:Ye,handleDateChange:function(e){try{Qe(!1)}finally{Ge(e),qe(!1)}}})}),Object(ce.jsx)("div",{style:{marginTop:"2rem"}}),Object(ce.jsx)(Ae,{day_generation:k.day_generation,revenue:1e3*k.day_generation*5.59,peak_power:k.peak_power,ghi:k.ghi,gti:k.gti,plant_pr:k.plant_pr,grid_availability:k.grid_availability,plant_availability:k.plant_availability}),Object(ce.jsxs)(C.a,{container:!0,spacing:6,style:{marginTop:"1rem"},children:[Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(_e,{totalExport:D,maxValue:10})}),Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(se,{ambientTemp:z,moduleTemp:W,humidity:$})}),Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(Ke,{windDirection:ae,windSpeed:le,rain:be})})]}),Object(ce.jsxs)(S.a,{elevation:6,style:{marginTop:"2.5rem",height:"500px",width:"100%"},children:[Object(ce.jsx)(V.a,{variant:"h6",color:"textSecondary",style:{marginLeft:"1.5rem",marginTop:"1rem",marginBottom:"1.5rem"},children:"Irradiance / Generation"}),Object(ce.jsx)(ue,{data:ge,interval:12,leftAxisY:[0,1e3],rightAxisY:[0,10]})]}),Object(ce.jsx)(C.a,{container:!0,style:{marginTop:"3rem"},children:Object(ce.jsxs)(C.a,{item:!0,xs:12,children:[Object(ce.jsxs)(C.a,{container:!0,spacing:2,alignItems:"center",style:{marginBottom:".5rem"},children:[Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(V.a,{variant:"h6",color:"textSecondary",children:"Inverter Values"})}),Object(ce.jsx)(C.a,{item:!0,className:c.grow}),Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsxs)(V.a,{style:{marginLeft:".25rem"},children:["Selected Block:"," "]})}),Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(v.a,{className:c.formControl,children:Object(ce.jsxs)(Z.a,{value:fe,onChange:function(e){ve(e.target.value),localStorage.setItem("siteInverterTableBlock",e.target.value);var t=new Date;t.setDate((new Date).getDate()-1),t.setHours(23,50,0,0);var a=new Date(d);a.setHours(5,0,0,0);var n=a.getTime();tt(e.target.value,t.getTime(),d,n)},children:[Object(ce.jsx)(B.a,{value:1,children:"B01"}),Object(ce.jsx)(B.a,{value:2,children:"B02"}),Object(ce.jsx)(B.a,{value:"mcr",children:"MCR"})]})})})]}),Object(ce.jsx)(Ud,{values:Te,block:fe})]})}),Object(ce.jsx)(J.a,{open:Ee,anchorOrigin:{vertical:"bottom",horizontal:"left"},autoHideDuration:4e3,onClose:et,children:Object(ce.jsx)(Kd,{onClose:et,severity:"success",children:"Time is reset!"})}),Object(ce.jsx)("div",{style:{marginBottom:"2rem"}})]})}var $d=Object(Oe.a)((function(e){return{head:{backgroundColor:"#ffffbf",color:e.palette.common.black,fontSize:16},body:{fontSize:16}}}))(Se.a),Qd=Object(Oe.a)((function(e){return{root:{"&:nth-of-type(odd)":{backgroundColor:e.palette.action.hover}}}}))(ve.a),eb=Object(D.a)({tableContainer:{maxHeight:"80vh"}}),tb=function(e){var t=e.value,a=e.block,n=null;return Object(ce.jsxs)(Qd,{children:[Object(ce.jsx)($d,{component:"th",scope:"row",style:{paddingTop:".6rem",paddingBottom:".6rem",backgroundColor:n},children:Object(ce.jsx)("strong",{style:{paddingLeft:"2.5rem"},children:t.heading})}),Object(ce.jsx)($d,{align:"center",style:{backgroundColor:n},children:Object(ce.jsx)("span",{children:isNaN(Number(t.inv1))?"-":-111===Number(t.inv1)?"X":Number(t.inv1).toFixed(2)})}),Object(ce.jsx)($d,{align:"center",style:{backgroundColor:n},children:Object(ce.jsx)("span",{children:isNaN(Number(t.inv2))?"-":-111===Number(t.inv2)?"X":Number(t.inv2).toFixed(2)})}),5!==a&&Object(ce.jsx)($d,{align:"center",style:{backgroundColor:n},children:Object(ce.jsx)("span",{children:isNaN(Number(t.inv3))?"-":-111===Number(t.inv3)?"X":Number(t.inv3).toFixed(2)})}),5!==a&&Object(ce.jsx)($d,{align:"center",style:{backgroundColor:n},children:Object(ce.jsx)("span",{children:isNaN(Number(t.inv4))?"-":-111===Number(t.inv4)?"X":Number(t.inv4).toFixed(2)})})]})},ab=function(e){var t=e.value,a=e.block;return Object(ce.jsxs)(Qd,{children:[Object(ce.jsx)($d,{component:"th",scope:"row",style:{paddingTop:".6rem",paddingBottom:".6rem"},children:Object(ce.jsx)("strong",{style:{paddingLeft:"1rem"},children:t.heading})}),Object(ce.jsx)($d,{align:"center",children:isNaN(Number(t.inv1))?"-":-111===Number(t.inv1)?"X":Number(t.inv1).toFixed(2)}),Object(ce.jsx)($d,{align:"center",children:isNaN(Number(t.inv2))?"-":-111===Number(t.inv2)?"X":Number(t.inv2).toFixed(2)}),5!==a&&Object(ce.jsx)($d,{align:"center",children:isNaN(Number(t.inv3))?"-":-111===Number(t.inv3)?"X":Number(t.inv3).toFixed(2)}),5!==a&&Object(ce.jsx)($d,{align:"center",children:isNaN(Number(t.inv4))?"-":-111===Number(t.inv4)?"X":Number(t.inv4).toFixed(2)})]})};function nb(e){var t=e.values,a=e.block,c=eb(),r=Object(n.useState)([]),s=Object(u.a)(r,2),l=s[0],o=s[1],j=i.a.useState(!1),d=Object(u.a)(j,2),b=d[0],m=d[1],h=i.a.useState(!1),O=Object(u.a)(h,2),g=O[0],x=O[1],S=function(e){var t=e.title,a=e.tag,n=e.openRows;return Object(ce.jsx)(Qd,{children:Object(ce.jsxs)($d,{component:"th",scope:"row",colSpan:6,style:{backgroundColor:"#EBF5FB"},children:[Object(ce.jsx)("strong",{style:{paddingLeft:"1rem",paddingRight:".5rem",color:"#000"},children:t}),Object(ce.jsx)(y.a,{"aria-label":"expand row",size:"small",onClick:function(){return function(e){"S"===e?m((function(e){return!e})):x((function(e){return!e}))}(a)},style:{color:"#000"},children:n?Object(ce.jsx)(Ie.a,{}):Object(ce.jsx)(ye.a,{})})]})})};return Object(n.useEffect)((function(){for(var e=[],n=[],i=[],c=null,r=null,s=0;s<t.length;s++)t[s].heading.match(/S[1-4] [^/]/i)?(c||(c=s,i.push(Object(ce.jsx)(S,{title:"Inverter Slots",tag:"S",openRows:b,block:a},s))),s,e.push(Object(ce.jsx)(tb,{value:t[s],block:a},t[s].heading))):t[s].heading.match(/[S]3[0-4]|2[0-9]|1[0-9]|[1-9] [/] S[1-4]CB/i)?(r||(r=s,i.push(Object(ce.jsx)(S,{title:"Inverter Strings",tag:"PV",openRows:g,block:a},s))),s,n.push(Object(ce.jsx)(tb,{value:t[s],block:a},t[s].heading))):i.push(Object(ce.jsx)(ab,{value:t[s],block:a},s));var l,j=[].concat(i);if(b&&g)(l=j).splice.apply(l,[c+1,0].concat(e)),j=[].concat(Object(me.a)(j),[n]);else if(b&&!g){var d;(d=j).splice.apply(d,[c+1,0].concat(e))}else j=!b&&g?[].concat(Object(me.a)(j),[n]):[].concat(i);o(j)}),[t,b,g]),Object(ce.jsx)(pe.a,{component:he.a,elevation:6,className:c.tableContainer,children:Object(ce.jsxs)(ge.a,{stickyHeader:!0,"aria-label":"customized table",size:"small",children:[Object(ce.jsx)(fe.a,{children:Object(ce.jsxs)(ve.a,{children:[Object(ce.jsx)($d,{style:{paddingTop:".7rem",paddingLeft:"1.75rem",paddingBottom:".7rem"},children:Object(ce.jsx)("strong",{children:"Parameters"})}),Object(ce.jsx)($d,{align:"center",children:Object(ce.jsx)("strong",{children:"Inv 1"})}),Object(ce.jsx)($d,{align:"center",children:Object(ce.jsx)("strong",{children:"Inv 2"})}),5!==a&&Object(ce.jsx)($d,{align:"center",children:Object(ce.jsx)("strong",{children:"Inv 3"})}),5!==a&&Object(ce.jsx)($d,{align:"center",children:Object(ce.jsx)("strong",{children:"Inv 4"})})]})}),Object(ce.jsx)(xe.a,{children:l})]})})}function ib(e){return Object(ce.jsx)($.a,Object(h.a)({elevation:6,variant:"filled"},e))}var cb=Object(D.a)((function(e){return{grow:{flexGrow:1},gaugeChartStyle:{marginTop:e.spacing(12)},formControl:{minWidth:120},modalCardStyle:{width:340,height:"fit-content"},gridBreakpoint:Object(m.a)({},e.breakpoints.up("md"),{})}}));function rb(e){e.handleSessionExpire;var t=e.handleClickOpen,a=e.sitestatusBar,c=cb(),r=$e().intervalTime,s=(localStorage.getItem("username","Admin"),localStorage.getItem("userToken")),l=(localStorage.getItem("userId"),K),o=Object(n.useState)((new Date).getTime()),j=Object(u.a)(o,2),d=j[0],b=j[1],m=Object(n.useState)(0),h=Object(u.a)(m,2),O=h[0],g=h[1],x=Object(n.useState)(void 0),p=Object(u.a)(x,2),f=p[0],y=p[1],T=Object(n.useState)({}),I=Object(u.a)(T,2),k=I[0],w=I[1],N=Object(n.useState)(0),L=Object(u.a)(N,2),D=L[0],P=L[1],F=Object(n.useState)(0),A=Object(u.a)(F,2),E=(A[0],A[1]),H=Object(n.useState)(0),_=Object(u.a)(H,2),z=_[0],M=_[1],R=Object(n.useState)(0),G=Object(u.a)(R,2),W=G[0],Y=G[1],q=Object(n.useState)(0),U=Object(u.a)(q,2),$=U[0],Q=U[1],ee=Object(n.useState)(0),te=Object(u.a)(ee,2),ae=te[0],ne=te[1],ie=Object(n.useState)(0),re=Object(u.a)(ie,2),le=re[0],oe=re[1],je=Object(n.useState)(0),de=Object(u.a)(je,2),be=de[0],me=de[1],he=Object(n.useState)([{time:"00:00",gti:"0.00",ghi:"0.00",pg:"0.00"}]),Oe=Object(u.a)(he,2),ge=Oe[0],xe=Oe[1],Se=i.a.useState(3),pe=Object(u.a)(Se,2),fe=pe[0],ve=pe[1],Ce=Object(n.useState)([]),ye=Object(u.a)(Ce,2),Te=ye[0],Ie=ye[1],ke=Object(n.useState)(0),we=Object(u.a)(ke,2),Ne=we[0],Be=we[1];Object(n.useEffect)((function(){0!==Ne&&at(d)}),[Ne]);var Le=function(){return 0!==Ne?"1":"0"},De=function(){return Ne>0?"1":"0"},Pe=null,Fe=Object(n.useState)(!1),Ve=Object(u.a)(Fe,2),Ee=Ve[0],He=Ve[1],ze=Object(n.useState)(new Date),Me=Object(u.a)(ze,2),Re=Me[0],Ge=Me[1],We=Object(n.useState)(!1),Xe=Object(u.a)(We,2),Ye=Xe[0],qe=Xe[1],Ue=Object(n.useState)(!0),Ze=Object(u.a)(Ue,2),Je=Ze[0],Qe=Ze[1],et=function(){He(!1)};Object(n.useEffect)((function(){b(Re.getTime())}),[Re]);var tt=function(e,t,a,n){e||(localStorage.setItem("siteInverterTableBlock",1),e=localStorage.getItem("siteInverterTableBlock"));var i=l;i+="mcr"===e?"/bankan/grid/mcr":"/bankan/grid/B"+String(e).padStart(2,0),X.a.get(i,{headers:{jwtToken:s,startTime:t,endTime:a,beginTime:n,enablePacket:Le(),clientPacketTime:f,isNext:De()}}).then((function(e){!function(e){for(var t=[],a=Object.entries(e),n=["L1 I","L2 I","L3 I","L1 V","L2 V","L3 V","Frequency","DC I","DC V","Active Power","DC Power","Reactive Power","PF","Cab Temp","IGBT Temp","DC Energy","S1 L1 I","S1 L2 I","S1 L3 I","S1 L1 V","S1 L2 V","S1 L3 V","S1 DC I","S1 DC V","S1 Active Power","S1 DC Power","S1 PF","S1 IGBT Temp","S2 L1 I","S2 L2 I","S2 L3 I","S2 L1 V","S2 L2 V","S2 L3 V","S2 DC I","S2 DC V","S2 Active Power","S2 DC Power","S2 PF","S2 IGBT Temp","S3 L1 I","S3 L2 I","S3 L3 I","S3 L1 V","S3 L2 V","S3 L3 V","S3 DC I","S3 DC V","S3 Active Power","S3 DC Power","S3 PF","S3 IGBT Temp","S4 L1 I","S4 L2 I","S4 L3 I","S4 L1 V","S4 L2 V","S4 L3 V","S4 DC I","S4 DC V","S4 Active Power","S4 DC Power","S4 PF","S4 IGBT Temp","S1 + S2 Peak Active Power","S3 + S4 Peak Active Power","S1 / S1CB1 I","S2 / S1CB2 I","S3 / S1CB3 I","S4 / S1CB4 I","S5 / S1CB5 I","S6 / S1CB6 I","S7 / S1CB7 I","S8 / S1CB8 I","S9 / S2CB1 I","S10 / S2CB2 I","S11 / S2CB3 I","S12 / S2CB4 I","S13 / S2CB5 I","S14 / S2CB6 I","S15 / S2CB7 I","S16 / S2CB8 I","S17 / S3CB1 I","S18 / S3CB2 I","S19 / S3CB3 I","S20 / S3CB4 I","S21 / S3CB5 I","S22 / S3CB6 I","S23 / S3CB7 I","S24 / S3CB8 I","S25 / S4CB1 I","S26 / S4CB2 I","S27 / S4CB3 I","S28 / S4CB4 I","S29 / S4CB5 I","S30 / S4CB6 I","S31 / S4CB7 I","S32 / S4CB8 I"],i=0;i<n.length;i++){var c=NaN,r=NaN,s=NaN,l=NaN,o=NaN,j=NaN;try{a[i][1]&&(c=a[i][1]),a[n.length+i][1]&&(r=a[n.length+i][1]),a[2*n.length+i][1]&&(s=a[2*n.length+i][1]),a[3*n.length+i][1]&&(l=a[3*n.length+i][1]),a[4*n.length+i][1]&&(o=a[4*n.length+i][1]),a[5*n.length+i][1]&&(j=a[5*n.length+i][1])}catch(d){}t.push({heading:n[i],inv1:c,inv2:r,inv3:s,inv4:l,inv5:o,inv6:j})}Ie([].concat(t))}(e.data)})).catch((function(e){}))},at=function(e){var t=1623696973e3,a=e;a=Je?Date.now():e;var n=new Date(a);n.setHours(5,0,0,0);var i=n.getTime();!function(e,t,a){X.a.get(l+"/bankan/site",{headers:{jwtToken:s,startTime:e,endTime:t,beginTime:a,enablePacket:Le(),clientPacketTime:f,isNext:De()}}).then((function(e){g(e.data.status),y(1e3*e.data.time)})).catch((function(e){}))}(t,a,i),function(e,t,a){X.a.get(l+"/bankan/boxes",{headers:{jwtToken:s,startTime:e,endTime:t,beginTime:a,enablePacket:Le(),clientPacketTime:f,isNext:De()}}).then((function(e){w(e.data)})).catch((function(e){}))}(t,a,i),function(e,t,a){X.a.get(l+"/bankan/gauge",{headers:{jwtToken:s,startTime:e,endTime:t,beginTime:a,enablePacket:Le(),clientPacketTime:f,isNext:De()}}).then((function(e){var t=e.data.value;P(Number(t).toFixed(2)),E(Number(t).toFixed(1)/50)})).catch((function(e){}))}(t,a,i),function(e,t,a){X.a.get(l+"/bankan/temperature",{headers:{jwtToken:s,startTime:e,endTime:t,beginTime:a,enablePacket:Le(),clientPacketTime:f,isNext:De()}}).then((function(e){var t=e.data.ambientTemp,a=e.data.moduleTemp,n=e.data.humidity;M(Number(t).toFixed(1)),Y(Number(a).toFixed(1)),Q(Number(n).toFixed(1))})).catch((function(e){}))}(t,a,i),function(e,t,a){X.a.get(l+"/bankan/wind",{headers:{jwtToken:s,startTime:e,endTime:t,beginTime:a,enablePacket:Le(),clientPacketTime:f,isNext:De()}}).then((function(e){var t=e.data.direction,a=e.data.speed;e.data.rain,ne(Number(t).toFixed(0)),oe(Number(a).toFixed(1)),me(Number(e.data.rain).toFixed(1))})).catch((function(e){}))}(t,a,i),function(e,t,a){X.a.get(l+"/bankan/graph",{headers:{jwtToken:s,startTime:e,endTime:t,beginTime:a,enablePacket:Le(),clientPacketTime:f,isNext:De()}}).then((function(e){xe(e.data)})).catch((function(e){}))}(t,a,i),tt(localStorage.getItem("siteInverterTableBlock"),t,a,i)};Object(n.useEffect)((function(){(Pe=document.getElementById("timeSliderLabel2"))&&(Pe.innerText=(new Date).toLocaleString([],{hour:"2-digit",minute:"2-digit",hour12:!0}).toUpperCase()),at(d);var e=setInterval((function(){at(d)}),r);return function(){clearInterval(e),localStorage.setItem("siteInverterTableBlock",1)}}),[d]);var nt=Object(n.useState)("space-between"),it=Object(u.a)(nt,2),ct=(it[0],it[1]);return Object(n.useLayoutEffect)((function(){window.matchMedia("(min-width: 1280px)").matches?ct("space-between"):ct("flex-start")}),[]),Object(ce.jsxs)(i.a.Fragment,{children:[Object(ce.jsx)(C.a,{container:!0,justifyContent:"space-between",alignItems:"center",children:Object(ce.jsx)(rt,{sitestatusBar:a,status:O,timestamp:f,handleClickOpen:t,handleTimeReset:function(){Be(0);var e=new Date;Ge(e),b(e.getTime()),He(!0),Qe(!0)},setIsNextCount:Be,setOpenDateTimePicker:qe,getMinDateForPicker:function(){return new Date(16355952e5)},selectedDate:Re,getFormattedDateAndTimeString:function(e){var t=new Date(e);return Object(ce.jsxs)("span",{children:[String(t.getDate()).padStart(2,"0"),"/",String(t.getMonth()+1).padStart(2,"0"),"/",t.getFullYear(),Object(ce.jsx)("span",{children:"\u2003"}),t.toLocaleString([],{hour:"2-digit",minute:"2-digit",hour12:!0}).toUpperCase()]})},openDateTimePicker:Ye,handleDateChange:function(e){try{Qe(!1)}finally{Ge(e),qe(!1)}}})}),Object(ce.jsx)("div",{style:{marginTop:"2rem"}}),Object(ce.jsx)(Ae,{day_generation:k.day_generation,revenue:1e3*k.day_generation*5.59,peak_power:k.peak_power,ghi:k.ghi,gti:k.gti,plant_pr:k.plant_pr,grid_availability:k.grid_availability,plant_availability:k.plant_availability}),Object(ce.jsxs)(C.a,{container:!0,spacing:6,style:{marginTop:"1rem"},children:[Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(_e,{totalExport:D,maxValue:20})}),Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(se,{ambientTemp:z,moduleTemp:W,humidity:$})}),Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(Ke,{windDirection:ae,windSpeed:le,rain:be})})]}),Object(ce.jsxs)(S.a,{elevation:6,style:{marginTop:"2.5rem",height:"500px",width:"100%"},children:[Object(ce.jsx)(V.a,{variant:"h6",color:"textSecondary",style:{marginLeft:"1.5rem",marginTop:"1rem",marginBottom:"1.5rem"},children:"Irradiance / Generation"}),Object(ce.jsx)(ue,{data:ge,interval:12,leftAxisY:[0,1e3],rightAxisY:[0,15]})]}),Object(ce.jsx)(C.a,{container:!0,style:{marginTop:"3rem"},children:Object(ce.jsxs)(C.a,{item:!0,xs:12,children:[Object(ce.jsxs)(C.a,{container:!0,spacing:2,alignItems:"center",style:{marginBottom:".5rem"},children:[Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(V.a,{variant:"h6",color:"textSecondary",children:"Inverter Values"})}),Object(ce.jsx)(C.a,{item:!0,className:c.grow}),Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsxs)(V.a,{style:{marginLeft:".25rem"},children:["Selected Block:"," "]})}),Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(v.a,{className:c.formControl,children:Object(ce.jsxs)(Z.a,{value:fe,onChange:function(e){ve(e.target.value),localStorage.setItem("siteInverterTableBlock",e.target.value);var t=new Date;t.setDate((new Date).getDate()-1),t.setHours(23,50,0,0);var a=new Date(d);a.setHours(5,0,0,0);var n=a.getTime();tt(e.target.value,t.getTime(),d,n)},children:[Object(ce.jsx)(B.a,{value:3,children:"B03"}),Object(ce.jsx)(B.a,{value:4,children:"B04"}),Object(ce.jsx)(B.a,{value:5,children:"B05"}),Object(ce.jsx)(B.a,{value:6,children:"B06"})]})})})]}),Object(ce.jsx)(nb,{values:Te,block:fe})]})}),Object(ce.jsx)(J.a,{open:Ee,anchorOrigin:{vertical:"bottom",horizontal:"left"},autoHideDuration:4e3,onClose:et,children:Object(ce.jsx)(ib,{onClose:et,severity:"success",children:"Time is reset!"})}),Object(ce.jsx)("div",{style:{marginBottom:"2rem"}})]})}var sb=Object(Oe.a)((function(e){return{head:{backgroundColor:"#ffffbf",color:e.palette.common.black,fontSize:16},body:{fontSize:16}}}))(Se.a),lb=Object(Oe.a)((function(e){return{root:{"&:nth-of-type(odd)":{backgroundColor:e.palette.action.hover}}}}))(ve.a),ob=Object(D.a)({tableContainer:{maxHeight:"80vh"}}),jb=function(e){var t=e.value,a=e.block,n=null;return Object(ce.jsxs)(lb,{children:[Object(ce.jsx)(sb,{component:"th",scope:"row",style:{paddingTop:".6rem",paddingBottom:".6rem",backgroundColor:n},children:Object(ce.jsx)("strong",{style:{paddingLeft:"2.5rem"},children:t.heading})}),Object(ce.jsx)(sb,{align:"center",style:{backgroundColor:n},children:Object(ce.jsx)("span",{children:isNaN(Number(t.inv1))?"-":-111===Number(t.inv1)?"X":Number(t.inv1).toFixed(2)})}),Object(ce.jsx)(sb,{align:"center",style:{backgroundColor:n},children:Object(ce.jsx)("span",{children:isNaN(Number(t.inv2))?"-":-111===Number(t.inv2)?"X":Number(t.inv2).toFixed(2)})}),8!==a&&Object(ce.jsx)(sb,{align:"center",style:{backgroundColor:n},children:Object(ce.jsx)("span",{children:isNaN(Number(t.inv3))?"-":-111===Number(t.inv3)?"X":Number(t.inv3).toFixed(2)})}),8!==a&&Object(ce.jsx)(sb,{align:"center",style:{backgroundColor:n},children:Object(ce.jsx)("span",{children:isNaN(Number(t.inv4))?"-":-111===Number(t.inv4)?"X":Number(t.inv4).toFixed(2)})})]})},db=function(e){var t=e.value,a=e.block;return Object(ce.jsxs)(lb,{children:[Object(ce.jsx)(sb,{component:"th",scope:"row",style:{paddingTop:".6rem",paddingBottom:".6rem"},children:Object(ce.jsx)("strong",{style:{paddingLeft:"1rem"},children:t.heading})}),Object(ce.jsx)(sb,{align:"center",children:isNaN(Number(t.inv1))?"-":-111===Number(t.inv1)?"X":Number(t.inv1).toFixed(2)}),Object(ce.jsx)(sb,{align:"center",children:isNaN(Number(t.inv2))?"-":-111===Number(t.inv2)?"X":Number(t.inv2).toFixed(2)}),8!==a&&Object(ce.jsx)(sb,{align:"center",children:isNaN(Number(t.inv3))?"-":-111===Number(t.inv3)?"X":Number(t.inv3).toFixed(2)}),8!==a&&Object(ce.jsx)(sb,{align:"center",children:isNaN(Number(t.inv4))?"-":-111===Number(t.inv4)?"X":Number(t.inv4).toFixed(2)})]})};function bb(e){var t=e.values,a=e.block,c=ob(),r=Object(n.useState)([]),s=Object(u.a)(r,2),l=s[0],o=s[1],j=i.a.useState(!1),d=Object(u.a)(j,2),b=d[0],m=d[1],h=i.a.useState(!1),O=Object(u.a)(h,2),g=O[0],x=O[1],S=function(e){var t=e.title,a=e.tag,n=e.openRows;return Object(ce.jsx)(lb,{children:Object(ce.jsxs)(sb,{component:"th",scope:"row",colSpan:6,style:{backgroundColor:"#EBF5FB"},children:[Object(ce.jsx)("strong",{style:{paddingLeft:"1rem",paddingRight:".5rem",color:"#000"},children:t}),Object(ce.jsx)(y.a,{"aria-label":"expand row",size:"small",onClick:function(){return function(e){"S"===e?m((function(e){return!e})):x((function(e){return!e}))}(a)},style:{color:"#000"},children:n?Object(ce.jsx)(Ie.a,{}):Object(ce.jsx)(ye.a,{})})]})})};return Object(n.useEffect)((function(){for(var e=[],n=[],i=[],c=null,r=null,s=0;s<t.length;s++)t[s].heading.match(/S[1-4] [^/]/i)?(c||(c=s,i.push(Object(ce.jsx)(S,{title:"Inverter Slots",tag:"S",openRows:b,block:a},s))),s,e.push(Object(ce.jsx)(jb,{value:t[s],block:a},t[s].heading))):t[s].heading.match(/[S]3[0-4]|2[0-9]|1[0-9]|[1-9] [/] S[1-4]CB/i)?(r||(r=s,i.push(Object(ce.jsx)(S,{title:"Inverter Strings",tag:"PV",openRows:g,block:a},s))),s,n.push(Object(ce.jsx)(jb,{value:t[s],block:a},t[s].heading))):i.push(Object(ce.jsx)(db,{value:t[s],block:a},s));var l,j=[].concat(i);if(b&&g)(l=j).splice.apply(l,[c+1,0].concat(e)),j=[].concat(Object(me.a)(j),[n]);else if(b&&!g){var d;(d=j).splice.apply(d,[c+1,0].concat(e))}else j=!b&&g?[].concat(Object(me.a)(j),[n]):[].concat(i);o(j)}),[t,b,g]),Object(ce.jsx)(pe.a,{component:he.a,elevation:6,className:c.tableContainer,children:Object(ce.jsxs)(ge.a,{stickyHeader:!0,"aria-label":"customized table",size:"small",children:[Object(ce.jsx)(fe.a,{children:Object(ce.jsxs)(ve.a,{children:[Object(ce.jsx)(sb,{style:{paddingTop:".7rem",paddingLeft:"1.75rem",paddingBottom:".7rem"},children:Object(ce.jsx)("strong",{children:"Parameters"})}),Object(ce.jsx)(sb,{align:"center",children:Object(ce.jsx)("strong",{children:"Inv 1"})}),Object(ce.jsx)(sb,{align:"center",children:Object(ce.jsx)("strong",{children:"Inv 2"})}),8!==a&&Object(ce.jsx)(sb,{align:"center",children:Object(ce.jsx)("strong",{children:"Inv 3"})}),8!==a&&Object(ce.jsx)(sb,{align:"center",children:Object(ce.jsx)("strong",{children:"Inv 4"})})]})}),Object(ce.jsx)(xe.a,{children:l})]})})}function ub(e){return Object(ce.jsx)($.a,Object(h.a)({elevation:6,variant:"filled"},e))}var mb=Object(D.a)((function(e){return{grow:{flexGrow:1},gaugeChartStyle:{marginTop:e.spacing(12)},formControl:{minWidth:120},modalCardStyle:{width:340,height:"fit-content"},gridBreakpoint:Object(m.a)({},e.breakpoints.up("md"),{})}}));function hb(e){e.handleSessionExpire;var t=e.handleClickOpen,a=e.sitestatusBar,c=mb(),r=$e().intervalTime,s=(localStorage.getItem("username","Admin"),localStorage.getItem("userToken")),l=(localStorage.getItem("userId"),K),o=Object(n.useState)((new Date).getTime()),j=Object(u.a)(o,2),d=j[0],b=j[1],m=Object(n.useState)(0),h=Object(u.a)(m,2),O=h[0],g=h[1],x=Object(n.useState)(void 0),p=Object(u.a)(x,2),f=p[0],y=p[1],T=Object(n.useState)({}),I=Object(u.a)(T,2),k=I[0],w=I[1],N=Object(n.useState)(0),L=Object(u.a)(N,2),D=L[0],P=L[1],F=Object(n.useState)(0),A=Object(u.a)(F,2),E=(A[0],A[1]),H=Object(n.useState)(0),_=Object(u.a)(H,2),z=_[0],M=_[1],R=Object(n.useState)(0),G=Object(u.a)(R,2),W=G[0],Y=G[1],q=Object(n.useState)(0),U=Object(u.a)(q,2),$=U[0],Q=U[1],ee=Object(n.useState)(0),te=Object(u.a)(ee,2),ae=te[0],ne=te[1],ie=Object(n.useState)(0),re=Object(u.a)(ie,2),le=re[0],oe=re[1],je=Object(n.useState)(0),de=Object(u.a)(je,2),be=de[0],me=de[1],he=Object(n.useState)([{time:"00:00",gti:"0.00",ghi:"0.00",pg:"0.00"}]),Oe=Object(u.a)(he,2),ge=Oe[0],xe=Oe[1],Se=i.a.useState(1),pe=Object(u.a)(Se,2),fe=pe[0],ve=pe[1],Ce=Object(n.useState)([]),ye=Object(u.a)(Ce,2),Te=ye[0],Ie=ye[1],ke=Object(n.useState)(0),we=Object(u.a)(ke,2),Ne=we[0],Be=we[1];Object(n.useEffect)((function(){0!==Ne&&at(d)}),[Ne]);var Le=function(){return 0!==Ne?"1":"0"},De=function(){return Ne>0?"1":"0"},Pe=null,Fe=Object(n.useState)(!1),Ve=Object(u.a)(Fe,2),Ee=Ve[0],He=Ve[1],ze=Object(n.useState)(new Date),Me=Object(u.a)(ze,2),Re=Me[0],Ge=Me[1],We=Object(n.useState)(!1),Xe=Object(u.a)(We,2),Ye=Xe[0],qe=Xe[1],Ue=Object(n.useState)(!0),Ze=Object(u.a)(Ue,2),Je=Ze[0],Qe=Ze[1],et=function(){He(!1)};Object(n.useEffect)((function(){b(Re.getTime())}),[Re]);var tt=function(e,t,a,n){var i=l;i+="mcr"===e?"/maddur/grid/mcr":"/maddur/grid/B"+String(e).padStart(2,0),X.a.get(i,{headers:{jwtToken:s,startTime:t,endTime:a,beginTime:n,enablePacket:Le(),clientPacketTime:f,isNext:De()}}).then((function(e){!function(e){for(var t=[],a=Object.entries(e),n=["L1 I","L2 I","L3 I","L1 V","L2 V","L3 V","Frequency","DC I","DC V","Active Power","DC Power","Reactive Power","PF","Cab Temp","IGBT Temp","DC Energy","S1 L1 I","S1 L2 I","S1 L3 I","S1 L1 V","S1 L2 V","S1 L3 V","S1 DC I","S1 DC V","S1 Active Power","S1 DC Power","S1 PF","S1 IGBT Temp","S1 Cab Temp","S2 L1 I","S2 L2 I","S2 L3 I","S2 L1 V","S2 L2 V","S2 L3 V","S2 DC I","S2 DC V","S2 Active Power","S2 DC Power","S2 PF","S2 IGBT Temp","S2 Cab Temp","S3 L1 I","S3 L2 I","S3 L3 I","S3 L1 V","S3 L2 V","S3 L3 V","S3 DC I","S3 DC V","S3 Active Power","S3 DC Power","S3 PF","S3 IGBT Temp","S3 Cab Temp","S4 L1 I","S4 L2 I","S4 L3 I","S4 L1 V","S4 L2 V","S4 L3 V","S4 DC I","S4 DC V","S4 Active Power","S4 DC Power","S4 PF","S4 IGBT Temp","S4 Cab Temp","S1 + S2 Peak Active Power","S3 + S4 Peak Active Power","S1 / S1CB1 I","S2 / S1CB2 I","S3 / S1CB3 I","S4 / S1CB4 I","S5 / S1CB5 I","S6 / S1CB6 I","S7 / S1CB7 I","S8 / S1CB8 I","S9 / S2CB1 I","S10 / S2CB2 I","S11 / S2CB3 I","S12 / S2CB4 I","S13 / S2CB5 I","S14 / S2CB6 I","S15 / S2CB7 I","S16 / S2CB8 I","S17 / S3CB1 I","S18 / S3CB2 I","S19 / S3CB3 I","S20 / S3CB4 I","S21 / S3CB5 I","S22 / S3CB6 I","S23 / S3CB7 I","S24 / S3CB8 I","S25 / S4CB1 I","S26 / S4CB2 I","S27 / S4CB3 I","S28 / S4CB4 I","S29 / S4CB5 I","S30 / S4CB6 I","S31 / S4CB7 I","S32 / S4CB8 I"],i=0;i<n.length;i++){var c=NaN,r=NaN,s=NaN,l=NaN,o=NaN,j=NaN;try{a[i][1]&&(c=a[i][1]),a[n.length+i][1]&&(r=a[n.length+i][1]),a[2*n.length+i][1]&&(s=a[2*n.length+i][1]),a[3*n.length+i][1]&&(l=a[3*n.length+i][1]),a[4*n.length+i][1]&&(o=a[4*n.length+i][1]),a[5*n.length+i][1]&&(j=a[5*n.length+i][1])}catch(d){}t.push({heading:n[i],inv1:c,inv2:r,inv3:s,inv4:l,inv5:o,inv6:j})}Ie([].concat(t))}(e.data)})).catch((function(e){}))},at=function(e){var t=1623696973e3,a=e;a=Je?Date.now():e;var n=new Date(a);n.setHours(5,0,0,0);var i=n.getTime();!function(e,t,a){X.a.get(l+"/maddur/site",{headers:{jwtToken:s,startTime:e,endTime:t,beginTime:a,enablePacket:Le(),clientPacketTime:f,isNext:De()}}).then((function(e){g(e.data.status),y(1e3*e.data.time)})).catch((function(e){}))}(t,a,i),function(e,t,a){X.a.get(l+"/maddur/boxes",{headers:{jwtToken:s,startTime:e,endTime:t,beginTime:a,enablePacket:Le(),clientPacketTime:f,isNext:De()}}).then((function(e){w(e.data)})).catch((function(e){}))}(t,a,i),function(e,t,a){X.a.get(l+"/maddur/gauge",{headers:{jwtToken:s,startTime:e,endTime:t,beginTime:a,enablePacket:Le(),clientPacketTime:f,isNext:De()}}).then((function(e){var t=e.data.value;P(Number(t).toFixed(2)),E(Number(t).toFixed(1)/50)})).catch((function(e){}))}(t,a,i),function(e,t,a){X.a.get(l+"/maddur/temperature",{headers:{jwtToken:s,startTime:e,endTime:t,beginTime:a,enablePacket:Le(),clientPacketTime:f,isNext:De()}}).then((function(e){var t=e.data.ambientTemp,a=e.data.moduleTemp,n=e.data.humidity;M(Number(t).toFixed(1)),Y(Number(a).toFixed(1)),Q(Number(n).toFixed(1))})).catch((function(e){}))}(t,a,i),function(e,t,a){X.a.get(l+"/maddur/wind",{headers:{jwtToken:s,startTime:e,endTime:t,beginTime:a,enablePacket:Le(),clientPacketTime:f,isNext:De()}}).then((function(e){var t=e.data.direction,a=e.data.speed;e.data.rain,ne(Number(t).toFixed(0)),oe(Number(a).toFixed(1)),me(Number(e.data.rain).toFixed(1))})).catch((function(e){}))}(t,a,i),function(e,t,a){X.a.get(l+"/maddur/graph",{headers:{jwtToken:s,startTime:e,endTime:t,beginTime:a,enablePacket:Le(),clientPacketTime:f,isNext:De()}}).then((function(e){xe(e.data)})).catch((function(e){}))}(t,a,i),tt(fe,t,a,i)};Object(n.useEffect)((function(){(Pe=document.getElementById("timeSliderLabel2"))&&(Pe.innerText=(new Date).toLocaleString([],{hour:"2-digit",minute:"2-digit",hour12:!0}).toUpperCase()),at(d);var e=setInterval((function(){at(d)}),r);return function(){clearInterval(e)}}),[d]);var nt=Object(n.useState)("space-between"),it=Object(u.a)(nt,2),ct=(it[0],it[1]);return Object(n.useLayoutEffect)((function(){window.matchMedia("(min-width: 1280px)").matches?ct("space-between"):ct("flex-start")}),[]),Object(ce.jsxs)(i.a.Fragment,{children:[Object(ce.jsx)(C.a,{container:!0,justifyContent:"space-between",alignItems:"center",children:Object(ce.jsx)(rt,{sitestatusBar:a,status:O,timestamp:f,handleClickOpen:t,handleTimeReset:function(){Be(0);var e=new Date;Ge(e),b(e.getTime()),He(!0),Qe(!0)},setIsNextCount:Be,setOpenDateTimePicker:qe,getMinDateForPicker:function(){return new Date(16367184e5)},selectedDate:Re,getFormattedDateAndTimeString:function(e){var t=new Date(e);return Object(ce.jsxs)("span",{children:[String(t.getDate()).padStart(2,"0"),"/",String(t.getMonth()+1).padStart(2,"0"),"/",t.getFullYear(),Object(ce.jsx)("span",{children:"\u2003"}),t.toLocaleString([],{hour:"2-digit",minute:"2-digit",hour12:!0}).toUpperCase()]})},openDateTimePicker:Ye,handleDateChange:function(e){try{Qe(!1)}finally{Ge(e),qe(!1)}}})}),Object(ce.jsx)("div",{style:{marginTop:"2rem"}}),Object(ce.jsx)(Ae,{day_generation:k.day_generation,revenue:1e3*k.day_generation*5.59,peak_power:k.peak_power,ghi:k.ghi,gti:k.gti,plant_pr:k.plant_pr,grid_availability:k.grid_availability,plant_availability:k.plant_availability}),Object(ce.jsxs)(C.a,{container:!0,spacing:6,style:{marginTop:"1rem"},children:[Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(_e,{totalExport:D,maxValue:45})}),Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(se,{ambientTemp:z,moduleTemp:W,humidity:$})}),Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(Ke,{windDirection:ae,windSpeed:le,rain:be})})]}),Object(ce.jsxs)(S.a,{elevation:6,style:{marginTop:"2.5rem",height:"500px",width:"100%"},children:[Object(ce.jsx)(V.a,{variant:"h6",color:"textSecondary",style:{marginLeft:"1.5rem",marginTop:"1rem",marginBottom:"1.5rem"},children:"Irradiance / Generation"}),Object(ce.jsx)(ue,{data:ge,interval:12,leftAxisY:[0,1500],rightAxisY:[0,40]})]}),Object(ce.jsx)(C.a,{container:!0,style:{marginTop:"3rem"},children:Object(ce.jsxs)(C.a,{item:!0,xs:12,children:[Object(ce.jsxs)(C.a,{container:!0,spacing:2,alignItems:"center",style:{marginBottom:".5rem"},children:[Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(V.a,{variant:"h6",color:"textSecondary",children:"Inverter Values"})}),Object(ce.jsx)(C.a,{item:!0,className:c.grow}),Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsxs)(V.a,{style:{marginLeft:".25rem"},children:["Selected Block:"," "]})}),Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(v.a,{className:c.formControl,children:Object(ce.jsxs)(Z.a,{value:fe,onChange:function(e){ve(e.target.value);var t=new Date;t.setDate((new Date).getDate()-1),t.setHours(23,50,0,0);var a=new Date(d);a.setHours(5,0,0,0);var n=a.getTime();tt(e.target.value,t.getTime(),d,n)},children:[Object(ce.jsx)(B.a,{value:1,children:"B01"}),Object(ce.jsx)(B.a,{value:2,children:"B02"}),Object(ce.jsx)(B.a,{value:3,children:"B03"}),Object(ce.jsx)(B.a,{value:4,children:"B04"}),Object(ce.jsx)(B.a,{value:5,children:"B05"}),Object(ce.jsx)(B.a,{value:6,children:"B06"}),Object(ce.jsx)(B.a,{value:7,children:"B07"}),Object(ce.jsx)(B.a,{value:8,children:"B08"})]})})})]}),Object(ce.jsx)(bb,{values:Te,block:fe})]})}),Object(ce.jsx)(J.a,{open:Ee,anchorOrigin:{vertical:"bottom",horizontal:"left"},autoHideDuration:4e3,onClose:et,children:Object(ce.jsx)(ub,{onClose:et,severity:"success",children:"Time is reset!"})}),Object(ce.jsx)("div",{style:{marginBottom:"2rem"}})]})}var Ob=a(1316),gb=Object(D.a)((function(e){return{root:{display:"flex"}}}));function xb(e){e.handleSessionExpire;var t=gb(),a=(Object(P.a)(),Object(b.f)()),i=(localStorage.getItem("username","Admin"),localStorage.getItem("userToken")),c=$e().setEnabledLinearProgress,r=Object(n.useState)("full"),s=Object(u.a)(r,2),l=s[0],o=s[1];Object(n.useEffect)((function(){return i&&""!==i||a.push("/login"),function(){c(!1)}}),[]);var j=Object(n.useState)("Balanagar"),d=Object(u.a)(j,2),m=d[0],h=d[1],g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m;if("Banka N"===e)return[3,4,5,6];if("Banka M"===e)return[1,2,"MCR"];var t=JSON.parse(localStorage.getItem("siteNamesAndBlocks")).find((function(t){return t.name===e}));return Array.from({length:t.blocks[0]},(function(e,t){return t+1}))},S=Object(n.useState)(g()),p=Object(u.a)(S,2),f=p[0],y=p[1],T=Object(n.useState)(!0),I=Object(u.a)(T,2),k=I[0],N=I[1],L=Object(n.useState)(!1),D=Object(u.a)(L,2),F=D[0],V=D[1],A=Object(n.useState)(!1),E=Object(u.a)(A,2),H=E[0],_=E[1],z=Object(n.useState)(!1),M=Object(u.a)(z,2),R=M[0],G=M[1],W=Object(n.useState)((function(){var e=new Date;return e.setDate((new Date).getDate()-1),e.setHours(0,0,0,0),e.getTime()})),Y=Object(u.a)(W,2),q=Y[0],U=Y[1],J=Object(n.useState)((function(){var e=new Date;return e.setHours(23,59,59,999),e.getTime()})),$=Object(u.a)(J,2),Q=$[0],ee=$[1],te=function(){c(!0);var e=[];f.forEach((function(t){"MCR"!==t?e.push("B"+String(t).padStart(2,0)):e.push(t)})),X.a.post(K+"/dumpcsv",{site:m,fromDate:new Date(q).getTime(),toDate:new Date(Q).getTime(),block:e,frequency:l},{headers:{jwtToken:i,responseType:"blob"}}).then((function(e){c(!1);var t=window.URL.createObjectURL(new Blob([e.data])),a=document.createElement("a");a.href=t;var n=new Date(q),i=new Date(Q),r="".concat(m,"_").concat(f,"_").concat(n.getDate(),"_").concat(n.getMonth()+1,"_").concat(n.getFullYear(),"_").concat(i.getDate(),"_").concat(i.getMonth()+1,"_").concat(i.getFullYear(),".csv");a.setAttribute("download",r),document.body.appendChild(a),a.click(),a.remove(),G(!1)})).catch((function(e){console.log(e),c(!1),_(!0),G(!1)}))},ae=function(e,t){var a=new Date(e).getTime();return!(new Date(t).getTime()-a>=0)};return Object(ce.jsxs)("div",{style:{paddingTop:".5rem"},children:[Object(ce.jsxs)(C.a,{container:!0,alignItems:"center",children:[Object(ce.jsx)(C.a,{item:!0,style:{marginRight:"1rem"},children:Object(ce.jsxs)(v.a,{style:{width:"120px",textAlign:"left"},children:[Object(ce.jsx)(Aa.a,{id:"site-select-helper-label",children:"Site"}),Object(ce.jsx)(Z.a,{labelId:"site-select-helper-label",id:"site-select-helper",value:m,onChange:function(e){N(!0),h(e.target.value),y(g(e.target.value))},children:JSON.parse(localStorage.getItem("siteNamesAndBlocks")).map((function(e){return Object(ce.jsx)(B.a,{value:e.name,children:e.name},e.name)}))}),!k&&Object(ce.jsx)(Ob.a,{children:Object(ce.jsx)("span",{style:{color:"red"},children:"Select a site"})})]})}),Object(ce.jsx)(C.a,{item:!0,style:{marginRight:"1rem"},children:Object(ce.jsxs)(v.a,{style:{maxWidth:"110px"},children:[Object(ce.jsx)(Aa.a,{id:"block-multiple-checkbox-label",children:"Block"}),Object(ce.jsxs)(Z.a,{labelId:"block-multiple-checkbox-label",id:"block-multiple-checkbox",multiple:!0,value:f,onChange:function(e){var t=e.target.value;"all"!==t[t.length-1]?y(t):y(f.length===g().length?[]:g())},renderValue:function(e){return e.join(", ")},MenuProps:{classes:{paper:t.menuPaper},getContentAnchorEl:function(){return null}},children:[Object(ce.jsxs)(B.a,{value:"all",style:{paddingBlock:0},children:[Object(ce.jsx)(Pa.a,{size:"small",color:"primary",checked:g().length>0&&f.length===g().length,indeterminate:f.length>0&&f.length<g().length}),Object(ce.jsx)(w.a,{primary:"All"})]},"all"),g().map((function(e){return Object(ce.jsxs)(B.a,{value:e,style:{paddingBlock:0},children:[Object(ce.jsx)(Pa.a,{size:"small",color:"primary",checked:f.indexOf(e)>-1}),Object(ce.jsx)(w.a,{primary:e})]},e)}))]}),!k&&Object(ce.jsx)(Ob.a,{children:Object(ce.jsx)("span",{style:{color:"red"},children:"Select a site"})})]})}),Object(ce.jsxs)(C.a,{item:!0,style:{marginRight:"1rem"},children:[Object(ce.jsxs)(it.a,{utils:O.a,children:[Object(ce.jsx)(Ea.a,{style:{width:"140px",marginRight:"1rem"},disableToolbar:!0,variant:"inline",format:"dd/MM/yyyy",id:"from-date-picker-inline",label:"From",value:q,onChange:function(e){var t=new Date(e).getTime();U(t)},autoOk:!0}),Object(ce.jsx)(Ea.a,{style:{width:"140px"},disableToolbar:!0,variant:"inline",format:"dd/MM/yyyy",id:"to-date-picker-inline",label:"To",value:Q,onChange:function(e){var t=new Date(e);t.setHours(23,59,59,999);var a=t.getTime();ee(a)},autoOk:!0})]}),Object(ce.jsxs)(v.a,{style:{marginLeft:"1rem",maxWidth:"110px"},children:[Object(ce.jsx)(Aa.a,{id:"frequency-checkbox-label",children:"Frequency"}),Object(ce.jsxs)(Z.a,{labelId:"frequency-checkbox-label",id:"frequency-checkbox",value:l,onChange:function(e){var t=e.target.value;o(t)},children:[Object(ce.jsx)(B.a,{value:"full",children:"Full"},"full"),Object(ce.jsx)(B.a,{value:"hourly",children:"HR Avg"},"hourly")]})]})]}),Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(x.a,{variant:"outlined",color:"primary",onClick:function(){if("none"===m)try{N(!1)}finally{return}try{N(!0),G(!0),V(!1),_(!1)}finally{var e=ae(q,Q);e?(V(e),G(!1)):te()}},disabled:R,style:{marginTop:".75rem"},children:"Download"})})]}),F&&Object(ce.jsx)("div",{style:{marginTop:"1rem"},children:Object(ce.jsx)("span",{style:{color:"#ff9800",fontSize:"1rem"},children:"Select larger 'To' date."})}),H&&Object(ce.jsx)("div",{style:{marginTop:"1rem"},children:Object(ce.jsxs)("span",{style:{color:"#ff9800",fontSize:"1rem"},children:["No data found!",Object(ce.jsx)("br",{}),"Try selecting different dates."]})})]})}var Sb=["children","value","index"],pb=Object(D.a)({tabs:{"& .MuiTabs-indicator":{backgroundColor:"#148F77"},"& .MuiTab-root.Mui-selected":{color:"#148F77"}}});function fb(e){var t=e.children,a=e.value,n=e.index,i=Object(ji.a)(e,Sb);return Object(ce.jsx)("div",Object(h.a)(Object(h.a)({role:"tabpanel",hidden:a!==n,id:"simple-tabpanel-".concat(n),"aria-labelledby":"simple-tab-".concat(n)},i),{},{children:a===n&&Object(ce.jsx)(ui.a,{children:Object(ce.jsx)(V.a,{children:t})})}))}function vb(e){return{id:"scb-tab-".concat(e),"aria-controls":"scb-tabpanel-".concat(e)}}function Cb(e){var t=e.handleSessionExpire,a=n.useState(0),i=Object(u.a)(a,2),c=i[0],r=i[1],s=pb();return Object(ce.jsxs)(ui.a,{children:[Object(ce.jsxs)(di.a,{style:{color:"#000000"},className:s.tabs,value:c,onChange:function(e,t){r(t)},"aria-label":"analytics tabs",children:[Object(ce.jsx)(bi.a,Object(h.a)({label:"Custom"},vb(0))),Object(ce.jsx)(bi.a,Object(h.a)({label:"Quick"},vb(1)))]}),Object(ce.jsx)(fb,{value:c,index:0,children:Object(ce.jsx)(Qa,{handleSessionExpire:t})}),Object(ce.jsx)(fb,{value:c,index:1,children:Object(ce.jsx)(xb,{handleSessionExpire:t})})]})}a(1298);var yb=function(e){var t=e.payload;return Object(ce.jsx)("div",{style:{paddingBottom:"3.25rem"},children:t.map((function(e,t){return Object(ce.jsx)("span",{style:{color:"#575757"},children:"%"},"item-".concat(t))}))})};function Tb(e){var t=e.chartData,a=e.enableScroll,i=function(e){var t=e.active,a=e.payload;e.label;return t&&a?Object(ce.jsx)("div",{children:Object(ce.jsx)("span",{children:"".concat(a[0].payload.siteName,": ").concat(a[0].payload.Percentage,"%")})}):null},c=Object(n.useState)(0),r=Object(u.a)(c,2),s=r[0],l=r[1];Object(n.useEffect)((function(){!1===a&&l(0)}),[a]);return!0===a?Object(ce.jsx)(le.a,{style:{height:"100%"},children:Object(ce.jsxs)(Q.a,{data:t,margin:{top:5,right:30,bottom:10},children:[Object(ce.jsx)(ae.a,{strokeDasharray:"3 3"}),Object(ce.jsx)(ee.a,{dataKey:"siteName",fontSize:10,interval:0,stroke:"black"}),Object(ce.jsx)(te.a,{domain:[0,function(e){return 100}]}),Object(ce.jsx)(je.a,{content:Object(ce.jsx)(i,{})}),Object(ce.jsx)(St.a,{endIndex:13,onChange:function(e){return l(e.startIndex)},dataKey:"site",height:18,stroke:"#A6ACAF",tickFormatter:function(){return""}}),Object(ce.jsx)(de.a,{wrapperStyle:{paddingLeft:"10px"},verticalAlign:"middle",content:yb}),Object(ce.jsxs)(ne.a,{isAnimationActive:!1,dataKey:"Percentage",children:[Object(ce.jsx)(pt.a,{dataKey:"Percentage",position:"center",fill:"#fff",angle:"270"}),function(){var e=[];if(t&&t.length>0)for(var a=s;a<s+14;a++)e.push(Object(ce.jsx)(ie.a,{fill:t[a].color},"cell-".concat(a)));return e}()]})]})}):Object(ce.jsx)(le.a,{children:Object(ce.jsxs)(Q.a,{data:t,margin:{top:5,right:30,left:0,bottom:50},barCategoryGap:1.25,barGap:1,children:[Object(ce.jsx)(ae.a,{strokeDasharray:"3 3"}),Object(ce.jsx)(ee.a,{dataKey:"siteName",angle:270,tickMargin:32,fontSize:10,interval:0,stroke:"black"}),Object(ce.jsx)(te.a,{domain:[0,function(e){return 100}]}),Object(ce.jsx)(je.a,{content:Object(ce.jsx)(i,{})}),Object(ce.jsx)(de.a,{wrapperStyle:{paddingLeft:"10px"},verticalAlign:"middle",content:yb}),Object(ce.jsxs)(ne.a,{isAnimationActive:!1,dataKey:"Percentage",children:[Object(ce.jsx)(pt.a,{dataKey:"Percentage",position:"center",fill:"#000",angle:"270",fontSize:8}),t.map((function(e,t){return Object(ce.jsx)(ie.a,{fill:e.color},"cell-".concat(t))}))]})]})})}function Ib(e){return Object(ce.jsx)($.a,Object(h.a)({elevation:6,variant:"filled"},e))}var kb=Object(D.a)((function(e){return{grow:{flexGrow:1},textField:{width:120},menuPaper:{maxHeight:400},formControlStyle:{},listItemText:{fontSize:".9rem"}}}));function wb(e){var t=e.handleSessionExpire,a=$e().setEnabledLinearProgress,i=Object(n.useState)(!1),c=Object(u.a)(i,2),r=c[0],s=c[1],l=kb(),o=(localStorage.getItem("userToken"),Object(n.useState)("pr")),j=Object(u.a)(o,2),d=(j[0],j[1],Object(n.useState)("asc")),b=Object(u.a)(d,2),m=b[0],g=b[1],p=Object(n.useState)("none"),f=Object(u.a)(p,2),y=(f[0],f[1],Object(n.useState)(!0)),T=Object(u.a)(y,2),I=T[0],k=T[1],w=Object(n.useState)([]),N=Object(u.a)(w,2),L=(N[0],N[1]),D=Object(n.useState)([]),P=Object(u.a)(D,2),F=P[0],V=P[1],A=Object(n.useState)("14"),E=Object(u.a)(A,2),H=E[0],_=E[1],z=function(e,n){(new Date).setHours(0,0,0,0);var i=e.getTime(),c=n.getTime();if("14"===H){var r=new Date(e.getTime());r.setHours(6,0,0,0),i=r.getTime();var l=new Date(n.getTime());l.setHours(20,0,0,0),c=l.getTime()}else{var o=new Date;o.setDate(n.getDate()),c=o.getTime()}a(!0),s(!0),X.a.post(K+"/dataavail",{fromDate:i,endDate:c,timePeriod:Number(H)},{headers:{jwtToken:localStorage.getItem("userToken")}}).then((function(e){var t=e.data.sort((function(e,t){return e.siteName<t.siteName?-1:1})).map((function(e){return Object(h.a)(Object(h.a)({},e),{},{color:Number(e.Percentage)<95?"#EC7063":"#48C9B0"})}));L(t),V(t),a(!1),s(!1)})).catch((function(e){var n;401===(null===e||void 0===e||null===(n=e.response)||void 0===n?void 0:n.status)&&t(),a(!1),s(!1)}))},M=function(e){switch(e){case"desc":default:V((function(e){return e.sort((function(e,t){return parseFloat(t.Percentage)-parseFloat(e.Percentage)}))}));break;case"asc":V((function(e){return e.sort((function(e,t){return parseFloat(e.Percentage)-parseFloat(t.Percentage)}))}))}},R=Object(n.useState)((new Date).getTime()),G=Object(u.a)(R,2),W=(G[0],G[1]),Y=Object(n.useState)(new Date),q=Object(u.a)(Y,2),U=q[0],$=(q[1],Object(n.useState)(!1)),Q=Object(u.a)($,2),ee=(Q[0],Q[1],Object(n.useState)(!1)),te=Object(u.a)(ee,2),ae=te[0],ne=te[1],ie=Object(n.useState)(!0),re=Object(u.a)(ie,2),se=(re[0],re[1],function(){ne(!1)});Object(n.useEffect)((function(){W(U.getTime())}),[U]);var le=function(e){var t=new Date(e.getTime());return t.setHours(0,1,0,0),t},oe=function(e){var t=new Date(e.getTime());return t.setHours(23,59,59,999),t},je=Object(n.useState)((function(){var e=new Date;return le(e)})),de=Object(u.a)(je,2),be=de[0],ue=de[1],me=Object(n.useState)((function(){var e=new Date;return oe(e)})),he=Object(u.a)(me,2),Oe=he[0],ge=he[1],xe=Object(n.useState)(0),Se=Object(u.a)(xe,2),pe=(Se[0],Se[1],Object(n.useState)(void 0)),fe=Object(u.a)(pe,2);fe[0],fe[1];Object(n.useEffect)((function(){z(be,Oe)}),[]);return Object(ce.jsxs)("div",{style:{marginTop:".5rem",width:"90vw"},children:[Object(ce.jsxs)(C.a,{container:!0,alignItems:"center",justify:"space-between",children:[Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsxs)(C.a,{container:!0,alignItems:"flex-end",children:[Object(ce.jsxs)(C.a,{item:!0,style:{marginRight:"1rem"},children:[Object(ce.jsxs)(it.a,{utils:O.a,children:[Object(ce.jsx)(Ea.a,{autoOk:!0,disableToolbar:!0,variant:"inline",format:"MM/dd/yyyy",id:"from-date-picker-inline",label:"From",value:be,onChange:function(e){ue(le(e))},KeyboardButtonProps:{"aria-labelte":"from date"},style:{marginRight:"1rem"},className:l.textField,InputProps:{style:{fontSize:".8rem"}}}),Object(ce.jsx)(Ea.a,{autoOk:!0,disableToolbar:!0,variant:"inline",format:"MM/dd/yyyy",id:"to-date-picker-inline",label:"To",value:Oe,onChange:function(e){ge(oe(e))},KeyboardButtonProps:{"aria-label":"to date"},className:l.textField,InputProps:{style:{fontSize:".8rem"}}})]}),Object(ce.jsxs)(v.a,{className:l.formControlStyle,style:{marginLeft:"1rem"},children:[Object(ce.jsx)(Aa.a,{id:"time-select-label",children:"Time"}),Object(ce.jsxs)(Z.a,{labelId:"time-select-label",id:"time-select",value:H,onChange:function(e){_(e.target.value)},style:{fontSize:".8rem"},children:[Object(ce.jsx)(B.a,{value:"14",children:Object(ce.jsx)("span",{children:"06:00 - 20:00\u2002"})}),Object(ce.jsx)(B.a,{value:"24",children:Object(ce.jsx)("span",{children:"24 hrs\u2002"})})]})]})]}),Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(x.a,{size:"small",color:"primary",variant:"outlined",onClick:function(){z(be,Oe)},disabled:r,children:r?"Loading":"View"})})]})}),Object(ce.jsx)(C.a,{item:!0,style:{marginRight:"1rem"},children:Object(ce.jsxs)(v.a,{className:l.formControlStyle,children:[Object(ce.jsx)(Aa.a,{id:"sort-select-label",children:"Sort"}),Object(ce.jsxs)(Z.a,{labelId:"sort-select-label",id:"sort-select",value:m,onChange:function(e){var t=e.target.value;M(t),g(t)},style:{fontSize:".8rem"},children:[Object(ce.jsx)(B.a,{value:"desc",children:Object(ce.jsx)("span",{children:"Desc\u2002"})}),Object(ce.jsx)(B.a,{value:"asc",children:Object(ce.jsx)("span",{children:"Asc\u2002"})})]})]})})]}),Object(ce.jsx)(C.a,{container:!0,style:{marginTop:".25rem"},children:Object(ce.jsxs)(S.a,{elevation:6,style:{width:"100%",height:"410px",marginTop:"1rem",paddingTop:".5rem",paddingBottom:"3.5rem"},children:[Object(ce.jsx)(C.a,{container:!0,justify:"flex-end",alignItems:"center",style:{paddingInline:"2rem",marginBottom:".5rem"},children:Object(ce.jsxs)(C.a,{item:!0,children:[Object(ce.jsx)("span",{children:"Scroll:"}),Object(ce.jsx)(yt.a,{checked:I,onChange:function(){return k((function(e){return!e}))},color:"primary",name:"scrollSwitch"})]})}),Object(ce.jsx)(Tb,{chartData:F,enableScroll:I})]})}),Object(ce.jsx)("div",{style:{marginBlock:"1.5rem"}}),Object(ce.jsx)(J.a,{open:ae,anchorOrigin:{vertical:"bottom",horizontal:"left"},autoHideDuration:4e3,onClose:se,children:Object(ce.jsx)(Ib,{onClose:se,severity:"success",children:"Time is reset!"})}),Object(ce.jsx)("div",{style:{marginBottom:"1.5rem"}})]})}var Nb=a(1387),Bb=a(1318);Object(D.a)((function(e){return{paper:{marginTop:e.spacing(1),display:"flex",flexDirection:"column"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)},alertStyle:{marginTop:e.spacing(2)},backdrop:{zIndex:e.zIndex.drawer+1,color:"#fff"}}}));var Lb=["admin","sites","inverterEfficiency","ml","scb","analytics","performance","csv","alerts"],Db=["SMS","Email","Push"],Pb=["Network down","Services down"],Fb=a(86),Vb=a.n(Fb),Ab=a(1305);Object(D.a)((function(e){return{menuPaper:{maxHeight:400}}}));function Eb(e,t,a,n,i){return{name:e,calories:t,fat:a,carbs:n,protein:i}}Eb("Frozen yoghurt",159,6,24,4),Eb("Ice cream sandwich",237,9,37,4.3),Eb("Eclair",262,16,24,6),Eb("Cupcake",305,3.7,67,4.3),Eb("Gingerbread",356,16,49,3.9),Object(Ab.a)((function(e){return{head:{backgroundColor:"#ffffbf",color:e.palette.common.black,fontSize:14},body:{fontSize:14}}}))(Se.a);var Hb=a(494),_b=a.n(Hb),zb=a(1425),Mb=Object(D.a)((function(e){return{menuPaper:{maxHeight:400},deleteButton:{borderColor:e.palette.error.main,color:e.palette.error.main},table:{minWidth:500},paginationicon:{"& .MuiIconButton-root.Mui-disabled":{color:"#9BD3DD"}},tablePaginationActions:{color:"#19ABFF"},menuItem:{fontSize:"12px","&:focus":{backgroundColor:"lightblue"}}}}));Object(D.a)((function(e){return{root:{flexShrink:0,marginLeft:e.spacing(2.5)}}}));function Rb(e,t,a,n,i){return{name:e,calories:t,fat:a,carbs:n,protein:i}}Rb("Frozen yoghurt",159,6,24,4),Rb("Ice cream sandwich",237,9,37,4.3),Rb("Eclair",262,16,24,6),Rb("Cupcake",305,3.7,67,4.3),Rb("Gingerbread",356,16,49,3.9);var Gb=Object(Ab.a)((function(e){return{head:{backgroundColor:"#ffffbf",color:e.palette.common.black,fontSize:"13px"},body:{fontSize:"12px"}}}))(Se.a);var Wb=function(){var e=$e().setEnabledLinearProgress,t=Object(n.useState)(!1),a=Object(u.a)(t,2),c=a[0],r=a[1],s=Mb(),l=Object(n.useState)([]),o=Object(u.a)(l,2),j=o[0],d=o[1],b=Object(n.useState)([]),O=Object(u.a)(b,2),g=O[0],S=O[1],p=i.a.useState(0),f=Object(u.a)(p,2),T=f[0],I=f[1],N=i.a.useState(10),L=Object(u.a)(N,2),D=L[0],P=L[1],F=(Math.min(D,g.length-T*D),i.a.useState({email:localStorage.getItem("userEmail")})),V=Object(u.a)(F,2),A=V[0],E=V[1],H=i.a.useState("user"),_=Object(u.a)(H,2),z=_[0],M=_[1],R=i.a.useState("Engineer"),G=Object(u.a)(R,2),W=G[0],Y=G[1],q=Object(n.useState)(Db.slice()),U=Object(u.a)(q,2),Q=U[0],ee=U[1],te=Object(n.useState)(Pb.slice()),ae=Object(u.a)(te,2),ne=ae[0],ie=ae[1],re=i.a.useState("active"),se=Object(u.a)(re,2),le=se[0],oe=se[1],je=Object(n.useState)({open:!1,severity:"warning",message:"All the fields are mendatory!"}),de=Object(u.a)(je,2),be=de[0],ue=de[1],Oe=function(e,t){"clickaway"!==t&&ue((function(e){return Object(h.a)(Object(h.a)({},e),{},{open:!1})}))},Se=Object(n.useState)(""),Ce=Object(u.a)(Se,2),ye=(Ce[0],Ce[1]),Te=Object(n.useState)(""),Ie=Object(u.a)(Te,2),ke=Ie[0],we=Ie[1],Ne=JSON.parse(localStorage.getItem("siteNamesAndBlocks")),Be=Object(n.useState)(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ne;return e.map((function(e){return e.name}))}()),Le=Object(u.a)(Be,2),De=Le[0],Pe=(Le[1],Object(n.useState)(De.slice())),Fe=Object(u.a)(Pe,2),Ve=Fe[0],Ae=Fe[1],Ee=JSON.parse(localStorage.getItem("siteNamesCaps")).length>0&&Ve.length===JSON.parse(localStorage.getItem("siteNamesCaps")).length,He=Db.length>0&&Q.length===Db.length,_e=Pb.length>0&&ne.length===Pb.length,ze=Object(n.useState)(Object(me.a)(Lb)),Me=Object(u.a)(ze,2),Re=Me[0],Ge=Me[1],We=Lb.length>0&&Re.length===Lb.length;Object(n.useEffect)((function(){j&&S(j)}),[j]);var Xe=Object(n.useState)(),Ye=Object(u.a)(Xe,2),qe=Ye[0],Ue=Ye[1],Ke=function(){e(!0),r(!1),X.a.post(K+"/api/roles",{email:localStorage.getItem("userEmail")},{headers:{jwtToken:localStorage.getItem("userToken")}}).then((function(t){var a=ut(t.data,st.header,st.order);d(a);var n=t.data.find((function(e){return e.email===localStorage.getItem("userEmail")}));r(!1),E(n),M(n.role),Ae(n.locations),Ge(n.menu),E((function(e){var t={};return Object.keys(e).forEach((function(e){t=Object(h.a)(Object(h.a)({},t),{},Object(m.a)({},e,""))})),t})),we(""),ye(""),e(!1)})).catch((function(){r(!1),e(!1)}))};Object(n.useEffect)((function(){Ke()}),[]);var Ze=Object(n.useState)(!1),Je=Object(u.a)(Ze,2),Qe=Je[0],et=Je[1],tt=Object(n.useState)(!1),at=Object(u.a)(tt,2),nt=at[0],it=at[1],ct=Object(n.useState)({header:"email",order:"asc"}),rt=Object(u.a)(ct,2),st=rt[0],lt=rt[1],ot=Object(n.useState)({email:"asc",name:"desc",role:"desc",locations:"desc",timestamp:"desc"}),jt=Object(u.a)(ot,2),dt=(jt[0],jt[1]),bt=function(e,t,a){dt((function(e){var n="asc"===e[t]?"desc":"asc",i="asc"===n?"desc":"asc",c={email:i,name:i,role:i,locations:i,timestamp:i};c[t]=n,ut(g,t,n),lt({header:t,order:n});var r=document.getElementById(a),s=document.querySelectorAll(".header");return s&&s.forEach((function(e){e.style.color="black"})),r.style.color=r&&"asc"===n?"#1A5276":"green",c}))},ut=function(e,t,a){return"asc"===a?e.sort((function(e,a){return"email"!==t?Number(e[t])>Number(a[t])?1:Number(a[t])>Number(e[t])?-1:0:e[t]>a[t]?1:a[t]>e[t]?-1:0})):e.sort((function(e,a){return"email"!==t?Number(e[t])<Number(a[t])?1:Number(a[t])<Number(e[t])?-1:0:e[t]<a[t]?1:a[t]<e[t]?-1:0}))},mt=function(e,t){X.a.post(K+"/user/manage/status",{email:e,status:t},{headers:{jwtToken:localStorage.getItem("userToken")}}).then((function(t){ue((function(t){return Object(h.a)(Object(h.a)({},t),{},{open:!0,message:"User with email: ".concat(e," status updated successfully!"),severity:"success"})})),Ke()})).catch((function(){ue((function(e){return Object(h.a)(Object(h.a)({},e),{},{open:!0,message:"Status update failed! Try again.",severity:"error"})}))}))},ht=Object(n.useState)(""),Ot=Object(u.a)(ht,2),gt=Ot[0],xt=Ot[1];return Object(ce.jsxs)("div",{style:{marginTop:"0rem"},children:[Object(ce.jsxs)(C.a,{spacing:2,container:!0,direction:"row",justifyContent:"flex-start",alignItems:"baseline",children:[Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(Nb.a,{required:!0,id:"first-name",placeholder:"First name",inputProps:{style:{fontSize:13}},value:A&&A.firstname,onChange:function(e){return function(e,t){var a=e.target.value;E((function(e){return Object(h.a)(Object(h.a)({},e),{},Object(m.a)({},t,a))}))}(e,"firstname")},style:{maxWidth:"5rem",marginTop:"1rem"}})}),Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(Nb.a,{required:!0,id:"last-name",placeholder:"Last name",inputProps:{style:{fontSize:13}},value:A&&A.lastname,onChange:function(e){E((function(t){return Object(h.a)(Object(h.a)({},t),{},{lastname:e.target.value})}))},style:{maxWidth:"5rem",marginTop:"1rem"}})}),Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(Nb.a,{fullWidth:!0,required:!0,id:"email",placeholder:"Email",inputProps:{style:{fontSize:13}},value:A&&A.email,onChange:function(e,t){ye(e.target.value),E((function(t){return Object(h.a)(Object(h.a)({},t),{},{email:e.target.value})}))},style:{maxWidth:"10rem",marginTop:"1rem"}})}),Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(Nb.a,{id:"password",placeholder:"Password",value:ke,type:"password",inputProps:{style:{fontSize:13}},onChange:function(e){we(e.target.value)},style:{maxWidth:"5rem",marginTop:"1rem"}})}),Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsxs)(v.a,{style:{maxWidth:"12rem"},children:[Object(ce.jsx)(Aa.a,{id:"locations-simple-select-label",style:{fontSize:13},children:"Locations"}),Object(ce.jsxs)(Z.a,{labelId:"locations-simple-select-label",id:"locations-simple-select",value:Ve,style:{fontSize:13,maxWidth:"15rem"},label:"Select Locations",onChange:function(e){var t=e.target.value;"All"!==t[t.length-1]?Ae(t):Ae(Ve.length===De.length?[]:De)},multiple:!0,renderValue:function(e){return e.join(", ")},children:[Object(ce.jsxs)(B.a,{value:"All",classes:{root:Ee?s.areAllLocationsSelected:""},style:{paddingBlock:0},children:[Object(ce.jsx)(k.a,{children:Object(ce.jsx)(Pa.a,{style:{paddingBlock:0},size:"small",color:"primary",classes:{indeterminate:s.indeterminateColor},checked:Ee,indeterminate:Ve.length>0&&Ve.length<JSON.parse(localStorage.getItem("siteNamesCaps")).length})}),Object(ce.jsx)(w.a,{classes:{primary:s.listItemText},primary:"Select All",style:{paddingTop:".05rem"}})]}),De.map((function(e){return Object(ce.jsxs)(B.a,{value:e,style:{paddingBlock:0},children:[Object(ce.jsx)(k.a,{children:Object(ce.jsx)(Pa.a,{style:{paddingBlock:0},checked:Ve.indexOf(e)>-1,size:"small",color:"primary"})}),Object(ce.jsx)(w.a,{classes:{primary:s.listItemText},primary:e,style:{paddingTop:".05rem"}})]},e)}))]})]})}),Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsxs)(v.a,{style:{maxWidth:"8rem"},children:[Object(ce.jsx)(Aa.a,{id:"menu-simple-select-label",style:{fontSize:13},children:"Menu"}),Object(ce.jsxs)(Z.a,{labelId:"menu-simple-select-label",id:"menu-simple-select",value:Re,label:"Select Menu",onChange:function(e){var t=e.target.value;"All"!==t[t.length-1]?Ge(t):Ge(Re.length===Lb.length?[]:Lb)},style:{fontSize:13},multiple:!0,renderValue:function(e){return e.join(", ")},children:[Object(ce.jsxs)(B.a,{value:"All",classes:{root:We?s.areAllMenuSelected:""},style:{paddingBlock:0},children:[Object(ce.jsx)(k.a,{children:Object(ce.jsx)(Pa.a,{style:{paddingBlock:0},size:"small",color:"primary",classes:{indeterminate:s.indeterminateColor},checked:We,indeterminate:Re.length>0&&Re.length<Lb.length})}),Object(ce.jsx)(w.a,{classes:{primary:s.listItemText},primary:"Select All",style:{paddingTop:".05rem"}})]}),Lb.map((function(e){return Object(ce.jsxs)(B.a,{value:e,style:{paddingBlock:0},children:[Object(ce.jsx)(k.a,{children:Object(ce.jsx)(Pa.a,{style:{paddingBlock:0},checked:Re.indexOf(e)>-1,size:"small",color:"primary"})}),Object(ce.jsx)(w.a,{classes:{primary:s.listItemText},primary:e,style:{paddingTop:".05rem"}})]},e)}))]})]})}),Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsxs)(v.a,{children:[Object(ce.jsx)(Aa.a,{id:"profile-simple-select-label",style:{fontSize:13},children:"Profile"}),Object(ce.jsxs)(Z.a,{labelId:"profile-simple-select-label",style:{fontSize:13},id:"profile-simple-select",value:W,label:"Select Profile",onChange:function(e){Y(e.target.value)},children:[Object(ce.jsx)(B.a,{value:"National Head",children:"National Head\u2003"}),Object(ce.jsx)(B.a,{value:"Zonal Head",children:"Zonal Head\u2003"}),Object(ce.jsx)(B.a,{value:"Cluster Head",children:"Cluster Head\u2003"}),Object(ce.jsx)(B.a,{value:"Plant Head",children:"Plant Head\u2003"}),Object(ce.jsx)(B.a,{value:"Engineer",children:"Engineer\u2003"})]})]})}),Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsxs)(v.a,{children:[Object(ce.jsx)(Aa.a,{id:"role-simple-select-label",style:{fontSize:13},children:"Role"}),Object(ce.jsxs)(Z.a,{labelId:"role-simple-select-label",id:"role-simple-select",value:z,label:"Select Role",style:{fontSize:13},onChange:function(e){M(e.target.value)},children:[Object(ce.jsx)(B.a,{value:"user",children:"User\u2003"}),Object(ce.jsx)(B.a,{value:"admin",children:"Admin\u2003"})]})]})}),Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsxs)(v.a,{style:{maxWidth:"12rem"},children:[Object(ce.jsx)(Aa.a,{id:"notifications-simple-select-label",style:{fontSize:13},children:"Notifications"}),Object(ce.jsxs)(Z.a,{labelId:"notifications-simple-select-label",id:"notifications-simple-select",value:Q,style:{fontSize:13},label:"Select Notifications",onChange:function(e){ee(e.target.value)},multiple:!0,renderValue:function(e){return e.join(", ")},children:[Object(ce.jsxs)(B.a,{value:"All",classes:{root:He?s.isAllNotificationsSelected:""},style:{paddingBlock:0},children:[Object(ce.jsx)(k.a,{children:Object(ce.jsx)(Pa.a,{style:{paddingBlock:0},size:"small",color:"primary",classes:{indeterminate:s.indeterminateColor},checked:He,indeterminate:Q.length>0&&Q.length<Db.length})}),Object(ce.jsx)(w.a,{classes:{primary:s.listItemText},primary:"Select All",style:{paddingTop:".05rem"}})]}),Db.map((function(e){return Object(ce.jsxs)(B.a,{value:e,style:{paddingBlock:0},children:[Object(ce.jsx)(k.a,{children:Object(ce.jsx)(Pa.a,{style:{paddingBlock:0},checked:Q.indexOf(e)>-1,size:"small",color:"primary"})}),Object(ce.jsx)(w.a,{classes:{primary:s.listItemText},primary:e,style:{paddingTop:".05rem"}})]},e)}))]})]})})]}),Object(ce.jsxs)(C.a,{spacing:2,container:!0,direction:"row",justifyContent:"flex-start",alignItems:"flex-start",children:[Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsxs)(v.a,{style:{maxWidth:"12rem"},children:[Object(ce.jsx)(Aa.a,{id:"alerts-simple-select-label",style:{fontSize:13},children:"Alerts"}),Object(ce.jsxs)(Z.a,{labelId:"alerts-simple-select-label",id:"alerts-simple-select",value:ne,style:{fontSize:13},label:"Select Alerts",onChange:function(e){ie(e.target.value)},multiple:!0,renderValue:function(e){return e.join(", ")},children:[Object(ce.jsxs)(B.a,{value:"All",classes:{root:_e?s.isAllAlertsSelected:""},style:{paddingBlock:0},children:[Object(ce.jsx)(k.a,{children:Object(ce.jsx)(Pa.a,{style:{paddingBlock:0},size:"small",color:"primary",classes:{indeterminate:s.indeterminateColor},checked:_e,indeterminate:ne.length>0&&ne.length<Pb.length})}),Object(ce.jsx)(w.a,{classes:{primary:s.listItemText},primary:"Select All",style:{paddingTop:".05rem"}})]}),Pb.map((function(e){return Object(ce.jsxs)(B.a,{value:e,style:{paddingBlock:0},children:[Object(ce.jsx)(k.a,{children:Object(ce.jsx)(Pa.a,{style:{paddingBlock:0},checked:ne.indexOf(e)>-1,size:"small",color:"primary"})}),Object(ce.jsx)(w.a,{classes:{primary:s.listItemText},primary:e,style:{paddingTop:".05rem"}})]},e)}))]})]})}),Object(ce.jsx)(C.a,{item:!0,children:!c&&Object(ce.jsx)(x.a,{variant:"contained",color:"primary",size:"small",onClick:function(){if(et(!0),!A||""===A.firstname||""===A.lastname||""===A.email||""===ke)return ue((function(e){return Object(h.a)(Object(h.a)({},e),{},{open:!0})})),void et(!1);X.a.post(K+"/user/manage/create",{firstname:A.firstname,lastname:A.lastname,email:A.email,password:ke,role:z,locations:Ve,menu:Re,status:"active",previousEmail:qe,employeerole:W,notificationtype:Q,alerttype:ne},{headers:{jwtToken:localStorage.getItem("userToken")}}).then((function(e){ue((function(e){return Object(h.a)(Object(h.a)({},e),{},{open:!0,message:"User: ".concat(A.firstname," ").concat(A.lastname," with email: ").concat(A.email," created successfully!"),severity:"success"})})),et(!1),Ke()})).catch((function(){ue((function(e){return Object(h.a)(Object(h.a)({},e),{},{open:!0,message:"Insert failed! Try again.",severity:"error"})})),et(!1)}))},disabled:Qe,style:{fontSize:"11px",marginTop:"1rem"},children:"Create"})}),Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(x.a,{variant:"contained",color:"primary",size:"small",onClick:function(){if(it(!0),r(!1),!A||""===A.firstname||""===A.lastname||""===A.email)return ue((function(e){return Object(h.a)(Object(h.a)({},e),{},{open:!0,message:"All the fields are mendatory except password!"})})),void it(!1);X.a.post(K+"/user/manage",{firstname:A.firstname,lastname:A.lastname,email:A.email,password:ke,role:z,locations:Ve,menu:Re,status:le,previousEmail:qe,employeerole:W,notificationtype:Q,alerttype:ne},{headers:{jwtToken:localStorage.getItem("userToken")}}).then((function(e){ue((function(e){return Object(h.a)(Object(h.a)({},e),{},{open:!0,message:"User: ".concat(A.firstname," ").concat(A.lastname," with email: ").concat(A.email," updated successfully!"),severity:"success"})})),E((function(e){var t={};return Object.keys(e).forEach((function(e){t=Object(h.a)(Object(h.a)({},t),{},Object(m.a)({},e,""))})),t})),r(!1),it(!1),Ke()})).catch((function(){ue((function(e){return Object(h.a)(Object(h.a)({},e),{},{open:!0,message:"Update failed! Try again.",severity:"error"})})),r(!1),it(!1)}))},disabled:nt,style:{fontSize:"11px",marginTop:"1rem"},children:"Update"})}),Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(x.a,{variant:"contained",color:"primary",size:"small",onClick:Ke,style:{fontSize:"11px",marginTop:"1rem"},children:"Clear"})}),Object(ce.jsx)(C.a,{item:!0,style:{marginLeft:"30rem"},children:Object(ce.jsx)(Nb.a,{id:"search",placeholder:"Enter first name",inputProps:{style:{fontSize:13}},value:gt,onChange:function(e){xt(e.target.value)},style:{maxWidth:"8rem",marginTop:"1rem"}})}),Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(x.a,{variant:"outlined",size:"small",onClick:function(){if(""===gt&&j)return I((function(){return j.length,0})),void S(j);var e=g.filter((function(e){var t=String(e.firstname).toLowerCase().trim(),a=String(gt).toLowerCase().trim();return String(t).includes(a)}));S(e),I((function(){return e.length,0}))},style:{fontSize:"11px",marginTop:"1rem"},children:"Search"})})]}),Object(ce.jsxs)(C.a,{container:!0,children:[Object(ce.jsx)(pe.a,{component:he.a,style:{maxWidth:"91vw",marginTop:"0.8rem"},children:Object(ce.jsxs)(ge.a,{stickyHeader:!0,size:"small","aria-label":"simple table",children:[Object(ce.jsx)(fe.a,{children:Object(ce.jsxs)(ve.a,{style:{backgroundColor:"#ffffbf"},children:[Object(ce.jsx)(Gb,{children:"Sr. No."}),Object(ce.jsx)(Gb,{children:Object(ce.jsx)("span",{onClick:function(e){return bt(0,"email","emailHeader")},id:"emailHeader",className:"header",children:"Email"})}),Object(ce.jsx)(Gb,{children:Object(ce.jsx)("span",{onClick:function(e){return bt(0,"name","nameHeader")},id:"nameHeader",className:"header",children:"Name"})}),Object(ce.jsx)(Gb,{children:Object(ce.jsx)("span",{onClick:function(e){return bt(0,"role","roleHeader")},id:"roleHeader",className:"header",children:"User Type"})}),Object(ce.jsx)(Gb,{children:Object(ce.jsx)("span",{onClick:function(e){return bt(0,"locations","locationsHeader")},id:"locationsHeader",className:"header",children:"Sites"})}),Object(ce.jsx)(Gb,{children:Object(ce.jsx)("span",{onClick:function(e){return bt(0,"timestamp","timestampHeader")},id:"timestampHeader",className:"header",children:"Login Date/Time"})}),Object(ce.jsx)(Gb,{children:Object(ce.jsx)("span",{style:{paddingLeft:"2rem"},children:"Action"})}),Object(ce.jsx)(Gb,{children:Object(ce.jsx)("span",{style:{paddingLeft:"2rem"},children:"Status"})})]})}),Object(ce.jsx)(xe.a,{children:(D>0?g.slice(T*D,T*D+D):g).map((function(e,t){return Object(ce.jsxs)(ve.a,{sx:{"&:last-child td, &:last-child th":{border:0}},style:{backgroundColor:A&&e.email===A.email?"lightblue":"white"},children:[Object(ce.jsx)(Gb,{style:{color:"#000"},children:Object(ce.jsx)(C.a,{container:!0,children:10*T+t+1})}),Object(ce.jsx)(Gb,{style:{color:"#000"},children:Object(ce.jsx)(C.a,{container:!0,children:e.email})}),Object(ce.jsxs)(Gb,{style:{color:"#000"},children:[e.firstname,"\xa0",e.lastname]}),Object(ce.jsxs)(Gb,{style:{color:"#000"},children:[String(e.role).charAt(0).toUpperCase(),String(e.role).slice(1)]}),Object(ce.jsx)(Gb,{style:{color:"#000"},children:e.locations.length}),Object(ce.jsx)(Gb,{style:{color:"#000"},children:null===e.timestamp?"x":new Date(Number(1e3*e.timestamp)).toLocaleString()}),Object(ce.jsxs)(Gb,{style:{color:"#000"},children:[Object(ce.jsx)(Dt.a,{title:"Enable/Disable",placement:"bottom",children:Object(ce.jsx)(yt.a,{checked:"active"===e.status,onChange:function(t){return function(e,t){var a=e.target.checked?"active":"inactive";mt(t.email,a)}(t,e)},color:"primary",name:"statusSwitch",size:"small"},t)}),Object(ce.jsx)(Dt.a,{title:"Edit",placement:"bottom",children:Object(ce.jsx)(y.a,{size:"small",onClick:function(){return function(e){r(!0);var t=j.find((function(t){return t.email===e}));Ue(null===t||void 0===t?void 0:t.email),E(t),M(null===t||void 0===t?void 0:t.role),Y(null===t||void 0===t?void 0:t.employeerole),oe(String(null===t||void 0===t?void 0:t.status).toLowerCase()),Ae(null===t||void 0===t?void 0:t.locations),Ge(null===t||void 0===t?void 0:t.menu)}(e.email)},style:{paddingInline:".5rem"},children:Object(ce.jsx)(Vb.a,{fontSize:"small"})})}),Object(ce.jsx)(Dt.a,{title:"Delete",placement:"bottom",children:Object(ce.jsx)(y.a,{size:"small",onClick:function(){return function(e){it(!0),window.confirm("Delete user: ".concat(e.email,", are you sure?"))?X.a.post(K+"/user/delete",{email:e.email},{headers:{jwtToken:localStorage.getItem("userToken")}}).then((function(t){ue((function(t){return Object(h.a)(Object(h.a)({},t),{},{open:!0,message:"User: ".concat(e.firstname," ").concat(e.lastname," with email: ").concat(e.email," deleted successfully!"),severity:"success"})})),E(""),Ke(),it(!1)})).catch((function(){ue((function(e){return Object(h.a)(Object(h.a)({},e),{},{open:!0,message:"Delete failed!",severity:"error"})})),it(!1)})):it(!1)}(e)},color:"secondary",children:Object(ce.jsx)(_b.a,{fontSize:"small"})})})]}),Object(ce.jsx)(Gb,{style:{color:"#000"},children:e.action_by})]},t)}))})]})}),Object(ce.jsx)(C.a,{container:!0,justify:"flex-end",style:{marginTop:"0rem",marginRight:"0.5rem"},children:Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)("div",{className:s.paginationicon,children:Object(ce.jsx)(zb.a,{rowsPerPageOptions:[10,20,30,{label:"All",value:-1}],colSpan:3,count:g.length,rowsPerPage:D,page:T,classes:{menuItem:s.menuItem,selectBack:s.selectDropdown,sp:s.tablePagination,caption:s.tablePaginationCaption,selectIcon:s.tablePaginationSelectIcon,select:s.tablePaginationSelect,actions:s.tablePaginationActions},onChangePage:function(e,t){I(t)},onChangeRowsPerPage:function(e){P(parseInt(e.target.value,10)),I(0)}})})})})]}),Object(ce.jsxs)(C.a,{container:!0,style:{marginTop:"1rem"},children:[Object(ce.jsx)(C.a,{item:!0,xs:"11",children:Object(ce.jsx)(C.a,{container:!0,justify:"center"})}),Object(ce.jsx)(C.a,{item:!0,xs:1,children:Object(ce.jsx)(C.a,{container:!0,justify:"flex-end",style:{paddingRight:"1rem"}})})]}),Object(ce.jsx)(J.a,{open:be.open,autoHideDuration:4e3,onClose:Oe,anchorOrigin:{horizontal:"left",vertical:"bottom"},children:Object(ce.jsx)($.a,{onClose:Oe,severity:be.severity,sx:{width:"100%"},children:be.message})})]})};function Xb(e,t,a,n,i){return{name:e,calories:t,fat:a,carbs:n,protein:i}}Xb("Frozen yoghurt",159,6,24,4),Xb("Ice cream sandwich",237,9,37,4.3),Xb("Eclair",262,16,24,6),Xb("Cupcake",305,3.7,67,4.3),Xb("Gingerbread",356,16,49,3.9);function Yb(e){var t=e.data,a=e.updateInverter,i=Object(n.useState)(0),c=Object(u.a)(i,2),r=c[0],s=c[1],l=Object(n.useState)(0),o=Object(u.a)(l,2),j=o[0],d=o[1],b=Object(n.useState)([]),m=Object(u.a)(b,2),h=m[0],O=m[1];Object(n.useEffect)((function(){t&&(s((function(){return t.length>0?1:0})),d((function(){return t.length>0?Math.ceil(t.length/10):0})),O((function(){return t.length>0?t.slice(0,10):[]})))}),[t]);return Object(ce.jsxs)(C.a,{container:!0,children:[Object(ce.jsx)(pe.a,{component:he.a,style:{maxWidth:"89vw"},children:Object(ce.jsxs)(ge.a,{size:"small","aria-label":"simple table",children:[Object(ce.jsx)(fe.a,{children:Object(ce.jsxs)(ve.a,{style:{backgroundColor:"#ffffbf"},children:[Object(ce.jsx)(Se.a,{style:{zIndex:101,color:"#000"},children:"Action"}),Object(ce.jsx)(Se.a,{style:{color:"#000"},children:"Id"}),Object(ce.jsx)(Se.a,{style:{color:"#000"},children:"Site"}),Object(ce.jsx)(Se.a,{style:{color:"#000"},children:"Block"}),Object(ce.jsx)(Se.a,{style:{color:"#000"},children:"Inverter"}),Object(ce.jsx)(Se.a,{style:{color:"#000"},children:"Group"}),Object(ce.jsx)(Se.a,{style:{color:"#000"},children:"Make"}),Object(ce.jsx)(Se.a,{style:{color:"#000"},children:"Number"}),Object(ce.jsx)(Se.a,{style:{color:"#000"},children:"Type"}),Object(ce.jsx)(Se.a,{style:{color:"#000"},children:"Slots"}),Object(ce.jsx)(Se.a,{style:{whiteSpace:"nowrap",color:"#000"},children:"SCB Connected"}),Object(ce.jsx)(Se.a,{style:{whiteSpace:"nowrap",color:"#000"},children:"Strings Connected"}),Object(ce.jsx)(Se.a,{style:{whiteSpace:"nowrap",color:"#000"},children:"Module Make"}),Object(ce.jsx)(Se.a,{style:{whiteSpace:"nowrap",color:"#000"},children:"Module Rating"}),Object(ce.jsx)(Se.a,{style:{whiteSpace:"nowrap",color:"#000"},children:"AC Capacity"}),Object(ce.jsx)(Se.a,{style:{whiteSpace:"nowrap",color:"#000"},children:"DC Capacity"}),Object(ce.jsx)(Se.a,{style:{whiteSpace:"nowrap",color:"#000"},children:"DA Ratio"}),Object(ce.jsx)(Se.a,{style:{whiteSpace:"nowrap",color:"#000"},children:"DC overloading"}),Object(ce.jsx)(Se.a,{style:{whiteSpace:"nowrap",color:"#000"},children:"Peak 1"}),Object(ce.jsx)(Se.a,{style:{whiteSpace:"nowrap",color:"#000"},children:"Peak 2"}),Object(ce.jsx)(Se.a,{style:{whiteSpace:"nowrap",color:"#000"},children:"Omega Id"}),Object(ce.jsx)(Se.a,{style:{whiteSpace:"nowrap",color:"#000"},children:"Tech Name"}),Object(ce.jsx)(Se.a,{style:{whiteSpace:"nowrap",color:"#000"},children:"Tech Mob"}),Object(ce.jsx)(Se.a,{style:{whiteSpace:"nowrap",color:"#000"},children:"Tech Email"}),Object(ce.jsx)(Se.a,{style:{whiteSpace:"nowrap",color:"#000"},children:"Clipping Threshold"})]})}),Object(ce.jsx)(xe.a,{children:h.map((function(e,t){return Object(ce.jsxs)(ve.a,{sx:{"&:last-child td, &:last-child th":{border:0}},children:[Object(ce.jsx)(Se.a,{style:{zIndex:1},children:Object(ce.jsx)(y.a,{size:"small",onClick:function(){return function(e){var t=JSON.parse(localStorage.getItem("userDetails"));"admin"===t.role&&("sumit.datablare@gmail.com"===t.email||"veerpratap@acme.in"===t.email||"aman@datablare.com"===t.email)||"acmeace@acme.in"===t.email?a(e):window.alert("The update is not allowed.")}(e)},style:{paddingInline:".5rem"},children:Object(ce.jsx)(Vb.a,{fontSize:"small"})})}),Object(ce.jsx)(Se.a,{component:"th",scope:"row",children:e.id}),Object(ce.jsx)(Se.a,{children:e.sitename}),Object(ce.jsx)(Se.a,{children:e.block}),Object(ce.jsx)(Se.a,{children:e.inverter}),Object(ce.jsx)(Se.a,{style:{whiteSpace:"nowrap"},children:e.inv_group}),Object(ce.jsx)(Se.a,{children:e.inverter_make}),Object(ce.jsx)(Se.a,{children:e.inverter_num}),Object(ce.jsx)(Se.a,{style:{whiteSpace:"nowrap"},children:e.inverter_type}),Object(ce.jsx)(Se.a,{children:e.slots}),Object(ce.jsx)(Se.a,{children:e.scb_connected}),Object(ce.jsx)(Se.a,{children:e.strings_connected}),Object(ce.jsx)(Se.a,{style:{whiteSpace:"nowrap"},children:e.connected_module_make}),Object(ce.jsx)(Se.a,{children:e.module_rating}),Object(ce.jsx)(Se.a,{children:e.ac_capacity_kw}),Object(ce.jsx)(Se.a,{children:e.dc_capacity_kw}),Object(ce.jsx)(Se.a,{children:e.da_ratio}),Object(ce.jsx)(Se.a,{children:e.dc_overloading}),Object(ce.jsx)(Se.a,{children:e.peak1}),Object(ce.jsx)(Se.a,{children:e.peak2}),Object(ce.jsx)(Se.a,{children:e.omegaid}),Object(ce.jsx)(Se.a,{children:e.techname}),Object(ce.jsx)(Se.a,{children:e.techmob}),Object(ce.jsx)(Se.a,{children:e.email}),Object(ce.jsx)(Se.a,{children:e.clipping_threshold})]},e.id)}))})]})}),Object(ce.jsx)(C.a,{container:!0,justifyContent:"flex-end",style:{marginTop:".25rem"},children:Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(mi.a,{count:j,page:r,onChange:function(e,a){var n=t.slice(10*(a-1),10*a);O(n),s(a)},shape:"rounded"})})})]})}function qb(e){var t=e.updateInverter,a=(e.refreshInverterTable,$e().setEnabledLinearProgress),i=Object(n.useState)(!1),c=Object(u.a)(i,2),r=c[0],s=c[1],l=Object(n.useState)(Vj),o=Object(u.a)(l,2),j=o[0],d=o[1],b=Object(n.useState)(j[0].name),m=Object(u.a)(b,2),h=m[0],O=m[1],g=JSON.parse(localStorage.getItem("siteNamesAndBlocks")),S=Object(n.useState)(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g;return e.map((function(e){return e.name}))}()),p=Object(u.a)(S,2),f=p[0],v=(p[1],Object(n.useState)(j[0].blocks.map((function(e){return e.name})))),y=Object(u.a)(v,2),T=y[0],I=y[1],k=Object(n.useState)(["I01"]),w=Object(u.a)(k,2),N=w[0],B=w[1],L=Object(n.useState)([]),D=Object(u.a)(L,2),P=D[0],F=D[1],V=Object(n.useState)([]),A=Object(u.a)(V,2),E=A[0],H=A[1],_=Object(n.useState)(""),z=Object(u.a)(_,2),M=z[0],R=z[1];Object(n.useEffect)((function(){X.a.post(K+"/manageinverters/inverters").then((function(e){var t=e.data.sort((function(e,t){return e.name>t.name?1:t.name>e.name?-1:0}));d(t),O(t[0].name),I(t[0].blocks.map((function(e){return e.name})))}))}),[]);var G=function(){var e=[];try{var t=j.find((function(e){return e.name===h})).blocks.find((function(e){return e.name===T[0]})),a=T.length>1?["All"]:null===t||void 0===t?void 0:t.inverters.map((function(e){return e.name}));e=a.length>0?a.sort():[]}catch(n){e=[]}return e};return Object(ce.jsxs)(ce.Fragment,{children:[Object(ce.jsxs)(C.a,{container:!0,justifyContent:"space-between",style:{paddingRight:"2rem"},alignItems:"flex-end",children:[Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsxs)(C.a,{container:!0,spacing:2,alignItems:"flex-end",children:[Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(zj,{label:"Site",items:f,handleChange:function(e){var t=e.target.value;O(t),I(j.find((function(e){return e.name===t})).blocks.map((function(e){return e.name})))},selectedItem:h})}),Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(Po,{label:"Block",items:j.find((function(e){return e.name===h}))?j.find((function(e){return e.name===h})).blocks.map((function(e){return e.name})):[],handleChange:function(e){var t=e.target.value;"all"!==t[t.length-1]?I(t):I(T.length===j.find((function(e){return e.name===h})).blocks.length?[]:j.find((function(e){return e.name===h})).blocks.map((function(e){return e.name})))},selectedItems:T})}),Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(Po,{label:"Inverter",items:G(),handleChange:function(e){var t=e.target.value.sort();"all"!==t[t.length-1]?B(t):0===N.length?B(G()):B([])},selectedItems:T.length>1?["All"]:N})}),Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(x.a,{variant:"outlined",size:"small",color:"primary",onClick:function(){a(!0),s(!0),X.a.post(K+"/manageinverters/view",{sites:h,blocks:T,inverters:T.length>1?["all"]:N}).then((function(e){F(e.data),H(e.data),s(!1),a(!1)})).catch((function(e){console.log(e),s(!1),a(!1)}))},disabled:r,children:r?"Loading":"View"})})]})}),Object(ce.jsxs)(C.a,{item:!0,children:[Object(ce.jsx)(Nb.a,{id:"search",placeholder:"Enter inverter",value:M,onChange:function(e){var t=e.target.value;R(t)},style:{maxWidth:"8rem",marginRight:".5rem"}}),Object(ce.jsx)(x.a,{variant:"outlined",size:"small",onClick:function(){if(""!==M){var e=P.filter((function(e){return String(e.inverter).toLowerCase()===String(M).toLowerCase()}));F(e)}else F(E)},children:"Search"})]})]}),Object(ce.jsx)(C.a,{container:!0,style:{marginTop:".5rem",paddingRight:"1rem"},children:Object(ce.jsx)(Yb,{data:P,updateInverter:t})})]})}var Ub=a(317),Kb=a.n(Ub),Zb=a(318),Jb=a.n(Zb),$b=Object(D.a)((function(e){return{root:{"& > *":{margin:e.spacing(.5),width:"54ch"}},field:{marginTop:20,marginBottom:20,display:"block"},heading:{fontSize:e.typography.pxToRem(11),fontWeight:e.typography.fontWeightRegular},msg:{fontSize:e.typography.pxToRem(11),fontWeight:e.typography.fontWeightRegular,color:"#2196f3"}}}));function Qb(e){var t=e.handleClose,a=e.open,i=e.sendNotemsg,c=(e.getNotemsg,e.notemsg),r=e.showNotemsg,s=e.setNotemsg,l=(e.setOpen,e.setMsgid),o=e.deleteNotemsg,j=e.setAlertopen,d=e.alertopen,b=$b(),m=Object(n.useState)(!1),h=Object(u.a)(m,2),O=h[0],g=h[1],S=Object(n.useState)("0"),p=Object(u.a)(S,2),f=p[0],v=p[1],T=function(){j(!1)};return Object(ce.jsxs)(ce.Fragment,{children:[Object(ce.jsx)(Gt.a,{onClose:t,"aria-labelledby":"simple-dialog-title",open:a,children:Object(ce.jsxs)(Wt.a,{style:{width:"30rem"},children:[Object(ce.jsxs)(C.a,{container:!0,style:{flexDirection:"row",justifyContent:"space-between",alignItems:"center"},children:[Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(V.a,{variant:"h6",color:"primary",component:"h2",gutterBottom:!0,children:"Create a new note"})}),Object(ce.jsx)(C.a,{item:!0,style:{paddingRight:"0.5rem"},children:Object(ce.jsx)(Yt.a,{style:{color:"#EC7063"},onClick:t,"aria-label":"close"})})]}),Object(ce.jsxs)("form",{noValidate:!0,className:b.root,autoComplete:"off",onSubmit:function(e){e.preventDefault(),g(!1),""===c&&g(!0),c&&i()},children:[Object(ce.jsx)(Nb.a,{onChange:function(e){var t=e.target.value;s(t)},label:"Details",multiline:!0,rows:4,variant:"outlined",color:"primary",fullWidth:!0,required:!0,className:b.field,error:O,InputLabelProps:{style:{marginTop:"4px"}}}),Object(ce.jsx)(x.a,{type:"submit",color:"primary",variant:"contained",style:{marginTop:"-0.8rem"},endIcon:Object(ce.jsx)(Kb.a,{}),children:"Submit"})]}),Object(ce.jsx)(C.a,{container:!0,style:{marginTop:"0.5rem",paddingLeft:"0.4rem"},children:r.map((function(e){return Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsxs)(qt.a,{style:{width:"13rem"},expanded:f===e.id,children:[Object(ce.jsxs)(Ut.a,{expandIcon:Object(ce.jsx)(M.a,{color:f===e.id?"primary":"inherit",onClick:function(){return v((function(t){return t===e.id?"0":e.id}))}}),ariaControls:"".concat(e.id,"_panel1a-content"),id:"".concat(e.id,"_panel1a-id"),children:[Object(ce.jsx)(V.a,{className:b.heading,children:new Date(Number(e.timestamp)).toLocaleString()}),Object(ce.jsx)(y.a,{size:"small",onClick:function(){return function(e){j(!0),l(e)}(e)},style:{paddingInline:".5rem",paddingLeft:"0.5rem"},children:Object(ce.jsx)(Jb.a,{style:{fontSize:"1rem"},color:"error"})})]}),Object(ce.jsx)(Kt.a,{children:Object(ce.jsx)(V.a,{className:b.msg,children:e.notes})})]},e.id)})}))}),Object(ce.jsx)("br",{})]})}),Object(ce.jsx)("div",{children:Object(ce.jsxs)(Gt.a,{open:d,onClose:T,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(ce.jsx)(Zt.a,{children:Object(ce.jsx)(Jt.a,{id:"alert-dialog-description",children:"Are You Sure Want To Delete?"})}),Object(ce.jsxs)($t.a,{children:[Object(ce.jsx)(x.a,{onClick:o,color:"primary",autoFocus:!0,children:"Ok"}),Object(ce.jsx)(x.a,{onClick:T,color:"primary",children:"Cancel"})]})]})})]})}function eu(e,t,a,n,i){return{name:e,calories:t,fat:a,carbs:n,protein:i}}eu("Frozen yoghurt",159,6,24,4),eu("Ice cream sandwich",237,9,37,4.3),eu("Eclair",262,16,24,6),eu("Cupcake",305,3.7,67,4.3),eu("Gingerbread",356,16,49,3.9);function tu(e){var t=e.data,a=e.updateSite,i=e.handleClickOpen,c=(e.sendNotemsg,Object(n.useState)(0)),r=Object(u.a)(c,2),s=r[0],l=r[1],o=Object(n.useState)(0),j=Object(u.a)(o,2),d=j[0],b=j[1],m=Object(n.useState)([]),h=Object(u.a)(m,2),O=h[0],g=h[1];Object(n.useEffect)((function(){t&&(l((function(){return t.length>0?1:0})),b((function(){return t.length>0?Math.ceil(t.length/10):0})),g((function(){return t.length>0?t.slice(0,10):[]})))}),[t]);return Object(ce.jsxs)(C.a,{container:!0,children:[Object(ce.jsx)(pe.a,{component:he.a,style:{maxWidth:"91vw"},children:Object(ce.jsxs)(ge.a,{size:"small","aria-label":"simple table",children:[Object(ce.jsx)(fe.a,{children:Object(ce.jsxs)(ve.a,{style:{backgroundColor:"#ffffbf"},children:[Object(ce.jsx)(Se.a,{style:{zIndex:101},children:"Action"}),Object(ce.jsx)(Se.a,{style:{zIndex:101},children:"Note"}),Object(ce.jsx)(Se.a,{style:{color:"#000"},children:"Id"}),Object(ce.jsx)(Se.a,{style:{color:"#000"},children:"Site"}),Object(ce.jsx)(Se.a,{style:{color:"#000"},children:"Capacity"}),Object(ce.jsx)(Se.a,{style:{color:"#000"},children:"Blocks"}),Object(ce.jsx)(Se.a,{style:{color:"#000"},children:"Inverters"}),Object(ce.jsx)(Se.a,{style:{color:"#000"},children:"Status"}),Object(ce.jsx)(Se.a,{style:{whiteSpace:"nowrap",color:"#000"},children:"Billing Rates"}),Object(ce.jsx)(Se.a,{style:{whiteSpace:"nowrap",color:"#000"},children:"DB Pool"}),Object(ce.jsx)(Se.a,{style:{whiteSpace:"nowrap",color:"#000"},children:"System Id"}),Object(ce.jsx)(Se.a,{style:{whiteSpace:"nowrap",color:"#000"},children:"System Ip"}),Object(ce.jsx)(Se.a,{style:{color:"#000"},children:"National Head"}),Object(ce.jsx)(Se.a,{style:{color:"#000"},children:"Zonal Head"}),Object(ce.jsx)(Se.a,{style:{color:"#000"},children:"Plant Head"}),Object(ce.jsx)(Se.a,{style:{color:"#000"},children:"MobNo"}),Object(ce.jsx)(Se.a,{style:{color:"#000"},children:"HO Contact"}),Object(ce.jsx)(Se.a,{style:{color:"#000"},children:"Addl. Contact"}),Object(ce.jsx)(Se.a,{style:{color:"#000"},children:"Edited By"})]})}),Object(ce.jsx)(xe.a,{children:O.map((function(e,t){return Object(ce.jsxs)(ve.a,{sx:{"&:last-child td, &:last-child th":{border:0}},children:[Object(ce.jsx)(Se.a,{style:{zIndex:1},children:Object(ce.jsx)(y.a,{size:"small",onClick:function(){return function(e){var t=JSON.parse(localStorage.getItem("userDetails"));"admin"!==t.role||"sumit.datablare@gmail.com"!==t.email&&"veerpratap@acme.in"!==t.email&&"aman@datablare.com"!==t.email&&"acmeace@acme.in"!==t.email?window.alert("The update is not allowed."):a(e)}(e)},style:{paddingInline:".5rem"},children:Object(ce.jsx)(Vb.a,{fontSize:"small"})})}),Object(ce.jsx)(Se.a,{style:{zIndex:1},children:Object(ce.jsx)(y.a,{size:"small",onClick:function(){return i(e)},style:{paddingInline:".5rem"},children:Object(ce.jsx)(et.a,{fontSize:"small"})})}),Object(ce.jsx)(Se.a,{component:"th",scope:"row",children:e.id}),Object(ce.jsx)(Se.a,{children:e.sitename}),Object(ce.jsx)(Se.a,{children:e.capacity}),Object(ce.jsx)(Se.a,{children:e.totalblocks}),Object(ce.jsx)(Se.a,{children:e.inverters}),Object(ce.jsx)(Se.a,{children:e.status}),Object(ce.jsx)(Se.a,{children:e.billingrates}),Object(ce.jsx)(Se.a,{children:e.dbpool}),Object(ce.jsx)(Se.a,{style:{whiteSpace:"nowrap"},children:e.systemid}),Object(ce.jsx)(Se.a,{children:e.systemip}),Object(ce.jsx)(Se.a,{children:e.nationalhead_email}),Object(ce.jsx)(Se.a,{children:e.zonalhead_email}),Object(ce.jsx)(Se.a,{children:e.siteincharge_email}),Object(ce.jsx)(Se.a,{children:e.mob_no&&e.mob_no.length>0?e.mob_no.join(","):""}),Object(ce.jsx)(Se.a,{children:e.ho_coordinator}),Object(ce.jsx)(Se.a,{children:e.emails&&e.emails.length>0?e.emails.join(","):""}),Object(ce.jsx)(Se.a,{children:e.editedby})]},e.id)}))})]})}),Object(ce.jsx)(C.a,{container:!0,justify:"flex-end",style:{marginTop:".25rem",marginRight:"1.2rem"},children:Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(mi.a,{count:d,page:s,onChange:function(e,a){var n=t.slice(10*(a-1),10*a);g(n),l(a)},shape:"rounded"})})})]})}var au=n.forwardRef((function(e,t){return Object(ce.jsx)($.a,Object(h.a)({elevation:6,ref:t,variant:"filled"},e))}));function nu(e){var t=e.open,a=e.severity,n=e.message,i=e.handleToggle,c=function(e,t){"clickaway"!==t&&i(!1)};return Object(ce.jsx)(J.a,{open:t,autoHideDuration:4e3,onClose:c,anchorOrigin:{vertical:"bottom",horizontal:"left"},children:Object(ce.jsx)(au,{onClose:c,severity:a,sx:{width:"100%"},children:n})})}function iu(e){var t=e.refreshSiteEditTable,a=$e().setEnabledLinearProgress,c=i.a.useState(!1),r=Object(u.a)(c,2),s=r[0],l=r[1],o=Object(n.useState)({id:78,sitename:"Badisidd",systemid:"badisidd-20220623-00044",dbpool:"pool45",systemip:"192.168.215.200"}),j=Object(u.a)(o,2),d=j[0],b=j[1],O=Object(n.useState)(""),g=Object(u.a)(O,2),S=g[0],p=g[1],f=Object(n.useState)([]),y=Object(u.a)(f,2),T=y[0],I=y[1],k=Object(n.useState)(),w=Object(u.a)(k,2),N=w[0],L=w[1],D=i.a.useState(!1),P=Object(u.a)(D,2),F=P[0],V=P[1],A=Object(n.useState)([]),E=Object(u.a)(A,2),H=E[0],_=E[1],z=Object(n.useState)([]),M=Object(u.a)(z,2),R=M[0],G=M[1],W=Object(n.useState)(""),Y=Object(u.a)(W,2),q=Y[0],U=Y[1],J=(localStorage.getItem("userEmail"),Object(n.useState)({})),$=Object(u.a)(J,2),Q=$[0],ee=$[1],te=Object(n.useState)(!1),ae=Object(u.a)(te,2),ne=ae[0],ie=(ae[1],Object(n.useState)({open:!1,severity:"info",message:"snackbar"})),re=Object(u.a)(ie,2),se=re[0],le=re[1],oe=function(e,t){var a=e.target.value;ee("emails"===t||"mob_no"===t?function(e){return Object(h.a)(Object(h.a)({},e),{},Object(m.a)({},t,String(a).split(",")))}:function(e){return Object(h.a)(Object(h.a)({},e),{},Object(m.a)({},t,a))})},je=function(e){b(e),l(!0),be()},de=function(){a(!0),X.a.post(K+"/sitemaster/sitedetail",{email:localStorage.getItem("userEmail")}).then((function(e){var t=e.data.sort((function(e,t){return e.sitename>t.sitename?1:e.sitename<t.sitename?-1:0}));_(t),G(t),ee((function(e){var t={};return Object.keys(e).forEach((function(e){t=Object(h.a)(Object(h.a)({},t),{},Object(m.a)({},e,""))})),t})),a(!1)})).catch((function(e){a(!1)}))};Object(n.useEffect)((function(){de()}),[t]);var be=function(){a(!0),X.a.post(K+"/api/users/notes/get",{site:d}).then((function(e){var t=e.data;I(t),a(!1)})).catch((function(e){a(!1)}))};Object(n.useEffect)((function(){be()}),[d]);return Object(ce.jsxs)(ce.Fragment,{children:[Object(ce.jsx)(C.a,{container:!0,justify:"space-between",style:{paddingRight:"1.5rem"},children:Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsxs)(C.a,{container:!0,children:[Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(Dt.a,{title:"Site name",placement:"bottom",children:Object(ce.jsx)(Nb.a,{id:"site",placeholder:"Site name",value:Q.sitename,InputProps:{readOnly:!0},inputProps:{style:{fontSize:13}},onChange:function(e){return oe(e,"sitename")},style:{maxWidth:"4rem",marginRight:".5rem"}})})}),Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(Dt.a,{title:"Capacity",placement:"bottom",children:Object(ce.jsx)(Nb.a,{id:"capacity",placeholder:"Capacity",inputProps:{style:{fontSize:13}},value:Q.capacity,onChange:function(e){return oe(e,"capacity")},style:{maxWidth:"3.2rem",marginRight:".5rem"}})})}),Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(Dt.a,{title:"Billing Rate",placement:"bottom",children:Object(ce.jsx)(Nb.a,{id:"billingrate",placeholder:"Billing Rate",inputProps:{style:{fontSize:13}},value:Q.billingrates,onChange:function(e){return oe(e,"billingrates")},style:{maxWidth:"4.2rem",marginRight:".5rem"}})})}),Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(Dt.a,{title:"System IP",placement:"bottom",children:Object(ce.jsx)(Nb.a,{id:"systemIP",placeholder:"System IP",inputProps:{style:{fontSize:13}},value:Q.systemip,onChange:function(e){return oe(e,"systemip")},style:{maxWidth:"6.2rem",marginRight:".5rem"}})})}),Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(v.a,{children:Object(ce.jsxs)(Z.a,{labelId:"status-select-label",id:"status-select",value:Q.status,onChange:function(e){return oe(e,"status")},defaultValue:"Active",style:{fontSize:"13px",maxWidth:"3.8rem"},children:[Object(ce.jsx)(B.a,{value:"Active",children:"Active"}),Object(ce.jsx)(B.a,{value:"Inactive",children:"Inactive"})]})})}),Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(Dt.a,{title:"National Head",placement:"bottom",children:Object(ce.jsx)(Nb.a,{id:"nationalhead_email",placeholder:"National Head",inputProps:{style:{fontSize:13}},value:Q.nationalhead_email,onChange:function(e){return oe(e,"nationalhead_email")},style:{maxWidth:"5.5rem",marginRight:".5rem",marginLeft:".5rem"}})})}),Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(Dt.a,{title:"Zonal Head",placement:"bottom",children:Object(ce.jsx)(Nb.a,{id:"zonalhead_email",placeholder:"Zonal Head",inputProps:{style:{fontSize:13}},value:Q.zonalhead_email,onChange:function(e){return oe(e,"zonalhead_email")},style:{maxWidth:"5rem",marginRight:".5rem"}})})}),Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(Dt.a,{title:"Plant Head",placement:"bottom",children:Object(ce.jsx)(Nb.a,{id:"siteincharge_email",placeholder:"Plant Head",inputProps:{style:{fontSize:13}},value:Q.siteincharge_email,onChange:function(e){return oe(e,"siteincharge_email")},style:{maxWidth:"5rem",marginRight:".5rem"}})})}),Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(Dt.a,{title:"MobNo",placement:"bottom",children:Object(ce.jsx)(Nb.a,{id:"mob_no",placeholder:"MobNo",inputProps:{style:{fontSize:13}},value:Q.mob_no,onChange:function(e){return oe(e,"mob_no")},style:{maxWidth:"5rem",marginRight:".5rem"}})})}),Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(Dt.a,{title:"HO Contacts",placement:"bottom",children:Object(ce.jsx)(Nb.a,{id:"ho_Coordinator",placeholder:"HO Contacts",inputProps:{style:{fontSize:13}},value:Q.ho_coordinator,onChange:function(e){return oe(e,"ho_coordinator")},style:{maxWidth:"5rem",marginRight:".5rem"}})})}),Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(Dt.a,{title:"Addl. Contact",placement:"bottom",children:Object(ce.jsx)(Nb.a,{id:"add_contact",placeholder:"Addl. Contact",inputProps:{style:{fontSize:13}},value:Q.emails,onChange:function(e){return oe(e,"emails")},style:{maxWidth:"6rem"}})})}),Object(ce.jsx)(C.a,{item:!0,style:{marginLeft:".5rem"},children:Object(ce.jsx)(x.a,{variant:"outlined",color:"primary",size:"small",onClick:function(){a(!0),X.a.post(K+"/sitemaster/edit",Object(h.a)(Object(h.a)({},Q),{},{email:localStorage.getItem("userEmail")}),{jwtToken:localStorage.getItem("userToken")}).then((function(e){le((function(e){return Object(h.a)(Object(h.a)({},e),{},{open:!0,severity:"success",message:"Site: ".concat(Q.sitename," updated!")})})),ee((function(e){var t={};return Object.keys(e).forEach((function(e){t=Object(h.a)(Object(h.a)({},t),{},Object(m.a)({},e,""))})),t})),de(),a(!1)})).catch((function(e){le((function(e){return Object(h.a)(Object(h.a)({},e),{},{open:!0,severity:"error",message:"Update failed!"})})),de(),a(!1)}))},disable:ne,style:{fontSize:"11px"},children:ne?"Updating":"Update"})}),Object(ce.jsxs)(C.a,{item:!0,style:{marginLeft:"0.5rem"},children:[Object(ce.jsx)(Dt.a,{title:"Enter site",placement:"bottom",children:Object(ce.jsx)(Nb.a,{id:"search",placeholder:"Enter site",inputProps:{style:{fontSize:13}},value:q,onChange:function(e){var t=e.target.value;U(t)},style:{maxWidth:"5rem",marginRight:"0.5rem"}})}),Object(ce.jsx)(x.a,{variant:"outlined",style:{fontSize:"11px",marginRight:"0.5rem"},size:"small",onClick:function(){if(""!==q){var e=R.filter((function(e){return String(e.sitename).toLowerCase().includes(String(q).toLowerCase())}));_(e)}else _(R)},children:"Search"})]})]})})}),Object(ce.jsx)(C.a,{container:!0,style:{marginTop:".5rem",paddingRight:"1rem"},children:Object(ce.jsx)(tu,{data:H,updateSite:function(e){ee(e)},handleClickOpen:je})}),Object(ce.jsx)(Qb,{notemsg:S,showNotemsg:T,sendNotemsg:function(){a(!0),X.a.post(K+"/api/users/notes/insert",{site:d,noteMsg:S}).then((function(e){be(),a(!1)})).catch((function(e){a(!1)}))},getNotemsg:be,setNotemsg:p,open:s,setOpen:l,handleClose:function(e){l(!1)},handleClickOpen:je,setMsgid:L,deleteNotemsg:function(){a(!0),X.a.post(K+"/api/users/notes/delete",{msgid:N}).then((function(e){e.data;be(),V(!1),a(!1)})).catch((function(e){a(!1)}))},setAlertopen:V,alertopen:F}),Object(ce.jsx)(nu,{open:se.open,severity:se.severity,message:se.message,handleToggle:function(e){le((function(t){return Object(h.a)(Object(h.a)({},t),{},{open:e})}))}})]})}function cu(e,t,a,n,i){return{name:e,calories:t,fat:a,carbs:n,protein:i}}cu("Frozen yoghurt",159,6,24,4),cu("Ice cream sandwich",237,9,37,4.3),cu("Eclair",262,16,24,6),cu("Cupcake",305,3.7,67,4.3),cu("Gingerbread",356,16,49,3.9);function ru(e){var t=e.data,a=(e.updateSite,Object(n.useState)(0)),i=Object(u.a)(a,2),c=i[0],r=i[1],s=Object(n.useState)(0),l=Object(u.a)(s,2),o=l[0],j=l[1],d=Object(n.useState)([]),b=Object(u.a)(d,2),m=b[0],h=b[1];Object(n.useEffect)((function(){t&&(r((function(){return t.length>0?1:0})),j((function(){return t.length>0?Math.ceil(t.length/12):0})),h((function(){return t.length>0?t.slice(0,12):[]})))}),[t]);var O=function(e){var t=new Date(e);return"".concat(String(t.getDate()).padStart(2,0),"/").concat(String(t.getMonth()+1).padStart(2,0)," ").concat(String(t.getHours()).padStart(2,0),":").concat(String(t.getMinutes()).padStart(2,0),":").concat(String(t.getHours()).padStart(2,0))},g=function(e){var t=String(e).split("-")[0];return t=t.charAt(0).toUpperCase()+t.slice(1)};return Object(ce.jsxs)(C.a,{container:!0,children:[Object(ce.jsx)(pe.a,{component:he.a,style:{maxWidth:"89vw"},children:Object(ce.jsxs)(ge.a,{size:"small","aria-label":"simple table",children:[Object(ce.jsx)(fe.a,{children:Object(ce.jsxs)(ve.a,{style:{backgroundColor:"#ffffbf"},children:[Object(ce.jsx)(Se.a,{style:{color:"#000"},children:"Site Id"}),Object(ce.jsx)(Se.a,{style:{color:"#000"},children:"Error Type"}),Object(ce.jsx)(Se.a,{style:{color:"#000"},children:"Error"}),Object(ce.jsx)(Se.a,{style:{color:"#000"},children:"Insertion Time"}),Object(ce.jsx)(Se.a,{style:{color:"#000"},children:"Remote Time"})]})}),Object(ce.jsxs)(xe.a,{children:[0===m.length&&Object(ce.jsx)(ve.a,{sx:{"&:last-child td, &:last-child th":{border:0}},children:Object(ce.jsx)(Se.a,{component:"th",scope:"row",children:"No Records Found"})},"none"),m.length>0&&m.map((function(e,t){return Object(ce.jsxs)(ve.a,{sx:{"&:last-child td, &:last-child th":{border:0}},children:[Object(ce.jsx)(Se.a,{component:"th",scope:"row",children:g(e.site_id)}),Object(ce.jsx)(Se.a,{children:e.error_type}),Object(ce.jsx)(Se.a,{children:e.errors}),Object(ce.jsx)(Se.a,{children:O(Number(e.insertion_time))}),Object(ce.jsx)(Se.a,{children:O(1e3*e.remote_time)})]},t)}))]})]})}),Object(ce.jsx)(C.a,{container:!0,justify:"flex-end",style:{marginTop:".25rem"},children:Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(mi.a,{count:o,page:c,onChange:function(e,a){var n=t.slice(12*(a-1),12*a);h(n),r(a)},shape:"rounded"})})})]})}Object(D.a)((function(e){return{}}));var su=Object(D.a)((function(e){return{grow:{flexGrow:1},textField:{width:120},menuPaper:{maxHeight:400},formControlStyle:{},listItemText:{fontSize:".9rem"}}}));function lu(e){e.refreshSiteEditTable;var t=su(),a=$e().setEnabledLinearProgress,i=Object(n.useState)(!1),c=Object(u.a)(i,2),r=(c[0],c[1]),s=JSON.parse(localStorage.getItem("siteNamesAndBlocks")),l=Object(n.useState)([]),o=Object(u.a)(l,2),j=o[0],d=o[1],b=Object(n.useState)([]),m=Object(u.a)(b,2),g=m[0],S=m[1],p=Object(n.useState)(""),f=Object(u.a)(p,2),v=f[0],y=f[1],T=Object(n.useState)(s),I=Object(u.a)(T,2),k=I[0],w=I[1],N=Object(n.useState)(!1),B=Object(u.a)(N,2),L=(B[0],B[1],Object(n.useState)({open:!1,severity:"info",message:"snackbar"})),D=Object(u.a)(L,2),P=D[0],F=D[1],V=function(e){var t=new Date(e.getTime());return t.setHours(0,1,0,0),t},A=function(e){var t=new Date(e.getTime());return t.setHours(23,59,59,999),t},E=Object(n.useState)((function(){var e=new Date;return V(e)})),H=Object(u.a)(E,2),_=H[0],z=H[1],M=Object(n.useState)((function(){var e=new Date;return A(e)})),R=Object(u.a)(M,2),G=R[0],W=R[1],Y=function(){var e;a(!0),r(!0),X.a.post(K+"/errorlogs/errorlog",{email:localStorage.getItem("userEmail"),sites:(e=k,e.map((function(e){return"'".concat(e.id,"'")}))),startTime:_.getTime(),endTime:G.getTime()}).then((function(e){Array.isArray(e.data)?(d(e.data),S(e.data)):(d([]),S([])),a(!1),r(!1)})).catch((function(e){console.log(e),a(!1),r(!1)}))};Object(n.useEffect)((function(){Y()}),[]);return Object(ce.jsxs)(ce.Fragment,{children:[Object(ce.jsxs)(C.a,{container:!0,justify:"space-between",alignItems:"flex-end",style:{paddingRight:"1.5rem"},children:[Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsxs)(C.a,{container:!0,alignItems:"flex-end",children:[Object(ce.jsx)(C.a,{item:!0,style:{marginRight:"1rem"},children:Object(ce.jsx)(rj,{label:"Sites",handleChange:function(e){var t,a=e.target.value;"All"!==a[a.length-1]?w((t=a,s.filter((function(e){var a=!1;return t.forEach((function(t){e.name===t&&(a=!0)})),a})))):w(k.length===s.length?[{}]:s)},items:s,selectedItems:k})}),Object(ce.jsx)(C.a,{item:!0,style:{marginRight:"1rem"},children:Object(ce.jsxs)(it.a,{utils:O.a,children:[Object(ce.jsx)(Ea.a,{autoOk:!0,disableToolbar:!0,variant:"inline",format:"MM/dd/yyyy",id:"from-date-picker-inline",label:"From",value:_,onChange:function(e){z(V(e))},KeyboardButtonProps:{"aria-labelte":"from date"},style:{marginRight:"1rem"},className:t.textField,InputProps:{style:{fontSize:".8rem"}}}),Object(ce.jsx)(Ea.a,{autoOk:!0,disableToolbar:!0,variant:"inline",format:"MM/dd/yyyy",id:"to-date-picker-inline",label:"To",value:G,onChange:function(e){W(A(e))},KeyboardButtonProps:{"aria-label":"to date"},className:t.textField,InputProps:{style:{fontSize:".8rem"}}})]})}),Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(x.a,{size:"small",color:"primary",variant:"outlined",onClick:function(){Y()},children:"View"})})]})}),Object(ce.jsxs)(C.a,{item:!0,children:[Object(ce.jsx)(Nb.a,{id:"search",placeholder:"Enter id or type",value:v,onChange:function(e){var t=e.target.value;y(t)},style:{maxWidth:"8rem",marginRight:".5rem"}}),Object(ce.jsx)(x.a,{variant:"outlined",size:"small",onClick:function(){if(""!==v){var e=g.filter((function(e){return String(e.site_id).toLowerCase().includes(String(v).toLowerCase())})),t=g.filter((function(e){return String(e.error_type).toLowerCase().includes(String(v).toLowerCase())}));d([].concat(Object(me.a)(e),Object(me.a)(t)))}else d(g)},children:"Search"})]})]}),Object(ce.jsx)(C.a,{container:!0,style:{marginTop:".5rem",paddingRight:"1rem"},children:Object(ce.jsx)(ru,{data:j})}),Object(ce.jsx)(nu,{open:P.open,severity:P.severity,message:P.message,handleToggle:function(e){F((function(t){return Object(h.a)(Object(h.a)({},t),{},{open:e})}))}})]})}var ou=a(163),ju=(ce.Fragment,function(e){return console.log("flow loaded:",e)}),du=function(e){return-111===e?"N/A":e},bu=function(e,t){var a=Number(e);return a%1!==0?a.toFixed(t):a},uu=function(){var e=localStorage.getItem("userToken"),t=JSON.parse(localStorage.getItem("siteNamesAndBlocks")),a=JSON.parse(localStorage.getItem("siteNamesAndBlocks")),i=Object(n.useState)(null),c=Object(u.a)(i,2),r=c[0],s=c[1],l=Object(ou.f)([]),o=Object(u.a)(l,3),j=o[0],d=o[1],b=o[2],m=Object(ou.e)([]),h=Object(u.a)(m,3),O=h[0],g=h[1],S=h[2],p=Object(n.useState)("Nangla"),f=Object(u.a)(p,2),y=f[0],T=f[1],I=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,a=t.find((function(t){return t.name===e}))?t.filter((function(t){return t.name===e})):[t.splice(0,1)[0]],n=Array.from({length:a[0].blocks[0]},(function(e,t){return t+1}));return n.map((function(e){return"B"+String(e).padStart(2,"0")}))},k=Object(n.useState)(I()),w=Object(u.a)(k,2),N=w[0],L=w[1],D=Object(n.useState)(I()),P=Object(u.a)(D,2),F=P[0],V=P[1],A=function(){var t=Object(to.a)(io.a.mark((function t(){var a,n;return io.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,X.a.post(K+"/admin/sld/view",{site:y,block:F},{headers:{jwtToken:e}});case 3:a=t.sent,n=a.data,s(n),t.next=10;break;case 8:t.prev=8,t.t0=t.catch(0);case 10:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(){return t.apply(this,arguments)}}();return Object(n.useEffect)((function(){A()}),[]),Object(n.useEffect)((function(){var e=function(){var e=[],t=[];if(r){var a=1,n={id:"generation",data:{label:Object(ce.jsxs)(ce.Fragment,{children:["Generation (in MWH)",Object(ce.jsx)("br",{}),"Instant: ",du(bu(r.instantGeneration,3)),Object(ce.jsx)("br",{}),"Total: ",du(bu(r.totalGeneration,3))]})},position:{x:0,y:0},targetPosition:"bottom",style:{background:"#03a9f4",color:"#fff",borderColor:"#03a9f4"}};e.push(n),r.blocks.forEach((function(n){n.values.forEach((function(i){var c=n.block+i.inverter;e.push({id:c,data:{label:Object(ce.jsxs)(ce.Fragment,{children:[n.block,", ",i.inverter,Object(ce.jsx)("br",{}),"DC I: ",du(bu(i.DC_I,0)),", DC V:"," ",du(bu(i.DC_V,0))]})},style:{background:"#4caf50",color:"#fff",borderColor:"#4caf50"},position:{x:Number(200*a),y:150},sourcePosition:"top",targetPosition:"bottom"});var r="e1-".concat(a);t.push({id:r,source:c,target:"generation",animated:!0});var s=1,l=250,o=0;i.inverter_strings.forEach((function(r,j){var d=n.block+i.inverter+j;e.push({id:d,data:{label:Object(ce.jsxs)(ce.Fragment,{children:[r.name,Object(ce.jsx)("br",{}),du(bu(r.value,2))]})},style:{background:"#ffeb3b",borderColor:"#ffeb3b"},position:{x:Number(200*a),y:l},sourcePosition:"top"});var b,u="e".concat(a+1,"-").concat(s);o+=Number(r.value),t.push({id:u,target:c,source:d,animated:!0,style:{stroke:(b=o,b>0?"green":b<=0?"red":"#000")}}),l+=100,s+=1})),a+=1}))})),e[0].position={x:Number(200*a/2),y:0}}return{nodes:e,edges:t}}(),t=e.nodes,a=e.edges;d(t),g(a)}),[r]),Object(ce.jsxs)(C.a,{container:!0,style:{height:"70vh"},children:[Object(ce.jsxs)(C.a,{container:!0,spacing:2,alignItems:"flex-end",style:{marginBottom:"1rem"},children:[Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsxs)(v.a,{children:[Object(ce.jsx)(Aa.a,{id:"site-select-label",children:"Site"}),Object(ce.jsx)(Z.a,{style:{fontSize:".8rem"},labelId:"site-select-label",id:"site-select",value:y,onChange:function(e){var t=e.target.value;T(t),L(I(t)),V(I(t))},children:a.map((function(e){return Object(ce.jsx)(B.a,{value:e.name,children:e.name})}))})]})}),Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(Po,{label:"Blocks",items:N,selectedItems:F,handleChange:function(e){var t=e.target.value;"all"!==t[t.length-1]?V(t.map((function(e){return e}))):V(F.length===N.length?[]:I())}})}),Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(x.a,{variant:"outlined",size:"small",onClick:A,children:"View"})})]}),Object(ce.jsxs)(ou.d,{nodes:j,edges:O,onNodesChange:b,onEdgesChange:S,onConnect:function(e){return g((function(t){return Object(ou.c)(e,t)}))},onInit:ju,fitView:!0,nodesConnectable:!1,nodesDraggable:!1,attributionPosition:"top-right",children:[Object(ce.jsx)(ou.b,{showInteractive:!1}),Object(ce.jsx)(ou.a,{color:"#aaa",gap:16})]})]})};function mu(e){var t=e.rows,a=void 0===t?[]:t,i=e.handleRowSelect,c=Object(n.useState)(1),r=Object(u.a)(c,2),s=r[0],l=r[1],o=Object(n.useState)(1),j=Object(u.a)(o,2),d=j[0],b=j[1];Object(n.useEffect)((function(){if(a.length>0){var e=Math.ceil(a.length/10);b(e)}}),[a]);return Object(ce.jsxs)(C.a,{container:!0,style:{maxWidth:"90vw"},children:[Object(ce.jsx)(pe.a,{component:he.a,children:Object(ce.jsxs)(ge.a,{"aria-label":"simple table",size:"small",style:{overflowX:"auto"},children:[Object(ce.jsx)(fe.a,{children:Object(ce.jsxs)(ve.a,{style:{backgroundColor:"#ffffbf"},children:[Object(ce.jsx)(Se.a,{align:"left",style:{whiteSpace:"nowrap",color:"#000"},children:"Actions"}),Object(ce.jsx)(Se.a,{align:"left",style:{whiteSpace:"nowrap",color:"#000"},children:"System Name"}),Object(ce.jsx)(Se.a,{align:"right",style:{whiteSpace:"nowrap",color:"#000"},children:"CSV Name"}),Object(ce.jsx)(Se.a,{align:"right",style:{whiteSpace:"nowrap",color:"#000"},children:"Frequncy Day"}),Object(ce.jsx)(Se.a,{align:"right",style:{whiteSpace:"nowrap",color:"#000"},children:"Frequency Night"}),Object(ce.jsx)(Se.a,{align:"right",style:{whiteSpace:"nowrap",color:"#000"},children:"Frequency Time Range"}),Object(ce.jsx)(Se.a,{align:"right",style:{whiteSpace:"nowrap",color:"#000"},children:"Log CSV"}),Object(ce.jsx)(Se.a,{align:"right",style:{whiteSpace:"nowrap",color:"#000"},children:"None"}),Object(ce.jsx)(Se.a,{align:"right",style:{whiteSpace:"nowrap",color:"#000"},children:"OPC Host"}),Object(ce.jsx)(Se.a,{align:"right",style:{whiteSpace:"nowrap",color:"#000"},children:"OPC Interval"}),Object(ce.jsx)(Se.a,{align:"right",style:{whiteSpace:"nowrap",color:"#000"},children:"OPC Server"}),Object(ce.jsx)(Se.a,{align:"right",style:{whiteSpace:"nowrap",color:"#000"},children:"RB Host"}),Object(ce.jsx)(Se.a,{align:"right",style:{whiteSpace:"nowrap",color:"#000"},children:"RB Log queue"}),Object(ce.jsx)(Se.a,{align:"right",style:{whiteSpace:"nowrap",color:"#000"},children:"RB Password"}),Object(ce.jsx)(Se.a,{align:"right",style:{whiteSpace:"nowrap",color:"#000"},children:"RB Port"}),Object(ce.jsx)(Se.a,{align:"right",style:{whiteSpace:"nowrap",color:"#000"},children:"RB Queue"}),Object(ce.jsx)(Se.a,{align:"right",style:{whiteSpace:"nowrap",color:"#000"},children:"RB Username"}),Object(ce.jsx)(Se.a,{align:"right",style:{whiteSpace:"nowrap",color:"#000"},children:"Insertion Time"}),Object(ce.jsx)(Se.a,{align:"right",style:{whiteSpace:"nowrap",color:"#000"},children:"Updation Time"})]})}),Object(ce.jsxs)(xe.a,{children:[0===a.length&&Object(ce.jsx)(ve.a,{children:Object(ce.jsx)(Se.a,{component:"th",scope:"row",style:{whiteSpace:"nowrap"},children:"No records found."})}),a.length>0&&a.map((function(e,t){return Object(ce.jsxs)(ve.a,{children:[Object(ce.jsx)(Se.a,{align:"left",style:{whiteSpace:"nowrap"},children:Object(ce.jsx)(y.a,{size:"small",onClick:function(){return i(e)},children:Object(ce.jsx)(Vb.a,{fontSize:"small"})})}),Object(ce.jsx)(Se.a,{align:"left",style:{whiteSpace:"nowrap"},children:e.system_name}),Object(ce.jsx)(Se.a,{align:"right",style:{whiteSpace:"nowrap"},children:e.csv_filename_date}),Object(ce.jsx)(Se.a,{align:"right",style:{whiteSpace:"nowrap"},children:e.data_frequency_day}),Object(ce.jsx)(Se.a,{align:"right",style:{whiteSpace:"nowrap"},children:e.data_frequency_night}),Object(ce.jsx)(Se.a,{align:"right",style:{whiteSpace:"nowrap"},children:e.data_frequency_time_range}),Object(ce.jsx)(Se.a,{align:"right",style:{whiteSpace:"nowrap"},children:e.logfile_csv}),Object(ce.jsx)(Se.a,{align:"right",style:{whiteSpace:"nowrap"},children:e.none_value}),Object(ce.jsx)(Se.a,{align:"right",style:{whiteSpace:"nowrap"},children:e.opc_host}),Object(ce.jsx)(Se.a,{align:"right",style:{whiteSpace:"nowrap"},children:e.opc_reconnection_interval}),Object(ce.jsx)(Se.a,{align:"right",style:{whiteSpace:"nowrap"},children:e.opc_server}),Object(ce.jsx)(Se.a,{align:"right",style:{whiteSpace:"nowrap"},children:e.rabbit_host}),Object(ce.jsx)(Se.a,{align:"right",style:{whiteSpace:"nowrap"},children:e.rabbit_log_queue}),Object(ce.jsx)(Se.a,{align:"right",style:{whiteSpace:"nowrap"},children:e.rabbit_password}),Object(ce.jsx)(Se.a,{align:"right",style:{whiteSpace:"nowrap"},children:e.rabbit_port}),Object(ce.jsx)(Se.a,{align:"right",style:{whiteSpace:"nowrap"},children:e.rabbit_queue}),Object(ce.jsx)(Se.a,{align:"right",style:{whiteSpace:"nowrap"},children:e.rabbit_username}),Object(ce.jsx)(Se.a,{align:"right",style:{whiteSpace:"nowrap"},children:new Date(1e3*Number(e.insertion_timestamp)).toLocaleString()}),Object(ce.jsx)(Se.a,{align:"right",style:{whiteSpace:"nowrap"},children:e.updation_timestamp?new Date(1e3*Number(e.updation_timestamp)).toLocaleString():"-"})]},t)}))]})]})}),Object(ce.jsx)(C.a,{container:!0,style:{marginTop:".5rem",display:"flex",justifyContent:"center"},children:Object(ce.jsx)(mi.a,{count:d,page:s,onChange:function(e,t){l(t)},size:"small"})})]})}var hu={display:"flex",justifyContent:"center",alignItems:"center"},Ou={paddingTop:"1rem",paddingInline:"1rem",paddingBottom:"1rem"};function gu(){var e=localStorage.getItem("userToken"),t=$e().setSnackbar,a=JSON.parse(localStorage.getItem("siteNamesAndBlocks")),i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a;return e.map((function(e){return e.name}))},c=Object(n.useState)(i()),r=Object(u.a)(c,2),s=r[0],l=r[1],o=Object(n.useState)(i()),j=Object(u.a)(o,2),d=j[0],b=(j[1],Object(n.useState)([])),O=Object(u.a)(b,2),g=O[0],p=O[1],f=Object(n.useState)({}),v=Object(u.a)(f,2),y=v[0],T=v[1],I=Object(n.useState)(!1),k=Object(u.a)(I,2),w=k[0],N=k[1],B=function(){var t=Object(to.a)(io.a.mark((function t(){var a,n;return io.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,X.a.post(K+"/opcConfig/yamlConfig",{},{headers:{jwtToken:e}});case 3:a=t.sent,n=a.data,p(n),t.next=10;break;case 8:t.prev=8,t.t0=t.catch(0);case 10:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(){return t.apply(this,arguments)}}();Object(n.useEffect)((function(){B()}),[]);var D=function(){var a=Object(to.a)(io.a.mark((function a(){var n;return io.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,X.a.post(K+"/opcConfig/edityaml",Object(h.a)({},y),{headers:{jwtToken:e}});case 3:n=a.sent,n.data,t((function(e){return Object(h.a)(Object(h.a)({},e),{},{open:!0,severity:"success",message:"Updated successfully!"})})),N(!1),B(),a.next=14;break;case 10:a.prev=10,a.t0=a.catch(0),t((function(e){return Object(h.a)(Object(h.a)({},e),{},{open:!0,severity:"error",message:"Update failed!"})})),N(!1);case 14:case"end":return a.stop()}}),a,null,[[0,10]])})));return function(){return a.apply(this,arguments)}}(),P=function(e,t){var a=t.target.value;T((function(t){return Object(h.a)(Object(h.a)({},y),{},Object(m.a)({},e,a))}))};return Object(ce.jsxs)(C.a,{container:!0,spacing:2,children:[Object(ce.jsx)(C.a,{item:!0,xs:12,children:Object(ce.jsxs)(C.a,{container:!0,alignItems:"flex-end",children:[Object(ce.jsx)(Po,{label:"Sites",handleChange:function(e){var t=e.target.value;"all"!==t[t.length-1]?l(t):l(s.length===d.length?[]:d)},items:d,selectedItems:s}),Object(ce.jsx)(x.a,{variant:"outlined",color:"primary",size:"small",style:{marginLeft:"1rem"},children:"View"})]})}),Object(ce.jsx)(C.a,{item:!0,xs:12,children:Object(ce.jsx)(mu,{rows:g,handleRowSelect:function(e){T(e),N(!0)}})}),Object(ce.jsx)(L.a,{open:w,style:hu,children:Object(ce.jsxs)(S.a,{style:Ou,children:[Object(ce.jsxs)(V.a,{variant:"h6",children:["Edit: ",y.system_name]}),Object(ce.jsxs)(C.a,{container:!0,style:{marginTop:"1rem"},children:[Object(ce.jsx)(Nb.a,{label:"CSV Name",value:y.csv_filename_date,onChange:function(e){P("csv_filename_date",e)}}),Object(ce.jsx)(Nb.a,{label:"Frequency Day",value:y.data_frequency_day,onChange:function(e){P("data_frequency_day",e)},style:{marginLeft:"1rem"}}),Object(ce.jsx)(Nb.a,{label:"Frequency Night",value:y.data_frequency_night,onChange:function(e){P("data_frequency_night",e)},style:{marginLeft:"1rem"}})]}),Object(ce.jsxs)(C.a,{container:!0,style:{marginTop:"1rem"},children:[Object(ce.jsx)(Nb.a,{label:"Frequency Range",value:y.data_frequency_time_range,onChange:function(e){P("data_frequency_time_range",e)}}),Object(ce.jsx)(Nb.a,{label:"Log CSV",value:y.logfile_csv,onChange:function(e){P("logfile_csv",e)},style:{marginLeft:"1rem"}}),Object(ce.jsx)(Nb.a,{label:"None Value",value:y.none_value,onChange:function(e){P("none_value",e)},style:{marginLeft:"1rem"}})]}),Object(ce.jsxs)(C.a,{container:!0,style:{marginTop:"1rem"},children:[Object(ce.jsx)(Nb.a,{label:"OPC Host",value:y.opc_host,onChange:function(e){P("opc_host",e)}}),Object(ce.jsx)(Nb.a,{label:"OPC Interval",value:y.opc_reconnection_interval,onChange:function(e){P("opc_reconnection_interval",e)},style:{marginLeft:"1rem"}}),Object(ce.jsx)(Nb.a,{label:"OPC Server",value:y.opc_server,onChange:function(e){P("opc_server",e)},style:{marginLeft:"1rem"}})]}),Object(ce.jsxs)(C.a,{container:!0,style:{marginTop:"1rem"},children:[Object(ce.jsx)(Nb.a,{label:"RB Host",value:y.rabbit_host,onChange:function(e){P("rabbit_host",e)}}),Object(ce.jsx)(Nb.a,{label:"RB Log Queue",value:y.rabbit_log_queue,onChange:function(e){P("rabbit_log_queue",e)},style:{marginLeft:"1rem"}}),Object(ce.jsx)(Nb.a,{label:"RB Password",value:y.rabbit_password,onChange:function(e){P("rabbit_password",e)},style:{marginLeft:"1rem"}})]}),Object(ce.jsxs)(C.a,{container:!0,style:{marginTop:"1rem"},children:[Object(ce.jsx)(Nb.a,{label:"RB Port",value:y.rabbit_port,onChange:function(e){P("rabbit_port",e)}}),Object(ce.jsx)(Nb.a,{label:"RB Queue",value:y.rabbit_queue,onChange:function(e){P("rabbit_queue",e)},style:{marginLeft:"1rem"}}),Object(ce.jsx)(Nb.a,{label:"RB Username",value:y.rabbit_username,onChange:function(e){P("rabbit_username",e)},style:{marginLeft:"1rem"}})]}),Object(ce.jsxs)(C.a,{container:!0,style:{marginTop:"1rem"},children:[Object(ce.jsx)(V.a,{children:"Tag List (Read Only)"}),Object(ce.jsx)("textarea",{name:"taglist",rows:"4",value:y.taglist,style:{width:"100%"}})]}),Object(ce.jsxs)(C.a,{container:!0,style:{marginTop:"1rem",display:"flex",justifyContent:"right"},children:[Object(ce.jsx)(x.a,{variant:"outlined",onClick:function(){N(!1)},size:"small",children:"Cancel"}),Object(ce.jsx)(x.a,{size:"small",color:"primary",variant:"outlined",style:{marginLeft:"1rem"},onClick:D,children:"Update"})]})]})})]})}var xu=a(495),Su=a.n(xu),pu=a(496),fu=a.n(pu),vu=a(324),Cu=a.n(vu),yu=a(497),Tu=a.n(yu),Iu=(a(1302),Object(D.a)({tableContainer:{marginTop:"1rem"}}));function ku(){var e,t,a=Iu(),i=localStorage.getItem("jwtToken"),c=Object(n.useState)([]),r=Object(u.a)(c,2),s=r[0],l=r[1],o=function(){var e=Object(to.a)(io.a.mark((function e(){var t,a;return io.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,X.a.get(K+"/admin/postgresreplicationstatus",{headers:{jwtToken:i}});case 3:t=e.sent,a=t.data,l([Object(h.a)(Object(h.a)({},a),{},{tag:"Secondary"})]),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){o()}),[]);var j=function(){o()};return Object(ce.jsxs)(C.a,{container:!0,alignItems:"center",justifyContent:"center",children:[Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsxs)(C.a,{container:!0,direction:"column",children:[Object(ce.jsx)(C.a,{item:!0,style:{textAlign:"center"},children:"Primary"}),Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)("img",{src:"/static/images/server.png",width:"128",height:"128"})}),Object(ce.jsx)(C.a,{item:!0,style:{textAlign:"center"},children:"10.10.0.38"})]})}),Object(ce.jsx)(C.a,{item:!0,children:"Success"===(null===(e=s[0])||void 0===e?void 0:e.status)?Object(ce.jsx)(Cu.a,{id:"success-arrow",style:{fontSize:"128px"}}):Object(ce.jsx)(Cu.a,{style:{fontSize:"128px",color:"red"}})}),Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsxs)(C.a,{container:!0,direction:"column",children:[Object(ce.jsx)(C.a,{item:!0,style:{textAlign:"center"},children:"Secondary"}),Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)("img",{src:"/static/images/server.png",width:"128",height:"128"})}),Object(ce.jsx)(C.a,{item:!0,style:{textAlign:"center"},children:null!==(t=s[0])&&void 0!==t&&t.ip?s[0].ip:"10.10.0.102"})]})}),Object(ce.jsx)(C.a,{item:!0,xs:12,children:Object(ce.jsx)(C.a,{container:!0,justifyContent:"center",children:Object(ce.jsx)(pe.a,{component:he.a,className:a.tableContainer,children:Object(ce.jsxs)(ge.a,{className:a.table,"aria-label":"simple table",size:"small",children:[Object(ce.jsx)(fe.a,{children:Object(ce.jsxs)(ve.a,{style:{backgroundColor:"#ffffbf"},children:[Object(ce.jsx)(Se.a,{}),Object(ce.jsx)(Se.a,{align:"center",style:{color:"#000"},children:"IP"}),Object(ce.jsx)(Se.a,{}),Object(ce.jsx)(Se.a,{align:"center",style:{color:"#000"},children:"IP"}),Object(ce.jsx)(Se.a,{align:"center",style:{color:"#000"},children:"Status"}),Object(ce.jsx)(Se.a,{align:"right",style:{color:"#000"},children:"Last Update"}),Object(ce.jsx)(Se.a,{align:"right",style:{color:"#000"},children:"Refresh"})]})}),Object(ce.jsx)(xe.a,{children:s.map((function(e,t){return Object(ce.jsxs)(ve.a,{children:[Object(ce.jsx)(Se.a,{children:Object(ce.jsx)("strong",{children:"Primary"})}),Object(ce.jsx)(Se.a,{align:"center",children:"10.10.0.38"}),Object(ce.jsx)(Se.a,{align:"center",children:Object(ce.jsx)("strong",{children:e.tag})}),Object(ce.jsx)(Se.a,{align:"center",children:e.ip}),Object(ce.jsx)(Se.a,{align:"center",children:"Success"===e.status?Object(ce.jsx)(Su.a,{fontSize:"small",style:{color:"green"}}):Object(ce.jsx)(fu.a,{fontSize:"small"})}),Object(ce.jsx)(Se.a,{align:"right",children:new Date(1e3*e.timestamp).toLocaleString()}),Object(ce.jsx)(Se.a,{align:"right",children:Object(ce.jsx)(y.a,{size:"small",onClick:j,children:Object(ce.jsx)(Tu.a,{fontSize:"small",color:"primary"})})})]},t)}))})]})})})})]})}function wu(e,t,a,n,i){return{name:e,calories:t,fat:a,carbs:n,protein:i}}wu("Frozen yoghurt",159,6,24,4),wu("Ice cream sandwich",237,9,37,4.3),wu("Eclair",262,16,24,6),wu("Cupcake",305,3.7,67,4.3),wu("Gingerbread",356,16,49,3.9);function Nu(e){var t=e.data,a=e.updateInverterScb,i=Object(n.useState)(0),c=Object(u.a)(i,2),r=c[0],s=c[1],l=Object(n.useState)(0),o=Object(u.a)(l,2),j=o[0],d=o[1],b=Object(n.useState)([]),m=Object(u.a)(b,2),h=m[0],O=m[1];Object(n.useEffect)((function(){t&&(s((function(){return t.length>0?1:0})),d((function(){return t.length>0?Math.ceil(t.length/10):0})),O((function(){return t.length>0?t.slice(0,10):[]})))}),[t]);return Object(ce.jsxs)(C.a,{container:!0,children:[Object(ce.jsx)(pe.a,{component:he.a,style:{maxWidth:"89vw"},children:Object(ce.jsxs)(ge.a,{size:"small","aria-label":"simple table",children:[Object(ce.jsx)(fe.a,{children:Object(ce.jsxs)(ve.a,{style:{backgroundColor:"#ffffbf"},children:[Object(ce.jsx)(Se.a,{style:{zIndex:101,color:"#000"},children:"Action"}),Object(ce.jsx)(Se.a,{style:{color:"#000"},children:"Site"}),Object(ce.jsx)(Se.a,{style:{color:"#000"},children:"Block"}),Object(ce.jsx)(Se.a,{style:{color:"#000"},children:"Inverter"}),Object(ce.jsx)(Se.a,{style:{whiteSpace:"nowrap",color:"#000"},children:"S1"}),Object(ce.jsx)(Se.a,{style:{whiteSpace:"nowrap",color:"#000"},children:"S1-Field"}),Object(ce.jsx)(Se.a,{style:{whiteSpace:"nowrap",color:"#000"},children:"S2"}),Object(ce.jsx)(Se.a,{style:{whiteSpace:"nowrap",color:"#000"},children:"S2-Field"}),Object(ce.jsx)(Se.a,{style:{whiteSpace:"nowrap",color:"#000"},children:"S3"}),Object(ce.jsx)(Se.a,{style:{whiteSpace:"nowrap",color:"#000"},children:"S3-Field"}),Object(ce.jsx)(Se.a,{style:{whiteSpace:"nowrap",color:"#000"},children:"S4"}),Object(ce.jsx)(Se.a,{style:{whiteSpace:"nowrap",color:"#000"},children:"S4-Field"}),Object(ce.jsx)(Se.a,{style:{whiteSpace:"nowrap",color:"#000"},children:"S5"}),Object(ce.jsx)(Se.a,{style:{whiteSpace:"nowrap",color:"#000"},children:"S5-Field"}),Object(ce.jsx)(Se.a,{style:{whiteSpace:"nowrap",color:"#000"},children:"S6"}),Object(ce.jsx)(Se.a,{style:{whiteSpace:"nowrap",color:"#000"},children:"S6-Field"}),Object(ce.jsx)(Se.a,{style:{whiteSpace:"nowrap",color:"#000"},children:"S7"}),Object(ce.jsx)(Se.a,{style:{whiteSpace:"nowrap",color:"#000"},children:"S7-Field"}),Object(ce.jsx)(Se.a,{style:{whiteSpace:"nowrap",color:"#000"},children:"S8"}),Object(ce.jsx)(Se.a,{style:{whiteSpace:"nowrap",color:"#000"},children:"S8-Field"}),Object(ce.jsx)(Se.a,{style:{whiteSpace:"nowrap",color:"#000"},children:"S9"}),Object(ce.jsx)(Se.a,{style:{whiteSpace:"nowrap",color:"#000"},children:"S9-Field"}),Object(ce.jsx)(Se.a,{style:{whiteSpace:"nowrap",color:"#000"},children:"S10"}),Object(ce.jsx)(Se.a,{style:{whiteSpace:"nowrap",color:"#000"},children:"S10-Field"}),Object(ce.jsx)(Se.a,{style:{whiteSpace:"nowrap",color:"#000"},children:"S11"}),Object(ce.jsx)(Se.a,{style:{whiteSpace:"nowrap",color:"#000"},children:"S11-Field"}),Object(ce.jsx)(Se.a,{style:{whiteSpace:"nowrap",color:"#000"},children:"S12"}),Object(ce.jsx)(Se.a,{style:{whiteSpace:"nowrap",color:"#000"},children:"S12-Field"}),Object(ce.jsx)(Se.a,{style:{whiteSpace:"nowrap",color:"#000"},children:"S13"}),Object(ce.jsx)(Se.a,{style:{whiteSpace:"nowrap",color:"#000"},children:"S13-Field"}),Object(ce.jsx)(Se.a,{style:{whiteSpace:"nowrap",color:"#000"},children:"S14"}),Object(ce.jsx)(Se.a,{style:{whiteSpace:"nowrap",color:"#000"},children:"S14-Field"}),Object(ce.jsx)(Se.a,{style:{whiteSpace:"nowrap",color:"#000"},children:"S15"}),Object(ce.jsx)(Se.a,{style:{whiteSpace:"nowrap",color:"#000"},children:"S15-Field"}),Object(ce.jsx)(Se.a,{style:{whiteSpace:"nowrap",color:"#000"},children:"S16"}),Object(ce.jsx)(Se.a,{style:{whiteSpace:"nowrap",color:"#000"},children:"S16-Field"}),Object(ce.jsx)(Se.a,{style:{whiteSpace:"nowrap",color:"#000"},children:"S17"}),Object(ce.jsx)(Se.a,{style:{whiteSpace:"nowrap",color:"#000"},children:"S17-Field"}),Object(ce.jsx)(Se.a,{style:{whiteSpace:"nowrap",color:"#000"},children:"S18"}),Object(ce.jsx)(Se.a,{style:{whiteSpace:"nowrap",color:"#000"},children:"S18-Field"}),Object(ce.jsx)(Se.a,{style:{whiteSpace:"nowrap",color:"#000"},children:"S19"}),Object(ce.jsx)(Se.a,{style:{whiteSpace:"nowrap",color:"#000"},children:"S19-Field"}),Object(ce.jsx)(Se.a,{style:{whiteSpace:"nowrap",color:"#000"},children:"S20"}),Object(ce.jsx)(Se.a,{style:{whiteSpace:"nowrap",color:"#000"},children:"S20-Field"}),Object(ce.jsx)(Se.a,{style:{whiteSpace:"nowrap",color:"#000"},children:"S21"}),Object(ce.jsx)(Se.a,{style:{whiteSpace:"nowrap",color:"#000"},children:"S21-Field"}),Object(ce.jsx)(Se.a,{style:{whiteSpace:"nowrap",color:"#000"},children:"S22"}),Object(ce.jsx)(Se.a,{style:{whiteSpace:"nowrap",color:"#000"},children:"S22-Field"}),Object(ce.jsx)(Se.a,{style:{whiteSpace:"nowrap",color:"#000"},children:"S23"}),Object(ce.jsx)(Se.a,{style:{whiteSpace:"nowrap",color:"#000"},children:"S23-Field"}),Object(ce.jsx)(Se.a,{style:{whiteSpace:"nowrap",color:"#000"},children:"S24"}),Object(ce.jsx)(Se.a,{style:{whiteSpace:"nowrap",color:"#000"},children:"S24-Field"}),Object(ce.jsx)(Se.a,{style:{whiteSpace:"nowrap",color:"#000"},children:"S25"}),Object(ce.jsx)(Se.a,{style:{whiteSpace:"nowrap",color:"#000"},children:"S25-Field"}),Object(ce.jsx)(Se.a,{style:{whiteSpace:"nowrap",color:"#000"},children:"S26"}),Object(ce.jsx)(Se.a,{style:{whiteSpace:"nowrap",color:"#000"},children:"S26-Field"}),Object(ce.jsx)(Se.a,{style:{whiteSpace:"nowrap",color:"#000"},children:"S27"}),Object(ce.jsx)(Se.a,{style:{whiteSpace:"nowrap",color:"#000"},children:"S27-Field"}),Object(ce.jsx)(Se.a,{style:{whiteSpace:"nowrap",color:"#000"},children:"S28"}),Object(ce.jsx)(Se.a,{style:{whiteSpace:"nowrap",color:"#000"},children:"S28-Field"}),Object(ce.jsx)(Se.a,{style:{whiteSpace:"nowrap",color:"#000"},children:"S29"}),Object(ce.jsx)(Se.a,{style:{whiteSpace:"nowrap",color:"#000"},children:"S29-Field"}),Object(ce.jsx)(Se.a,{style:{whiteSpace:"nowrap",color:"#000"},children:"S30"}),Object(ce.jsx)(Se.a,{style:{whiteSpace:"nowrap",color:"#000"},children:"S30-Field"}),Object(ce.jsx)(Se.a,{style:{whiteSpace:"nowrap",color:"#000"},children:"S31"}),Object(ce.jsx)(Se.a,{style:{whiteSpace:"nowrap",color:"#000"},children:"S31-Field"}),Object(ce.jsx)(Se.a,{style:{whiteSpace:"nowrap",color:"#000"},children:"S32"}),Object(ce.jsx)(Se.a,{style:{whiteSpace:"nowrap",color:"#000"},children:"S32-Field"})]})}),Object(ce.jsx)(xe.a,{children:h.map((function(e,t){return Object(ce.jsxs)(ve.a,{sx:{"&:last-child td, &:last-child th":{border:0}},children:[Object(ce.jsx)(Se.a,{style:{zIndex:1},children:Object(ce.jsx)(y.a,{size:"small",onClick:function(){return function(e){var t=JSON.parse(localStorage.getItem("userDetails"));"admin"===t.role&&("akasmishra@datablare.com"===t.email||"veerpratap@acme.in"===t.email||"sumit.datablare@gmail.com"===t.email)||"acmeace@acme.in"===t.email?a(e):window.alert("The update is not allowed.")}(e)},style:{paddingInline:".5rem"},children:Object(ce.jsx)(Vb.a,{fontSize:"small"})})}),Object(ce.jsx)(Se.a,{children:e.sitename}),Object(ce.jsx)(Se.a,{children:e.block}),Object(ce.jsx)(Se.a,{children:e.inverter}),Object(ce.jsx)(Se.a,{style:{color:e.s1_status?"grey":"black"},children:e.s1}),Object(ce.jsx)(Se.a,{style:{color:e.s1_status?"grey":"black"},children:e.s1_field}),Object(ce.jsx)(Se.a,{style:{color:e.s2_status?"grey":"black"},children:e.s2}),Object(ce.jsx)(Se.a,{style:{color:e.s2_status?"grey":"black"},children:e.s2_field}),Object(ce.jsx)(Se.a,{style:{color:e.s3_status?"grey":"black"},children:e.s3}),Object(ce.jsx)(Se.a,{style:{color:e.s3_status?"grey":"black"},children:e.s3_field}),Object(ce.jsx)(Se.a,{style:{color:e.s4_status?"grey":"black"},children:e.s4}),Object(ce.jsx)(Se.a,{style:{color:e.s4_status?"grey":"black"},children:e.s4_field}),Object(ce.jsx)(Se.a,{style:{color:e.s5_status?"grey":"black"},children:e.s5}),Object(ce.jsx)(Se.a,{style:{color:e.s5_status?"grey":"black"},children:e.s5_field}),Object(ce.jsx)(Se.a,{style:{color:e.s6_status?"grey":"black"},children:e.s6}),Object(ce.jsx)(Se.a,{style:{color:e.s6_status?"grey":"black"},children:e.s6_field}),Object(ce.jsx)(Se.a,{style:{color:e.s7_status?"grey":"black"},children:e.s7}),Object(ce.jsx)(Se.a,{style:{color:e.s7_status?"grey":"black"},children:e.s7_field}),Object(ce.jsx)(Se.a,{style:{color:e.s8_status?"grey":"black"},children:e.s8}),Object(ce.jsx)(Se.a,{style:{color:e.s8_status?"grey":"black"},children:e.s8_field}),Object(ce.jsx)(Se.a,{style:{color:e.s9_status?"grey":"black"},children:e.s9}),Object(ce.jsx)(Se.a,{style:{color:e.s9_status?"grey":"black"},children:e.s9_field}),Object(ce.jsx)(Se.a,{style:{color:e.s10_status?"grey":"black"},children:e.s10}),Object(ce.jsx)(Se.a,{style:{color:e.s10_status?"grey":"black"},children:e.s10_field}),Object(ce.jsx)(Se.a,{style:{color:e.s11_status?"grey":"black"},children:e.s11}),Object(ce.jsx)(Se.a,{style:{color:e.s11_status?"grey":"black"},children:e.s11_field}),Object(ce.jsx)(Se.a,{style:{color:e.s12_status?"grey":"black"},children:e.s12}),Object(ce.jsx)(Se.a,{style:{color:e.s12_status?"grey":"black"},children:e.s12_field}),Object(ce.jsx)(Se.a,{style:{color:e.s13_status?"grey":"black"},children:e.s13}),Object(ce.jsx)(Se.a,{style:{color:e.s13_status?"grey":"black"},children:e.s13_field}),Object(ce.jsx)(Se.a,{style:{color:e.s14_status?"grey":"black"},children:e.s14}),Object(ce.jsx)(Se.a,{style:{color:e.s14_status?"grey":"black"},children:e.s14_field}),Object(ce.jsx)(Se.a,{style:{color:e.s15_status?"grey":"black"},children:e.s15}),Object(ce.jsx)(Se.a,{style:{color:e.s15_status?"grey":"black"},children:e.s15_field}),Object(ce.jsx)(Se.a,{style:{color:e.s16_status?"grey":"black"},children:e.s16}),Object(ce.jsx)(Se.a,{style:{color:e.s16_status?"grey":"black"},children:e.s16_field}),Object(ce.jsx)(Se.a,{style:{color:e.s17_status?"grey":"black"},children:e.s17}),Object(ce.jsx)(Se.a,{style:{color:e.s17_status?"grey":"black"},children:e.s17_field}),Object(ce.jsx)(Se.a,{style:{color:e.s18_status?"grey":"black"},children:e.s18}),Object(ce.jsx)(Se.a,{style:{color:e.s18_status?"grey":"black"},children:e.s18_field}),Object(ce.jsx)(Se.a,{style:{color:e.s19_status?"grey":"black"},children:e.s19}),Object(ce.jsx)(Se.a,{style:{color:e.s19_status?"grey":"black"},children:e.s19_field}),Object(ce.jsx)(Se.a,{style:{color:e.s20_status?"grey":"black"},children:e.s20}),Object(ce.jsx)(Se.a,{style:{color:e.s20_status?"grey":"black"},children:e.s20_field}),Object(ce.jsx)(Se.a,{style:{color:e.s21_status?"grey":"black"},children:e.s21}),Object(ce.jsx)(Se.a,{style:{color:e.s21_status?"grey":"black"},children:e.s21_field}),Object(ce.jsx)(Se.a,{style:{color:e.s22_status?"grey":"black"},children:e.s22}),Object(ce.jsx)(Se.a,{style:{color:e.s22_status?"grey":"black"},children:e.s22_field}),Object(ce.jsx)(Se.a,{style:{color:e.s23_status?"grey":"black"},children:e.s23}),Object(ce.jsx)(Se.a,{style:{color:e.s23_status?"grey":"black"},children:e.s23_field}),Object(ce.jsx)(Se.a,{style:{color:e.s24_status?"grey":"black"},children:e.s24}),Object(ce.jsx)(Se.a,{style:{color:e.s24_status?"grey":"black"},children:e.s24_field}),Object(ce.jsx)(Se.a,{style:{color:e.s25_status?"grey":"black"},children:e.s25}),Object(ce.jsx)(Se.a,{style:{color:e.s25_status?"grey":"black"},children:e.s25_field}),Object(ce.jsx)(Se.a,{style:{color:e.s26_status?"grey":"black"},children:e.s26}),Object(ce.jsx)(Se.a,{style:{color:e.s26_status?"grey":"black"},children:e.s26_field}),Object(ce.jsx)(Se.a,{style:{color:e.s27_status?"grey":"black"},children:e.s27}),Object(ce.jsx)(Se.a,{style:{color:e.s27_status?"grey":"black"},children:e.s27_field}),Object(ce.jsx)(Se.a,{style:{color:e.s28_status?"grey":"black"},children:e.s28}),Object(ce.jsx)(Se.a,{style:{color:e.s28_status?"grey":"black"},children:e.s28_field}),Object(ce.jsx)(Se.a,{style:{color:e.s29_status?"grey":"black"},children:e.s29}),Object(ce.jsx)(Se.a,{style:{color:e.s29_status?"grey":"black"},children:e.s29_field}),Object(ce.jsx)(Se.a,{style:{color:e.s30_status?"grey":"black"},children:e.s30}),Object(ce.jsx)(Se.a,{style:{color:e.s30_status?"grey":"black"},children:e.s30_field}),Object(ce.jsx)(Se.a,{style:{color:e.s31_status?"grey":"black"},children:e.s31}),Object(ce.jsx)(Se.a,{style:{color:e.s31_status?"grey":"black"},children:e.s31_field}),Object(ce.jsx)(Se.a,{style:{color:e.s32_status?"grey":"black"},children:e.s32}),Object(ce.jsx)(Se.a,{style:{color:e.s32_status?"grey":"black"},children:e.s32_field})]},e.id)}))})]})}),Object(ce.jsx)(C.a,{container:!0,justifyContent:"flex-end",style:{marginLeft:"-10rem",marginTop:".25rem"},children:Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(mi.a,{count:j,page:r,onChange:function(e,a){var n=t.slice(10*(a-1),10*a);O(n),s(a)},shape:"rounded"})})})]})}function Bu(e){var t=e.updateInverterScb,a=(e.refreshInverterTable,$e().setEnabledLinearProgress),i=Object(n.useState)(!1),c=Object(u.a)(i,2),r=(c[0],c[1]),s=Object(n.useState)(Vj),l=Object(u.a)(s,2),o=l[0],j=l[1],d=Object(n.useState)(o[0].name),b=Object(u.a)(d,2),m=b[0],h=b[1],O=JSON.parse(localStorage.getItem("siteNamesAndBlocks")),g=Object(n.useState)(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O;return e.map((function(e){return e.name}))}()),S=Object(u.a)(g,2),p=S[0],f=(S[1],Object(n.useState)(o[0].blocks.map((function(e){return e.name})))),v=Object(u.a)(f,2),y=v[0],T=v[1],I=Object(n.useState)(["I01"]),k=Object(u.a)(I,2),w=k[0],N=k[1],B=Object(n.useState)([]),L=Object(u.a)(B,2),D=L[0],P=L[1],F=Object(n.useState)([]),V=Object(u.a)(F,2),A=V[0],E=V[1],H=Object(n.useState)(""),_=Object(u.a)(H,2),z=_[0],M=_[1];Object(n.useEffect)((function(){X.a.post(K+"/manageinverters/inverters").then((function(e){var t=e.data.sort((function(e,t){return e.name>t.name?1:t.name>e.name?-1:0}));j(t),h(t[0].name),T(t[0].blocks.map((function(e){return e.name})))}))}),[]);var R=function(){var e=[];try{var t=o.find((function(e){return e.name===m})).blocks.find((function(e){return e.name===y[0]})),a=y.length>1?["All"]:null===t||void 0===t?void 0:t.inverters.map((function(e){return e.name}));e=a.length>0?a.sort():[]}catch(n){e=[]}return e};return Object(ce.jsxs)(ce.Fragment,{children:[Object(ce.jsxs)(C.a,{container:!0,justifyContent:"space-between",style:{paddingRight:"10rem"},alignItems:"flex-end",children:[Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsxs)(C.a,{container:!0,spacing:2,alignItems:"flex-end",children:[Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(zj,{label:"Site",items:p,handleChange:function(e){var t=e.target.value;h(t),T(o.find((function(e){return e.name===t})).blocks.map((function(e){return e.name})))},selectedItem:m})}),Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(Po,{label:"Block",items:o.find((function(e){return e.name===m}))?o.find((function(e){return e.name===m})).blocks.map((function(e){return e.name})):[],handleChange:function(e){var t=e.target.value;"all"!==t[t.length-1]?T(t):T(y.length===o.find((function(e){return e.name===m})).blocks.length?[]:o.find((function(e){return e.name===m})).blocks.map((function(e){return e.name})))},selectedItems:y})}),Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(Po,{label:"Inverter",items:R(),handleChange:function(e){var t=e.target.value.sort();"all"!==t[t.length-1]?N(t):0===w.length?N(R()):N([])},selectedItems:y.length>1?["All"]:w})}),Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(x.a,{variant:"outlined",size:"small",color:"primary",onClick:function(){a(!0),r(!0),X.a.post(K+"/scbUpdate",{sites:m,blocks:y,inverters:y.length>1?["all"]:w}).then((function(e){console.log("124--scb data",e.data),P(e.data),E(e.data),a(!1),r(!1)})).catch((function(e){console.log(e),a(!1),r(!1)}))},children:"View"})})]})}),Object(ce.jsxs)(C.a,{item:!0,children:[Object(ce.jsx)(Nb.a,{id:"search",placeholder:"Enter inverter",value:z,onChange:function(e){var t=e.target.value;M(t)},style:{maxWidth:"8rem",marginRight:".5rem"}}),Object(ce.jsx)(x.a,{variant:"outlined",size:"small",onClick:function(){if(""!==z){var e=D.filter((function(e){return String(e.inverter).toLowerCase()===String(z).toLowerCase()}));P(e)}else P(A)},children:"Search"})]})]}),Object(ce.jsx)(C.a,{container:!0,style:{marginTop:".5rem",marginRight:"10rem"},children:Object(ce.jsx)(Nu,{data:D,updateInverterScb:t})})]})}a(1309),a(498);function Lu(e,t,a,n,i){return{name:e,calories:t,fat:a,carbs:n,protein:i}}Lu("Frozen yoghurt",159,6,24,4),Lu("Ice cream sandwich",237,9,37,4.3),Lu("Eclair",262,16,24,6),Lu("Cupcake",305,3.7,67,4.3),Lu("Gingerbread",356,16,49,3.9);Object(D.a)((function(e){return{root:{"& > *":{width:"6rem",fontSize:13},button:{margin:e.spacing(1)}},textField:{width:120}}}));function Du(e,t,a,n,i){return{name:e,calories:t,fat:a,carbs:n,protein:i}}Du("Frozen yoghurt",159,6,24,4),Du("Ice cream sandwich",237,9,37,4.3),Du("Eclair",262,16,24,6),Du("Cupcake",305,3.7,67,4.3),Du("Gingerbread",356,16,49,3.9);Object(D.a)((function(e){return{root:{"& > *":{width:"6rem",fontSize:13},button:{margin:e.spacing(1)}},textField:{width:120}}}));var Pu=["children","value","index"],Fu=Object(D.a)({tabs:{"& .MuiTabs-indicator":{},"& .MuiTab-root.Mui-selected":{color:"#148F77"}}});function Vu(e){var t=e.children,a=e.value,n=e.index,i=Object(ji.a)(e,Pu);return Object(ce.jsx)("div",Object(h.a)(Object(h.a)({role:"tabpanel",hidden:a!==n,id:"simple-tabpanel-".concat(n),"aria-labelledby":"simple-tab-".concat(n)},i),{},{children:a===n&&Object(ce.jsx)(ui.a,{sx:{paddingTop:1},children:Object(ce.jsx)(V.a,{children:t})})}))}function Au(e){return{id:"scb-tab-".concat(e),"aria-controls":"scb-tabpanel-".concat(e)}}function Eu(e){var t=e.updateInverter,a=e.updateInverterScb,i=e.refreshInverterTable,c=e.updateSite,r=e.refreshSiteEditTable,s=e.handleSessionExpire,l=n.useState(0),o=Object(u.a)(l,2),j=o[0],d=o[1],b=Fu();return Object(ce.jsxs)(ui.a,{children:[Object(ce.jsxs)(di.a,{value:j,className:b.tabs,variant:"scrollable",scrollButtons:"auto",style:{color:"#000000",width:"76rem",marginLeft:"-1rem"},TabIndicatorProps:{style:{background:"#148F77"}},onChange:function(e,t){d(t)},"aria-label":"analytics tabs",children:[Object(ce.jsx)(bi.a,Object(h.a)({label:"Sites"},Au(0))),Object(ce.jsx)(bi.a,Object(h.a)({label:"Inverters"},Au(1))),Object(ce.jsx)(bi.a,Object(h.a)({label:"Inv-Scb"},Au(2))),Object(ce.jsx)(bi.a,Object(h.a)({label:"Users"},Au(3))),Object(ce.jsx)(bi.a,Object(h.a)({label:"Data Availability"},Au(4))),Object(ce.jsx)(bi.a,Object(h.a)({label:"Logs"},Au(5))),Object(ce.jsx)(bi.a,Object(h.a)({label:"Remote Config"},Au(6))),Object(ce.jsx)(bi.a,Object(h.a)({label:"SLD"},Au(7))),Object(ce.jsx)(bi.a,Object(h.a)({label:"Replication"},Au(8)))]}),Object(ce.jsx)(Vu,{value:j,index:0,style:{paddingTop:"0.5rem"},children:Object(ce.jsx)(iu,{updateSite:c,refreshSiteEditTable:r})}),Object(ce.jsx)(Vu,{value:j,index:1,style:{paddingTop:"0.5rem"},children:Object(ce.jsx)(qb,{updateInverter:t,refreshInverterTable:i})}),Object(ce.jsx)(Vu,{value:j,index:2,style:{paddingTop:"0.5rem"},children:Object(ce.jsx)(Bu,{updateInverterScb:a,refreshInverterTable:i})}),Object(ce.jsx)(Vu,{value:j,index:3,style:{paddingTop:"0.5rem"},children:Object(ce.jsx)(Wb,{})}),Object(ce.jsx)(Vu,{value:j,index:4,style:{paddingTop:"0.5rem"},children:Object(ce.jsx)(wb,{handleSessionExpire:s})}),Object(ce.jsx)(Vu,{value:j,index:5,style:{paddingTop:"0.5rem"},children:Object(ce.jsx)(lu,{})}),Object(ce.jsx)(Vu,{value:j,index:6,style:{paddingTop:"0.5rem"},children:Object(ce.jsx)(gu,{})}),Object(ce.jsx)(Vu,{value:j,index:7,style:{paddingTop:"0.5rem"},children:Object(ce.jsx)(uu,{})}),Object(ce.jsx)(Vu,{value:j,index:8,style:{paddingTop:"0.5rem"},children:Object(ce.jsx)(ku,{})})]})}var Hu=a(500),_u=a.n(Hu),zu=function(e){var t=e.x,a=e.y,n=e.fill,i=e.value,c=e.index;return Object(ce.jsxs)("text",{x:t,y:a,dx:"10",dy:"-10",fontSize:"10",fontFamily:"sans-serif",fill:n,textAnchor:"middle",children:[i,c>=10?"%":"\xb0C"]})};function Mu(e){e.ambientTemp,e.moduleTemp,e.humidity,e.ambientTemp2,e.moduleTemp2,e.humidity2;var t=e.temperatureData,a=[{name:"Amb 1",value:Number(t.ambienttemp1)&&-111!==Number(t.ambienttemp1)?Number(t.ambienttemp1).toFixed(1):0},{name:"Amb 2",value:Number(t.ambienttemp2)&&-111!==Number(t.ambienttemp2)?Number(t.ambienttemp2).toFixed(1):0},{name:"Amb 3",value:Number(t.ambienttemp3)&&-111!==Number(t.ambienttemp3)?Number(t.ambienttemp3).toFixed(1):0},{name:"Amb 4",value:Number(t.ambienttemp4)&&-111!==Number(t.ambienttemp4)?Number(t.ambienttemp4).toFixed(1):0},{name:"Amb 5",value:Number(t.ambienttemp5)&&-111!==Number(t.ambienttemp5)?Number(t.ambienttemp5).toFixed(1):0},{name:"Mod 1",value:Number(t.moduletemp1)&&-111!==Number(t.moduletemp1)?Number(t.moduletemp1).toFixed(1):0},{name:"Mod 2",value:Number(t.moduletemp2)&&-111!==Number(t.moduletemp2)?Number(t.moduletemp2).toFixed(1):0},{name:"Mod 3",value:Number(t.moduletemp3)&&-111!==Number(t.moduletemp3)?Number(t.moduletemp3).toFixed(1):0},{name:"Mod 4",value:Number(t.moduletemp4)&&-111!==Number(t.moduletemp4)?Number(t.moduletemp4).toFixed(1):0},{name:"Mod 5",value:Number(t.moduletemp5)&&-111!==Number(t.moduletemp5)?Number(t.moduletemp5).toFixed(1):0},{name:"Hum 1",value:Number(t.humidity1)&&-111!==Number(t.humidity)?Number(t.humidity1).toFixed(1):0},{name:"Hum 2",value:Number(t.humidity2)&&-111!==Number(t.humidity2)?Number(t.humidity2).toFixed(1):0},{name:"Hum 3",value:Number(t.humidity3)&&-111!==Number(t.humidity3)?Number(t.humidity3).toFixed(1):0},{name:"Hum 4",value:Number(t.humidity4)&&-111!==Number(t.humidity4)?Number(t.humidity4).toFixed(1):0},{name:"Hum 5",value:Number(t.humidity5)&&-111!==Number(t.humidity5)?Number(t.humidity5).toFixed(1):0}];return Object(ce.jsxs)(S.a,{elevation:6,style:{paddingTop:".5rem",paddingBottom:".5rem",paddingLeft:"0rem",paddingRight:"0rem",height:255,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"space-between"},children:[Object(ce.jsxs)(V.a,{children:["Temperatures "," and "," Humidity"]}),Object(ce.jsxs)(Q.a,{width:800,height:200,data:a,margin:{right:50,bottom:15},barSize:20,children:[Object(ce.jsx)(ee.a,{dataKey:"name",scale:"point",padding:{left:20},angle:315,tickMargin:15}),Object(ce.jsx)(te.a,{domain:[0,100]}),Object(ce.jsx)(ae.a,{strokeDasharray:"3 3"}),Object(ce.jsx)(ne.a,{isAnimationActive:!1,dataKey:"value",fill:"#8884d8",background:{fill:"#eee"},label:Object(ce.jsx)(zu,{}),children:a.map((function(e,t){return t<5?Object(ce.jsx)(ie.a,{cursor:"pointer",fill:"#42a5f5"},"cell-".concat(t)):t>=5&&t<10?Object(ce.jsx)(ie.a,{cursor:"pointer",fill:"#82ca9d"},"cell-".concat(t)):Object(ce.jsx)(ie.a,{cursor:"pointer",fill:"#8884d8"},"cell-".concat(t))}))})]})]})}function Ru(e){var t=e.data,a=e.interval,i=(e.width,e.height,e.leftAxisY),c=e.rightAxisY,r=Object(n.useState)({ghi1:1,ghi2:1,ghi3:1,ghi4:1,ghi5:1,gti1:1,gti2:1,gti3:1,gti4:1,gti5:1,pg:1}),s=Object(u.a)(r,2),l=s[0],o=s[1];return Object(ce.jsx)(le.a,{width:"100%",height:"83%",children:Object(ce.jsxs)(oe.a,{data:t,children:[Object(ce.jsx)(ae.a,{strokeDasharray:"3 3"}),Object(ce.jsx)(ee.a,{dataKey:"time",interval:a}),Object(ce.jsx)(te.a,{yAxisId:"left",domain:i}),Object(ce.jsx)(te.a,{yAxisId:"right",domain:c,orientation:"right"}),Object(ce.jsx)(je.a,{}),Object(ce.jsx)(de.a,{content:function(e){var t=e.payload;return Object(ce.jsx)("div",{style:{display:"flex",justifyContent:"center",gap:"20px"},children:t.map((function(e,t){return Object(ce.jsx)("strong",{style:{fontSize:"1rem",color:e.color,cursor:"pointer",opacity:0===l[e.dataKey]?.5:1},onClick:function(){return t=e.dataKey,void o((function(e){return Object(h.a)(Object(h.a)({},e),{},Object(m.a)({},t,0===e[t]?1:0))}));var t},children:String(e.value).toUpperCase()},e.value)}))})}}),Object(ce.jsx)(be.a,{yAxisId:"left",type:"monotone",dataKey:"ghi1",stroke:"#5499C7",strokeWidth:2,strokeOpacity:l.ghi1,activeDot:{r:6},dot:!1,name:"GHI 1"}),Object(ce.jsx)(be.a,{name:"GHI 2",yAxisId:"left",type:"monotone",dataKey:"ghi2",stroke:"#AF7AC5",strokeWidth:2,strokeOpacity:l.ghi2,activeDot:{r:6},dot:!1}),Object(ce.jsx)(be.a,{yAxisId:"left",type:"monotone",dataKey:"ghi3",stroke:"#5499C7",strokeWidth:2,strokeOpacity:l.ghi3,activeDot:{r:6},dot:!1,name:"GHI 3"}),t.ghi4&&Object(ce.jsx)(be.a,{name:"GHI 4",yAxisId:"left",type:"monotone",dataKey:"ghi4",stroke:"#AF7AC5",strokeWidth:2,strokeOpacity:l.ghi4,activeDot:{r:6},dot:!1}),t.ghi5&&Object(ce.jsx)(be.a,{yAxisId:"left",type:"monotone",dataKey:"ghi5",stroke:"#5499C7",strokeWidth:2,strokeOpacity:l.ghi5,activeDot:{r:6},dot:!1,name:"GHI 5"}),Object(ce.jsx)(be.a,{name:"GTI 1",yAxisId:"left",type:"monotone",dataKey:"gti1",stroke:"#F5B041",strokeWidth:2,strokeOpacity:l.gti1,activeDot:{r:6},dot:!1}),Object(ce.jsx)(be.a,{name:"GTI 2",yAxisId:"left",type:"monotone",dataKey:"gti2",stroke:"#E67E22",strokeWidth:2,strokeOpacity:l.gti2,activeDot:{r:6},dot:!1}),Object(ce.jsx)(be.a,{name:"GTI 3",yAxisId:"left",type:"monotone",dataKey:"gti3",stroke:"#F5B041",strokeWidth:2,strokeOpacity:l.gti3,activeDot:{r:6},dot:!1}),Object(ce.jsx)(be.a,{name:"GTI 4",yAxisId:"left",type:"monotone",dataKey:"gti4",stroke:"#E67E22",strokeWidth:2,strokeOpacity:l.gti4,activeDot:{r:6},dot:!1}),Object(ce.jsx)(be.a,{name:"GTI 5",yAxisId:"left",type:"monotone",dataKey:"gti5",stroke:"#F5B041",strokeWidth:2,strokeOpacity:l.gti5,activeDot:{r:6},dot:!1}),Object(ce.jsx)(be.a,{name:"PG",yAxisId:"right",type:"monotone",dataKey:"pg",stroke:"#82ca9d",strokeWidth:2,strokeOpacity:l.pg,activeDot:{r:6},dot:!1})]})})}var Gu=Object(Oe.a)((function(e){return{head:{backgroundColor:"#ffffbf",color:e.palette.common.black,fontSize:16},body:{fontSize:16}}}))(Se.a),Wu=Object(Oe.a)((function(e){return{root:{"&:nth-of-type(odd)":{backgroundColor:e.palette.action.hover}}}}))(ve.a),Xu=Object(D.a)({tableContainer:{maxHeight:"80vh",maxWidth:"90vw"}}),Yu=function(e){var t=e.value,a=e.inverters;return Object(ce.jsxs)(Wu,{children:[Object(ce.jsx)(Gu,{component:"th",scope:"row",style:{paddingTop:".6rem",paddingBottom:".6rem",backgroundColor:null},children:Object(ce.jsx)("strong",{style:{paddingLeft:"2.5rem"},children:t.heading})}),Array.from(Array(a).keys()).map((function(e,a){return Object(ce.jsx)(Gu,{align:"center",style:{backgroundColor:null},children:Object(ce.jsx)("span",{children:isNaN(Number(t["inv"+Number(a+1)]))?"-":-111===Number(t["inv"+Number(a+1)])?"X":Number(t["inv"+Number(a+1)]).toFixed(2)})})}))]})},qu=function(e){var t=e.value,a=e.inverters;return Object(ce.jsxs)(Wu,{children:[Object(ce.jsx)(Gu,{component:"th",scope:"row",style:{paddingTop:".6rem",paddingBottom:".6rem",position:"sticky",left:0,backgroundColor:"white",minWidth:"300px"},children:Object(ce.jsx)("strong",{style:{paddingLeft:"1rem"},children:t.heading})}),Array.from(Array(a).keys()).map((function(e,a){return Object(ce.jsx)(Gu,{align:"center",children:isNaN(Number(t["inv"+Number(a+1)]))?"-":-111===Number(t["inv"+Number(a+1)])?"X":Number(t["inv"+Number(a+1)]).toFixed(2)})}))]})};function Uu(e){var t=e.values,a=(e.block,Xu()),c=Object(n.useState)([]),r=Object(u.a)(c,2),s=r[0],l=r[1],o=i.a.useState(!1),j=Object(u.a)(o,2),d=j[0],b=j[1],m=i.a.useState(!1),h=Object(u.a)(m,2),O=h[0],g=h[1],x=Object(n.useState)(4),S=Object(u.a)(x,2),p=S[0],f=(S[1],function(e){var t=e.title,a=e.tag,n=e.openRows;return Object(ce.jsx)(Wu,{children:Object(ce.jsxs)(Gu,{component:"th",scope:"row",colSpan:37,style:{backgroundColor:"#EBF5FB"},children:[Object(ce.jsx)("strong",{style:{paddingLeft:"1rem",paddingRight:".5rem",color:"#000"},children:t}),Object(ce.jsx)(y.a,{"aria-label":"expand row",size:"small",onClick:function(){return function(e){"S"===e?b((function(e){return!e})):g((function(e){return!e}))}(a)},style:{color:"#000"},children:n?Object(ce.jsx)(Ie.a,{}):Object(ce.jsx)(ye.a,{})})]})})});return Object(n.useEffect)((function(){for(var e=[],a=[],n=[],i=null,c=null,r=0;r<t.length;r++)t[r].heading.match(/S[1-4] [^/]/i)?(i||(i=r,n.push(Object(ce.jsx)(f,{title:"Inverter Slots",tag:"S",openRows:d},r))),r,e.push(Object(ce.jsx)(Yu,{value:t[r],inverters:p},t[r].heading))):t[r].heading.match(/[S]3[0-4]|2[0-9]|1[0-9]|[1-9] [/] S[1-4]CB/i)?(c||(c=r,n.push(Object(ce.jsx)(f,{title:"Inverter Strings",tag:"PV",openRows:O},r))),r,a.push(Object(ce.jsx)(Yu,{value:t[r],inverters:p},t[r].heading))):n.push(Object(ce.jsx)(qu,{value:t[r],inverters:p},r));var s,o=[].concat(n);if(d&&O)(s=o).splice.apply(s,[i+1,0].concat(e)),o=[].concat(Object(me.a)(o),[a]);else if(d&&!O){var j;(j=o).splice.apply(j,[i+1,0].concat(e))}else o=!d&&O?[].concat(Object(me.a)(o),[a]):[].concat(n);l(o)}),[t,d,O]),Object(ce.jsx)(pe.a,{component:he.a,elevation:6,className:a.tableContainer,children:Object(ce.jsxs)(ge.a,{stickyHeader:!0,"aria-label":"customized table",size:"small",children:[Object(ce.jsx)(fe.a,{children:Object(ce.jsxs)(ve.a,{children:[Object(ce.jsx)(Gu,{style:{paddingTop:".7rem",paddingLeft:"1.75rem",paddingBottom:".7rem",zIndex:101},children:Object(ce.jsx)("strong",{children:"Parameters"})}),Array.from(Array(p).keys()).map((function(e,t){return Object(ce.jsx)(Gu,{align:"center",style:{minWidth:"100px"},children:Object(ce.jsxs)("strong",{children:["Inv ",t+1]})})}))]})}),Object(ce.jsx)(xe.a,{children:s})]})})}function Ku(e){var t=e.firstTitle,a=e.secondTitle,n=e.firstValue,i=e.secondValue,c=e.imagePath,r=e.imageHeight;return Object(ce.jsx)(S.a,{elevation:4,style:{height:"80px"},children:Object(ce.jsxs)(C.a,{container:!0,alignItems:"center",style:{padding:"1rem 2rem 1rem 1rem"},children:[Object(ce.jsx)("img",{src:c,alt:c,style:{height:r,marginRight:"1rem"}}),Object(ce.jsxs)(C.a,{item:!0,children:[Object(ce.jsxs)(C.a,{container:!0,children:[Object(ce.jsx)(C.a,{item:!0,xs:5,children:Object(ce.jsx)(V.a,{children:t})}),Object(ce.jsx)(C.a,{item:!0,xs:2}),Object(ce.jsx)(C.a,{item:!0,xs:5,style:{paddingLeft:".25rem"},children:Object(ce.jsx)(V.a,{children:a})})]}),Object(ce.jsxs)(C.a,{container:!0,children:[Object(ce.jsx)(C.a,{item:!0,xs:5,children:Object(ce.jsx)(V.a,{color:"primary",children:n})}),Object(ce.jsx)(C.a,{item:!0,xs:2}),Object(ce.jsx)(C.a,{item:!0,xs:5,style:{paddingLeft:".25rem"},children:Object(ce.jsx)(V.a,{color:"primary",children:i})})]})]})]})})}function Zu(e){var t=e.elements,a=e.imagePath,n=e.imageHeight;return Object(ce.jsx)(S.a,{elevation:4,style:{width:"100%",paddingInline:"1rem",paddingBlock:".7rem"},children:Object(ce.jsxs)(C.a,{container:!0,alignItems:"center",style:{height:"100%",width:"100%"},children:[Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)("img",{src:a,alt:a,style:{height:n}})}),Object(ce.jsx)(C.a,{item:!0,xs:!0,style:{marginLeft:"1.5rem"},children:Object(ce.jsx)(C.a,{container:!0,justifyContent:"space-between",children:t.map((function(e){var t=e.ghiTitle,a=e.gtiTitle,n=e.ghiValue,i=e.gtiValue,c=(e.ghiLocation,e.gtiLocation);return Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsxs)(C.a,{container:!0,style:{textAlign:"center"},children:[Object(ce.jsx)(C.a,{item:!0,xs:6,children:Object(ce.jsx)(V.a,{variant:"body2",children:t})}),Object(ce.jsx)(C.a,{item:!0,xs:6,children:Object(ce.jsx)(V.a,{variant:"body2",children:a})}),Object(ce.jsx)(C.a,{item:!0,xs:6,children:Object(ce.jsx)(V.a,{color:"primary",variant:"body2",children:n})}),Object(ce.jsx)(C.a,{item:!0,xs:6,children:Object(ce.jsx)(V.a,{color:"primary",variant:"body2",children:i})}),Object(ce.jsx)(C.a,{item:!0,xs:12,children:Object(ce.jsx)(V.a,{variant:"body2",color:"textSecondary",children:c})})]})})}))})})]})})}var Ju=Object(D.a)((function(e){return{}})),$u=function(e){return void 0===e||null===e?"-":"-111"===e?"x":Number(e).toFixed(2)},Qu=function(e){return void 0===e||null===e?"-":"-111"===e?"x":e};function em(e){var t=e.day_generation,a=void 0===t?0:t,n=e.revenue,c=void 0===n?0:n,r=e.peak_power,s=void 0===r?0:r,l=e.ghi,o=e.gti,j=e.ghi2,d=e.gti2,b=e.ghi3,u=e.gti3,m=e.ghi4,h=e.gti4,O=e.ghi5,g=e.gti5,x=e.plant_pr,S=void 0===x?0:x,p=(e.grid_availability,e.plant_availability,e.cardsValues);Ju();return Object(ce.jsxs)(i.a.Fragment,{children:[Object(ce.jsxs)(C.a,{container:!0,style:{marginTop:"0rem"},justifyContent:"space-between",children:[Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(Pe,{imagePath:"/static/images/powerGeneration.png",imageHeight:48,title:"Generation",value:-111===Number(a)?"x":Object(ce.jsxs)("span",{children:[Number(a).toFixed(2),"\xa0",Object(ce.jsx)("small",{children:"MWH"})]})})}),Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(Pe,{imagePath:"/static/images/revenue.png",imageHeight:42,title:"Revenue",value:Object(ce.jsx)("span",{children:function(e){if(isNaN(e))return"x";var t=Number(e).toFixed(0);if(t<0)return"0";var a=t,n=a.substring(a.length-3),i=a.substring(0,a.length-3);return""!==i&&(n=","+n),i.replace(/\B(?=(\d{2})+(?!\d))/g,",")+n}(c)})})}),Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(Pe,{imagePath:"/static/images/peakPower.png",imageHeight:45,title:"Peak Power",value:-111===Number(s)||isNaN(Number(s))?"x":Object(ce.jsxs)("span",{children:[Number(s).toFixed(2),"\xa0",Object(ce.jsx)("small",{children:"MW"})]})})}),Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(Pe,{imagePath:"/static/images/plantPR.png",imageHeight:45,title:"Plant PR",value:-111===Number(S)?"x":Object(ce.jsxs)("span",{children:[Number(S).toFixed(0),"%"]})})}),Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(Ku,{imagePath:"/static/images/gridAvailability.png",imageHeight:50,firstTitle:"GA",secondTitle:"PA",firstValue:Object(ce.jsxs)("span",{children:[-111===Number(p.ga)?"x":Number(p.ga).toFixed(1).replace(/[.,]00$/,""),-111!==Number(p.ga)&&"%"]}),secondValue:Object(ce.jsxs)("span",{children:[-111===Number(p.pa)?"x":Number(p.pa).toFixed(1).replace(/[.,]00$/,""),-111!==Number(p.pa)&&"%"]})})})]}),Object(ce.jsx)(C.a,{container:!0,justifyContent:"space-between",style:{marginTop:"1.5rem"},children:Object(ce.jsx)(C.a,{item:!0,xs:12,children:Object(ce.jsx)(Zu,{imagePath:"/static/images/ray.png",imageHeight:50,elements:[{ghiTitle:"GHI 1",ghiValue:$u(l),ghiLocation:Qu(p.ghi1location),gtiTitle:"GTI 1",gtiValue:$u(o),gtiLocation:Qu(p.gti1location)},{ghiTitle:"GHI 2",ghiValue:$u(j),ghiLocation:Qu(p.ghi2location),gtiTitle:"GTI 2",gtiValue:$u(d),gtiLocation:Qu(p.gti2location)},{ghiTitle:"GHI 3",ghiValue:$u(b),ghiLocation:Qu(p.ghi3location),gtiTitle:"GTI 3",gtiValue:$u(u),gtiLocation:Qu(p.gti3location)},{ghiTitle:"GHI 4",ghiValue:$u(m),ghiLocation:Qu(p.ghi4location),gtiTitle:"GTI 4",gtiValue:$u(h),gtiLocation:Qu(p.gti4location)},{ghiTitle:"GHI 5",ghiValue:$u(O),ghiLocation:Qu(p.ghi5location),gtiTitle:"GTI 5",gtiValue:$u(g),gtiLocation:Qu(p.gti5location)}]})})})]})}function tm(e){var t=e.totalExport,a=e.maxValue,i=Object(n.useState)(0),c=Object(u.a)(i,2),r=c[0],s=c[1];return Object(n.useEffect)((function(){var e=Number(t)&&-111!==Number(t)?Number(t):0;e!==t&&s(e)}),[t]),Object(ce.jsxs)(S.a,{elevation:6,style:{height:255,width:350},children:[Object(ce.jsx)(V.a,{style:{marginLeft:"1rem",marginTop:".5rem"},variant:"h6",children:"Power Generation"}),Object(ce.jsx)(C.a,{container:!0,justify:"center",children:Object(ce.jsx)(C.a,{item:!0,style:{height:"parent"},children:Object(ce.jsx)(He.a,{data:{columns:[["Current Export",r]],type:"gauge"},gauge:{label:{format:function(e){return e+" MW"},show:!0},min:0,max:a,width:45},color:{pattern:["#4caf50"]},size:{height:200}})})})]})}function am(e){var t=e.size,a=e.rotate;return Object(n.useEffect)((function(){var e=document.getElementById("needle"),t=Number(a)&&-111!==Number(a)?Number(a):0;e.style.transformOrigin="center",e.style.transform="rotate(".concat(t,"deg)")}),[a]),Object(ce.jsxs)("svg",{width:String(t),height:String(t),viewBox:"0 0 316 316",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[Object(ce.jsxs)("g",{id:"body",children:[Object(ce.jsx)("circle",{id:"Ellipse",cx:"158",cy:"158",r:"154",fill:"white",stroke:"#616161",strokeWidth:"8"}),Object(ce.jsx)("path",{id:"N",d:"M164.094 53H161.832L153.242 39.8516V53H150.98V35.9375H153.242L161.855 49.1445V35.9375H164.094V53Z",fill:"black"}),Object(ce.jsx)("path",{id:"NW",d:"M65.8047 80H64.4854L59.4746 72.3301V80H58.1553V70.0469H59.4746L64.499 77.751V70.0469H65.8047V80ZM70.2822 76.8623L70.4736 78.1748L70.7539 76.9922L72.7227 70.0469H73.8301L75.751 76.9922L76.0244 78.1953L76.2363 76.8555L77.7812 70.0469H79.1006L76.6875 80H75.4912L73.4404 72.7471L73.2832 71.9883L73.126 72.7471L71 80H69.8037L67.3975 70.0469H68.71L70.2822 76.8623Z",fill:"black"}),Object(ce.jsx)("path",{id:"SW",d:"M61.0879 241.563C59.9622 241.24 59.1419 240.843 58.627 240.374C58.1165 239.9 57.8613 239.317 57.8613 238.624C57.8613 237.84 58.1735 237.193 58.7979 236.683C59.4268 236.168 60.2425 235.91 61.2451 235.91C61.9287 235.91 62.5371 236.042 63.0703 236.307C63.6081 236.571 64.0228 236.936 64.3145 237.4C64.6107 237.865 64.7588 238.373 64.7588 238.925H63.4395C63.4395 238.323 63.248 237.852 62.8652 237.51C62.4824 237.163 61.9424 236.99 61.2451 236.99C60.598 236.99 60.0921 237.134 59.7275 237.421C59.3675 237.703 59.1875 238.098 59.1875 238.604C59.1875 239.009 59.3584 239.353 59.7002 239.636C60.0465 239.914 60.6322 240.169 61.457 240.401C62.2865 240.634 62.9336 240.891 63.3984 241.174C63.8678 241.452 64.2142 241.778 64.4375 242.151C64.6654 242.525 64.7793 242.965 64.7793 243.471C64.7793 244.277 64.4648 244.924 63.8359 245.412C63.207 245.895 62.3662 246.137 61.3135 246.137C60.6299 246.137 59.9919 246.007 59.3994 245.747C58.807 245.483 58.349 245.123 58.0254 244.667C57.7064 244.211 57.5469 243.694 57.5469 243.115H58.8662C58.8662 243.717 59.0872 244.193 59.5293 244.544C59.9759 244.89 60.5706 245.063 61.3135 245.063C62.0062 245.063 62.5371 244.922 62.9062 244.64C63.2754 244.357 63.46 243.972 63.46 243.484C63.46 242.997 63.2891 242.621 62.9473 242.356C62.6055 242.088 61.9857 241.823 61.0879 241.563ZM68.6143 242.862L68.8057 244.175L69.0859 242.992L71.0547 236.047H72.1621L74.083 242.992L74.3564 244.195L74.5684 242.855L76.1133 236.047H77.4326L75.0195 246H73.8232L71.7725 238.747L71.6152 237.988L71.458 238.747L69.332 246H68.1357L65.7295 236.047H67.042L68.6143 242.862Z",fill:"black"}),Object(ce.jsx)("path",{id:"SE",d:"M246.088 241.563C244.962 241.24 244.142 240.843 243.627 240.374C243.117 239.9 242.861 239.317 242.861 238.624C242.861 237.84 243.174 237.193 243.798 236.683C244.427 236.168 245.243 235.91 246.245 235.91C246.929 235.91 247.537 236.042 248.07 236.307C248.608 236.571 249.023 236.936 249.314 237.4C249.611 237.865 249.759 238.373 249.759 238.925H248.439C248.439 238.323 248.248 237.852 247.865 237.51C247.482 237.163 246.942 236.99 246.245 236.99C245.598 236.99 245.092 237.134 244.728 237.421C244.368 237.703 244.188 238.098 244.188 238.604C244.188 239.009 244.358 239.353 244.7 239.636C245.047 239.914 245.632 240.169 246.457 240.401C247.286 240.634 247.934 240.891 248.398 241.174C248.868 241.452 249.214 241.778 249.438 242.151C249.665 242.525 249.779 242.965 249.779 243.471C249.779 244.277 249.465 244.924 248.836 245.412C248.207 245.895 247.366 246.137 246.313 246.137C245.63 246.137 244.992 246.007 244.399 245.747C243.807 245.483 243.349 245.123 243.025 244.667C242.706 244.211 242.547 243.694 242.547 243.115H243.866C243.866 243.717 244.087 244.193 244.529 244.544C244.976 244.89 245.571 245.063 246.313 245.063C247.006 245.063 247.537 244.922 247.906 244.64C248.275 244.357 248.46 243.972 248.46 243.484C248.46 242.997 248.289 242.621 247.947 242.356C247.605 242.088 246.986 241.823 246.088 241.563ZM257.094 241.399H252.78V244.927H257.791V246H251.468V236.047H257.723V237.127H252.78V240.326H257.094V241.399Z",fill:"black"}),Object(ce.jsx)("path",{id:"NE",d:"M249.805 80H248.485L243.475 72.3301V80H242.155V70.0469H243.475L248.499 77.751V70.0469H249.805V80ZM257.762 75.3994H253.448V78.9268H258.459V80H252.136V70.0469H258.391V71.127H253.448V74.3262H257.762V75.3994Z",fill:"black"}),Object(ce.jsx)("path",{id:"W",d:"M34.6602 160.621L34.9883 162.871L35.4688 160.844L38.8438 148.938H40.7422L44.0352 160.844L44.5039 162.906L44.8672 160.609L47.5156 148.938H49.7773L45.6406 166H43.5898L40.0742 153.566L39.8047 152.266L39.5352 153.566L35.8906 166H33.8398L29.7148 148.938H31.9648L34.6602 160.621Z",fill:"black"}),Object(ce.jsx)("path",{id:"E",d:"M285.625 158.113H278.23V164.16H286.82V166H275.98V148.938H286.703V150.789H278.23V156.273H285.625V158.113Z",fill:"black"}),Object(ce.jsx)("path",{id:"S",d:"M157.008 271.395C155.078 270.84 153.672 270.16 152.789 269.355C151.914 268.543 151.477 267.543 151.477 266.355C151.477 265.012 152.012 263.902 153.082 263.027C154.16 262.145 155.559 261.703 157.277 261.703C158.449 261.703 159.492 261.93 160.406 262.383C161.328 262.836 162.039 263.461 162.539 264.258C163.047 265.055 163.301 265.926 163.301 266.871H161.039C161.039 265.84 160.711 265.031 160.055 264.445C159.398 263.852 158.473 263.555 157.277 263.555C156.168 263.555 155.301 263.801 154.676 264.293C154.059 264.777 153.75 265.453 153.75 266.32C153.75 267.016 154.043 267.605 154.629 268.09C155.223 268.566 156.227 269.004 157.641 269.402C159.062 269.801 160.172 270.242 160.969 270.727C161.773 271.203 162.367 271.762 162.75 272.402C163.141 273.043 163.336 273.797 163.336 274.664C163.336 276.047 162.797 277.156 161.719 277.992C160.641 278.82 159.199 279.234 157.395 279.234C156.223 279.234 155.129 279.012 154.113 278.566C153.098 278.113 152.312 277.496 151.758 276.715C151.211 275.934 150.938 275.047 150.938 274.055H153.199C153.199 275.086 153.578 275.902 154.336 276.504C155.102 277.098 156.121 277.395 157.395 277.395C158.582 277.395 159.492 277.152 160.125 276.668C160.758 276.184 161.074 275.523 161.074 274.688C161.074 273.852 160.781 273.207 160.195 272.754C159.609 272.293 158.547 271.84 157.008 271.395Z",fill:"black"}),Object(ce.jsx)("line",{id:"Line 1",x1:"159",y1:"8",x2:"159",y2:"23",stroke:"#616161",strokeWidth:"4"}),Object(ce.jsx)("line",{id:"Line 3",x1:"23",y1:"160",x2:"8",y2:"160",stroke:"#616161",strokeWidth:"4"}),Object(ce.jsx)("line",{id:"Line 5",x1:"57.8995",y1:"65.3137",x2:"47.2929",y2:"54.7071",stroke:"#616161",strokeWidth:"4"}),Object(ce.jsx)("line",{id:"Line 7",x1:"47.2929",y1:"261.899",x2:"57.8995",y2:"251.293",stroke:"#616161",strokeWidth:"4"}),Object(ce.jsx)("line",{id:"Line 8",x1:"258.293",y1:"63.8995",x2:"268.9",y2:"53.2929",stroke:"#616161",strokeWidth:"4"}),Object(ce.jsx)("line",{id:"Line 6",x1:"269.899",y1:"260.314",x2:"259.293",y2:"249.707",stroke:"#616161",strokeWidth:"4"}),Object(ce.jsx)("line",{id:"Line 4",x1:"308",y1:"157",x2:"293",y2:"157",stroke:"#616161",strokeWidth:"4"}),Object(ce.jsx)("line",{id:"Line 2",x1:"159",y1:"293",x2:"159",y2:"308",stroke:"#616161",strokeWidth:"4"})]}),Object(ce.jsxs)("g",{id:"needle",children:[Object(ce.jsx)("path",{id:"Polygon 1",d:"M158 68L168 158H157H148L158 68Z",fill:"#4caf50"}),Object(ce.jsx)("path",{id:"Polygon 2",d:"M158 248L148 158H159H168L158 248Z",fill:"#bdbdbd"})]})]})}am.defaultProps={size:"300",rotate:0};var nm=am;function im(e){var t=e.windDirection,a=e.windSpeed,n=e.rain;return Object(ce.jsxs)(S.a,{elevation:6,style:{padding:".5rem 1rem",height:255,display:"flex",flexDirection:"column",justifyContent:"space-between"},children:[Object(ce.jsxs)(V.a,{align:"center",children:["Wind ",Object(ce.jsx)("span",{style:{color:"#4caf50"},children:"Direction"})," & ",Object(ce.jsx)("span",{style:{color:"#2196f3"},children:"Speed"})]}),Object(ce.jsx)("div",{style:{textAlign:"center",padding:".5rem"},children:Object(ce.jsx)(nm,{size:!0===Number.isNaN(n)?140:120,rotate:t})}),Object(ce.jsxs)("div",{children:[Object(ce.jsxs)(V.a,{align:"center",children:[Object(ce.jsx)("span",{style:{color:"#4caf50"},children:-111===Number(t)?"x":Object(ce.jsxs)("span",{children:[t," \xb0"]})}),Object(ce.jsx)("span",{style:{marginLeft:"1rem",color:"#2196f3"},children:-111===Number(a)?"x":Object(ce.jsxs)("span",{children:[a," m/s"]})})]}),!Number.isNaN(n)&&Object(ce.jsxs)(V.a,{color:"textSecondary",align:"center",style:{marginTop:".25rem",marginBottom:".25rem"},children:["Rain: ",-111===Number(n)?"x":Object(ce.jsxs)("span",{children:[n," mm"]})]})]})]})}function cm(e){var t=e.size,a=e.rotate;return Object(n.useEffect)((function(){var e=document.getElementById("needle2"),t=Number(a)&&-111!==Number(a)?Number(a):0;e.style.transformOrigin="center",e.style.transform="rotate(".concat(t,"deg)")}),[a]),Object(ce.jsxs)("svg",{width:String(t),height:String(t),viewBox:"0 0 316 316",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[Object(ce.jsxs)("g",{id:"body",children:[Object(ce.jsx)("circle",{id:"Ellipse",cx:"158",cy:"158",r:"154",fill:"white",stroke:"#616161",strokeWidth:"8"}),Object(ce.jsx)("path",{id:"N",d:"M164.094 53H161.832L153.242 39.8516V53H150.98V35.9375H153.242L161.855 49.1445V35.9375H164.094V53Z",fill:"black"}),Object(ce.jsx)("path",{id:"NW",d:"M65.8047 80H64.4854L59.4746 72.3301V80H58.1553V70.0469H59.4746L64.499 77.751V70.0469H65.8047V80ZM70.2822 76.8623L70.4736 78.1748L70.7539 76.9922L72.7227 70.0469H73.8301L75.751 76.9922L76.0244 78.1953L76.2363 76.8555L77.7812 70.0469H79.1006L76.6875 80H75.4912L73.4404 72.7471L73.2832 71.9883L73.126 72.7471L71 80H69.8037L67.3975 70.0469H68.71L70.2822 76.8623Z",fill:"black"}),Object(ce.jsx)("path",{id:"SW",d:"M61.0879 241.563C59.9622 241.24 59.1419 240.843 58.627 240.374C58.1165 239.9 57.8613 239.317 57.8613 238.624C57.8613 237.84 58.1735 237.193 58.7979 236.683C59.4268 236.168 60.2425 235.91 61.2451 235.91C61.9287 235.91 62.5371 236.042 63.0703 236.307C63.6081 236.571 64.0228 236.936 64.3145 237.4C64.6107 237.865 64.7588 238.373 64.7588 238.925H63.4395C63.4395 238.323 63.248 237.852 62.8652 237.51C62.4824 237.163 61.9424 236.99 61.2451 236.99C60.598 236.99 60.0921 237.134 59.7275 237.421C59.3675 237.703 59.1875 238.098 59.1875 238.604C59.1875 239.009 59.3584 239.353 59.7002 239.636C60.0465 239.914 60.6322 240.169 61.457 240.401C62.2865 240.634 62.9336 240.891 63.3984 241.174C63.8678 241.452 64.2142 241.778 64.4375 242.151C64.6654 242.525 64.7793 242.965 64.7793 243.471C64.7793 244.277 64.4648 244.924 63.8359 245.412C63.207 245.895 62.3662 246.137 61.3135 246.137C60.6299 246.137 59.9919 246.007 59.3994 245.747C58.807 245.483 58.349 245.123 58.0254 244.667C57.7064 244.211 57.5469 243.694 57.5469 243.115H58.8662C58.8662 243.717 59.0872 244.193 59.5293 244.544C59.9759 244.89 60.5706 245.063 61.3135 245.063C62.0062 245.063 62.5371 244.922 62.9062 244.64C63.2754 244.357 63.46 243.972 63.46 243.484C63.46 242.997 63.2891 242.621 62.9473 242.356C62.6055 242.088 61.9857 241.823 61.0879 241.563ZM68.6143 242.862L68.8057 244.175L69.0859 242.992L71.0547 236.047H72.1621L74.083 242.992L74.3564 244.195L74.5684 242.855L76.1133 236.047H77.4326L75.0195 246H73.8232L71.7725 238.747L71.6152 237.988L71.458 238.747L69.332 246H68.1357L65.7295 236.047H67.042L68.6143 242.862Z",fill:"black"}),Object(ce.jsx)("path",{id:"SE",d:"M246.088 241.563C244.962 241.24 244.142 240.843 243.627 240.374C243.117 239.9 242.861 239.317 242.861 238.624C242.861 237.84 243.174 237.193 243.798 236.683C244.427 236.168 245.243 235.91 246.245 235.91C246.929 235.91 247.537 236.042 248.07 236.307C248.608 236.571 249.023 236.936 249.314 237.4C249.611 237.865 249.759 238.373 249.759 238.925H248.439C248.439 238.323 248.248 237.852 247.865 237.51C247.482 237.163 246.942 236.99 246.245 236.99C245.598 236.99 245.092 237.134 244.728 237.421C244.368 237.703 244.188 238.098 244.188 238.604C244.188 239.009 244.358 239.353 244.7 239.636C245.047 239.914 245.632 240.169 246.457 240.401C247.286 240.634 247.934 240.891 248.398 241.174C248.868 241.452 249.214 241.778 249.438 242.151C249.665 242.525 249.779 242.965 249.779 243.471C249.779 244.277 249.465 244.924 248.836 245.412C248.207 245.895 247.366 246.137 246.313 246.137C245.63 246.137 244.992 246.007 244.399 245.747C243.807 245.483 243.349 245.123 243.025 244.667C242.706 244.211 242.547 243.694 242.547 243.115H243.866C243.866 243.717 244.087 244.193 244.529 244.544C244.976 244.89 245.571 245.063 246.313 245.063C247.006 245.063 247.537 244.922 247.906 244.64C248.275 244.357 248.46 243.972 248.46 243.484C248.46 242.997 248.289 242.621 247.947 242.356C247.605 242.088 246.986 241.823 246.088 241.563ZM257.094 241.399H252.78V244.927H257.791V246H251.468V236.047H257.723V237.127H252.78V240.326H257.094V241.399Z",fill:"black"}),Object(ce.jsx)("path",{id:"NE",d:"M249.805 80H248.485L243.475 72.3301V80H242.155V70.0469H243.475L248.499 77.751V70.0469H249.805V80ZM257.762 75.3994H253.448V78.9268H258.459V80H252.136V70.0469H258.391V71.127H253.448V74.3262H257.762V75.3994Z",fill:"black"}),Object(ce.jsx)("path",{id:"W",d:"M34.6602 160.621L34.9883 162.871L35.4688 160.844L38.8438 148.938H40.7422L44.0352 160.844L44.5039 162.906L44.8672 160.609L47.5156 148.938H49.7773L45.6406 166H43.5898L40.0742 153.566L39.8047 152.266L39.5352 153.566L35.8906 166H33.8398L29.7148 148.938H31.9648L34.6602 160.621Z",fill:"black"}),Object(ce.jsx)("path",{id:"E",d:"M285.625 158.113H278.23V164.16H286.82V166H275.98V148.938H286.703V150.789H278.23V156.273H285.625V158.113Z",fill:"black"}),Object(ce.jsx)("path",{id:"S",d:"M157.008 271.395C155.078 270.84 153.672 270.16 152.789 269.355C151.914 268.543 151.477 267.543 151.477 266.355C151.477 265.012 152.012 263.902 153.082 263.027C154.16 262.145 155.559 261.703 157.277 261.703C158.449 261.703 159.492 261.93 160.406 262.383C161.328 262.836 162.039 263.461 162.539 264.258C163.047 265.055 163.301 265.926 163.301 266.871H161.039C161.039 265.84 160.711 265.031 160.055 264.445C159.398 263.852 158.473 263.555 157.277 263.555C156.168 263.555 155.301 263.801 154.676 264.293C154.059 264.777 153.75 265.453 153.75 266.32C153.75 267.016 154.043 267.605 154.629 268.09C155.223 268.566 156.227 269.004 157.641 269.402C159.062 269.801 160.172 270.242 160.969 270.727C161.773 271.203 162.367 271.762 162.75 272.402C163.141 273.043 163.336 273.797 163.336 274.664C163.336 276.047 162.797 277.156 161.719 277.992C160.641 278.82 159.199 279.234 157.395 279.234C156.223 279.234 155.129 279.012 154.113 278.566C153.098 278.113 152.312 277.496 151.758 276.715C151.211 275.934 150.938 275.047 150.938 274.055H153.199C153.199 275.086 153.578 275.902 154.336 276.504C155.102 277.098 156.121 277.395 157.395 277.395C158.582 277.395 159.492 277.152 160.125 276.668C160.758 276.184 161.074 275.523 161.074 274.688C161.074 273.852 160.781 273.207 160.195 272.754C159.609 272.293 158.547 271.84 157.008 271.395Z",fill:"black"}),Object(ce.jsx)("line",{id:"Line 1",x1:"159",y1:"8",x2:"159",y2:"23",stroke:"#616161",strokeWidth:"4"}),Object(ce.jsx)("line",{id:"Line 3",x1:"23",y1:"160",x2:"8",y2:"160",stroke:"#616161",strokeWidth:"4"}),Object(ce.jsx)("line",{id:"Line 5",x1:"57.8995",y1:"65.3137",x2:"47.2929",y2:"54.7071",stroke:"#616161",strokeWidth:"4"}),Object(ce.jsx)("line",{id:"Line 7",x1:"47.2929",y1:"261.899",x2:"57.8995",y2:"251.293",stroke:"#616161",strokeWidth:"4"}),Object(ce.jsx)("line",{id:"Line 8",x1:"258.293",y1:"63.8995",x2:"268.9",y2:"53.2929",stroke:"#616161",strokeWidth:"4"}),Object(ce.jsx)("line",{id:"Line 6",x1:"269.899",y1:"260.314",x2:"259.293",y2:"249.707",stroke:"#616161",strokeWidth:"4"}),Object(ce.jsx)("line",{id:"Line 4",x1:"308",y1:"157",x2:"293",y2:"157",stroke:"#616161",strokeWidth:"4"}),Object(ce.jsx)("line",{id:"Line 2",x1:"159",y1:"293",x2:"159",y2:"308",stroke:"#616161",strokeWidth:"4"})]}),Object(ce.jsxs)("g",{id:"needle2",children:[Object(ce.jsx)("path",{id:"Polygon 1",d:"M158 68L168 158H157H148L158 68Z",fill:"#4caf50"}),Object(ce.jsx)("path",{id:"Polygon 2",d:"M158 248L148 158H159H168L158 248Z",fill:"#bdbdbd"})]})]})}cm.defaultProps={size:"300",rotate:0};var rm=cm;function sm(e){var t=e.windDirection,a=e.windSpeed,n=e.rain;return Object(ce.jsxs)(S.a,{elevation:6,style:{padding:".5rem 1rem",height:255,display:"flex",flexDirection:"column",justifyContent:"space-between"},children:[Object(ce.jsxs)(V.a,{align:"center",children:["Wind ",Object(ce.jsx)("span",{style:{color:"#4caf50"},children:"Direction"})," & ",Object(ce.jsx)("span",{style:{color:"#2196f3"},children:"Speed"})]}),Object(ce.jsx)("div",{style:{textAlign:"center",padding:".5rem"},children:Object(ce.jsx)(rm,{size:!0===Number.isNaN(n)?140:120,rotate:t})}),Object(ce.jsxs)("div",{children:[Object(ce.jsxs)(V.a,{align:"center",children:[Object(ce.jsx)("span",{style:{color:"#4caf50"},children:-111===Number(t)?"x":Object(ce.jsxs)("span",{children:[t," \xb0"]})}),Object(ce.jsx)("span",{style:{marginLeft:"1rem",color:"#2196f3"},children:-111===Number(a)?"x":Object(ce.jsxs)("span",{children:[a," m/s"]})})]}),!Number.isNaN(n)&&Object(ce.jsxs)(V.a,{color:"textSecondary",align:"center",style:{marginTop:".25rem",marginBottom:".25rem"},children:["Rain: ",-111===Number(n)?"x":Object(ce.jsxs)("span",{children:[n," mm"]})]})]})]})}function lm(e){var t=e.size,a=e.rotate;return Object(n.useEffect)((function(){var e=document.getElementById("needle2"),t=Number(a)&&-111!==Number(a)?Number(a):0;e.style.transformOrigin="center",e.style.transform="rotate(".concat(t,"deg)")}),[a]),Object(ce.jsxs)("svg",{width:String(t),height:String(t),viewBox:"0 0 316 316",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[Object(ce.jsxs)("g",{id:"body",children:[Object(ce.jsx)("circle",{id:"Ellipse",cx:"158",cy:"158",r:"154",fill:"white",stroke:"#616161",strokeWidth:"8"}),Object(ce.jsx)("path",{id:"N",d:"M164.094 53H161.832L153.242 39.8516V53H150.98V35.9375H153.242L161.855 49.1445V35.9375H164.094V53Z",fill:"black"}),Object(ce.jsx)("path",{id:"NW",d:"M65.8047 80H64.4854L59.4746 72.3301V80H58.1553V70.0469H59.4746L64.499 77.751V70.0469H65.8047V80ZM70.2822 76.8623L70.4736 78.1748L70.7539 76.9922L72.7227 70.0469H73.8301L75.751 76.9922L76.0244 78.1953L76.2363 76.8555L77.7812 70.0469H79.1006L76.6875 80H75.4912L73.4404 72.7471L73.2832 71.9883L73.126 72.7471L71 80H69.8037L67.3975 70.0469H68.71L70.2822 76.8623Z",fill:"black"}),Object(ce.jsx)("path",{id:"SW",d:"M61.0879 241.563C59.9622 241.24 59.1419 240.843 58.627 240.374C58.1165 239.9 57.8613 239.317 57.8613 238.624C57.8613 237.84 58.1735 237.193 58.7979 236.683C59.4268 236.168 60.2425 235.91 61.2451 235.91C61.9287 235.91 62.5371 236.042 63.0703 236.307C63.6081 236.571 64.0228 236.936 64.3145 237.4C64.6107 237.865 64.7588 238.373 64.7588 238.925H63.4395C63.4395 238.323 63.248 237.852 62.8652 237.51C62.4824 237.163 61.9424 236.99 61.2451 236.99C60.598 236.99 60.0921 237.134 59.7275 237.421C59.3675 237.703 59.1875 238.098 59.1875 238.604C59.1875 239.009 59.3584 239.353 59.7002 239.636C60.0465 239.914 60.6322 240.169 61.457 240.401C62.2865 240.634 62.9336 240.891 63.3984 241.174C63.8678 241.452 64.2142 241.778 64.4375 242.151C64.6654 242.525 64.7793 242.965 64.7793 243.471C64.7793 244.277 64.4648 244.924 63.8359 245.412C63.207 245.895 62.3662 246.137 61.3135 246.137C60.6299 246.137 59.9919 246.007 59.3994 245.747C58.807 245.483 58.349 245.123 58.0254 244.667C57.7064 244.211 57.5469 243.694 57.5469 243.115H58.8662C58.8662 243.717 59.0872 244.193 59.5293 244.544C59.9759 244.89 60.5706 245.063 61.3135 245.063C62.0062 245.063 62.5371 244.922 62.9062 244.64C63.2754 244.357 63.46 243.972 63.46 243.484C63.46 242.997 63.2891 242.621 62.9473 242.356C62.6055 242.088 61.9857 241.823 61.0879 241.563ZM68.6143 242.862L68.8057 244.175L69.0859 242.992L71.0547 236.047H72.1621L74.083 242.992L74.3564 244.195L74.5684 242.855L76.1133 236.047H77.4326L75.0195 246H73.8232L71.7725 238.747L71.6152 237.988L71.458 238.747L69.332 246H68.1357L65.7295 236.047H67.042L68.6143 242.862Z",fill:"black"}),Object(ce.jsx)("path",{id:"SE",d:"M246.088 241.563C244.962 241.24 244.142 240.843 243.627 240.374C243.117 239.9 242.861 239.317 242.861 238.624C242.861 237.84 243.174 237.193 243.798 236.683C244.427 236.168 245.243 235.91 246.245 235.91C246.929 235.91 247.537 236.042 248.07 236.307C248.608 236.571 249.023 236.936 249.314 237.4C249.611 237.865 249.759 238.373 249.759 238.925H248.439C248.439 238.323 248.248 237.852 247.865 237.51C247.482 237.163 246.942 236.99 246.245 236.99C245.598 236.99 245.092 237.134 244.728 237.421C244.368 237.703 244.188 238.098 244.188 238.604C244.188 239.009 244.358 239.353 244.7 239.636C245.047 239.914 245.632 240.169 246.457 240.401C247.286 240.634 247.934 240.891 248.398 241.174C248.868 241.452 249.214 241.778 249.438 242.151C249.665 242.525 249.779 242.965 249.779 243.471C249.779 244.277 249.465 244.924 248.836 245.412C248.207 245.895 247.366 246.137 246.313 246.137C245.63 246.137 244.992 246.007 244.399 245.747C243.807 245.483 243.349 245.123 243.025 244.667C242.706 244.211 242.547 243.694 242.547 243.115H243.866C243.866 243.717 244.087 244.193 244.529 244.544C244.976 244.89 245.571 245.063 246.313 245.063C247.006 245.063 247.537 244.922 247.906 244.64C248.275 244.357 248.46 243.972 248.46 243.484C248.46 242.997 248.289 242.621 247.947 242.356C247.605 242.088 246.986 241.823 246.088 241.563ZM257.094 241.399H252.78V244.927H257.791V246H251.468V236.047H257.723V237.127H252.78V240.326H257.094V241.399Z",fill:"black"}),Object(ce.jsx)("path",{id:"NE",d:"M249.805 80H248.485L243.475 72.3301V80H242.155V70.0469H243.475L248.499 77.751V70.0469H249.805V80ZM257.762 75.3994H253.448V78.9268H258.459V80H252.136V70.0469H258.391V71.127H253.448V74.3262H257.762V75.3994Z",fill:"black"}),Object(ce.jsx)("path",{id:"W",d:"M34.6602 160.621L34.9883 162.871L35.4688 160.844L38.8438 148.938H40.7422L44.0352 160.844L44.5039 162.906L44.8672 160.609L47.5156 148.938H49.7773L45.6406 166H43.5898L40.0742 153.566L39.8047 152.266L39.5352 153.566L35.8906 166H33.8398L29.7148 148.938H31.9648L34.6602 160.621Z",fill:"black"}),Object(ce.jsx)("path",{id:"E",d:"M285.625 158.113H278.23V164.16H286.82V166H275.98V148.938H286.703V150.789H278.23V156.273H285.625V158.113Z",fill:"black"}),Object(ce.jsx)("path",{id:"S",d:"M157.008 271.395C155.078 270.84 153.672 270.16 152.789 269.355C151.914 268.543 151.477 267.543 151.477 266.355C151.477 265.012 152.012 263.902 153.082 263.027C154.16 262.145 155.559 261.703 157.277 261.703C158.449 261.703 159.492 261.93 160.406 262.383C161.328 262.836 162.039 263.461 162.539 264.258C163.047 265.055 163.301 265.926 163.301 266.871H161.039C161.039 265.84 160.711 265.031 160.055 264.445C159.398 263.852 158.473 263.555 157.277 263.555C156.168 263.555 155.301 263.801 154.676 264.293C154.059 264.777 153.75 265.453 153.75 266.32C153.75 267.016 154.043 267.605 154.629 268.09C155.223 268.566 156.227 269.004 157.641 269.402C159.062 269.801 160.172 270.242 160.969 270.727C161.773 271.203 162.367 271.762 162.75 272.402C163.141 273.043 163.336 273.797 163.336 274.664C163.336 276.047 162.797 277.156 161.719 277.992C160.641 278.82 159.199 279.234 157.395 279.234C156.223 279.234 155.129 279.012 154.113 278.566C153.098 278.113 152.312 277.496 151.758 276.715C151.211 275.934 150.938 275.047 150.938 274.055H153.199C153.199 275.086 153.578 275.902 154.336 276.504C155.102 277.098 156.121 277.395 157.395 277.395C158.582 277.395 159.492 277.152 160.125 276.668C160.758 276.184 161.074 275.523 161.074 274.688C161.074 273.852 160.781 273.207 160.195 272.754C159.609 272.293 158.547 271.84 157.008 271.395Z",fill:"black"}),Object(ce.jsx)("line",{id:"Line 1",x1:"159",y1:"8",x2:"159",y2:"23",stroke:"#616161",strokeWidth:"4"}),Object(ce.jsx)("line",{id:"Line 3",x1:"23",y1:"160",x2:"8",y2:"160",stroke:"#616161",strokeWidth:"4"}),Object(ce.jsx)("line",{id:"Line 5",x1:"57.8995",y1:"65.3137",x2:"47.2929",y2:"54.7071",stroke:"#616161",strokeWidth:"4"}),Object(ce.jsx)("line",{id:"Line 7",x1:"47.2929",y1:"261.899",x2:"57.8995",y2:"251.293",stroke:"#616161",strokeWidth:"4"}),Object(ce.jsx)("line",{id:"Line 8",x1:"258.293",y1:"63.8995",x2:"268.9",y2:"53.2929",stroke:"#616161",strokeWidth:"4"}),Object(ce.jsx)("line",{id:"Line 6",x1:"269.899",y1:"260.314",x2:"259.293",y2:"249.707",stroke:"#616161",strokeWidth:"4"}),Object(ce.jsx)("line",{id:"Line 4",x1:"308",y1:"157",x2:"293",y2:"157",stroke:"#616161",strokeWidth:"4"}),Object(ce.jsx)("line",{id:"Line 2",x1:"159",y1:"293",x2:"159",y2:"308",stroke:"#616161",strokeWidth:"4"})]}),Object(ce.jsxs)("g",{id:"needle2",children:[Object(ce.jsx)("path",{id:"Polygon 1",d:"M158 68L168 158H157H148L158 68Z",fill:"#4caf50"}),Object(ce.jsx)("path",{id:"Polygon 2",d:"M158 248L148 158H159H168L158 248Z",fill:"#bdbdbd"})]})]})}lm.defaultProps={size:"300",rotate:0};function om(e){var t=e.size,a=e.rotate;return Object(n.useEffect)((function(){var e=document.getElementById("needle2"),t=Number(a)&&-111!==Number(a)?Number(a):0;e.style.transformOrigin="center",e.style.transform="rotate(".concat(t,"deg)")}),[a]),Object(ce.jsxs)("svg",{width:String(t),height:String(t),viewBox:"0 0 316 316",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[Object(ce.jsxs)("g",{id:"body",children:[Object(ce.jsx)("circle",{id:"Ellipse",cx:"158",cy:"158",r:"154",fill:"white",stroke:"#616161",strokeWidth:"8"}),Object(ce.jsx)("path",{id:"N",d:"M164.094 53H161.832L153.242 39.8516V53H150.98V35.9375H153.242L161.855 49.1445V35.9375H164.094V53Z",fill:"black"}),Object(ce.jsx)("path",{id:"NW",d:"M65.8047 80H64.4854L59.4746 72.3301V80H58.1553V70.0469H59.4746L64.499 77.751V70.0469H65.8047V80ZM70.2822 76.8623L70.4736 78.1748L70.7539 76.9922L72.7227 70.0469H73.8301L75.751 76.9922L76.0244 78.1953L76.2363 76.8555L77.7812 70.0469H79.1006L76.6875 80H75.4912L73.4404 72.7471L73.2832 71.9883L73.126 72.7471L71 80H69.8037L67.3975 70.0469H68.71L70.2822 76.8623Z",fill:"black"}),Object(ce.jsx)("path",{id:"SW",d:"M61.0879 241.563C59.9622 241.24 59.1419 240.843 58.627 240.374C58.1165 239.9 57.8613 239.317 57.8613 238.624C57.8613 237.84 58.1735 237.193 58.7979 236.683C59.4268 236.168 60.2425 235.91 61.2451 235.91C61.9287 235.91 62.5371 236.042 63.0703 236.307C63.6081 236.571 64.0228 236.936 64.3145 237.4C64.6107 237.865 64.7588 238.373 64.7588 238.925H63.4395C63.4395 238.323 63.248 237.852 62.8652 237.51C62.4824 237.163 61.9424 236.99 61.2451 236.99C60.598 236.99 60.0921 237.134 59.7275 237.421C59.3675 237.703 59.1875 238.098 59.1875 238.604C59.1875 239.009 59.3584 239.353 59.7002 239.636C60.0465 239.914 60.6322 240.169 61.457 240.401C62.2865 240.634 62.9336 240.891 63.3984 241.174C63.8678 241.452 64.2142 241.778 64.4375 242.151C64.6654 242.525 64.7793 242.965 64.7793 243.471C64.7793 244.277 64.4648 244.924 63.8359 245.412C63.207 245.895 62.3662 246.137 61.3135 246.137C60.6299 246.137 59.9919 246.007 59.3994 245.747C58.807 245.483 58.349 245.123 58.0254 244.667C57.7064 244.211 57.5469 243.694 57.5469 243.115H58.8662C58.8662 243.717 59.0872 244.193 59.5293 244.544C59.9759 244.89 60.5706 245.063 61.3135 245.063C62.0062 245.063 62.5371 244.922 62.9062 244.64C63.2754 244.357 63.46 243.972 63.46 243.484C63.46 242.997 63.2891 242.621 62.9473 242.356C62.6055 242.088 61.9857 241.823 61.0879 241.563ZM68.6143 242.862L68.8057 244.175L69.0859 242.992L71.0547 236.047H72.1621L74.083 242.992L74.3564 244.195L74.5684 242.855L76.1133 236.047H77.4326L75.0195 246H73.8232L71.7725 238.747L71.6152 237.988L71.458 238.747L69.332 246H68.1357L65.7295 236.047H67.042L68.6143 242.862Z",fill:"black"}),Object(ce.jsx)("path",{id:"SE",d:"M246.088 241.563C244.962 241.24 244.142 240.843 243.627 240.374C243.117 239.9 242.861 239.317 242.861 238.624C242.861 237.84 243.174 237.193 243.798 236.683C244.427 236.168 245.243 235.91 246.245 235.91C246.929 235.91 247.537 236.042 248.07 236.307C248.608 236.571 249.023 236.936 249.314 237.4C249.611 237.865 249.759 238.373 249.759 238.925H248.439C248.439 238.323 248.248 237.852 247.865 237.51C247.482 237.163 246.942 236.99 246.245 236.99C245.598 236.99 245.092 237.134 244.728 237.421C244.368 237.703 244.188 238.098 244.188 238.604C244.188 239.009 244.358 239.353 244.7 239.636C245.047 239.914 245.632 240.169 246.457 240.401C247.286 240.634 247.934 240.891 248.398 241.174C248.868 241.452 249.214 241.778 249.438 242.151C249.665 242.525 249.779 242.965 249.779 243.471C249.779 244.277 249.465 244.924 248.836 245.412C248.207 245.895 247.366 246.137 246.313 246.137C245.63 246.137 244.992 246.007 244.399 245.747C243.807 245.483 243.349 245.123 243.025 244.667C242.706 244.211 242.547 243.694 242.547 243.115H243.866C243.866 243.717 244.087 244.193 244.529 244.544C244.976 244.89 245.571 245.063 246.313 245.063C247.006 245.063 247.537 244.922 247.906 244.64C248.275 244.357 248.46 243.972 248.46 243.484C248.46 242.997 248.289 242.621 247.947 242.356C247.605 242.088 246.986 241.823 246.088 241.563ZM257.094 241.399H252.78V244.927H257.791V246H251.468V236.047H257.723V237.127H252.78V240.326H257.094V241.399Z",fill:"black"}),Object(ce.jsx)("path",{id:"NE",d:"M249.805 80H248.485L243.475 72.3301V80H242.155V70.0469H243.475L248.499 77.751V70.0469H249.805V80ZM257.762 75.3994H253.448V78.9268H258.459V80H252.136V70.0469H258.391V71.127H253.448V74.3262H257.762V75.3994Z",fill:"black"}),Object(ce.jsx)("path",{id:"W",d:"M34.6602 160.621L34.9883 162.871L35.4688 160.844L38.8438 148.938H40.7422L44.0352 160.844L44.5039 162.906L44.8672 160.609L47.5156 148.938H49.7773L45.6406 166H43.5898L40.0742 153.566L39.8047 152.266L39.5352 153.566L35.8906 166H33.8398L29.7148 148.938H31.9648L34.6602 160.621Z",fill:"black"}),Object(ce.jsx)("path",{id:"E",d:"M285.625 158.113H278.23V164.16H286.82V166H275.98V148.938H286.703V150.789H278.23V156.273H285.625V158.113Z",fill:"black"}),Object(ce.jsx)("path",{id:"S",d:"M157.008 271.395C155.078 270.84 153.672 270.16 152.789 269.355C151.914 268.543 151.477 267.543 151.477 266.355C151.477 265.012 152.012 263.902 153.082 263.027C154.16 262.145 155.559 261.703 157.277 261.703C158.449 261.703 159.492 261.93 160.406 262.383C161.328 262.836 162.039 263.461 162.539 264.258C163.047 265.055 163.301 265.926 163.301 266.871H161.039C161.039 265.84 160.711 265.031 160.055 264.445C159.398 263.852 158.473 263.555 157.277 263.555C156.168 263.555 155.301 263.801 154.676 264.293C154.059 264.777 153.75 265.453 153.75 266.32C153.75 267.016 154.043 267.605 154.629 268.09C155.223 268.566 156.227 269.004 157.641 269.402C159.062 269.801 160.172 270.242 160.969 270.727C161.773 271.203 162.367 271.762 162.75 272.402C163.141 273.043 163.336 273.797 163.336 274.664C163.336 276.047 162.797 277.156 161.719 277.992C160.641 278.82 159.199 279.234 157.395 279.234C156.223 279.234 155.129 279.012 154.113 278.566C153.098 278.113 152.312 277.496 151.758 276.715C151.211 275.934 150.938 275.047 150.938 274.055H153.199C153.199 275.086 153.578 275.902 154.336 276.504C155.102 277.098 156.121 277.395 157.395 277.395C158.582 277.395 159.492 277.152 160.125 276.668C160.758 276.184 161.074 275.523 161.074 274.688C161.074 273.852 160.781 273.207 160.195 272.754C159.609 272.293 158.547 271.84 157.008 271.395Z",fill:"black"}),Object(ce.jsx)("line",{id:"Line 1",x1:"159",y1:"8",x2:"159",y2:"23",stroke:"#616161",strokeWidth:"4"}),Object(ce.jsx)("line",{id:"Line 3",x1:"23",y1:"160",x2:"8",y2:"160",stroke:"#616161",strokeWidth:"4"}),Object(ce.jsx)("line",{id:"Line 5",x1:"57.8995",y1:"65.3137",x2:"47.2929",y2:"54.7071",stroke:"#616161",strokeWidth:"4"}),Object(ce.jsx)("line",{id:"Line 7",x1:"47.2929",y1:"261.899",x2:"57.8995",y2:"251.293",stroke:"#616161",strokeWidth:"4"}),Object(ce.jsx)("line",{id:"Line 8",x1:"258.293",y1:"63.8995",x2:"268.9",y2:"53.2929",stroke:"#616161",strokeWidth:"4"}),Object(ce.jsx)("line",{id:"Line 6",x1:"269.899",y1:"260.314",x2:"259.293",y2:"249.707",stroke:"#616161",strokeWidth:"4"}),Object(ce.jsx)("line",{id:"Line 4",x1:"308",y1:"157",x2:"293",y2:"157",stroke:"#616161",strokeWidth:"4"}),Object(ce.jsx)("line",{id:"Line 2",x1:"159",y1:"293",x2:"159",y2:"308",stroke:"#616161",strokeWidth:"4"})]}),Object(ce.jsxs)("g",{id:"needle2",children:[Object(ce.jsx)("path",{id:"Polygon 1",d:"M158 68L168 158H157H148L158 68Z",fill:"#4caf50"}),Object(ce.jsx)("path",{id:"Polygon 2",d:"M158 248L148 158H159H168L158 248Z",fill:"#bdbdbd"})]})]})}om.defaultProps={size:"300",rotate:0};function jm(e){var t=e.size,a=e.rotate;return Object(n.useEffect)((function(){var e=document.getElementById("needle2"),t=Number(a)&&-111!==Number(a)?Number(a):0;e.style.transformOrigin="center",e.style.transform="rotate(".concat(t,"deg)")}),[a]),Object(ce.jsxs)("svg",{width:String(t),height:String(t),viewBox:"0 0 316 316",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[Object(ce.jsxs)("g",{id:"body",children:[Object(ce.jsx)("circle",{id:"Ellipse",cx:"158",cy:"158",r:"154",fill:"white",stroke:"#616161",strokeWidth:"8"}),Object(ce.jsx)("path",{id:"N",d:"M164.094 53H161.832L153.242 39.8516V53H150.98V35.9375H153.242L161.855 49.1445V35.9375H164.094V53Z",fill:"black"}),Object(ce.jsx)("path",{id:"NW",d:"M65.8047 80H64.4854L59.4746 72.3301V80H58.1553V70.0469H59.4746L64.499 77.751V70.0469H65.8047V80ZM70.2822 76.8623L70.4736 78.1748L70.7539 76.9922L72.7227 70.0469H73.8301L75.751 76.9922L76.0244 78.1953L76.2363 76.8555L77.7812 70.0469H79.1006L76.6875 80H75.4912L73.4404 72.7471L73.2832 71.9883L73.126 72.7471L71 80H69.8037L67.3975 70.0469H68.71L70.2822 76.8623Z",fill:"black"}),Object(ce.jsx)("path",{id:"SW",d:"M61.0879 241.563C59.9622 241.24 59.1419 240.843 58.627 240.374C58.1165 239.9 57.8613 239.317 57.8613 238.624C57.8613 237.84 58.1735 237.193 58.7979 236.683C59.4268 236.168 60.2425 235.91 61.2451 235.91C61.9287 235.91 62.5371 236.042 63.0703 236.307C63.6081 236.571 64.0228 236.936 64.3145 237.4C64.6107 237.865 64.7588 238.373 64.7588 238.925H63.4395C63.4395 238.323 63.248 237.852 62.8652 237.51C62.4824 237.163 61.9424 236.99 61.2451 236.99C60.598 236.99 60.0921 237.134 59.7275 237.421C59.3675 237.703 59.1875 238.098 59.1875 238.604C59.1875 239.009 59.3584 239.353 59.7002 239.636C60.0465 239.914 60.6322 240.169 61.457 240.401C62.2865 240.634 62.9336 240.891 63.3984 241.174C63.8678 241.452 64.2142 241.778 64.4375 242.151C64.6654 242.525 64.7793 242.965 64.7793 243.471C64.7793 244.277 64.4648 244.924 63.8359 245.412C63.207 245.895 62.3662 246.137 61.3135 246.137C60.6299 246.137 59.9919 246.007 59.3994 245.747C58.807 245.483 58.349 245.123 58.0254 244.667C57.7064 244.211 57.5469 243.694 57.5469 243.115H58.8662C58.8662 243.717 59.0872 244.193 59.5293 244.544C59.9759 244.89 60.5706 245.063 61.3135 245.063C62.0062 245.063 62.5371 244.922 62.9062 244.64C63.2754 244.357 63.46 243.972 63.46 243.484C63.46 242.997 63.2891 242.621 62.9473 242.356C62.6055 242.088 61.9857 241.823 61.0879 241.563ZM68.6143 242.862L68.8057 244.175L69.0859 242.992L71.0547 236.047H72.1621L74.083 242.992L74.3564 244.195L74.5684 242.855L76.1133 236.047H77.4326L75.0195 246H73.8232L71.7725 238.747L71.6152 237.988L71.458 238.747L69.332 246H68.1357L65.7295 236.047H67.042L68.6143 242.862Z",fill:"black"}),Object(ce.jsx)("path",{id:"SE",d:"M246.088 241.563C244.962 241.24 244.142 240.843 243.627 240.374C243.117 239.9 242.861 239.317 242.861 238.624C242.861 237.84 243.174 237.193 243.798 236.683C244.427 236.168 245.243 235.91 246.245 235.91C246.929 235.91 247.537 236.042 248.07 236.307C248.608 236.571 249.023 236.936 249.314 237.4C249.611 237.865 249.759 238.373 249.759 238.925H248.439C248.439 238.323 248.248 237.852 247.865 237.51C247.482 237.163 246.942 236.99 246.245 236.99C245.598 236.99 245.092 237.134 244.728 237.421C244.368 237.703 244.188 238.098 244.188 238.604C244.188 239.009 244.358 239.353 244.7 239.636C245.047 239.914 245.632 240.169 246.457 240.401C247.286 240.634 247.934 240.891 248.398 241.174C248.868 241.452 249.214 241.778 249.438 242.151C249.665 242.525 249.779 242.965 249.779 243.471C249.779 244.277 249.465 244.924 248.836 245.412C248.207 245.895 247.366 246.137 246.313 246.137C245.63 246.137 244.992 246.007 244.399 245.747C243.807 245.483 243.349 245.123 243.025 244.667C242.706 244.211 242.547 243.694 242.547 243.115H243.866C243.866 243.717 244.087 244.193 244.529 244.544C244.976 244.89 245.571 245.063 246.313 245.063C247.006 245.063 247.537 244.922 247.906 244.64C248.275 244.357 248.46 243.972 248.46 243.484C248.46 242.997 248.289 242.621 247.947 242.356C247.605 242.088 246.986 241.823 246.088 241.563ZM257.094 241.399H252.78V244.927H257.791V246H251.468V236.047H257.723V237.127H252.78V240.326H257.094V241.399Z",fill:"black"}),Object(ce.jsx)("path",{id:"NE",d:"M249.805 80H248.485L243.475 72.3301V80H242.155V70.0469H243.475L248.499 77.751V70.0469H249.805V80ZM257.762 75.3994H253.448V78.9268H258.459V80H252.136V70.0469H258.391V71.127H253.448V74.3262H257.762V75.3994Z",fill:"black"}),Object(ce.jsx)("path",{id:"W",d:"M34.6602 160.621L34.9883 162.871L35.4688 160.844L38.8438 148.938H40.7422L44.0352 160.844L44.5039 162.906L44.8672 160.609L47.5156 148.938H49.7773L45.6406 166H43.5898L40.0742 153.566L39.8047 152.266L39.5352 153.566L35.8906 166H33.8398L29.7148 148.938H31.9648L34.6602 160.621Z",fill:"black"}),Object(ce.jsx)("path",{id:"E",d:"M285.625 158.113H278.23V164.16H286.82V166H275.98V148.938H286.703V150.789H278.23V156.273H285.625V158.113Z",fill:"black"}),Object(ce.jsx)("path",{id:"S",d:"M157.008 271.395C155.078 270.84 153.672 270.16 152.789 269.355C151.914 268.543 151.477 267.543 151.477 266.355C151.477 265.012 152.012 263.902 153.082 263.027C154.16 262.145 155.559 261.703 157.277 261.703C158.449 261.703 159.492 261.93 160.406 262.383C161.328 262.836 162.039 263.461 162.539 264.258C163.047 265.055 163.301 265.926 163.301 266.871H161.039C161.039 265.84 160.711 265.031 160.055 264.445C159.398 263.852 158.473 263.555 157.277 263.555C156.168 263.555 155.301 263.801 154.676 264.293C154.059 264.777 153.75 265.453 153.75 266.32C153.75 267.016 154.043 267.605 154.629 268.09C155.223 268.566 156.227 269.004 157.641 269.402C159.062 269.801 160.172 270.242 160.969 270.727C161.773 271.203 162.367 271.762 162.75 272.402C163.141 273.043 163.336 273.797 163.336 274.664C163.336 276.047 162.797 277.156 161.719 277.992C160.641 278.82 159.199 279.234 157.395 279.234C156.223 279.234 155.129 279.012 154.113 278.566C153.098 278.113 152.312 277.496 151.758 276.715C151.211 275.934 150.938 275.047 150.938 274.055H153.199C153.199 275.086 153.578 275.902 154.336 276.504C155.102 277.098 156.121 277.395 157.395 277.395C158.582 277.395 159.492 277.152 160.125 276.668C160.758 276.184 161.074 275.523 161.074 274.688C161.074 273.852 160.781 273.207 160.195 272.754C159.609 272.293 158.547 271.84 157.008 271.395Z",fill:"black"}),Object(ce.jsx)("line",{id:"Line 1",x1:"159",y1:"8",x2:"159",y2:"23",stroke:"#616161",strokeWidth:"4"}),Object(ce.jsx)("line",{id:"Line 3",x1:"23",y1:"160",x2:"8",y2:"160",stroke:"#616161",strokeWidth:"4"}),Object(ce.jsx)("line",{id:"Line 5",x1:"57.8995",y1:"65.3137",x2:"47.2929",y2:"54.7071",stroke:"#616161",strokeWidth:"4"}),Object(ce.jsx)("line",{id:"Line 7",x1:"47.2929",y1:"261.899",x2:"57.8995",y2:"251.293",stroke:"#616161",strokeWidth:"4"}),Object(ce.jsx)("line",{id:"Line 8",x1:"258.293",y1:"63.8995",x2:"268.9",y2:"53.2929",stroke:"#616161",strokeWidth:"4"}),Object(ce.jsx)("line",{id:"Line 6",x1:"269.899",y1:"260.314",x2:"259.293",y2:"249.707",stroke:"#616161",strokeWidth:"4"}),Object(ce.jsx)("line",{id:"Line 4",x1:"308",y1:"157",x2:"293",y2:"157",stroke:"#616161",strokeWidth:"4"}),Object(ce.jsx)("line",{id:"Line 2",x1:"159",y1:"293",x2:"159",y2:"308",stroke:"#616161",strokeWidth:"4"})]}),Object(ce.jsxs)("g",{id:"needle2",children:[Object(ce.jsx)("path",{id:"Polygon 1",d:"M158 68L168 158H157H148L158 68Z",fill:"#4caf50"}),Object(ce.jsx)("path",{id:"Polygon 2",d:"M158 248L148 158H159H168L158 248Z",fill:"#bdbdbd"})]})]})}jm.defaultProps={size:"300",rotate:0};function dm(e){return Object(ce.jsx)($.a,Object(h.a)({elevation:6,variant:"filled"},e))}var bm=Object(D.a)((function(e){return{grow:{flexGrow:1},gaugeChartStyle:{marginTop:e.spacing(12)},formControl:{minWidth:120},modalCardStyle:{width:340,height:"fit-content"},gridBreakpoint:Object(m.a)({},e.breakpoints.up("md"),{})}}));function um(e){var t=e.handleSessionExpire,a=e.handleClickOpen,c=e.sitestatusBar,r=bm(),s=$e().intervalTime,l=(localStorage.getItem("username","Admin"),localStorage.getItem("userToken")),o=(localStorage.getItem("userId"),K),j=Object(n.useState)((new Date).getTime()),d=Object(u.a)(j,2),b=d[0],O=d[1],g=Object(n.useState)(0),x=Object(u.a)(g,2),p=x[0],f=x[1],y=Object(n.useState)(void 0),T=Object(u.a)(y,2),I=T[0],k=T[1],w=Object(n.useState)({}),N=Object(u.a)(w,2),L=N[0],D=N[1],P=Object(n.useState)(0),F=Object(u.a)(P,2),A=F[0],E=F[1],H=Object(n.useState)(0),_=Object(u.a)(H,2),z=(_[0],_[1]),M=Object(n.useState)(0),R=Object(u.a)(M,2),G=R[0],W=(R[1],Object(n.useState)(0)),Y=Object(u.a)(W,2),q=Y[0],U=(Y[1],Object(n.useState)(0)),$=Object(u.a)(U,2),Q=$[0],ee=($[1],Object(n.useState)(0)),te=Object(u.a)(ee,2),ae=te[0],ne=(te[1],Object(n.useState)(0)),ie=Object(u.a)(ne,2),re=ie[0],se=(ie[1],Object(n.useState)(0)),le=Object(u.a)(se,2),oe=le[0],je=(le[1],Object(n.useState)(0)),de=Object(u.a)(je,2),be=de[0],ue=de[1],me=Object(n.useState)(0),he=Object(u.a)(me,2),Oe=he[0],ge=he[1],xe=Object(n.useState)(0),Se=Object(u.a)(xe,2),pe=Se[0],fe=Se[1],ve=Object(n.useState)(0),Ce=Object(u.a)(ve,2),ye=Ce[0],Te=Ce[1],Ie=Object(n.useState)(0),ke=Object(u.a)(Ie,2),we=ke[0],Ne=ke[1],Be=Object(n.useState)(0),Le=Object(u.a)(Be,2),De=Le[0],Pe=Le[1],Fe=Object(n.useState)([{time:"00:00",gti1:"0.00",gti2:"0,00",gti3:"0.00",gti4:"0,00",gti5:"0.00",ghi1:"0.00",ghi2:"0.00",ghi3:"0.00",ghi4:"0.00",ghi5:"0.00",pg:"0.00"}]),Ve=Object(u.a)(Fe,2),Ae=Ve[0],Ee=Ve[1],He=i.a.useState(1),_e=Object(u.a)(He,2),ze=_e[0],Me=_e[1],Re=Object(n.useState)([]),Ge=Object(u.a)(Re,2),We=Ge[0],Xe=Ge[1],Ye=Object(n.useState)(0),qe=Object(u.a)(Ye,2),Ue=qe[0],Ke=qe[1];Object(n.useEffect)((function(){0!==Ue&&kt(b)}),[Ue]);var Ze=function(){return 0!==Ue?"1":"0"},Je=function(){return Ue>0?"1":"0"},Qe=null,et=Object(n.useState)(!1),tt=Object(u.a)(et,2),at=tt[0],nt=tt[1],it=Object(n.useState)(new Date),ct=Object(u.a)(it,2),st=ct[0],lt=ct[1],ot=Object(n.useState)(!1),jt=Object(u.a)(ot,2),dt=jt[0],bt=jt[1],ut=Object(n.useState)(!0),mt=Object(u.a)(ut,2),ht=mt[0],Ot=mt[1],gt=function(){nt(!1)};Object(n.useEffect)((function(){O(st.getTime())}),[st]);var xt=function(e){var t=new Date(e);return t.setHours(12,1,0,0),t.getTime()},St=Object(n.useState)(0),pt=Object(u.a)(St,2),ft=(pt[0],pt[1]),vt=Object(n.useState)({}),Ct=Object(u.a)(vt,2),yt=Ct[0],Tt=Ct[1],It=function(e,t,a,n){X.a.get(o+"/badisidd/grid/B"+String(e).padStart(2,0),{headers:{jwtToken:l,startTime:new Date(16322256e5).getTime(),endTime:a,beginTime:n,enablePacket:Ze(),clientPacketTime:I,isNext:Je()}}).then((function(t){!function(e,t){var a=[],n=Object.entries(e),i=["L1 I","L2 I","L3 I","L1 V","L2 V","L3 V","Frequency","DC I","DC V","Active Power","DC Power","Reactive Power","PF","Cab Temp","IGBT Temp","DC Energy","S1 L1 I","S1 L2 I","S1 L3 I","S1 L1 V","S1 L2 V","S1 L3 V","S1 DC I","S1 DC V","S1 Active Power","S1 DC Power","S1 PF","S1 IGBT Temp","S1 CAB Temp","S2 L1 I","S2 L2 I","S2 L3 I","S2 L1 V","S2 L2 V","S2 L3 V","S2 DC I","S2 DC V","S2 Active Power","S2 DC Power","S2 PF","S2 IGBT Temp","S2 CAB Temp","S3 L1 I","S3 L2 I","S3 L3 I","S3 L1 V","S3 L2 V","S3 L3 V","S3 DC I","S3 DC V","S3 Active Power","S3 DC Power","S3 PF","S3 IGBT Temp","S3 CAB Temp","S4 L1 I","S4 L2 I","S4 L3 I","S4 L1 V","S4 L2 V","S4 L3 V","S4 DC I","S4 DC V","S4 Active Power","S4 DC Power","S4 PF","S4 IGBT Temp","S4 CAB Temp","S1 + S2 Peak Active Power","S3 + S4 Peak Active Power","S1 / S1CB1 I","S2 / S1CB2 I","S3 / S1CB3 I","S4 / S1CB4 I","S5 / S1CB5 I","S6 / S1CB6 I","S7 / S1CB7 I","S8 / S1CB8 I","S9 / S2CB1 I","S10 / S2CB2 I","S11 / S2CB3 I","S12 / S2CB4 I","S13 / S2CB5 I","S14 / S2CB6 I","S15 / S2CB7 I","S16 / S2CB8 I","S17 / S3CB1 I","S18 / S3CB2 I","S19 / S3CB3 I","S20 / S3CB4 I","S21 / S3CB5 I","S22 / S3CB6 I","S23 / S3CB7 I","S24 / S3CB8 I","S25 / S4CB1 I","S26 / S4CB2 I","S27 / S4CB3 I","S28 / S4CB4 I","S29 / S4CB5 I","S30 / S4CB6 I","S31 / S4CB7 I","S32 / S4CB8 I"];23!==t&&24!==t&&25!==t&&26!==t||i.push.apply(i,["S1 / S1CB1 V","S2 / S1CB2 V","S3 / S1CB3 V","S4 / S1CB4 V","S5 / S1CB5 V","S6 / S1CB6 V","S7 / S1CB7 V","S8 / S1CB8 V","S9 / S2CB1 V","S10 / S2CB2 V","S11 / S2CB3 V","S12 / S2CB4 V","S13 / S2CB5 V","S14 / S2CB6 V","S15 / S2CB7 V","S16 / S2CB8 V","S17 / S3CB1 V","S18 / S3CB2 V","S19 / S3CB3 V","S20 / S3CB4 V","S21 / S3CB5 V","S22 / S3CB6 V","S23 / S3CB7 V","S24 / S3CB8 V","S25 / S4CB1 V","S26 / S4CB2 V","S27 / S4CB3 V","S28 / S4CB4 V","S29 / S4CB5 V","S30 / S4CB6 V","S31 / S4CB7 V","S32 / S4CB8 V"]);for(var c=function(e){var t=[];Array.from(Array(36).keys()).map((function(e,a){t.push(Object(m.a)({},"inv"+Number(a+1),NaN))}));try{n[e][1]&&(t[0].inv1=n[e][1]);for(var c=1;c<36;c++)n[i.length*c+e][1]&&(t[c]["inv"+Number(c+1)]=n[i.length*c+e][1])}catch(s){}var r={};t.forEach((function(e,t){r["inv"+Number(t+1)]=e["inv"+Number(t+1)]})),a.push(Object(h.a)({heading:i[e]},r))},r=0;r<i.length;r++)c(r);Xe([].concat(a))}(t.data,e)})).catch((function(e){}))},kt=function(e){var a=1623696973e3,n=e;n=ht?Date.now():e;var i=new Date(n);i.setHours(5,0,0,0);var c=i.getTime();!function(e,a,n){X.a.get(o+"/badisidd/site",{headers:{jwtToken:l,startTime:e,endTime:a,beginTime:n,enablePacket:Ze(),clientPacketTime:I,isNext:Je()}}).then((function(e){f(e.data.status),k(1e3*e.data.time)})).catch((function(e){var a;401===(null===e||void 0===e||null===(a=e.response)||void 0===a?void 0:a.status)&&t()}))}(a,n,c),function(e,t,a){X.a.get(o+"/badisidd/boxes",{headers:{jwtToken:l,startTime:e,endTime:t,beginTime:a,enablePacket:Ze(),clientPacketTime:I,isNext:Je()}}).then((function(e){D(e.data)})).catch((function(e){}))}(a,n,c),function(e,t,a){X.a.get(o+"/badisidd/gauge",{headers:{jwtToken:l,startTime:e,endTime:t,beginTime:a,enablePacket:Ze(),clientPacketTime:I,isNext:Je()}}).then((function(e){var t=e.data.value;E(Number(t).toFixed(2)),z(Number(t).toFixed(1)/50)})).catch((function(e){}))}(a,n,c),function(e,t,a){X.a.post(o+"/badisidd/generation",{startTime:xt(e),endTime:t},{headers:{jwtToken:l}}).then((function(e){ft(Number(e.data))})).catch((function(e){}))}(a,n),function(e,t,a){X.a.get(o+"/badisidd/temperature",{headers:{jwtToken:l,startTime:e,endTime:t,beginTime:a,enablePacket:Ze(),clientPacketTime:I,isNext:Je()}}).then((function(e){Tt(e.data)})).catch((function(e){}))}(a,n,c),function(e,t,a){X.a.get(o+"/badisidd/wind",{headers:{jwtToken:l,startTime:e,endTime:t,beginTime:a,enablePacket:Ze(),clientPacketTime:I,isNext:Je()}}).then((function(e){var t=e.data.winddirection1,a=e.data.windspeed1,n=e.data.rain1,i=e.data.winddirection2,c=e.data.windspeed2,r=e.data.rain2;ue(Number(t).toFixed(0)),ge(Number(a).toFixed(1)),fe(Number(n).toFixed(1)),Te(Number(i).toFixed(0)),Ne(Number(c).toFixed(1)),Pe(Number(r).toFixed(1))})).catch((function(e){}))}(a,n,c),function(e,t,a){X.a.get(o+"/badisidd/graph",{headers:{jwtToken:l,startTime:e,endTime:t,beginTime:a,enablePacket:Ze(),clientPacketTime:I,isNext:Je()}}).then((function(e){Ee(e.data)})).catch((function(e){}))}(a,n,c),It(ze,0,n,c)};Object(n.useEffect)((function(){(Qe=document.getElementById("timeSliderLabel2"))&&(Qe.innerText=(new Date).toLocaleString([],{hour:"2-digit",minute:"2-digit",hour12:!0}).toUpperCase()),kt(b);var e=setInterval((function(){kt(b)}),s);return function(){clearInterval(e)}}),[b]);var wt=Object(n.useState)("space-between"),Nt=Object(u.a)(wt,2),Bt=(Nt[0],Nt[1]);return Object(n.useLayoutEffect)((function(){window.matchMedia("(min-width: 1280px)").matches?Bt("space-between"):Bt("flex-start")}),[]),Object(ce.jsxs)(i.a.Fragment,{children:[Object(ce.jsx)(C.a,{container:!0,justifyContent:"space-between",alignItems:"center",children:Object(ce.jsx)(rt,{sitestatusBar:c,status:p,timestamp:I,handleClickOpen:a,handleTimeReset:function(){Ke(0);var e=new Date;lt(e),O(e.getTime()),nt(!0),Ot(!0)},setIsNextCount:Ke,setOpenDateTimePicker:bt,getMinDateForPicker:function(){return new Date(16312752e5)},selectedDate:st,getFormattedDateAndTimeString:function(e){var t=new Date(e);return Object(ce.jsxs)("span",{children:[String(t.getDate()).padStart(2,"0"),"/",String(t.getMonth()+1).padStart(2,"0"),"/",t.getFullYear(),Object(ce.jsx)("span",{children:"\u2003"}),t.toLocaleString([],{hour:"2-digit",minute:"2-digit",hour12:!0}).toUpperCase()]})},openDateTimePicker:dt,handleDateChange:function(e){try{Ot(!1)}finally{lt(e),bt(!1)}}})}),Object(ce.jsx)("div",{style:{marginTop:"1.5rem"}}),Object(ce.jsx)(em,{day_generation:L.day_generation,revenue:1e3*L.day_generation*2.74,peak_power:L.peak_power,ghi:L.ghi1,gti:L.gti1,ghi2:L.ghi2,gti2:L.gti2,ghi3:L.ghi3,gti3:L.gti3,ghi4:L.ghi4,gti4:L.gti4,ghi5:L.ghi5,gti5:L.gti5,plant_pr:L.plant_pr,grid_availability:L.grid_availability,plant_availability:L.plant_availability,cardsValues:L}),Object(ce.jsxs)(C.a,{container:!0,justifyContent:"space-between",style:{marginTop:"1.5rem"},children:[Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(tm,{totalExport:A,maxValue:300})}),Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(Mu,{ambientTemp:G,moduleTemp:q,humidity:Q,ambientTemp2:ae,moduleTemp2:re,humidity2:oe,temperatureData:yt})})]}),Object(ce.jsxs)(C.a,{container:!0,style:{marginTop:"1.5rem"},children:[Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(im,{windDirection:be,windSpeed:Oe,rain:pe})}),Object(ce.jsx)(C.a,{item:!0,style:{marginLeft:"2rem"},children:Object(ce.jsx)(sm,{windDirection:ye,windSpeed:we,rain:De})})]}),Object(ce.jsxs)(S.a,{elevation:6,style:{marginTop:"2.5rem",height:"500px",width:"100%"},children:[Object(ce.jsx)(V.a,{variant:"h6",color:"textSecondary",style:{marginLeft:"1.5rem",marginTop:"1rem",marginBottom:"1.5rem"},children:"Irradiance / Generation"}),Object(ce.jsx)(Ru,{data:Ae,interval:12,leftAxisY:[0,1500],rightAxisY:[0,300]})]}),Object(ce.jsx)(C.a,{container:!0,style:{marginTop:"3rem"},children:Object(ce.jsxs)(C.a,{item:!0,xs:12,children:[Object(ce.jsxs)(C.a,{container:!0,spacing:2,alignItems:"center",style:{marginBottom:".5rem"},children:[Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(V.a,{variant:"h6",color:"textSecondary",children:"Inverter Values"})}),Object(ce.jsx)(C.a,{item:!0,className:r.grow}),Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsxs)(V.a,{style:{marginLeft:".25rem"},children:["Selected Block:"," "]})}),Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(v.a,{className:r.formControl,children:Object(ce.jsx)(Z.a,{value:ze,onChange:function(e){Me(e.target.value);var t=new Date;t.setDate((new Date).getDate()-1),t.setHours(23,50,0,0);var a=new Date(b);a.setHours(5,0,0,0);var n=a.getTime();It(e.target.value,t.getTime(),b,n)},children:Array.from(Array(24).keys()).map((function(e,t){return Object(ce.jsxs)(B.a,{value:t+1,children:["B",String(t+1).padStart(2,0)]})}))})})})]}),Object(ce.jsx)(Uu,{values:We,block:ze})]})}),Object(ce.jsx)(J.a,{open:at,anchorOrigin:{vertical:"bottom",horizontal:"left"},autoHideDuration:4e3,onClose:gt,children:Object(ce.jsx)(dm,{onClose:gt,severity:"success",children:"Time is reset!"})}),Object(ce.jsx)("div",{style:{marginBottom:"2rem"}})]})}function mm(e,t,a,n,i){return{name:e,calories:t,fat:a,carbs:n,protein:i}}mm("Frozen yoghurt",159,6,24,4),mm("Ice cream sandwich",237,9,37,4.3),mm("Eclair",262,16,24,6),mm("Cupcake",305,3.7,67,4.3),mm("Gingerbread",356,16,49,3.9);var hm=["children","value","index"],Om=Object(D.a)({tabs:{"& .MuiTabs-indicator":{backgroundColor:"#148F77"},"& .MuiTab-root.Mui-selected":{color:"#148F77"}}});function gm(e){var t=e.children,a=e.value,n=e.index,i=Object(ji.a)(e,hm);return Object(ce.jsx)("div",Object(h.a)(Object(h.a)({role:"tabpanel",hidden:a!==n,id:"simple-tabpanel-".concat(n),"aria-labelledby":"simple-tab-".concat(n)},i),{},{children:a===n&&Object(ce.jsx)(ui.a,{children:Object(ce.jsx)(V.a,{children:t})})}))}function xm(e){return{id:"scb-tab-".concat(e),"aria-controls":"scb-tabpanel-".concat(e)}}function Sm(e){var t=e.handleSessionExpire,a=n.useState(0),i=Object(u.a)(a,2),c=i[0],r=i[1],s=Om();return Object(ce.jsxs)(ui.a,{children:[Object(ce.jsxs)(di.a,{style:{color:"#000000"},className:s.tabs,value:c,onChange:function(e,t){r(t)},"aria-label":"analytics tabs",children:[Object(ce.jsx)(bi.a,Object(h.a)({label:"ML Prediction"},xm(0))),Object(ce.jsx)(bi.a,Object(h.a)({label:"ML"},xm(1)))]}),Object(ce.jsx)(gm,{value:c,index:0,children:Object(ce.jsx)(Lt,{handleSessionExpire:t})})]})}var pm=a(265),fm=240,vm=Object(Oe.a)({root:{color:pm.a[400],"&$checked":{color:pm.a[600]}},checked:{}})((function(e){return Object(ce.jsx)(Pa.a,Object(h.a)({color:"default"},e))})),Cm=Object(D.a)((function(e){return{root:{display:"flex"},appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:fm,width:"calc(100% - ".concat(fm,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:36},hide:{display:"none"},drawer:{width:fm,flexShrink:0,whiteSpace:"nowrap"},drawerOpen:{width:fm,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerClose:Object(m.a)({transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),overflowX:"hidden",width:e.spacing(7)+1},e.breakpoints.up("sm"),{width:e.spacing(9)+1}),toolbar:Object(h.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:e.spacing(0,1)},e.mixins.toolbar),paper:{padding:e.spacing(2),textAlign:"center",color:e.palette.text.secondary},sectionDesktop:{display:"flex"},content:{flexGrow:1,paddingTop:e.spacing(1),paddingLeft:e.spacing(3),paddingRight:e.spacing(3)},flexContent:{flexGrow:1},grow:{flexGrow:1},expandMoreIconButtonStyle:{marginLeft:e.spacing(.5)},userNotificationIconButtonStyle:{marginRight:e.spacing(2)},companyNameStyle:{marginRight:"auto",marginLeft:e.spacing(2)},modalCardStyle:{width:300,height:"fit-content"},notificationAccordionheading:{fontSize:e.typography.pxToRem(11)},notificationAccordionSubheading:{fontSize:e.typography.pxToRem(11),color:e.palette.text.secondary},customizeToolbar:{},linearProgressPrimaryColor:{backgroundColor:"#00695C"},inputOutlineColor:{outlineColor:"#21618C"}}}));function ym(e){var t,a,c=Cm(),r=Object(P.a)(),s=i.a.useState(!1),l=Object(u.a)(s,2),o=l[0],j=l[1],d=Object(n.useState)([]),O=Object(u.a)(d,2),D=O[0],A=O[1],H=Object(n.useState)("Badisidd"),z=Object(u.a)(H,2),R=z[0],W=z[1],q=function(e){j(!0)},Z=Object(b.f)(),J=localStorage.getItem("username","Admin"),$=localStorage.getItem("userToken"),Q=$e(),ee=Q.setEnableDarkTheme,te=Q.enabledLinearProgress;Object(n.useEffect)((function(){if($&&""!==$){X.a.post(K+"/admin/sitesDropdown",{email:localStorage.getItem("userEmail")},{headers:{jwtToken:localStorage.getItem("userToken"),"Access-Control-Allow-Origin":"*","Access-Control-Allow-Methods":"GET,PUT,POST,DELETE,PATCH,OPTIONS"}}).then((function(e){localStorage.setItem("siteNamesCaps",JSON.stringify(e.data[0].siteNamesCaps)),localStorage.setItem("siteNamesAndBlocks",JSON.stringify(e.data[0].siteNamesAndBlocks))})).catch((function(e){var t;localStorage.setItem("siteNamesCaps",JSON.stringify([])),localStorage.setItem("siteNamesAndBlocks",JSON.stringify([])),401===(null===e||void 0===e||null===(t=e.response)||void 0===t?void 0:t.status)&&Xe()})),localStorage.getItem("sitesSidePanelLocalStorage")&&pt(JSON.parse(localStorage.getItem("sitesSidePanelLocalStorage")));var e=setInterval((function(){localStorage.getItem("sitesSidePanelLocalStorage")&&pt(JSON.parse(localStorage.getItem("sitesSidePanelLocalStorage")))}),36e4);Vt($);var t=setInterval((function(){Vt($)}),36e4);return function(){clearInterval(e),clearInterval(t)}}Z.push("/login")}),[]);var ae=Object(n.useState)(!1),ne=Object(u.a)(ae,2),ie=ne[0],re=ne[1],se=Object(n.useState)(null),le=Object(u.a)(se,2),oe=le[0],je=le[1],de=Object(n.useState)(null),be=Object(u.a)(de,2),ue=be[0],me=be[1],Oe=Boolean(ue)?"notifications-popover":void 0,ge=Boolean(oe),xe=function(){var e=JSON.parse(localStorage.getItem("userDetails")).menu,t=[];return e.forEach((function(e){e.includes("admin")&&t.push("Admin"),e.includes("sites")&&t.push("Sites"),e.includes("inverterEfficiency")&&t.push("Inverter Efficiency"),e.includes("ml")&&t.push("ML Predictions"),e.includes("scb")&&t.push("SCB"),e.includes("analytics")&&t.push("Analytics"),e.includes("performance")&&t.push("Performance"),e.includes("csv")&&t.push("CSV"),e.includes("alerts")&&t.push("Alerts")})),t},Se=Object(n.useState)((function(e){return $&&""!==$?xe().find((function(e){return"Sites"===e}))?"Sites":$&&""!==$?xe()[0]:Z.push("/login"):Z.push("/login")})),pe=Object(u.a)(Se,2),fe=pe[0],ve=pe[1],Ce=Object(n.useState)("none"),ye=Object(u.a)(Ce,2),Te=(ye[0],ye[1],Object(n.useState)(!0)),Ie=Object(u.a)(Te,2),ke=(Ie[0],Ie[1],Object(n.useState)(!1)),we=Object(u.a)(ke,2),Ne=(we[0],we[1],Object(n.useState)(!1)),Be=Object(u.a)(Ne,2),Le=(Be[0],Be[1],Object(n.useState)(!1)),De=Object(u.a)(Le,2),Pe=(De[0],De[1],Object(n.useState)(!1)),Fe=Object(u.a)(Pe,2),Ve=(Fe[0],Fe[1],Object(n.useState)((function(){var e=new Date;return e.setDate((new Date).getDate()-1),e.setHours(0,0,0,0),e.getTime()}))),Ae=Object(u.a)(Ve,2),Ee=Ae[0],He=(Ae[1],Object(n.useState)((function(){var e=new Date;return e.setHours(23,59,59,999),e.getTime()}))),_e=Object(u.a)(He,2),ze=_e[0],Me=(_e[1],function(){Ke((function(e){return{openModal:!1,openCSVModal:!1,openTicketModal:!1,openInverterModal:!1,openInverterScbModal:!1,openSiteEditModal:!1}}))}),Re=function(e,t){var a=new Date(e).getTime();return!(new Date(t).getTime()-a>=0)},Ge=function(){We(),je(null),localStorage.clear(),Z.replace("/login")},We=function(){X.a.post(K+"/user/logout",{}).then((function(e){})).catch((function(e){}))},Xe=function(){localStorage.setItem("isAuthSnackbarOpened",!0),Ge(),window.location.reload()},Ye=Object(n.useState)({openModal:!1,openCSVModal:!1}),qe=Object(u.a)(Ye,2),Ue=qe[0],Ke=qe[1],Ze=Object(n.useState)({}),Je=Object(u.a)(Ze,2),Qe=Je[0],et=Je[1],tt=function(e){et(e),Ke({openModal:!0,openCSVModal:!0})},at=function(e,t){switch(t){case"Admin":ve("Admin"),rt("");break;case"Sites":ve("Sites"),rt("");break;case"Inverter Efficiency":ve("Inverter Efficiency"),rt("");break;case"ML Predictions":ve("ML Predictions"),rt("");break;case"SCB":ve("SCB"),rt("");break;case"Analytics":ve("Analytics"),rt("");break;case"Performance":ve("Performance"),rt("");break;case"CSV":ve("CSV"),rt("");break;case"Alerts":ve("Alerts"),rt("");break;default:Ke((function(e){return{openModal:!0,openCSVModal:!1}})),Re(Ee,ze)}},nt=Object(n.useState)(""),it=Object(u.a)(nt,2),ct=it[0],rt=it[1],st=Object(n.useState)({}),lt=Object(u.a)(st,2),jt=lt[0],dt=lt[1],bt=Object(n.useState)(!1),ut=Object(u.a)(bt,2),mt=ut[0],ht=ut[1],Ot=Object(n.useState)({totalSites:0,totalCapacity:0,online:0,offline:0}),gt=Object(u.a)(Ot,2),St=gt[0],pt=gt[1],ft=Object(n.useState)(!1),vt=Object(u.a)(ft,2),Ct=vt[0],yt=vt[1],Tt=Object(n.useState)(),It=Object(u.a)(Tt,2),wt=It[0],Nt=It[1],Bt=Object(n.useState)([]),Lt=Object(u.a)(Bt,2),Dt=Lt[0],Pt=Lt[1],Ft=function(e){var t=new Date(e);"".concat(t.getDate(),"/").concat(Number(t.getMonth()+1));return Object(ce.jsx)("span",{children:t.toLocaleTimeString()})},Vt=function(e){X.a.post(K+"/notification/logs",{email:localStorage.getItem("userEmail")},{headers:{jwtToken:e,"Access-Control-Allow-Origin":"*","Access-Control-Allow-Methods":"GET,PUT,POST,DELETE,PATCH,OPTIONS"}}).then((function(e){Pt(e.data),Nt(e.data.length)})).catch((function(e){var t;401===(null===e||void 0===e||null===(t=e.response)||void 0===t?void 0:t.status)&&Xe()}))},At=Object(n.useState)(""),Et=Object(u.a)(At,2),Ht=Et[0],_t=Et[1],zt=Object(n.useRef)(),Mt=Object(n.useState)(!0),Rt=Object(u.a)(Mt,2),Gt=Rt[0],Wt=Rt[1],Xt=Object(n.useState)(),Yt=Object(u.a)(Xt,2),Zt=Yt[0],Jt=Yt[1],$t=Object(n.useState)({}),Qt=Object(u.a)($t,2),ta=Qt[0],aa=Qt[1],na=Object(n.useState)({}),ca=Object(u.a)(na,2),ra=ca[0],sa=ca[1],la=i.a.useState(!0),oa=Object(u.a)(la,2),ja=(oa[0],oa[1],Object(n.useState)({})),da=Object(u.a)(ja,2),ba=da[0],ma=da[1],ha=Object(n.useState)({open:!1,severity:"info",message:"snackbar"}),Oa=Object(u.a)(ha,2),ga=(Oa[0],Oa[1]),xa=Object(n.useState)({}),Sa=Object(u.a)(xa,2),pa=Sa[0],fa=Sa[1],Ca=Object(n.useState)({}),ya=Object(u.a)(Ca,2),Ta=ya[0],Ia=ya[1];console.log("962---scb",ra);var ka=function(){X.a.post(K+"/api/users/get/messages",{site:R}).then((function(e){var t=e.data;A(t)})).catch((function(e){}))};return Object(n.useEffect)((function(){ka()}),[R]),Object(ce.jsxs)("div",{className:c.root,children:[Object(ce.jsxs)(g.a,{position:"fixed",className:Object(Y.default)(c.appBar,Object(m.a)({},c.appBarShift,ie)),children:[Object(ce.jsxs)(F.a,{className:c.customizeToolbar,children:[Object(ce.jsx)(y.a,{color:"inherit","aria-label":"open drawer",onClick:function(){re(!0)},edge:"start",className:Object(Y.default)(c.menuButton,Object(m.a)({},c.hide,ie)),children:Object(ce.jsx)(G.a,{})}),Object(ce.jsx)(V.a,{variant:"h6",noWrap:!0,className:c.grow,style:{textAlign:"center",paddingLeft:"7.5rem"},children:"ACME ACE"}),Object(ce.jsx)("div",{className:c.sectionDesktop,children:Object(ce.jsxs)("div",{children:[Object(ce.jsxs)(C.a,{container:!0,direction:"row",justifyContent:"center",alignItems:"center",children:[Object(ce.jsx)(y.a,{color:"inherit",style:{marginRight:".5rem"},onClick:function(){return ee((function(e){return!e}))},children:Object(ce.jsx)(_u.a,{})}),Object(ce.jsx)(y.a,{"aria-label":"notification count",color:"inherit",style:{marginRight:"1.25rem"},onClick:function(){yt((function(e){if(wt>0){var t=document.getElementById("sidePanel");return t.style.right=e?"-320px":"0px",!e}return e}))},children:Object(ce.jsx)(Pi.a,{badgeContent:wt,color:"secondary",children:Object(ce.jsx)(Di.a,{})})}),Object(ce.jsx)(V.a,{children:J}),Object(ce.jsx)(y.a,{edge:"end","aria-label":"expand more icon button",color:"inherit",onClick:function(e){je(e.currentTarget)},size:"small",className:c.expandMoreIconButtonStyle,children:Object(ce.jsx)(M.a,{})})]}),Object(ce.jsx)(N.a,{id:"menu-appbar",anchorEl:oe,anchorOrigin:{vertical:"top",horizontal:"right"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:ge,onClose:function(){je(null)},children:Object(ce.jsx)(B.a,{onClick:Ge,children:"Log out"})}),Object(ce.jsx)(Hi.a,{id:Oe,open:!1,anchorEl:ue,onClose:function(){me(null)},anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},children:Object(ce.jsxs)(he.a,{style:{padding:"1rem",maxWidth:"300px"},children:[Object(ce.jsxs)(qt.a,{children:[Object(ce.jsxs)(Ut.a,{expandIcon:Object(ce.jsx)(M.a,{}),"aria-controls":"panel1a-content",id:"panel1a-header",children:[Object(ce.jsx)(V.a,{className:c.notificationAccordionheading,children:"23/06 10:10"}),Object(ce.jsx)(V.a,{className:c.notificationAccordionSubheading,style:{color:"orange"},children:"SCB"})]}),Object(ce.jsx)(Kt.a,{children:Object(ce.jsx)(V.a,{children:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."})})]}),Object(ce.jsxs)(qt.a,{children:[Object(ce.jsxs)(Ut.a,{expandIcon:Object(ce.jsx)(M.a,{}),"aria-controls":"panel2a-content",id:"panel2a-header",children:[Object(ce.jsx)(V.a,{className:c.notificationAccordionheading,children:"23/06 18:20"}),Object(ce.jsx)(V.a,{className:c.notificationAccordionSubheading,style:{color:"orange"},children:"SCB"})]}),Object(ce.jsx)(Kt.a,{children:Object(ce.jsx)(V.a,{children:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."})})]})]})})]})})]}),te&&Object(ce.jsx)(ui.a,{sx:{width:"100%"},children:Object(ce.jsx)(Fi.a,{style:{backgroundColor:"#2874A6 "}})})]}),Object(ce.jsxs)(f.a,{variant:"permanent",className:Object(Y.default)(c.drawer,(t={},Object(m.a)(t,c.drawerOpen,ie),Object(m.a)(t,c.drawerClose,!ie),t)),classes:{paper:Object(Y.default)((a={},Object(m.a)(a,c.drawerOpen,ie),Object(m.a)(a,c.drawerClose,!ie),a))},children:[Object(ce.jsxs)("div",{className:c.toolbar,children:[Object(ce.jsx)(V.a,{color:"textSecondary",className:c.companyNameStyle,children:U()(new Date).format("ll")}),Object(ce.jsx)(y.a,{onClick:function(){re(!1)},children:"rtl"===r.direction?Object(ce.jsx)(_.a,{}):Object(ce.jsx)(E.a,{})})]}),Object(ce.jsx)(p.a,{}),Object(ce.jsxs)(T.a,{children:[J&&!J.includes("Gadarpur")&&xe().map((function(e,t){return Object(ce.jsxs)(I.a,{button:!0,selected:e===fe,onClick:function(){return at(0,e)},children:[Object(ce.jsx)(k.a,{style:{marginLeft:".4rem"},children:"Admin"===e?Object(ce.jsx)("img",{src:"/static/images/mainMenu/admin.png",alt:"admin",width:"28"}):"Sites"===e?Object(ce.jsx)("img",{src:"/static/images/mainMenu/dashboard.png",alt:"sites",width:"28"}):"Inverter Efficiency"===e?Object(ce.jsx)("img",{src:"/static/images/mainMenu/efficiency.png",alt:"efficiency",width:"26"}):"ML Predictions"===e?Object(ce.jsx)("img",{src:"/static/images/mainMenu/prediction.png",alt:"prediction",width:"30"}):"SCB"===e?Object(ce.jsx)("img",{src:"/static/images/mainMenu/scb.png",alt:"scb",width:"25"}):"Analytics"===e?Object(ce.jsx)("img",{src:"/static/images/mainMenu/analytics.png",alt:"analytics",width:"28"}):"Performance"===e?Object(ce.jsx)("img",{src:"/static/images/mainMenu/performance.png",alt:"performance",width:"28"}):"CSV"===e?Object(ce.jsx)("img",{src:"/static/images/mainMenu/customCSV.png",alt:"custom csv",width:"28"}):"Alerts"===e?Object(ce.jsx)("img",{src:"/static/images/mainMenu/alerts.png",alt:"alerts",width:"28"}):"Loss Analytics"===e?Object(ce.jsx)("img",{src:"/static/images/mainMenu/lossAnalytics.png",alt:"loss analytics",width:"26"}):Object(ce.jsx)("img",{src:"/static/images/mainMenu/quickCSV.png",alt:"quick csv",width:"28"})},e+"icon"),Object(ce.jsx)(w.a,{primary:e})]},e)})),J&&J.includes("Gadarpur")&&["SCB"].map((function(e,t){return Object(ce.jsxs)(I.a,{button:!0,selected:t===fe,onClick:function(){return at()},children:[Object(ce.jsx)(k.a,{children:0===t&&Object(ce.jsx)("img",{src:"/static/images/mainMenu/scb.png",alt:"scb",width:"25"})},e),Object(ce.jsx)(w.a,{primary:e})]},e)}))]})]}),Object(ce.jsx)("main",{id:"sitesSidePanel",className:c.content,style:{position:"fixed",right:"-320px",transition:"0.5s",top:"21vh",padding:0,pointerEvents:"none",zIndex:101},children:Object(ce.jsxs)("div",{style:{display:"flex",alignItems:"center",width:"360px"},children:[Object(ce.jsx)(y.a,{onClick:function(e){ht((function(e){var t=document.getElementById("sitesSidePanel");return t.style.right=e?"-320px":"0px",!e}))},size:"small",children:Object(ce.jsx)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"#2874A6",paddingBlock:".5rem",paddingInline:".5rem",borderRadius:"5px",pointerEvents:"auto"},children:Object(ce.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"10px"},children:[Object(ce.jsx)("em",{style:{color:"white",fontWeight:"bold"},children:"i"}),Object(ce.jsx)(zi.a,{style:{color:"white"},className:mt?"doubleArrowIconRight":"doubleArrowIconLeft",fontSize:"small"})]})})}),Object(ce.jsxs)(he.a,{style:{margin:".25rem",padding:".5rem",width:"335px",backgroundColor:"white"},elevation:1,children:[Object(ce.jsxs)(V.a,{className:c.notificationAccordionheading,style:{color:"#000"},children:["Total Sites: ",St.totalSites,"\u2003"]}),Object(ce.jsxs)(V.a,{className:c.notificationAccordionheading,style:{color:"#000"},children:["Total Capacity:"," ",Number(St.totalCapacity).toFixed(0)," ",Object(ce.jsx)("small",{children:"MW"})]}),Object(ce.jsxs)(V.a,{style:{color:"green"},className:c.notificationAccordionheading,children:["Online: ",St.online,"\u2003"]}),Object(ce.jsxs)(V.a,{style:{color:"red"},className:c.notificationAccordionheading,children:["Offline: ",St.offline]})]})]})}),Object(ce.jsx)("main",{id:"sidePanel",className:c.content,style:{position:"fixed",right:"-320px",transition:"0.5s",top:"35vh",padding:0,pointerEvents:"auto",zIndex:101},children:Object(ce.jsxs)("div",{style:{display:"flex",alignItems:"center",width:"360px"},children:[Object(ce.jsx)(y.a,{onClick:function(e){yt((function(e){var t=document.getElementById("sidePanel");return t.style.right=e?"-320px":"0px",!e}))},disabled:0===Dt.length,size:"small",style:{pointerEvents:"auto"},children:Object(ce.jsx)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"#EC7063",paddingBlock:".5rem",paddingInline:".5rem",borderRadius:"5px"},children:Object(ce.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"10px"},children:[Object(ce.jsx)(Di.a,{style:{color:"white"},fontSize:"small"}),Object(ce.jsx)(zi.a,{style:{color:"white"},className:Ct?"doubleArrowIconRight":"doubleArrowIconLeft",fontSize:"small"})]})})}),Object(ce.jsx)("div",{style:{width:"320px",padding:".3rem",maxHeight:"390px",overflowY:"scroll"},className:"notificationsPaperBackground",children:Dt.length>0&&Dt.map((function(e,t){return Object(ce.jsx)(qt.a,{onClick:function(t){localStorage.setItem("alertsTable","notification_open"),tt(e)},expanded:!1,style:{pointerEvents:"auto",marginBottom:"-0.9rem"},children:Object(ce.jsxs)(Ut.a,{"aria-controls":"alert-content",id:"alert-header",children:[Object(ce.jsx)(V.a,{className:c.notificationAccordionheading,children:Ft(1e3*e.timestamp)}),Object(ce.jsx)("span",{style:{marginInline:".5rem"}}),Object(ce.jsxs)(V.a,{className:c.notificationAccordionSubheading,style:{color:"red"},children:[Object(ce.jsxs)("span",{style:{color:"black"},children:[e.ticket,"\u2003"]}),(a=e.site,n=e.alarm,"".concat(String(a).charAt(0).toUpperCase()).concat(String(a).slice(1)," - ").concat(n," Down"))]})]})},e.timestamp);var a,n}))})]})}),"Admin"===fe&&""===ct&&J&&!J.includes("Gadarpur")&&Object(ce.jsxs)("main",{className:c.content,children:[Object(ce.jsx)("div",{className:c.toolbar}),Object(ce.jsx)(Eu,{updateInverter:function(e){aa(e),Ke((function(e){return Object(h.a)(Object(h.a)({},e),{},{openModal:!0,openInverterModal:!0})}))},updateInverterScb:function(e){sa(e),Ke((function(e){return Object(h.a)(Object(h.a)({},e),{},{openModal:!0,openInverterScbModal:!0})}))},refreshInverterTable:pa,refreshSiteEditTable:Ta,updateSite:function(e){ma(e),Ke((function(e){return Object(h.a)(Object(h.a)({},e),{},{openModal:!0,openSiteEditModal:!0})}))},handleSessionExpire:Xe})]}),"Sites"===fe&&""===ct&&J&&!J.includes("Gadarpur")&&Object(ce.jsxs)("main",{className:c.content,children:[Object(ce.jsx)("div",{className:c.toolbar}),Object(ce.jsx)(ia,{handleSiteClickInParent:function(e){dt(e),rt(e.name),W(e.name),ka()},handleSessionExpire:Xe,setOpen:j,open:o,setShowNotemsg:A})]}),"Inverter Efficiency"===fe&&J&&!J.includes("Gadarpur")&&Object(ce.jsxs)("main",{className:c.content,children:[Object(ce.jsx)("div",{className:c.toolbar}),Object(ce.jsx)(kt,{handleSessionExpire:Xe})]}),"ML Predictions"===fe&&J&&!J.includes("Gadarpur")&&Object(ce.jsxs)("main",{className:c.content,children:[Object(ce.jsx)("div",{className:c.toolbar}),Object(ce.jsx)(Sm,{handleSessionExpire:Xe})]}),"SCB"===fe&&Object(ce.jsxs)("main",{className:c.content,style:{paddingRight:0},children:[Object(ce.jsx)("div",{className:c.toolbar}),Object(ce.jsx)(Bi,{handleSessionExpire:Xe})]}),"Analytics"===fe&&J&&!J.includes("Gadarpur")&&Object(ce.jsxs)("main",{className:c.content,children:[Object(ce.jsx)("div",{className:c.toolbar}),Object(ce.jsx)(No,{handleSessionExpire:Xe})]}),"Performance"===fe&&J&&!J.includes("Gadarpur")&&Object(ce.jsxs)("main",{className:c.content,children:[Object(ce.jsx)("div",{className:c.toolbar}),Object(ce.jsx)(rd,{handleSessionExpire:Xe})]}),"CSV"===fe&&J&&!J.includes("Gadarpur")&&Object(ce.jsxs)("main",{className:c.content,children:[Object(ce.jsx)("div",{className:c.toolbar}),Object(ce.jsx)(Cb,{handleSessionExpire:Xe})]}),"Alerts"===fe&&J&&!J.includes("Gadarpur")&&Object(ce.jsxs)("main",{className:c.content,children:[Object(ce.jsx)("div",{className:c.toolbar}),Object(ce.jsx)(So,{handleSessionExpire:Xe,handleTicketModal:function(e){Jt(e),Ke({openModal:!0,openCSVModal:!1,openTicketModal:!0})},handleNotificationClick:tt})]}),Object(ce.jsx)("noscript",{children:"Render site on click"}),""!==ct&&"Byagwat"===ct&&Object(ce.jsxs)("main",{className:c.content,children:[Object(ce.jsx)("div",{className:c.toolbar}),Object(ce.jsx)(ot,{handleSessionExpire:Xe,handleClickOpen:q,sitestatusBar:jt})]}),""!==ct&&"Kherakhurd"===ct&&Object(ce.jsxs)("main",{className:c.content,children:[Object(ce.jsx)("div",{className:c.toolbar}),Object(ce.jsx)(xt,{handleSessionExpire:Xe,handleClickOpen:q,sitestatusBar:jt})]}),""!==ct&&"Hindupur"===ct&&Object(ce.jsxs)("main",{className:c.content,children:[Object(ce.jsx)("div",{className:c.toolbar}),Object(ce.jsx)(ua,{handleSessionExpire:Xe,handleClickOpen:q,sitestatusBar:jt})]}),""!==ct&&"Sircilla"===ct&&Object(ce.jsxs)("main",{className:c.content,children:[Object(ce.jsx)("div",{className:c.toolbar}),Object(ce.jsx)(va,{handleSessionExpire:Xe,handleClickOpen:q,sitestatusBar:jt})]}),""!==ct&&"Gadarpur"===ct&&Object(ce.jsxs)("main",{className:c.content,children:[Object(ce.jsx)("div",{className:c.toolbar}),Object(ce.jsx)(La,{handleSessionExpire:Xe,handleClickOpen:q,sitestatusBar:jt})]}),""!==ct&&"Yemmiganur"===ct&&Object(ce.jsxs)("main",{className:c.content,children:[Object(ce.jsx)("div",{className:c.toolbar}),Object(ce.jsx)(on,{handleSessionExpire:Xe,handleClickOpen:q,sitestatusBar:jt})]}),""!==ct&&"Mahoba"===ct&&Object(ce.jsxs)("main",{className:c.content,children:[Object(ce.jsx)("div",{className:c.toolbar}),Object(ce.jsx)(xn,{handleSessionExpire:Xe,handleClickOpen:q,sitestatusBar:jt})]}),""!==ct&&"Balangir"===ct&&Object(ce.jsxs)("main",{className:c.content,children:[Object(ce.jsx)("div",{className:c.toolbar}),Object(ce.jsx)(kn,{handleSessionExpire:Xe,handleClickOpen:q,sitestatusBar:jt})]}),""!==ct&&"Bhadla L2"===ct&&Object(ce.jsxs)("main",{className:c.content,children:[Object(ce.jsx)("div",{className:c.toolbar}),Object(ce.jsx)(An,{handleSessionExpire:Xe,handleClickOpen:q,sitestatusBar:jt})]}),""!==ct&&"Jhandekalan"===ct&&Object(ce.jsxs)("main",{className:c.content,children:[Object(ce.jsx)("div",{className:c.toolbar}),Object(ce.jsx)(Xn,{handleSessionExpire:Xe,handleClickOpen:q,sitestatusBar:jt})]}),""!==ct&&"Bhadla L3"===ct&&Object(ce.jsxs)("main",{className:c.content,children:[Object(ce.jsx)("div",{className:c.toolbar}),Object(ce.jsx)(oi,{handleSessionExpire:Xe,handleClickOpen:q,sitestatusBar:jt})]}),""!==ct&&"Nangla"===ct&&Object(ce.jsxs)("main",{className:c.content,children:[Object(ce.jsx)("div",{className:c.toolbar}),Object(ce.jsx)(ei,{handleSessionExpire:Xe,handleClickOpen:q,sitestatusBar:jt})]}),""!==ct&&"Mankhera"===ct&&Object(ce.jsxs)("main",{className:c.content,children:[Object(ce.jsx)("div",{className:c.toolbar}),Object(ce.jsx)(Ki,{handleSessionExpire:Xe,handleClickOpen:q,sitestatusBar:jt})]}),""!==ct&&"Jhunir"===ct&&Object(ce.jsxs)("main",{className:c.content,children:[Object(ce.jsx)("div",{className:c.toolbar}),Object(ce.jsx)(ic,{handleSessionExpire:Xe,handleClickOpen:q,sitestatusBar:jt})]}),""!==ct&&"Bhongir"===ct&&Object(ce.jsxs)("main",{className:c.content,children:[Object(ce.jsx)("div",{className:c.toolbar}),Object(ce.jsx)(uc,{handleSessionExpire:Xe,handleClickOpen:q,sitestatusBar:jt})]}),""!==ct&&"Padmajiwadi"===ct&&Object(ce.jsxs)("main",{className:c.content,children:[Object(ce.jsx)("div",{className:c.toolbar}),Object(ce.jsx)(vc,{handleSessionExpire:Xe,handleClickOpen:q,sitestatusBar:jt})]}),""!==ct&&"Mothkur"===ct&&Object(ce.jsxs)("main",{className:c.content,children:[Object(ce.jsx)("div",{className:c.toolbar}),Object(ce.jsx)(Lc,{handleSessionExpire:Xe,handleClickOpen:q,sitestatusBar:jt})]}),""!==ct&&"Sadashivpet"===ct&&Object(ce.jsxs)("main",{className:c.content,children:[Object(ce.jsx)("div",{className:c.toolbar}),Object(ce.jsx)(zc,{handleSessionExpire:Xe,handleClickOpen:q,sitestatusBar:jt})]}),""!==ct&&"Pattikonda"===ct&&Object(ce.jsxs)("main",{className:c.content,children:[Object(ce.jsx)("div",{className:c.toolbar}),Object(ce.jsx)(Kc,{handleSessionExpire:Xe,handleClickOpen:q,sitestatusBar:jt})]}),""!==ct&&"Rayachoti"===ct&&Object(ce.jsxs)("main",{className:c.content,children:[Object(ce.jsx)("div",{className:c.toolbar}),Object(ce.jsx)(ir,{handleSessionExpire:Xe,handleClickOpen:q,sitestatusBar:jt})]}),""!==ct&&"Bikaner"===ct&&Object(ce.jsxs)("main",{className:c.content,children:[Object(ce.jsx)("div",{className:c.toolbar}),Object(ce.jsx)(ur,{handleSessionExpire:Xe,handleClickOpen:q,sitestatusBar:jt})]}),""!==ct&&"Santhipuram"===ct&&Object(ce.jsxs)("main",{className:c.content,children:[Object(ce.jsx)("div",{className:c.toolbar}),Object(ce.jsx)(vr,{handleSessionExpire:Xe,handleClickOpen:q,sitestatusBar:jt})]}),""!==ct&&"Chittorgarh"===ct&&Object(ce.jsxs)("main",{className:c.content,children:[Object(ce.jsx)("div",{className:c.toolbar}),Object(ce.jsx)(Xr,{handleSessionExpire:Xe,handleClickOpen:q,sitestatusBar:jt})]}),""!==ct&&"Chattisgarh"===ct&&Object(ce.jsxs)("main",{className:c.content,children:[Object(ce.jsx)("div",{className:c.toolbar}),Object(ce.jsx)(es,{handleSessionExpire:Xe,handleClickOpen:q,sitestatusBar:jt})]}),""!==ct&&"Balanagar"===ct&&Object(ce.jsxs)("main",{className:c.content,children:[Object(ce.jsx)("div",{className:c.toolbar}),Object(ce.jsx)(os,{handleSessionExpire:Xe,handleClickOpen:q,sitestatusBar:jt})]}),""!==ct&&"Kosigi"===ct&&Object(ce.jsxs)("main",{className:c.content,children:[Object(ce.jsx)("div",{className:c.toolbar}),Object(ce.jsx)(xs,{handleSessionExpire:Xe,handleClickOpen:q,sitestatusBar:jt})]}),""!==ct&&"Sandur"===ct&&Object(ce.jsxs)("main",{className:c.content,children:[Object(ce.jsx)("div",{className:c.toolbar}),Object(ce.jsx)(ks,{handleSessionExpire:Xe,handleClickOpen:q,sitestatusBar:jt})]}),""!==ct&&"Kudligi"===ct&&Object(ce.jsxs)("main",{className:c.content,children:[Object(ce.jsx)("div",{className:c.toolbar}),Object(ce.jsx)(As,{handleSessionExpire:Xe,handleClickOpen:q,sitestatusBar:jt})]}),""!==ct&&"Gulelgudda"===ct&&Object(ce.jsxs)("main",{className:c.content,children:[Object(ce.jsx)("div",{className:c.toolbar}),Object(ce.jsx)(Xs,{handleSessionExpire:Xe,handleClickOpen:q,sitestatusBar:jt})]}),""!==ct&&"Hukkeri"===ct&&Object(ce.jsxs)("main",{className:c.content,children:[Object(ce.jsx)("div",{className:c.toolbar}),Object(ce.jsx)(el,{handleSessionExpire:Xe,handleClickOpen:q,sitestatusBar:jt})]}),""!==ct&&"Kittur"===ct&&Object(ce.jsxs)("main",{className:c.content,children:[Object(ce.jsx)("div",{className:c.toolbar}),Object(ce.jsx)(ol,{handleSessionExpire:Xe,handleClickOpen:q,sitestatusBar:jt})]}),""!==ct&&"Bazpur"===ct&&Object(ce.jsxs)("main",{className:c.content,children:[Object(ce.jsx)("div",{className:c.toolbar}),Object(ce.jsx)(xl,{handleSessionExpire:Xe,handleClickOpen:q,sitestatusBar:jt})]}),""!==ct&&"Sidlaghatta"===ct&&Object(ce.jsxs)("main",{className:c.content,children:[Object(ce.jsx)("div",{className:c.toolbar}),Object(ce.jsx)(Al,{handleSessionExpire:Xe,handleClickOpen:q,sitestatusBar:jt})]}),""!==ct&&"Khilchipur"===ct&&Object(ce.jsxs)("main",{className:c.content,children:[Object(ce.jsx)("div",{className:c.toolbar}),Object(ce.jsx)(Xl,{handleSessionExpire:Xe,handleClickOpen:q,sitestatusBar:jt})]}),""!==ct&&"Khambhat"===ct&&Object(ce.jsxs)("main",{className:c.content,children:[Object(ce.jsx)("div",{className:c.toolbar}),Object(ce.jsx)(eo,{handleSessionExpire:Xe,handleClickOpen:q,sitestatusBar:jt})]}),""!==ct&&"Bidar"===ct&&Object(ce.jsxs)("main",{className:c.content,children:[Object(ce.jsx)("div",{className:c.toolbar}),Object(ce.jsx)(kl,{handleSessionExpire:Xe,handleClickOpen:q,sitestatusBar:jt})]}),""!==ct&&"Chittuguppa"===ct&&Object(ce.jsxs)("main",{className:c.content,children:[Object(ce.jsx)("div",{className:c.toolbar}),Object(ce.jsx)(hd,{handleSessionExpire:Xe,handleClickOpen:q,sitestatusBar:jt})]}),""!==ct&&"Farhatabad"===ct&&Object(ce.jsxs)("main",{className:c.content,children:[Object(ce.jsx)("div",{className:c.toolbar}),Object(ce.jsx)(yd,{handleSessionExpire:Xe,handleClickOpen:q,sitestatusBar:jt})]}),""!==ct&&"Godhur"===ct&&Object(ce.jsxs)("main",{className:c.content,children:[Object(ce.jsx)("div",{className:c.toolbar}),Object(ce.jsx)(Pd,{handleSessionExpire:Xe,handleClickOpen:q,sitestatusBar:jt})]}),""!==ct&&"Manthani"===ct&&Object(ce.jsxs)("main",{className:c.content,children:[Object(ce.jsx)("div",{className:c.toolbar}),Object(ce.jsx)(Rd,{handleSessionExpire:Xe,handleClickOpen:q,sitestatusBar:jt})]}),""!==ct&&"Banka M"===ct&&Object(ce.jsxs)("main",{className:c.content,children:[Object(ce.jsx)("div",{className:c.toolbar}),Object(ce.jsx)(Jd,{handleSessionExpire:Xe,handleClickOpen:q,sitestatusBar:jt})]}),""!==ct&&"Banka N"===ct&&Object(ce.jsxs)("main",{className:c.content,children:[Object(ce.jsx)("div",{className:c.toolbar}),Object(ce.jsx)(rb,{handleSessionExpire:Xe,handleClickOpen:q,sitestatusBar:jt})]}),""!==ct&&"Maddur"===ct&&Object(ce.jsxs)("main",{className:c.content,children:[Object(ce.jsx)("div",{className:c.toolbar}),Object(ce.jsx)(hb,{handleSessionExpire:Xe,handleClickOpen:q,sitestatusBar:jt})]}),""!==ct&&"Badisidd"===ct&&Object(ce.jsxs)("main",{className:c.content,children:[Object(ce.jsx)("div",{className:c.toolbar}),Object(ce.jsx)(um,{handleSessionExpire:Xe,handleClickOpen:q,sitestatusBar:jt})]}),Object(ce.jsx)("noscript",{children:"Download Excel File Modal"}),Object(ce.jsx)(L.a,{open:Ue.openModal,onClose:Me,"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description",style:{display:"flex",justifyContent:"center",alignItems:"center"},children:Ue.openCSVModal?Object(ce.jsxs)(S.a,{style:{outline:"none",paddingInline:"1rem",paddingTop:".8rem",paddingBottom:".9rem",width:350},elevation:4,children:[Object(ce.jsxs)(C.a,{container:!0,spacing:3,children:[Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(V.a,{children:new Date(1e3*Qe.timestamp).toLocaleTimeString()})}),Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsxs)(V.a,{style:{color:"critical"===Qe.state?"red":"blue"},children:[Qe.site[0].toUpperCase(),Qe.site.slice(1)," -"," ",Qe.alarm," Down"]})})]}),Object(ce.jsx)(C.a,{container:!0,style:{marginTop:".5rem"},children:Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsxs)(V.a,{variant:"body2",children:["Ticket: ",Qe.ticket]})})}),Object(ce.jsx)(C.a,{container:!0,style:{marginTop:".5rem"},children:Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsxs)(V.a,{variant:"body2",children:["State: ",Qe.state[0].toUpperCase(),Qe.state.slice(1)]})})}),Object(ce.jsx)(C.a,{container:!0,style:{marginTop:".75rem"},children:Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsxs)(V.a,{variant:"body2",children:["Description:\xa0",Qe.issue]})})}),Object(ce.jsx)(C.a,{container:!0,style:{marginTop:"1rem"},children:Object(ce.jsxs)(v.a,{component:"fieldset",children:[Object(ce.jsx)(Vi.a,{component:"legend",children:"Status"}),Object(ce.jsxs)(Ai.a,{row:!0,"aria-label":"notification-status",name:"notification-status-radio-group",onChange:function(e){return t=e.target.value,void _t(t);var t},defaultValue:Qe.status,children:[Object(ce.jsx)(Fa.a,{value:"Open",control:Object(ce.jsx)(Ei.a,{color:"primary"}),label:"Open"}),Object(ce.jsx)(Fa.a,{value:"Pending",control:Object(ce.jsx)(Ei.a,{color:"primary"}),label:"Pending"}),Object(ce.jsx)(Fa.a,{value:"Resolved",control:Object(ce.jsx)(Ei.a,{color:"primary"}),label:"Resolved"})]})]})}),Object(ce.jsxs)("form",{onSubmit:function(e){return e.preventDefault()},children:[Object(ce.jsx)(C.a,{container:!0,style:{marginTop:".25rem"},children:Object(ce.jsx)(C.a,{item:!0,style:{width:"100%"},children:Object(ce.jsx)("textarea",{placeholder:Qe.remarks,rows:"4",style:{width:"100%"},className:"textarea",ref:zt,onChange:function(){""!==zt.current.value?Wt(!1):Wt(!0)}})})}),Object(ce.jsxs)(C.a,{container:!0,spacing:1,justifyContent:"flex-end",style:{marginTop:".1rem"},children:[Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(x.a,{variant:"outlined",size:"small",onClick:function(){Ke({openModal:!1,openCSVModal:!1})},children:"Close"})}),Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(x.a,{variant:"outlined",color:"primary",size:"small",onClick:function(){!function(e,t,a){var n=localStorage.getItem("userToken");Wt(!0);var i=""===Ht?"Open":Ht;X.a.post(K+"/notification/logs/response",{ticket:e,remarks:zt.current.value,status:i,site:t,alarm:a,table:localStorage.getItem("alertsTable")},{headers:{jwtToken:n}}).then((function(e){Ke({openModal:!1,openCSVModal:!1}),Wt(!1),Vt(localStorage.getItem("userToken"))})).catch((function(e){var t;Ke({openModal:!1,openCSVModal:!1}),Wt(!1),401===(null===e||void 0===e||null===(t=e.response)||void 0===t?void 0:t.status)&&Xe()}))}(Qe.ticket,Qe.site,Qe.alarm)},disabled:"Resolved"===Qe.status||Gt,children:"Submit"})})]})]})]}):Ue.openTicketModal?Object(ce.jsxs)(S.a,{elevation:1,style:{padding:".75rem"},children:[Object(ce.jsxs)("div",{children:["Ticket: ",Object(ce.jsx)("span",{style:{color:"blue"},children:Zt.ticket})]}),Object(ce.jsx)("div",{style:{marginBlock:".2rem"}}),Object(ce.jsxs)("div",{children:["Remarks: ",Zt.remarks]})]}):Ue.openInverterModal?Object(ce.jsxs)(S.a,{style:{outline:"none",paddingInline:"1rem",paddingTop:".8rem",paddingBottom:".9rem",width:690},elevation:4,children:[Object(ce.jsx)(C.a,{container:!0,justifyContent:"center",children:Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(V.a,{color:"primary",variant:"h6",children:"Update Inverter"})})}),Object(ce.jsxs)(C.a,{container:!0,style:{marginTop:".25rem"},spacing:4,children:[Object(ce.jsxs)(C.a,{item:!0,children:[Object(ce.jsx)("span",{style:{color:"#21618C"},children:"Id:"}),ta.id]}),Object(ce.jsxs)(C.a,{item:!0,children:[Object(ce.jsx)("span",{style:{color:"#21618C"},children:"Site:"}),ta.sitename]}),Object(ce.jsxs)(C.a,{item:!0,children:[Object(ce.jsx)("span",{style:{color:"#21618C"},children:"Block:"}),ta.block]}),Object(ce.jsxs)(C.a,{item:!0,children:[Object(ce.jsx)("span",{style:{color:"#21618C"},children:"Inverter:"}),ta.inverter]})]}),Object(ce.jsxs)(C.a,{container:!0,spacing:1,style:{marginTop:".75rem"},children:[Object(ce.jsxs)(C.a,{item:!0,children:[Object(ce.jsx)("span",{style:{color:"#21618C"},children:" Group: "}),Object(ce.jsx)("input",{style:{outlineColor:"#21618C"},placeholder:ta.inv_group,onChange:function(e){return aa((function(t){return Object(h.a)(Object(h.a)({},t),{},{inv_group:e.target.value})}))},size:"10"})]}),Object(ce.jsxs)(C.a,{item:!0,children:[Object(ce.jsx)("span",{style:{color:"#21618C"},children:" Make: "}),Object(ce.jsx)("input",{style:{outlineColor:"#21618C"},placeholder:ta.inverter_make,onChange:function(e){return aa((function(t){return Object(h.a)(Object(h.a)({},t),{},{inverter_make:e.target.value})}))},size:"10"})]}),Object(ce.jsxs)(C.a,{item:!0,children:[Object(ce.jsx)("span",{style:{color:"#21618C"},children:" Number: "}),Object(ce.jsx)("input",{style:{outlineColor:"#21618C"},placeholder:ta.inverter_num,onChange:function(e){return aa((function(t){return Object(h.a)(Object(h.a)({},t),{},{inverter_num:e.target.value})}))},size:"10"})]}),Object(ce.jsxs)(C.a,{item:!0,children:[Object(ce.jsx)("span",{style:{color:"#21618C"},children:" Type: "}),Object(ce.jsx)("input",{style:{outlineColor:"#21618C"},placeholder:ta.inverter_type,onChange:function(e){return aa((function(t){return Object(h.a)(Object(h.a)({},t),{},{inverter_type:e.target.value})}))},size:"11"})]})]}),Object(ce.jsxs)(C.a,{container:!0,spacing:1,style:{marginTop:".5rem"},children:[Object(ce.jsxs)(C.a,{item:!0,children:[Object(ce.jsx)("span",{style:{color:"#21618C"},children:" Mod Rating: "}),Object(ce.jsx)("input",{style:{outlineColor:"#21618C"},placeholder:ta.module_rating,onChange:function(e){return aa((function(t){return Object(h.a)(Object(h.a)({},t),{},{module_rating:e.target.value})}))},size:"6"})]}),Object(ce.jsxs)(C.a,{item:!0,children:[Object(ce.jsx)("span",{style:{color:"#21618C"},children:" Peak 1: "}),Object(ce.jsx)("input",{style:{outlineColor:"#21618C"},placeholder:ta.peak1,onChange:function(e){return aa((function(t){return Object(h.a)(Object(h.a)({},t),{},{peak1:e.target.value})}))},size:"9"})]}),Object(ce.jsxs)(C.a,{item:!0,children:[Object(ce.jsx)("span",{style:{color:"#21618C"},children:"Peak 2: "}),Object(ce.jsx)("input",{style:{outlineColor:"#21618C"},placeholder:ta.peak1,onChange:function(e){return aa((function(t){return Object(h.a)(Object(h.a)({},t),{},{peak2:e.target.value})}))},size:"11"})]}),Object(ce.jsxs)(C.a,{item:!0,children:[Object(ce.jsx)("span",{style:{color:"#21618C"},children:" SCB Con: "}),Object(ce.jsx)("input",{style:{outlineColor:"#21618C"},placeholder:ta.scb_connected,onChange:function(e){return aa((function(t){return Object(h.a)(Object(h.a)({},t),{},{scb_connected:e.target.value})}))},size:"7"})]})]}),Object(ce.jsxs)(C.a,{container:!0,spacing:1,style:{marginTop:".5rem"},children:[Object(ce.jsxs)(C.a,{item:!0,children:[Object(ce.jsx)("span",{style:{color:"#21618C"},children:"Slots: "}),Object(ce.jsx)("input",{style:{outlineColor:"#21618C"},placeholder:ta.slots,onChange:function(e){return aa((function(t){return Object(h.a)(Object(h.a)({},t),{},{slots:e.target.value})}))},size:"11"})]}),Object(ce.jsxs)(C.a,{item:!0,children:[Object(ce.jsx)("span",{style:{color:"#21618C"},children:" Strings Con: "}),Object(ce.jsx)("input",{style:{outlineColor:"#21618C"},placeholder:ta.strings_connected,onChange:function(e){return aa((function(t){return Object(h.a)(Object(h.a)({},t),{},{strings_connected:e.target.value})}))},size:"5"})]}),Object(ce.jsxs)(C.a,{item:!0,children:[Object(ce.jsx)("span",{style:{color:"#21618C"},children:" Omega Id: "}),Object(ce.jsx)("input",{style:{outlineColor:"#21618C"},placeholder:ta.omegaid,onChange:function(e){return aa((function(t){return Object(h.a)(Object(h.a)({},t),{},{omegaid:e.target.value})}))},size:"9"})]}),Object(ce.jsxs)(C.a,{item:!0,children:[Object(ce.jsx)("span",{style:{color:"#21618C"},children:" Tech Email: "}),Object(ce.jsx)("input",{style:{outlineColor:"#21618C"},placeholder:ta.email,onChange:function(e){return aa((function(t){return Object(h.a)(Object(h.a)({},t),{},{email:e.target.value})}))},size:"6"})]})]}),Object(ce.jsxs)(C.a,{container:!0,spacing:1,style:{marginTop:".5rem"},children:[Object(ce.jsxs)(C.a,{item:!0,children:[Object(ce.jsx)("span",{style:{color:"#21618C"},children:" Tech Name: "}),Object(ce.jsx)("input",{style:{outlineColor:"#21618C"},placeholder:ta.techname,onChange:function(e){return aa((function(t){return Object(h.a)(Object(h.a)({},t),{},{techname:e.target.value})}))},size:"6"})]}),Object(ce.jsxs)(C.a,{item:!0,children:[Object(ce.jsx)("span",{style:{color:"#21618C"},children:" Clipping Threshold: "}),Object(ce.jsx)("input",{style:{outlineColor:"#21618C"},placeholder:ta.clipping_threshold,onChange:function(e){return aa((function(t){return Object(h.a)(Object(h.a)({},t),{},{clipping_threshold:e.target.value})}))},size:"1"})]})]}),Object(ce.jsxs)(C.a,{container:!0,style:{marginTop:"1rem"},spacing:1,justifyContent:"center",children:[Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(x.a,{variant:"contained",color:"primary",size:"small",onClick:function(){X.a.post(K+"/manageinverters/edit",Object(h.a)({},ta),{jwtToken:localStorage.getItem("userToken")}).then((function(e){Ke((function(e){return Object(h.a)(Object(h.a)({},e),{},{openModal:!1,openInverterModal:!1,openCSVModal:!1,openTicketModal:!1})})),ga((function(e){return Object(h.a)(Object(h.a)({},e),{},{open:!0,severity:"success",message:"Inverter: ".concat(ta.inverter," updated!")})})),fa(e.data)})).catch((function(e){var t;ga((function(e){return Object(h.a)(Object(h.a)({},e),{},{open:!0,severity:"error",message:"Update failed!"})})),fa(e),401===(null===e||void 0===e||null===(t=e.response)||void 0===t?void 0:t.status)&&Xe()}))},children:"Update"})}),Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(x.a,{variant:"contained",size:"small",onClick:Me,children:"Cancel"})})]})]}):Ue.openInverterScbModal?Object(ce.jsxs)(S.a,{style:{outline:"none",paddingInline:"1rem",paddingTop:".8rem",paddingBottom:".9rem",width:990,pointerEvents:"auto"},elevation:4,children:[Object(ce.jsx)(C.a,{container:!0,justifyContent:"center",children:Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(V.a,{color:"primary",variant:"h6",children:"Update Inverter-Scb"})})}),Object(ce.jsxs)(C.a,{container:!0,spacing:4,children:[Object(ce.jsxs)(C.a,{item:!0,children:[Object(ce.jsx)("span",{style:{color:"#21618C"},children:"Site:"}),ra.sitename]}),Object(ce.jsxs)(C.a,{item:!0,children:[Object(ce.jsx)("span",{style:{color:"#21618C"},children:"Block:"})," ",ra.block]}),Object(ce.jsxs)(C.a,{item:!0,children:[Object(ce.jsx)("span",{style:{color:"#21618C"},children:"Inverter:"})," ",ra.inverter]})]}),Object(ce.jsxs)(C.a,{container:!0,direction:"row",justifyContent:"flex-start",alignItems:"flex-start",children:[Object(ce.jsxs)(C.a,{container:!0,alignItems:"center",children:[Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(vm,{checked:ra.s1_status,color:"primary",size:"small",onChange:function(e){return sa((function(t){return Object(h.a)(Object(h.a)({},t),{},{s1_status:e.target.checked})}))},inputProps:{"aria-label":"secondary checkbox"}})}),Object(ce.jsxs)(C.a,{item:!0,style:{marginLeft:"0.4rem"},children:[Object(ce.jsxs)("span",{style:{fontSize:"0.8rem",color:"#21618C"},children:["S1:"," "]}),Object(ce.jsx)("input",{style:{height:"1.5rem",outlineColor:"#21618C"},placeholder:ra.s1,onChange:function(e){return sa((function(t){return Object(h.a)(Object(h.a)({},t),{},{s1:e.target.value})}))},size:"2"})]}),Object(ce.jsxs)(C.a,{item:!0,style:{marginLeft:"0.7rem"},children:[Object(ce.jsxs)("span",{style:{fontSize:"0.8rem",color:"#21618C"},children:["S1-Field:"," "]}),Object(ce.jsx)("input",{style:{height:"1.5rem",outlineColor:"#21618C"},placeholder:ra.s1_field,onChange:function(e){return sa((function(t){return Object(h.a)(Object(h.a)({},t),{},{s1_field:e.target.value})}))},size:"2"})]}),Object(ce.jsx)(C.a,{item:!0,style:{marginLeft:"1rem"},children:Object(ce.jsx)(vm,{checked:ra.s2_status,color:"primary",size:"small",onChange:function(e){return sa((function(t){return Object(h.a)(Object(h.a)({},t),{},{s2_status:e.target.checked})}))},inputProps:{"aria-label":"secondary checkbox"}})}),Object(ce.jsxs)(C.a,{item:!0,style:{marginLeft:"0.4rem"},children:[Object(ce.jsxs)("span",{style:{fontSize:"0.8rem",color:"#21618C"},children:["S2:"," "]}),Object(ce.jsx)("input",{style:{height:"1.5rem",outlineColor:"#21618C"},placeholder:ra.s2,onChange:function(e){return sa((function(t){return Object(h.a)(Object(h.a)({},t),{},{s2:e.target.value})}))},size:"2"})]}),Object(ce.jsxs)(C.a,{item:!0,style:{marginLeft:"1rem"},children:[Object(ce.jsxs)("span",{style:{fontSize:"0.8rem",color:"#21618C"},children:["S2-Field:"," "]}),Object(ce.jsx)("input",{style:{height:"1.5rem",outlineColor:"#21618C"},placeholder:ra.s2_field,onChange:function(e){return sa((function(t){return Object(h.a)(Object(h.a)({},t),{},{s2_field:e.target.value})}))},size:"2"})]}),Object(ce.jsx)(C.a,{item:!0,style:{marginLeft:"1rem"},children:Object(ce.jsx)(vm,{checked:ra.s3_status,color:"primary",size:"small",onChange:function(e){return sa((function(t){return Object(h.a)(Object(h.a)({},t),{},{s3_status:e.target.checked})}))},inputProps:{"aria-label":"secondary checkbox"}})}),Object(ce.jsxs)(C.a,{item:!0,style:{marginLeft:"0.4rem"},children:[Object(ce.jsxs)("span",{style:{fontSize:"0.8rem",color:"#21618C"},children:["S3:"," "]}),Object(ce.jsx)("input",{style:{height:"1.5rem",outlineColor:"#21618C"},placeholder:ra.s3,onChange:function(e){return sa((function(t){return Object(h.a)(Object(h.a)({},t),{},{s3:e.target.value})}))},size:"2"})]}),Object(ce.jsxs)(C.a,{item:!0,style:{marginLeft:"0.8rem"},children:[Object(ce.jsxs)("span",{style:{fontSize:"0.8rem",color:"#21618C"},children:["S3-Field:"," "]}),Object(ce.jsx)("input",{style:{height:"1.5rem",outlineColor:"#21618C"},placeholder:ra.s3_field,onChange:function(e){return sa((function(t){return Object(h.a)(Object(h.a)({},t),{},{s3_field:e.target.value})}))},size:"2"})]}),Object(ce.jsx)(C.a,{item:!0,style:{marginLeft:"1rem"},children:Object(ce.jsx)(vm,{checked:ra.s4_status,color:"primary",size:"small",onChange:function(e){return sa((function(t){return Object(h.a)(Object(h.a)({},t),{},{s4_status:e.target.checked})}))},inputProps:{"aria-label":"secondary checkbox"}})}),Object(ce.jsxs)(C.a,{item:!0,style:{marginLeft:"0.5rem"},children:[Object(ce.jsxs)("span",{style:{fontSize:"0.8rem",color:"#21618C"},children:["S4:"," "]}),Object(ce.jsx)("input",{style:{height:"1.5rem",outlineColor:"#21618C"},placeholder:ra.s4,onChange:function(e){return sa((function(t){return Object(h.a)(Object(h.a)({},t),{},{s4:e.target.value})}))},size:"2"})]}),Object(ce.jsxs)(C.a,{item:!0,style:{marginLeft:"0.9rem"},children:[Object(ce.jsxs)("span",{style:{fontSize:"0.8rem",color:"#21618C"},children:["S4-Field:"," "]}),Object(ce.jsx)("input",{style:{height:"1.5rem",outlineColor:"#21618C"},placeholder:ra.s4_field,onChange:function(e){return sa((function(t){return Object(h.a)(Object(h.a)({},t),{},{s4_field:e.target.value})}))},size:"2"})]})]}),Object(ce.jsxs)(C.a,{container:!0,alignItems:"center",style:{marginTop:"2px"},children:[Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(vm,{checked:ra.s5_status,color:"primary",size:"small",onChange:function(e){return sa((function(t){return Object(h.a)(Object(h.a)({},t),{},{s5_status:e.target.checked})}))},inputProps:{"aria-label":"secondary checkbox"}})}),Object(ce.jsxs)(C.a,{item:!0,style:{marginLeft:"0.4rem"},children:[Object(ce.jsxs)("span",{style:{fontSize:"0.8rem",color:"#21618C"},children:["S5:"," "]}),Object(ce.jsx)("input",{style:{height:"1.5rem",outlineColor:"#21618C"},placeholder:ra.s5,onChange:function(e){return sa((function(t){return Object(h.a)(Object(h.a)({},t),{},{s5:e.target.value})}))},size:"2"})]}),Object(ce.jsxs)(C.a,{item:!0,style:{marginLeft:"0.7rem"},children:[Object(ce.jsxs)("span",{style:{fontSize:"0.8rem",color:"#21618C"},children:["S5-Field:"," "]}),Object(ce.jsx)("input",{style:{height:"1.5rem",outlineColor:"#21618C"},placeholder:ra.s5_field,onChange:function(e){return sa((function(t){return Object(h.a)(Object(h.a)({},t),{},{s5_field:e.target.value})}))},size:"2"})]}),Object(ce.jsx)(C.a,{item:!0,style:{marginLeft:"1rem"},children:Object(ce.jsx)(vm,{checked:ra.s6_status,color:"primary",size:"small",onChange:function(e){return sa((function(t){return Object(h.a)(Object(h.a)({},t),{},{s6_status:e.target.checked})}))},inputProps:{"aria-label":"secondary checkbox"}})}),Object(ce.jsxs)(C.a,{item:!0,style:{marginLeft:"0.5rem"},children:[Object(ce.jsxs)("span",{style:{fontSize:"0.8rem",color:"#21618C"},children:["S6:"," "]}),Object(ce.jsx)("input",{style:{height:"1.5rem",outlineColor:"#21618C"},placeholder:ra.s6,onChange:function(e){return sa((function(t){return Object(h.a)(Object(h.a)({},t),{},{s6:e.target.value})}))},size:"2"})]}),Object(ce.jsxs)(C.a,{item:!0,style:{marginLeft:"0.9rem"},children:[Object(ce.jsxs)("span",{style:{fontSize:"0.8rem",color:"#21618C"},children:["S6-Field:"," "]}),Object(ce.jsx)("input",{style:{height:"1.5rem",outlineColor:"#21618C"},placeholder:ra.s6_field,onChange:function(e){return sa((function(t){return Object(h.a)(Object(h.a)({},t),{},{s6_field:e.target.value})}))},size:"2"})]}),Object(ce.jsx)(C.a,{item:!0,style:{marginLeft:"1rem"},children:Object(ce.jsx)(vm,{checked:ra.s7_status,color:"primary",size:"small",onChange:function(e){return sa((function(t){return Object(h.a)(Object(h.a)({},t),{},{s7_status:e.target.checked})}))},inputProps:{"aria-label":"secondary checkbox"}})}),Object(ce.jsxs)(C.a,{item:!0,style:{marginLeft:"0.4rem"},children:[Object(ce.jsxs)("span",{style:{fontSize:"0.8rem",color:"#21618C"},children:["S7:"," "]}),Object(ce.jsx)("input",{style:{height:"1.5rem",outlineColor:"#21618C"},placeholder:ra.s7,onChange:function(e){return sa((function(t){return Object(h.a)(Object(h.a)({},t),{},{s7:e.target.value})}))},size:"2"})]}),Object(ce.jsxs)(C.a,{item:!0,style:{marginLeft:"0.8rem"},children:[Object(ce.jsxs)("span",{style:{fontSize:"0.8rem",color:"#21618C"},children:["S7-Field:"," "]}),Object(ce.jsx)("input",{style:{height:"1.5rem",outlineColor:"#21618C"},placeholder:ra.s7_field,onChange:function(e){return sa((function(t){return Object(h.a)(Object(h.a)({},t),{},{s7_field:e.target.value})}))},size:"2"})]}),Object(ce.jsx)(C.a,{item:!0,style:{marginLeft:"1rem"},children:Object(ce.jsx)(vm,{checked:ra.s8_status,color:"primary",size:"small",onChange:function(e){return sa((function(t){return Object(h.a)(Object(h.a)({},t),{},{s8_status:e.target.checked})}))},inputProps:{"aria-label":"secondary checkbox"}})}),Object(ce.jsxs)(C.a,{item:!0,style:{marginLeft:"0.5rem"},children:[Object(ce.jsxs)("span",{style:{fontSize:"0.8rem",color:"#21618C"},children:["S8:"," "]}),Object(ce.jsx)("input",{style:{height:"1.5rem",outlineColor:"#21618C"},placeholder:ra.s8,onChange:function(e){return sa((function(t){return Object(h.a)(Object(h.a)({},t),{},{s8:e.target.value})}))},size:"2"})]}),Object(ce.jsxs)(C.a,{item:!0,style:{marginLeft:"0.9rem"},children:[Object(ce.jsxs)("span",{style:{fontSize:"0.8rem",color:"#21618C"},children:["S8-Field:"," "]}),Object(ce.jsx)("input",{style:{height:"1.5rem",outlineColor:"#21618C"},placeholder:ra.s8_field,onChange:function(e){return sa((function(t){return Object(h.a)(Object(h.a)({},t),{},{s8_field:e.target.value})}))},size:"2"})]})]}),Object(ce.jsxs)(C.a,{container:!0,alignItems:"center",style:{marginTop:"2px"},children:[Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(vm,{checked:ra.s9_status,color:"primary",size:"small",onChange:function(e){return sa((function(t){return Object(h.a)(Object(h.a)({},t),{},{s9_status:e.target.checked})}))},inputProps:{"aria-label":"secondary checkbox"}})}),Object(ce.jsxs)(C.a,{item:!0,style:{marginLeft:"0.3rem"},children:[Object(ce.jsxs)("span",{style:{fontSize:"0.8rem",color:"#21618C"},children:["S9:"," "]}),Object(ce.jsx)("input",{style:{height:"1.5rem",outlineColor:"#21618C"},placeholder:ra.s9,onChange:function(e){return sa((function(t){return Object(h.a)(Object(h.a)({},t),{},{s9:e.target.value})}))},size:"2"})]}),Object(ce.jsxs)(C.a,{item:!0,style:{marginLeft:"0.9rem"},children:[Object(ce.jsxs)("span",{style:{fontSize:"0.8rem",color:"#21618C"},children:["S9-Field:"," "]}),Object(ce.jsx)("input",{style:{height:"1.5rem",outlineColor:"#21618C"},placeholder:ra.s9_field,onChange:function(e){return sa((function(t){return Object(h.a)(Object(h.a)({},t),{},{s9_field:e.target.value})}))},size:"2"})]}),Object(ce.jsx)(C.a,{item:!0,style:{marginLeft:"1rem"},children:Object(ce.jsx)(vm,{checked:ra.s10_status,color:"primary",size:"small",onChange:function(e){return sa((function(t){return Object(h.a)(Object(h.a)({},t),{},{s10_status:e.target.checked})}))},inputProps:{"aria-label":"secondary checkbox"}})}),Object(ce.jsxs)(C.a,{item:!0,children:[Object(ce.jsxs)("span",{style:{fontSize:"0.8rem",color:"#21618C"},children:["S10:"," "]}),Object(ce.jsx)("input",{style:{height:"1.5rem",outlineColor:"#21618C"},placeholder:ra.s10,onChange:function(e){return sa((function(t){return Object(h.a)(Object(h.a)({},t),{},{s10:e.target.value})}))},size:"2"})]}),Object(ce.jsxs)(C.a,{item:!0,style:{marginLeft:"0.5rem"},children:[Object(ce.jsxs)("span",{style:{fontSize:"0.8rem",color:"#21618C"},children:["S10-Field:"," "]}),Object(ce.jsx)("input",{style:{height:"1.5rem",outlineColor:"#21618C"},placeholder:ra.s10_field,onChange:function(e){return sa((function(t){return Object(h.a)(Object(h.a)({},t),{},{s10_field:e.target.value})}))},size:"2"})]}),Object(ce.jsx)(C.a,{item:!0,style:{marginLeft:"1rem"},children:Object(ce.jsx)(vm,{checked:ra.s11_status,color:"primary",size:"small",onChange:function(e){return sa((function(t){return Object(h.a)(Object(h.a)({},t),{},{s11_status:e.target.checked})}))},inputProps:{"aria-label":"secondary checkbox"}})}),Object(ce.jsxs)(C.a,{item:!0,children:[Object(ce.jsxs)("span",{style:{fontSize:"0.8rem",color:"#21618C"},children:["S11:"," "]}),Object(ce.jsx)("input",{style:{height:"1.5rem",outlineColor:"#21618C"},placeholder:ra.s11,onChange:function(e){return sa((function(t){return Object(h.a)(Object(h.a)({},t),{},{s11:e.target.value})}))},size:"2"})]}),Object(ce.jsxs)(C.a,{item:!0,style:{marginLeft:"0.4rem"},children:[Object(ce.jsxs)("span",{style:{fontSize:"0.8rem",color:"#21618C"},children:["S11-Field:"," "]}),Object(ce.jsx)("input",{style:{height:"1.5rem",outlineColor:"#21618C"},placeholder:ra.s11_field,onChange:function(e){return sa((function(t){return Object(h.a)(Object(h.a)({},t),{},{s11_field:e.target.value})}))},size:"2"})]}),Object(ce.jsx)(C.a,{item:!0,style:{marginLeft:"1rem"},children:Object(ce.jsx)(vm,{checked:ra.s12_status,color:"primary",size:"small",onChange:function(e){return sa((function(t){return Object(h.a)(Object(h.a)({},t),{},{s12_status:e.target.checked})}))},inputProps:{"aria-label":"secondary checkbox"}})}),Object(ce.jsxs)(C.a,{item:!0,children:[Object(ce.jsxs)("span",{style:{fontSize:"0.8rem",color:"#21618C"},children:["S12:"," "]}),Object(ce.jsx)("input",{style:{height:"1.5rem",outlineColor:"#21618C"},placeholder:ra.s12,onChange:function(e){return sa((function(t){return Object(h.a)(Object(h.a)({},t),{},{s12:e.target.value})}))},size:"2"})]}),Object(ce.jsxs)(C.a,{item:!0,style:{marginLeft:"0.4rem"},children:[Object(ce.jsxs)("span",{style:{fontSize:"0.8rem",color:"#21618C"},children:["S12-Field:"," "]}),Object(ce.jsx)("input",{style:{height:"1.5rem",outlineColor:"#21618C"},placeholder:ra.s12_field,onChange:function(e){return sa((function(t){return Object(h.a)(Object(h.a)({},t),{},{s12_field:e.target.value})}))},size:"2"})]})]}),Object(ce.jsxs)(C.a,{container:!0,alignItems:"center",style:{marginTop:"2px"},children:[Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(vm,{checked:ra.s13_status,color:"primary",size:"small",onChange:function(e){return sa((function(t){return Object(h.a)(Object(h.a)({},t),{},{s13_status:e.target.checked})}))},inputProps:{"aria-label":"secondary checkbox"}})}),Object(ce.jsxs)(C.a,{item:!0,children:[Object(ce.jsxs)("span",{style:{fontSize:"0.8rem",color:"#21618C"},children:["S13:"," "]}),Object(ce.jsx)("input",{style:{height:"1.5rem",outlineColor:"#21618C"},placeholder:ra.s13,onChange:function(e){return sa((function(t){return Object(h.a)(Object(h.a)({},t),{},{s13:e.target.value})}))},size:"2"})]}),Object(ce.jsxs)(C.a,{item:!0,style:{marginLeft:"0.4rem"},children:[Object(ce.jsxs)("span",{style:{fontSize:"0.8rem",color:"#21618C"},children:["S13-Field:"," "]}),Object(ce.jsx)("input",{style:{height:"1.5rem",outlineColor:"#21618C"},placeholder:ra.s13_field,onChange:function(e){return sa((function(t){return Object(h.a)(Object(h.a)({},t),{},{s13_field:e.target.value})}))},size:"2"})]}),Object(ce.jsx)(C.a,{item:!0,style:{marginLeft:"1rem"},children:Object(ce.jsx)(vm,{checked:ra.s14_status,color:"primary",size:"small",onChange:function(e){return sa((function(t){return Object(h.a)(Object(h.a)({},t),{},{s14_status:e.target.checked})}))},inputProps:{"aria-label":"secondary checkbox"}})}),Object(ce.jsxs)(C.a,{item:!0,children:[Object(ce.jsxs)("span",{style:{fontSize:"0.8rem",color:"#21618C"},children:["S14:"," "]}),Object(ce.jsx)("input",{style:{height:"1.5rem",outlineColor:"#21618C"},placeholder:ra.s14,onChange:function(e){return sa((function(t){return Object(h.a)(Object(h.a)({},t),{},{s14:e.target.value})}))},size:"2"})]}),Object(ce.jsxs)(C.a,{item:!0,style:{marginLeft:"0.4rem"},children:[Object(ce.jsxs)("span",{style:{fontSize:"0.8rem",color:"#21618C"},children:["S14-Field:"," "]}),Object(ce.jsx)("input",{style:{height:"1.5rem",outlineColor:"#21618C"},placeholder:ra.s14_field,onChange:function(e){return sa((function(t){return Object(h.a)(Object(h.a)({},t),{},{s14_field:e.target.value})}))},size:"2"})]}),Object(ce.jsx)(C.a,{item:!0,style:{marginLeft:"1rem"},children:Object(ce.jsx)(vm,{checked:ra.s15_status,color:"primary",size:"small",onChange:function(e){return sa((function(t){return Object(h.a)(Object(h.a)({},t),{},{s15_status:e.target.checked})}))},inputProps:{"aria-label":"secondary checkbox"}})}),Object(ce.jsxs)(C.a,{item:!0,children:[Object(ce.jsxs)("span",{style:{fontSize:"0.8rem",color:"#21618C"},children:["S15:"," "]}),Object(ce.jsx)("input",{style:{height:"1.5rem",outlineColor:"#21618C"},placeholder:ra.s15,onChange:function(e){return sa((function(t){return Object(h.a)(Object(h.a)({},t),{},{s15:e.target.value})}))},size:"2"})]}),Object(ce.jsxs)(C.a,{item:!0,style:{marginLeft:"0.4rem"},children:[Object(ce.jsxs)("span",{style:{fontSize:"0.8rem",color:"#21618C"},children:["S15-Field:"," "]}),Object(ce.jsx)("input",{style:{height:"1.5rem",outlineColor:"#21618C"},placeholder:ra.s15_field,onChange:function(e){return sa((function(t){return Object(h.a)(Object(h.a)({},t),{},{s15_field:e.target.value})}))},size:"2"})]}),Object(ce.jsx)(C.a,{item:!0,style:{marginLeft:"1rem"},children:Object(ce.jsx)(vm,{checked:ra.s16_status,color:"primary",size:"small",onChange:function(e){return sa((function(t){return Object(h.a)(Object(h.a)({},t),{},{s16_status:e.target.checked})}))},inputProps:{"aria-label":"secondary checkbox"}})}),Object(ce.jsxs)(C.a,{item:!0,children:[Object(ce.jsxs)("span",{style:{fontSize:"0.8rem",color:"#21618C"},children:["S16:"," "]}),Object(ce.jsx)("input",{style:{height:"1.5rem",outlineColor:"#21618C"},placeholder:ra.s16,onChange:function(e){return sa((function(t){return Object(h.a)(Object(h.a)({},t),{},{s16:e.target.value})}))},size:"2"})]}),Object(ce.jsxs)(C.a,{item:!0,style:{marginLeft:"0.4rem"},children:[Object(ce.jsxs)("span",{style:{fontSize:"0.8rem",color:"#21618C"},children:["S16-Field:"," "]}),Object(ce.jsx)("input",{style:{height:"1.5rem",outlineColor:"#21618C"},placeholder:ra.s16_field,onChange:function(e){return sa((function(t){return Object(h.a)(Object(h.a)({},t),{},{s16_field:e.target.value})}))},size:"2"})]})]}),Object(ce.jsxs)(C.a,{container:!0,alignItems:"center",style:{marginTop:"2px"},children:[Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(vm,{checked:ra.s17_status,color:"primary",size:"small",onChange:function(e){return sa((function(t){return Object(h.a)(Object(h.a)({},t),{},{s17_status:e.target.checked})}))},inputProps:{"aria-label":"secondary checkbox"}})}),Object(ce.jsxs)(C.a,{item:!0,children:[Object(ce.jsxs)("span",{style:{fontSize:"0.8rem",color:"#21618C"},children:["S17:"," "]}),Object(ce.jsx)("input",{style:{height:"1.5rem",outlineColor:"#21618C"},placeholder:ra.s17,onChange:function(e){return sa((function(t){return Object(h.a)(Object(h.a)({},t),{},{s17:e.target.value})}))},size:"2"})]}),Object(ce.jsxs)(C.a,{item:!0,style:{marginLeft:"0.4rem"},children:[Object(ce.jsxs)("span",{style:{fontSize:"0.8rem",color:"#21618C"},children:["S17-Field:"," "]}),Object(ce.jsx)("input",{style:{height:"1.5rem",outlineColor:"#21618C"},placeholder:ra.s17_field,onChange:function(e){return sa((function(t){return Object(h.a)(Object(h.a)({},t),{},{s17_field:e.target.value})}))},size:"2"})]}),Object(ce.jsx)(C.a,{item:!0,style:{marginLeft:"1rem"},children:Object(ce.jsx)(vm,{checked:ra.s18_status,color:"primary",size:"small",onChange:function(e){return sa((function(t){return Object(h.a)(Object(h.a)({},t),{},{s18_status:e.target.checked})}))},inputProps:{"aria-label":"secondary checkbox"}})}),Object(ce.jsxs)(C.a,{item:!0,children:[Object(ce.jsxs)("span",{style:{fontSize:"0.8rem",color:"#21618C"},children:["S18:"," "]}),Object(ce.jsx)("input",{style:{height:"1.5rem",outlineColor:"#21618C"},placeholder:ra.s18,onChange:function(e){return sa((function(t){return Object(h.a)(Object(h.a)({},t),{},{s18:e.target.value})}))},size:"2"})]}),Object(ce.jsxs)(C.a,{item:!0,style:{marginLeft:"0.4rem"},children:[Object(ce.jsxs)("span",{style:{fontSize:"0.8rem",color:"#21618C"},children:["S18-Field:"," "]}),Object(ce.jsx)("input",{style:{height:"1.5rem",outlineColor:"#21618C"},placeholder:ra.s18_field,onChange:function(e){return sa((function(t){return Object(h.a)(Object(h.a)({},t),{},{s18_field:e.target.value})}))},size:"2"})]}),Object(ce.jsx)(C.a,{item:!0,style:{marginLeft:"1rem"},children:Object(ce.jsx)(vm,{checked:ra.s19_status,color:"primary",size:"small",onChange:function(e){return sa((function(t){return Object(h.a)(Object(h.a)({},t),{},{s19_status:e.target.checked})}))},inputProps:{"aria-label":"secondary checkbox"}})}),Object(ce.jsxs)(C.a,{item:!0,children:[Object(ce.jsxs)("span",{style:{fontSize:"0.8rem",color:"#21618C"},children:["S19:"," "]}),Object(ce.jsx)("input",{style:{height:"1.5rem",outlineColor:"#21618C"},placeholder:ra.s19,onChange:function(e){return sa((function(t){return Object(h.a)(Object(h.a)({},t),{},{s19:e.target.value})}))},size:"2"})]}),Object(ce.jsxs)(C.a,{item:!0,style:{marginLeft:"0.4rem"},children:[Object(ce.jsxs)("span",{style:{fontSize:"0.8rem",color:"#21618C"},children:["S19-Field:"," "]}),Object(ce.jsx)("input",{style:{height:"1.5rem",outlineColor:"#21618C"},placeholder:ra.s19_field,onChange:function(e){return sa((function(t){return Object(h.a)(Object(h.a)({},t),{},{s19_field:e.target.value})}))},size:"2"})]}),Object(ce.jsx)(C.a,{item:!0,style:{marginLeft:"1rem"},children:Object(ce.jsx)(vm,{checked:ra.s20_status,color:"primary",size:"small",onChange:function(e){return sa((function(t){return Object(h.a)(Object(h.a)({},t),{},{s20_status:e.target.checked})}))},inputProps:{"aria-label":"secondary checkbox"}})}),Object(ce.jsxs)(C.a,{item:!0,children:[Object(ce.jsxs)("span",{style:{fontSize:"0.8rem",color:"#21618C"},children:["S20:"," "]}),Object(ce.jsx)("input",{style:{height:"1.5rem",outlineColor:"#21618C"},placeholder:ra.s20,onChange:function(e){return sa((function(t){return Object(h.a)(Object(h.a)({},t),{},{s20:e.target.value})}))},size:"2"})]}),Object(ce.jsxs)(C.a,{item:!0,style:{marginLeft:"0.4rem"},children:[Object(ce.jsxs)("span",{style:{fontSize:"0.8rem",color:"#21618C"},children:["S20-Field:"," "]}),Object(ce.jsx)("input",{style:{height:"1.5rem",outlineColor:"#21618C"},placeholder:ra.s20_field,onChange:function(e){return sa((function(t){return Object(h.a)(Object(h.a)({},t),{},{s20_field:e.target.value})}))},size:"2"})]})]}),Object(ce.jsxs)(C.a,{container:!0,alignItems:"center",style:{marginTop:"2px"},children:[Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(vm,{checked:ra.s21_status,color:"primary",size:"small",onChange:function(e){return sa((function(t){return Object(h.a)(Object(h.a)({},t),{},{s21_status:e.target.checked})}))},inputProps:{"aria-label":"secondary checkbox"}})}),Object(ce.jsxs)(C.a,{item:!0,children:[Object(ce.jsxs)("span",{style:{fontSize:"0.8rem",color:"#21618C"},children:["S21:"," "]}),Object(ce.jsx)("input",{style:{height:"1.5rem",outlineColor:"#21618C"},placeholder:ra.s21,onChange:function(e){return sa((function(t){return Object(h.a)(Object(h.a)({},t),{},{s21:e.target.value})}))},size:"2"})]}),Object(ce.jsxs)(C.a,{item:!0,style:{marginLeft:"0.4rem"},children:[Object(ce.jsxs)("span",{style:{fontSize:"0.8rem",color:"#21618C"},children:["S21-Field:"," "]}),Object(ce.jsx)("input",{style:{height:"1.5rem",outlineColor:"#21618C"},placeholder:ra.s21_field,onChange:function(e){return sa((function(t){return Object(h.a)(Object(h.a)({},t),{},{s21_field:e.target.value})}))},size:"2"})]}),Object(ce.jsx)(C.a,{item:!0,style:{marginLeft:"1rem"},children:Object(ce.jsx)(vm,{checked:ra.s22_status,color:"primary",size:"small",onChange:function(e){return sa((function(t){return Object(h.a)(Object(h.a)({},t),{},{s22_status:e.target.checked})}))},inputProps:{"aria-label":"secondary checkbox"}})}),Object(ce.jsxs)(C.a,{item:!0,children:[Object(ce.jsxs)("span",{style:{fontSize:"0.8rem",color:"#21618C"},children:["S22:"," "]}),Object(ce.jsx)("input",{style:{height:"1.5rem",outlineColor:"#21618C"},placeholder:ra.s22,onChange:function(e){return sa((function(t){return Object(h.a)(Object(h.a)({},t),{},{s22:e.target.value})}))},size:"2"})]}),Object(ce.jsxs)(C.a,{item:!0,style:{marginLeft:"0.4rem"},children:[Object(ce.jsxs)("span",{style:{fontSize:"0.8rem",color:"#21618C"},children:["S22-Field:"," "]}),Object(ce.jsx)("input",{style:{height:"1.5rem",outlineColor:"#21618C"},placeholder:ra.s22_field,onChange:function(e){return sa((function(t){return Object(h.a)(Object(h.a)({},t),{},{s22_field:e.target.value})}))},size:"2"})]}),Object(ce.jsx)(C.a,{item:!0,style:{marginLeft:"1rem"},children:Object(ce.jsx)(vm,{checked:ra.s23_status,color:"primary",size:"small",onChange:function(e){return sa((function(t){return Object(h.a)(Object(h.a)({},t),{},{s23_status:e.target.checked})}))},inputProps:{"aria-label":"secondary checkbox"}})}),Object(ce.jsxs)(C.a,{item:!0,children:[Object(ce.jsxs)("span",{style:{fontSize:"0.8rem",color:"#21618C"},children:["S23:"," "]}),Object(ce.jsx)("input",{style:{height:"1.5rem",outlineColor:"#21618C"},placeholder:ra.s23,onChange:function(e){return sa((function(t){return Object(h.a)(Object(h.a)({},t),{},{s23:e.target.value})}))},size:"2"})]}),Object(ce.jsxs)(C.a,{item:!0,style:{marginLeft:"0.4rem"},children:[Object(ce.jsxs)("span",{style:{fontSize:"0.8rem",color:"#21618C"},children:["S23-Field:"," "]}),Object(ce.jsx)("input",{style:{height:"1.5rem",outlineColor:"#21618C"},placeholder:ra.s23_field,onChange:function(e){return sa((function(t){return Object(h.a)(Object(h.a)({},t),{},{s23_field:e.target.value})}))},size:"2"})]}),Object(ce.jsx)(C.a,{item:!0,style:{marginLeft:"1rem"},children:Object(ce.jsx)(vm,{checked:ra.s24_status,color:"primary",size:"small",onChange:function(e){return sa((function(t){return Object(h.a)(Object(h.a)({},t),{},{s24_status:e.target.checked})}))},inputProps:{"aria-label":"secondary checkbox"}})}),Object(ce.jsxs)(C.a,{item:!0,children:[Object(ce.jsxs)("span",{style:{fontSize:"0.8rem",color:"#21618C"},children:["S24:"," "]}),Object(ce.jsx)("input",{style:{height:"1.5rem",outlineColor:"#21618C"},placeholder:ra.s24,onChange:function(e){return sa((function(t){return Object(h.a)(Object(h.a)({},t),{},{s24:e.target.value})}))},size:"2"})]}),Object(ce.jsxs)(C.a,{item:!0,style:{marginLeft:"0.4rem"},children:[Object(ce.jsxs)("span",{style:{fontSize:"0.8rem",color:"#21618C"},children:["S24-Field:"," "]}),Object(ce.jsx)("input",{style:{height:"1.5rem",outlineColor:"#21618C"},placeholder:ra.s24_field,onChange:function(e){return sa((function(t){return Object(h.a)(Object(h.a)({},t),{},{s24_field:e.target.value})}))},size:"2"})]})]}),Object(ce.jsxs)(C.a,{container:!0,alignItems:"center",style:{marginTop:"2px"},children:[Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(vm,{checked:ra.s25_status,color:"primary",size:"small",onChange:function(e){return sa((function(t){return Object(h.a)(Object(h.a)({},t),{},{s25_status:e.target.checked})}))},inputProps:{"aria-label":"secondary checkbox"}})}),Object(ce.jsxs)(C.a,{item:!0,children:[Object(ce.jsxs)("span",{style:{fontSize:"0.8rem",color:"#21618C"},children:["S25:"," "]}),Object(ce.jsx)("input",{style:{height:"1.5rem",outlineColor:"#21618C"},placeholder:ra.s25,onChange:function(e){return sa((function(t){return Object(h.a)(Object(h.a)({},t),{},{s25:e.target.value})}))},size:"2"})]}),Object(ce.jsxs)(C.a,{item:!0,style:{marginLeft:"0.4rem"},children:[Object(ce.jsxs)("span",{style:{fontSize:"0.8rem",color:"#21618C"},children:["S25-Field:"," "]}),Object(ce.jsx)("input",{style:{height:"1.5rem",outlineColor:"#21618C"},placeholder:ra.s25_field,onChange:function(e){return sa((function(t){return Object(h.a)(Object(h.a)({},t),{},{s25_field:e.target.value})}))},size:"2"})]}),Object(ce.jsx)(C.a,{item:!0,style:{marginLeft:"1rem"},children:Object(ce.jsx)(vm,{checked:ra.s26_status,color:"primary",size:"small",onChange:function(e){return sa((function(t){return Object(h.a)(Object(h.a)({},t),{},{s26_status:e.target.checked})}))},inputProps:{"aria-label":"secondary checkbox"}})}),Object(ce.jsxs)(C.a,{item:!0,children:[Object(ce.jsxs)("span",{style:{fontSize:"0.8rem",color:"#21618C"},children:["S26:"," "]}),Object(ce.jsx)("input",{style:{height:"1.5rem",outlineColor:"#21618C"},placeholder:ra.s26,onChange:function(e){return sa((function(t){return Object(h.a)(Object(h.a)({},t),{},{s26:e.target.value})}))},size:"2"})]}),Object(ce.jsxs)(C.a,{item:!0,style:{marginLeft:"0.4rem"},children:[Object(ce.jsxs)("span",{style:{fontSize:"0.8rem",color:"#21618C"},children:["S26-Field:"," "]}),Object(ce.jsx)("input",{style:{height:"1.5rem",outlineColor:"#21618C"},placeholder:ra.s26_field,onChange:function(e){return sa((function(t){return Object(h.a)(Object(h.a)({},t),{},{s26_field:e.target.value})}))},size:"2"})]}),Object(ce.jsx)(C.a,{item:!0,style:{marginLeft:"1rem"},children:Object(ce.jsx)(vm,{checked:ra.s27_status,color:"primary",size:"small",onChange:function(e){return sa((function(t){return Object(h.a)(Object(h.a)({},t),{},{s27_status:e.target.checked})}))},inputProps:{"aria-label":"secondary checkbox"}})}),Object(ce.jsxs)(C.a,{item:!0,children:[Object(ce.jsxs)("span",{style:{fontSize:"0.8rem",color:"#21618C"},children:["S27:"," "]}),Object(ce.jsx)("input",{style:{height:"1.5rem",outlineColor:"#21618C"},placeholder:ra.s27,onChange:function(e){return sa((function(t){return Object(h.a)(Object(h.a)({},t),{},{s27:e.target.value})}))},size:"2"})]}),Object(ce.jsxs)(C.a,{item:!0,style:{marginLeft:"0.4rem"},children:[Object(ce.jsxs)("span",{style:{fontSize:"0.8rem",color:"#21618C"},children:["S27-Field:"," "]}),Object(ce.jsx)("input",{style:{height:"1.5rem",outlineColor:"#21618C"},placeholder:ra.s27_field,onChange:function(e){return sa((function(t){return Object(h.a)(Object(h.a)({},t),{},{s27_field:e.target.value})}))},size:"2"})]}),Object(ce.jsx)(C.a,{item:!0,style:{marginLeft:"1rem"},children:Object(ce.jsx)(vm,{checked:ra.s28_status,color:"primary",size:"small",onChange:function(e){return sa((function(t){return Object(h.a)(Object(h.a)({},t),{},{s28_status:e.target.checked})}))},inputProps:{"aria-label":"secondary checkbox"}})}),Object(ce.jsxs)(C.a,{item:!0,children:[Object(ce.jsxs)("span",{style:{fontSize:"0.8rem",color:"#21618C"},children:["S28:"," "]}),Object(ce.jsx)("input",{style:{height:"1.5rem",outlineColor:"#21618C"},placeholder:ra.s28,onChange:function(e){return sa((function(t){return Object(h.a)(Object(h.a)({},t),{},{s28:e.target.value})}))},size:"2"})]}),Object(ce.jsxs)(C.a,{item:!0,style:{marginLeft:"0.4rem"},children:[Object(ce.jsxs)("span",{style:{fontSize:"0.8rem",color:"#21618C"},children:["S28-Field:"," "]}),Object(ce.jsx)("input",{style:{height:"1.5rem",outlineColor:"#21618C"},placeholder:ra.s28_field,onChange:function(e){return sa((function(t){return Object(h.a)(Object(h.a)({},t),{},{s28_field:e.target.value})}))},size:"2"})]})]}),Object(ce.jsxs)(C.a,{container:!0,alignItems:"center",style:{marginTop:"2px"},children:[Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(vm,{checked:ra.s29_status,color:"primary",size:"small",onChange:function(e){return sa((function(t){return Object(h.a)(Object(h.a)({},t),{},{s29_status:e.target.checked})}))},inputProps:{"aria-label":"secondary checkbox"}})}),Object(ce.jsxs)(C.a,{item:!0,children:[Object(ce.jsxs)("span",{style:{fontSize:"0.8rem",color:"#21618C"},children:["S29:"," "]}),Object(ce.jsx)("input",{style:{height:"1.5rem",outlineColor:"#21618C"},placeholder:ra.s29,onChange:function(e){return sa((function(t){return Object(h.a)(Object(h.a)({},t),{},{s29:e.target.value})}))},size:"2"})]}),Object(ce.jsxs)(C.a,{item:!0,style:{marginLeft:"0.4rem"},children:[Object(ce.jsxs)("span",{style:{fontSize:"0.8rem",color:"#21618C"},children:["S29-Field:"," "]}),Object(ce.jsx)("input",{style:{height:"1.5rem",outlineColor:"#21618C"},placeholder:ra.s29_field,onChange:function(e){return sa((function(t){return Object(h.a)(Object(h.a)({},t),{},{s29_field:e.target.value})}))},size:"2"})]}),Object(ce.jsx)(C.a,{item:!0,style:{marginLeft:"1rem"},children:Object(ce.jsx)(vm,{checked:ra.s30_status,color:"primary",size:"small",onChange:function(e){return sa((function(t){return Object(h.a)(Object(h.a)({},t),{},{s30_status:e.target.checked})}))},inputProps:{"aria-label":"secondary checkbox"}})}),Object(ce.jsxs)(C.a,{item:!0,children:[Object(ce.jsxs)("span",{style:{fontSize:"0.8rem",color:"#21618C"},children:["S30:"," "]}),Object(ce.jsx)("input",{style:{height:"1.5rem",outlineColor:"#21618C"},placeholder:ra.s30,onChange:function(e){return sa((function(t){return Object(h.a)(Object(h.a)({},t),{},{s30:e.target.value})}))},size:"2"})]}),Object(ce.jsxs)(C.a,{item:!0,style:{marginLeft:"0.4rem"},children:[Object(ce.jsxs)("span",{style:{fontSize:"0.8rem",color:"#21618C"},children:["S30-Field:"," "]}),Object(ce.jsx)("input",{style:{height:"1.5rem",outlineColor:"#21618C"},placeholder:ra.s30_field,onChange:function(e){return sa((function(t){return Object(h.a)(Object(h.a)({},t),{},{s30_field:e.target.value})}))},size:"2"})]}),Object(ce.jsx)(C.a,{item:!0,style:{marginLeft:"1rem"},children:Object(ce.jsx)(vm,{checked:ra.s31_status,color:"primary",size:"small",onChange:function(e){return sa((function(t){return Object(h.a)(Object(h.a)({},t),{},{s31_status:e.target.checked})}))},inputProps:{"aria-label":"secondary checkbox"}})}),Object(ce.jsxs)(C.a,{item:!0,children:[Object(ce.jsxs)("span",{style:{fontSize:"0.8rem",color:"#21618C"},children:["S31:"," "]}),Object(ce.jsx)("input",{style:{height:"1.5rem",outlineColor:"#21618C"},placeholder:ra.s31,onChange:function(e){return sa((function(t){return Object(h.a)(Object(h.a)({},t),{},{s31:e.target.value})}))},size:"2"})]}),Object(ce.jsxs)(C.a,{item:!0,style:{marginLeft:"0.4rem"},children:[Object(ce.jsxs)("span",{style:{fontSize:"0.8rem",color:"#21618C"},children:["S31-Field:"," "]}),Object(ce.jsx)("input",{style:{height:"1.5rem",outlineColor:"#21618C"},placeholder:ra.s31_field,onChange:function(e){return sa((function(t){return Object(h.a)(Object(h.a)({},t),{},{s31_field:e.target.value})}))},size:"2"})]}),Object(ce.jsx)(C.a,{item:!0,style:{marginLeft:"1rem"},children:Object(ce.jsx)(vm,{checked:ra.s32_status,color:"primary",size:"small",onChange:function(e){return sa((function(t){return Object(h.a)(Object(h.a)({},t),{},{s32_status:e.target.checked})}))},inputProps:{"aria-label":"secondary checkbox"}})}),Object(ce.jsxs)(C.a,{item:!0,children:[Object(ce.jsxs)("span",{style:{fontSize:"0.8rem",color:"#21618C"},children:["S32:"," "]}),Object(ce.jsx)("input",{style:{height:"1.5rem",outlineColor:"#21618C"},placeholder:ra.s32,onChange:function(e){return sa((function(t){return Object(h.a)(Object(h.a)({},t),{},{s32:e.target.value})}))},size:"2"})]}),Object(ce.jsxs)(C.a,{item:!0,style:{marginLeft:"0.4rem"},children:[Object(ce.jsxs)("span",{style:{fontSize:"0.8rem",color:"#21618C"},children:["S32-Field:"," "]}),Object(ce.jsx)("input",{style:{height:"1.5rem",outlineColor:"#21618C"},placeholder:ra.s32_field,onChange:function(e){return sa((function(t){return Object(h.a)(Object(h.a)({},t),{},{s32_field:e.target.value})}))},size:"2"})]})]})]}),Object(ce.jsxs)(C.a,{container:!0,style:{marginTop:"1rem"},spacing:1,justifyContent:"center",children:[Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(x.a,{variant:"contained",color:"primary",size:"small",onClick:function(){X.a.post(K+"/scbUpdate/update",Object(h.a)({},ra),{jwtToken:localStorage.getItem("userToken")}).then((function(e){console.log("==scb",e),Ke((function(e){return Object(h.a)(Object(h.a)({},e),{},{openModal:!1,openInverterScbModal:!1,openCSVModal:!1,openTicketModal:!1})})),ga((function(e){return Object(h.a)(Object(h.a)({},e),{},{open:!0,severity:"success",message:"Inverter: ".concat(ra.inverter," updated!")})})),fa(e.data)})).catch((function(e){var t;ga((function(e){return Object(h.a)(Object(h.a)({},e),{},{open:!0,severity:"error",message:"Update failed!"})})),fa(e),401===(null===e||void 0===e||null===(t=e.response)||void 0===t?void 0:t.status)&&Xe()}))},children:"Update"})}),Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(x.a,{variant:"contained",size:"small",onClick:Me,children:"Cancel"})})]})]}):Ue.openSiteEditModal?Object(ce.jsxs)(S.a,{style:{outline:"none",paddingInline:"1rem",paddingTop:".8rem",paddingBottom:".9rem",width:550},elevation:4,children:[Object(ce.jsx)(C.a,{container:!0,justifyContent:"center",children:Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(V.a,{color:"primary",variant:"h6",children:"Update Site"})})}),Object(ce.jsxs)(C.a,{container:!0,style:{marginTop:".25rem"},spacing:2,children:[Object(ce.jsxs)(C.a,{item:!0,children:[Object(ce.jsx)("strong",{children:"Id: "}),ba.id]}),Object(ce.jsxs)(C.a,{item:!0,children:[Object(ce.jsx)("strong",{children:"Site: "}),ba.sitename]}),Object(ce.jsxs)(C.a,{item:!0,children:[Object(ce.jsx)("strong",{children:"Capacity: "}),ba.capacity," MW"]}),Object(ce.jsxs)(C.a,{item:!0,children:[Object(ce.jsx)("strong",{children:"Blocks: "}),ba.totalblocks]}),Object(ce.jsxs)(C.a,{item:!0,children:[Object(ce.jsx)("strong",{children:"Inverters: "}),ba.inverters]}),Object(ce.jsxs)(C.a,{item:!0,children:[Object(ce.jsx)("strong",{children:"Status: "}),ba.status]}),Object(ce.jsxs)(C.a,{item:!0,children:[Object(ce.jsx)("strong",{children:"System Id: "}),ba.systemid]})]}),Object(ce.jsxs)(C.a,{container:!0,style:{marginTop:".75rem"},spacing:1,children:[Object(ce.jsxs)(C.a,{item:!0,children:["Capacity:"," ",Object(ce.jsx)("input",{placeholder:ba.capacity,onChange:function(e){return ma((function(t){return Object(h.a)(Object(h.a)({},t),{},{capacity:e.target.value})}))},size:"5"})]}),Object(ce.jsxs)(C.a,{item:!0,children:["Billing Rate:"," ",Object(ce.jsx)("input",{placeholder:ba.billingrates,onChange:function(e){return ma((function(t){return Object(h.a)(Object(h.a)({},t),{},{billingrates:e.target.value})}))},size:"5"})]}),Object(ce.jsxs)(C.a,{item:!0,children:["System IP:"," ",Object(ce.jsx)("input",{placeholder:ba.systemip,onChange:function(e){return ma((function(t){return Object(h.a)(Object(h.a)({},t),{},{systemip:e.target.value})}))},size:"12"})]})]}),Object(ce.jsxs)(C.a,{container:!0,style:{marginTop:".8rem"},spacing:1,justifyContent:"center",children:[Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(x.a,{variant:"outlined",color:"primary",size:"small",onClick:function(){X.a.post(K+"/sitemaster/edit",Object(h.a)(Object(h.a)({},ba),{},{email:localStorage.getItem("userEmail")}),{jwtToken:localStorage.getItem("userToken")}).then((function(e){Ke((function(e){return Object(h.a)(Object(h.a)({},e),{},{openModal:!1,openSiteEditModal:!1,openCSVModal:!1,openTicketModal:!1})})),ga((function(e){return Object(h.a)(Object(h.a)({},e),{},{open:!0,severity:"success",message:"Site: ".concat(ba.sitename," updated!")})})),Ia(e.data)})).catch((function(e){var t;ga((function(e){return Object(h.a)(Object(h.a)({},e),{},{open:!0,severity:"error",message:"Update failed!"})})),Ia(e),401===(null===e||void 0===e||null===(t=e.response)||void 0===t?void 0:t.status)&&Xe()}))},children:"Update"})}),Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(x.a,{variant:"outlined",size:"small",onClick:Me,children:"Cancel"})})]})]}):Object(ce.jsx)(ce.Fragment,{})}),Object(ce.jsx)(ea,{showNotemsg:D,open:o,setOpen:j,handleClose:function(e){j(!1)},handleClickOpen:q})]})}function Tm(){var e=Object(b.f)();return Object(n.useEffect)((function(){var t=window.location.href.split("token=")[1];X.a.post(K+"/sso/callback",{token:t}).then((function(t){localStorage.setItem("userToken",t.data.jwtToken),localStorage.setItem("userDetails",JSON.stringify(t.data.userDetails)),localStorage.setItem("username",t.data.userDetails.firstname+" "+t.data.userDetails.lastname),localStorage.setItem("userId",t.data.userDetails.id),localStorage.setItem("userEmail",t.data.userDetails.email),e.replace("/")})).catch((function(t){e.replace("/login")}))}),[]),Object(ce.jsx)("div",{children:"Please wait, login through OneLogin..."})}var Im=a(1407);function km(){return Object(ce.jsxs)(V.a,{variant:"body2",color:"textSecondary",children:["Logimetrix Photon ",(new Date).getFullYear()]})}var wm=Object(D.a)((function(e){return{footer:{width:"100%",textAlign:"center",paddingTop:e.spacing(8),paddingBottom:e.spacing(2)}}})),Nm=i.a.forwardRef((function(e,t){var a=e.footerPosition,n=e.footerBottomPosition,i=wm();return Object(ce.jsx)("footer",{ref:t,style:{position:a,bottom:n},className:i.footer,children:Object(ce.jsx)(km,{})})})),Bm=Object(D.a)((function(e){return{paper:{marginTop:e.spacing(4),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1)},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)},alertStyle:{marginTop:e.spacing(2)},backdrop:{zIndex:e.zIndex.drawer+1,color:"#fff"}}}));function Lm(){var e=$e(),t=e.logoutMsg,a=e.setLogoutMsg,c=Bm(),r=Object(b.f)(),s=Object(n.useRef)(null),l=Object(n.useRef)(null),o=Object(n.useState)(""),j=Object(u.a)(o,2),d=j[0],m=j[1],h=Object(n.useState)(""),O=Object(u.a)(h,2),g=O[0],S=O[1],p=Object(n.useState)(!1),f=Object(u.a)(p,2),v=f[0],y=f[1],T=Object(n.useState)(!1),I=Object(u.a)(T,2),k=I[0],w=I[1],N=Object(n.useState)(!1),B=Object(u.a)(N,2),L=B[0],D=B[1],P=Object(n.useState)("absolute"),F=Object(u.a)(P,2),A=F[0],E=F[1],H=Object(n.useState)("0"),_=Object(u.a)(H,2),z=_[0],M=_[1],R=Object(n.useState)(!1),G=Object(u.a)(R,2),W=G[0],Y=G[1],q=localStorage.getItem("userToken");Object(n.useEffect)((function(){var e=localStorage.getItem("isAuthSnackbarOpened");e&&"true"===e&&(D(!0),localStorage.removeItem("isAuthSnackbarOpened"))}),[]),Object(n.useEffect)((function(){q&&""!==q&&r.push("/")}),[q,r]),Object(n.useLayoutEffect)((function(){return window.onresize=function(){s.current.getBoundingClientRect().bottom>l.current.offsetTop&&(E("relative"),M("auto")),window.innerHeight>l.current.getBoundingClientRect().bottom&&(E("absolute"),M("0"))},function(){window.onresize=null}}),[]);var U=function(e,t){"clickaway"!==t&&(te(!1),D(!1))},Z=i.a.useState(!1),Q=Object(u.a)(Z,2),ee=Q[0],te=Q[1],ae=function(){te(!0)};return Object(ce.jsxs)(ce.Fragment,{children:[Object(ce.jsx)(Wt.a,{component:"main",maxWidth:"xs",children:Object(ce.jsxs)("div",{className:c.paper,children:[Object(ce.jsx)("img",{src:"/static/images/acme.png",alt:"ACME brand logo",style:{width:"12rem",marginBottom:"2rem"}}),Object(ce.jsx)(V.a,{component:"h1",variant:"h5",children:"Sign in - ACME ACE"}),v&&Object(ce.jsx)($.a,{severity:"error",className:c.alertStyle,children:"Wrong email or password is entered."}),t&&Object(ce.jsx)($.a,{severity:"error",className:c.alertStyle,children:"Someone from other system just LoggedIn with this id."}),W&&Object(ce.jsx)("div",{children:Object(ce.jsxs)(Gt.a,{open:ee,onClose:U,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(ce.jsx)(Rt.a,{id:"alert-dialog-title",children:"User with this id is already logged in."}),Object(ce.jsx)(Zt.a,{children:Object(ce.jsx)(Jt.a,{id:"alert-dialog-description",children:"Do you want to continue with this session?"})}),Object(ce.jsxs)($t.a,{children:[Object(ce.jsx)(x.a,{onClick:U,color:"primary",children:"cancel"}),Object(ce.jsx)(x.a,{onClick:function(e){e.preventDefault(),y(!1),Y(!1),w(!0),a(!1),X.a.post(K+"/api/users/login/continue",{email:d,password:g},{headers:{"Access-Control-Allow-Origin":"*","Access-Control-Allow-Methods":"GET,PUT,POST,DELETE,PATCH,OPTIONS"}}).then((function(e){localStorage.setItem("userToken",e.data.jwtToken),localStorage.setItem("userDetails",JSON.stringify(e.data.userDetails)),localStorage.setItem("username",e.data.userDetails.firstname+" "+e.data.userDetails.lastname),localStorage.setItem("userId",e.data.userDetails.id),localStorage.setItem("userEmail",e.data.userDetails.email),r.replace("/")})).catch((function(e){console.log(e),e&&(y(!0),w(!1))}))},color:"primary",autoFocus:!0,children:"continue"})]})]})}),Object(ce.jsxs)("form",{className:c.form,onSubmit:function(e){e.preventDefault(),y(!1),Y(!1),w(!0),X.a.post(K+"/api/users/login",{email:d,password:g},{headers:{"Access-Control-Allow-Origin":"*","Access-Control-Allow-Methods":"GET,PUT,POST,DELETE,PATCH,OPTIONS"}}).then((function(e){localStorage.setItem("userToken",e.data.jwtToken),localStorage.setItem("userDetails",JSON.stringify(e.data.userDetails)),localStorage.setItem("username",e.data.userDetails.firstname+" "+e.data.userDetails.lastname),localStorage.setItem("userId",e.data.userDetails.id),localStorage.setItem("userEmail",e.data.userDetails.email),y(!1),w(!1),Y(!1),r.replace("/")})).catch((function(e){console.log(e),e&&(y(!0),w(!1)),403===e.response.status&&(Y(!0),y(!1),ae()),e.response.status}))},children:[Object(ce.jsx)(Nb.a,{variant:"filled",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email",name:"email",type:"email",autoComplete:"email",value:d,onChange:function(e){return m(e.target.value)}}),Object(ce.jsx)(Nb.a,{variant:"filled",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"password",value:g,onChange:function(e){return S(e.target.value)}}),Object(ce.jsx)(x.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:c.submit,children:"Sign In"}),Object(ce.jsx)(C.a,{container:!0,justifyContent:"flex-end",children:Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(Im.a,{ref:s,variant:"body2",onClick:function(e){e.preventDefault(),r.replace("/signup")},children:"Don't have an account? Sign up"})})})]})]})}),Object(ce.jsx)(J.a,{open:L,autoHideDuration:3e3,onClose:U,style:{marginBottom:"2rem"},children:Object(ce.jsx)($.a,{onClose:U,severity:"info",children:"Session expired! Login again."})}),Object(ce.jsx)(Nm,{ref:l,footerPosition:A,footerBottomPosition:z}),Object(ce.jsx)(Bb.a,{className:c.backdrop,open:k,children:Object(ce.jsx)(tt.a,{color:"inherit"})})]})}var Dm=Object(D.a)((function(e){return{paper:{marginTop:e.spacing(4),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)},alertStyle:{marginTop:e.spacing(2)},backdrop:{zIndex:e.zIndex.drawer+1,color:"#fff"}}}));function Pm(){var e=Dm(),t=Object(b.f)(),a=Object(n.useRef)(null),i=Object(n.useRef)(null),c=localStorage.getItem("userToken"),r=Object(n.useState)(""),s=Object(u.a)(r,2),l=s[0],o=s[1],j=Object(n.useState)(""),d=Object(u.a)(j,2),m=d[0],h=d[1],O=Object(n.useState)(""),g=Object(u.a)(O,2),S=g[0],p=g[1],f=Object(n.useState)(""),v=Object(u.a)(f,2),y=v[0],T=v[1],I=Object(n.useState)(""),k=Object(u.a)(I,2),w=k[0],N=k[1],B=Object(n.useState)(!1),L=Object(u.a)(B,2),D=(L[0],L[1],Object(n.useState)(!1)),P=Object(u.a)(D,2),F=P[0],A=P[1],E=Object(n.useState)(!1),H=Object(u.a)(E,2),_=(H[0],H[1]),z=Object(n.useState)(!1),M=Object(u.a)(z,2),R=M[0],G=M[1],W=Object(n.useState)(!1),Y=Object(u.a)(W,2),q=Y[0],U=Y[1],Z=Object(n.useState)("absolute"),J=Object(u.a)(Z,2),Q=J[0],ee=J[1],te=Object(n.useState)("0"),ae=Object(u.a)(te,2),ne=ae[0],ie=ae[1];Object(n.useEffect)((function(){c&&""!==c&&t.push("/")}),[c,t]),Object(n.useLayoutEffect)((function(){return window.onresize=function(){a.current.getBoundingClientRect().bottom>i.current.offsetTop&&(ee("relative"),ie("auto")),window.innerHeight>i.current.getBoundingClientRect().bottom&&(ee("absolute"),ie("0"))},function(){window.onresize=null}}),[]);return Object(ce.jsxs)(ce.Fragment,{children:[Object(ce.jsx)(Wt.a,{component:"main",maxWidth:"xs",children:Object(ce.jsxs)("div",{className:e.paper,children:[Object(ce.jsx)("img",{src:"/static/images/acme.png",alt:"ACME brand logo",style:{width:"12rem",marginBottom:"2rem"}}),Object(ce.jsx)(V.a,{component:"h1",variant:"h5",children:"Sign up - ACME ACE"}),F&&Object(ce.jsx)($.a,{severity:"warning",className:e.alertStyle,children:"Passwords do not match."}),R&&Object(ce.jsx)($.a,{severity:"error",className:e.alertStyle,children:"User already exists."}),Object(ce.jsxs)("form",{className:e.form,onSubmit:function(e){e.preventDefault(),A(!1),G(!1),y===w?(U(!0),X.a.post(K+"/api/users",{firstname:l,lastname:m,email:S,password:y}).then((function(e){localStorage.setItem("userToken",e.data.jwtToken),localStorage.setItem("username",e.data.userDetails.firstname+" "+e.data.userDetails.lastname),localStorage.setItem("userId",e.data.userDetails.id),localStorage.setItem("userEmail",e.data.userDetails.email),_(!1),U(!1),t.replace("/")})).catch((function(e){401===e.response.status&&(G(!0),_(!0)),_(!0),U(!1)}))):A(!0)},children:[Object(ce.jsxs)(C.a,{container:!0,spacing:2,children:[Object(ce.jsx)(C.a,{item:!0,xs:12,sm:6,children:Object(ce.jsx)(Nb.a,{autoComplete:"fname",name:"firstName",variant:"outlined",required:!0,fullWidth:!0,id:"firstName",label:"First Name",value:l,onChange:function(e){return o(e.target.value)},autoFocus:!0})}),Object(ce.jsx)(C.a,{item:!0,xs:12,sm:6,children:Object(ce.jsx)(Nb.a,{variant:"outlined",required:!0,fullWidth:!0,id:"lastName",label:"Last Name",name:"lastName",autoComplete:"lname",value:m,onChange:function(e){return h(e.target.value)}})}),Object(ce.jsx)(C.a,{item:!0,xs:12,children:Object(ce.jsx)(Nb.a,{variant:"outlined",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",type:"email",autoComplete:"email",value:S,onChange:function(e){return p(e.target.value)}})}),Object(ce.jsx)(C.a,{item:!0,xs:12,children:Object(ce.jsx)(Nb.a,{variant:"outlined",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",value:y,onChange:function(e){return T(e.target.value)},autoComplete:"current-password"})}),Object(ce.jsx)(C.a,{item:!0,xs:12,children:Object(ce.jsx)(Nb.a,{variant:"outlined",required:!0,fullWidth:!0,name:"confirmPassword",label:"Confirm Password",type:"password",id:"confirmPassword",value:w,onChange:function(e){return N(e.target.value)},autoComplete:"confirm-password"})})]}),Object(ce.jsx)(x.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:e.submit,disabled:!0,children:"Sign Up"}),Object(ce.jsx)(C.a,{container:!0,justify:"flex-end",children:Object(ce.jsx)(C.a,{item:!0,children:Object(ce.jsx)(Im.a,{ref:a,variant:"body2",onClick:function(e){e.preventDefault(),t.replace("/login")},children:"Already have an account? Sign in"})})})]})]})}),Object(ce.jsx)(Nm,{ref:i,footerPosition:Q,footerBottomPosition:ne}),Object(ce.jsx)(Bb.a,{className:e.backdrop,open:q,children:Object(ce.jsx)(tt.a,{color:"inherit"})})]})}function Fm(){var e=$e(),t=e.snackbar,a=e.setSnackbar,n=function(){a((function(e){return Object(h.a)(Object(h.a)({},e),{},{open:!1})}))};return Object(ce.jsx)(J.a,{open:t.open,autoHideDuration:6e3,onClose:n,anchorOrigin:{vertical:"bottom",horizontal:"left"},children:Object(ce.jsx)($.a,{onClose:n,severity:t.severity,children:t.message})})}var Vm=function(){var e=$e().enableDarkTheme,t=(localStorage.getItem("userToken"),Object(j.a)({palette:e?{type:"dark"}:{primary:s.a,secondary:l.a,action:{disabledBackground:"#ffcf33",disabled:"#ffcf33"}}}));return Object(ce.jsxs)(d.a,{theme:t,children:[Object(ce.jsx)(o.a,{}),Object(ce.jsxs)(b.c,{children:[Object(ce.jsx)(b.a,{path:"/login",children:Object(ce.jsx)(Lm,{})}),Object(ce.jsx)(b.a,{path:"/signup",children:Object(ce.jsx)(Pm,{})}),Object(ce.jsx)(b.a,{path:"/dashboard",children:Object(ce.jsx)(Tm,{})}),Object(ce.jsx)(b.a,{exact:!0,path:"/",children:Object(ce.jsx)(ym,{})}),Object(ce.jsx)(b.a,{path:"*",render:function(){return"404 NOT FOUND"}})]}),Object(ce.jsx)(Fm,{})]})},Am=a(136);a(1303);r.a.render(Object(ce.jsx)(Je,{children:Object(ce.jsx)(Am.a,{children:Object(ce.jsx)(Vm,{})})}),document.getElementById("root"))},297:function(e,t,a){},305:function(e,t){},306:function(e,t){},385:function(e,t,a){},386:function(e,t,a){},454:function(e,t){},458:function(e,t){},540:function(e,t,a){},541:function(e,t,a){},55:function(e,t,a){},699:function(e,t,a){},706:function(e,t){}},[[1304,1,2]]]);
//# sourceMappingURL=main.0a6730ec.chunk.js.map